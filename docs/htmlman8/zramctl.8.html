<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

  <title>zramctl(8) — Linux manual pages</title>
  <link rel="stylesheet" type="text/css" href="../stylesheet/manpages.css" />
  
  <link rel="home" href="../index.html" title="zramctl(8) — Linux manual pages" />
  <script type="text/javascript" src="../stylesheet/manpages.js" xml:space="preserve">
</script>
  <link rel="icon" href="../stylesheet/icon.gif" type="image/gif" />
</head>

<body onload="javascript:init()">
  <div class="navheader">
    <table width="100%">
      <tbody>
        <tr>
          <td style="width: 33%" rowspan="1" colspan="1"><a href="../index.html" shape="rect">Linux
          manual pages</a></td>

          <th rowspan="1" colspan="1"><a href="../index8.html" shape="rect">Section 8</a></th>

          <td style="width: 33%" rowspan="1" colspan="1"> </td>
        </tr>
      </tbody>
    </table>
    <hr />
  </div>

  <div class="refentry">
    <a id="zramctl.8" name="zramctl.8" shape="rect"> </a>

    <div class="titlepage"> </div>

    <div class="refnamediv">
      <h2>Name</h2>

      <p>zramctl — set up and control zram devices</p>
    </div>

    <div class="refsynopsisdiv">
      <h2>Synopsis</h2>

      <div class="variablelist">
        <dl class="variablelist">
          <dt><span class="term">Get info:</span></dt>

          <dd>
            <div class="cmdsynopsis">
              <p><code class="command">zramctl</code> [options]</p>
            </div>
          </dd>

          <dt><span class="term">Reset zram:</span></dt>

          <dd>
            <div class="cmdsynopsis">
              <p><code class="command">zramctl</code> <code class="option">−r</code> zramdev...</p>
            </div>
          </dd>

          <dt><span class="term">Print name of first unused zram
          device:</span></dt>

          <dd>
            <div class="cmdsynopsis">
              <p><code class="command">zramctl</code> <code class="option">−f</code></p>
            </div>
          </dd>

          <dt><span class="term">Set up a zram device:</span></dt>

          <dd>
            <div class="cmdsynopsis">
              <p><code class="command">zramctl</code> [
              <code class="option">−f</code> | zramdev ] [
              <code class="option">−s</code> size ] [
              <code class="option">−t</code> number ] [
              <code class="option">−a</code> algorithm ]</p>
            </div>
          </dd>
        </dl>
      </div>
    </div>

    <div class="refsect1">
      <a id="zramctl-8_sect1" name="zramctl-8_sect1" shape="rect"> </a>

      <h2>DESCRIPTION</h2>

      <p><span class="command"><strong>zramctl</strong></span> is
      used to quickly set up zram device parameters, to reset zram
      devices, and to query the status of used zram devices. If no
      option is given, all zram devices are shown.</p>
    </div>

    <div class="refsect1">
      <a id="zramctl-8_sect2" name="zramctl-8_sect2" shape="rect"> </a>

      <h2>OPTIONS</h2>

      <div class="variablelist">
        <dl class="variablelist">
          <dt><span class="term"><code class="option">−a,
          −−algorithm lzo|lz4</code></span></dt>

          <dd>
            <p>Set the compression algorithm to be used for
            compressing data in the zram device.</p>
          </dd>

          <dt><span class="term"><code class="option">−f,
          −−find</code></span></dt>

          <dd>
            <p>Find the first unused zram device. If a <code class="option">−−size</code> argument is present,
            then initialize the device.</p>
          </dd>

          <dt><span class="term"><code class="option">−n,
          −−noheadings</code></span></dt>

          <dd>
            <p>Do not print a header line in status output.</p>
          </dd>

          <dt><span class="term"><code class="option">−o,
          −−output <em class="parameter"><code>list</code></em></code></span></dt>

          <dd>
            <p>Define the status output columns to be used. If no
            output arrangement is specified, then a default set is
            used. Use <code class="option">−−help</code> to get a list of all
            supported columns.</p>
          </dd>

          <dt><span class="term"><code class="option">−−raw</code></span></dt>

          <dd>
            <p>Use the raw format for status output.</p>
          </dd>

          <dt><span class="term"><code class="option">−r,
          −−reset</code></span></dt>

          <dd>
            <p>Reset the options of the specified zram device(s).
            Zram device settings can be changed only after a
            reset.</p>
          </dd>

          <dt><span class="term"><code class="option">−s,
          −−size <em class="parameter"><code>size</code></em></code></span></dt>

          <dd>
            <p>Create a zram device of the specified <em class="parameter"><code>size</code></em>. Zram devices are
            aligned to memory pages; when the requested <em class="parameter"><code>size</code></em> is not a multiple of
            the page size, it will be rounded up to the next
            multiple. When not otherwise specified, the unit of the
            <em class="parameter"><code>size</code></em> parameter
            is bytes.</p>
          </dd>
        </dl>
      </div>

      <p>The <em class="parameter"><code>size</code></em> argument
      may be followed by the multiplicative suffixes KiB (=1024),
      MiB (=1024*1024), and so on for GiB, TiB, PiB, EiB, ZiB and
      YiB (the "iB" is optional, e.g., "K" has the same meaning as
      "KiB") or the suffixes KB (=1000), MB (=1000*1000), and so on
      for GB, TB, PB, EB, ZB and YB.</p>

      <div class="variablelist">
        <dl class="variablelist">
          <dt><span class="term"><code class="option">−t,
          −−streams <em class="parameter"><code>number</code></em></code></span></dt>

          <dd>
            <p>Set the maximum number of compression streams that
            can be used for the device. The default is one
            stream.</p>
          </dd>

          <dt><span class="term"><code class="option">−V,
          −−version</code></span></dt>

          <dd>
            <p>Display version information and exit.</p>
          </dd>

          <dt><span class="term"><code class="option">−h,
          −−help</code></span></dt>

          <dd>
            <p>Display help text and exit.</p>
          </dd>
        </dl>
      </div>
    </div>

    <div class="refsect1">
      <a id="zramctl-8_sect3" name="zramctl-8_sect3" shape="rect"> </a>

      <h2>RETURN VALUE</h2>

      <p><span class="command"><strong>zramctl</strong></span>
      returns 0 on success, nonzero on failure.</p>
    </div>

    <div class="refsect1">
      <a id="zramctl-8_sect4" name="zramctl-8_sect4" shape="rect"> </a>

      <h2>FILES</h2>

      <div class="variablelist">
        <dl class="variablelist">
          <dt><span class="term"><code class="filename">/dev/zram[0..N]</code></span></dt>

          <dd>
            <p>zram block devices</p>
          </dd>
        </dl>
      </div>
    </div>

    <div class="refsect1">
      <a id="zramctl-8_sect5" name="zramctl-8_sect5" shape="rect"> </a>

      <h2>EXAMPLE</h2>

      <p>The following commands set up a zram device with a size of
      one gigabyte and use it as swap device.</p>

      <div class="informalexample">
        <pre class="programlisting" xml:space="preserve">
# zramctl --find --size 1024M
/dev/zram0
# mkswap /dev/zram0
# swapon /dev/zram0
 ...
# swapoff /dev/zram0
# zramctl --reset /dev/zram0
</pre>
      </div>
    </div>

    <div class="refsect1">
      <a id="zramctl-8_sect6" name="zramctl-8_sect6" shape="rect"> </a>

      <h2>SEE ALSO</h2>

      <p><a class="literalurl" href="http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/tree/Documentation/blockdev/zram.txt" target="_top" shape="rect">Linux kernel documentation</a></p>
    </div>

    <div class="refsect1">
      <a id="zramctl-8_sect7" name="zramctl-8_sect7" shape="rect"> </a>

      <h2>AUTHORS</h2>

      <div class="informalexample">
        <pre class="programlisting" xml:space="preserve">
Timofey Titovets &lt;nefelim4ag@gmail.com&gt;
Karel Zak &lt;kzak@redhat.com&gt;
</pre>
      </div>
    </div>

    <div class="refsect1">
      <a id="zramctl-8_sect8" name="zramctl-8_sect8" shape="rect"> </a>

      <h2>AVAILABILITY</h2>

      <p>The zramctl command is part of the util-linux package and
      is available from
      ftp://ftp.kernel.org/pub/linux/utils/util-linux/.</p>

      <div class="license">
        <table style="border-collapse: collapse;">
          <colgroup span="1">
            <col span="1" />
          </colgroup>

          <tbody>
            <tr>
              <td style="" rowspan="1" colspan="1">
                <div class="literallayout">
                  <br />
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</body>
</html>
