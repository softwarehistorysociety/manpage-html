<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

  <title>lslocks(8) — Linux manual pages</title>
  <link rel="stylesheet" type="text/css" href="../stylesheet/manpages.css" />
  
  <link rel="home" href="../index.html" title="lslocks(8) — Linux manual pages" />
  <script type="text/javascript" src="../stylesheet/manpages.js" xml:space="preserve">
</script>
  <link rel="icon" href="../stylesheet/icon.gif" type="image/gif" />
</head>

<body onload="javascript:init()">
  <div class="navheader">
    <table width="100%">
      <tbody>
        <tr>
          <td style="width: 33%" rowspan="1" colspan="1"><a href="../index.html" shape="rect">Linux
          manual pages</a></td>

          <th rowspan="1" colspan="1"><a href="../index8.html" shape="rect">Section 8</a></th>

          <td style="width: 33%" rowspan="1" colspan="1"> </td>
        </tr>
      </tbody>
    </table>
    <hr />
  </div>

  <div class="refentry">
    <a id="lslocks.8" name="lslocks.8" shape="rect"> </a>

    <div class="titlepage"> </div>

    <div class="refnamediv">
      <h2>Name</h2>

      <p>lslocks — list local system locks</p>
    </div>

    <div class="refsynopsisdiv">
      <h2>Synopsis</h2>

      <div class="cmdsynopsis">
        <p><code class="command">lslocks</code> [options]</p>
      </div>
    </div>

    <div class="refsect1">
      <a id="lslocks-8_sect1" name="lslocks-8_sect1" shape="rect"> </a>

      <h2>DESCRIPTION</h2>

      <p><span class="command"><strong>lslocks</strong></span>
      lists information about all the currently held file locks in
      a Linux system.</p>
    </div>

    <div class="refsect1">
      <a id="lslocks-8_sect2" name="lslocks-8_sect2" shape="rect"> </a>

      <h2>OPTIONS</h2>

      <div class="variablelist">
        <dl class="variablelist">
          <dt><span class="term"><code class="option">−J,
          −−json</code></span></dt>

          <dd>
            <p>Use JSON output format.</p>
          </dd>

          <dt><span class="term"><code class="option">−n,
          −−noheadings</code></span></dt>

          <dd>
            <p>Do not print a header line.</p>
          </dd>

          <dt><span class="term"><code class="option">−o,
          −−output <em class="parameter"><code>list</code></em></code></span></dt>

          <dd>
            <p>Specify which output columns to print. Use
            <code class="option">−−help</code> to get a
            list of all supported columns.</p>

            <p>The default list of columns may be extended if
            <span class="command"><strong>list</strong></span> is
            specified in the format <em class="replaceable"><code>+list</code></em> (e.g.
            <span class="emphasis"><em>lslocks -o
            +BLOCKER</em></span>).</p>
          </dd>

          <dt><span class="term"><code class="option">−p,
          −−pid <em class="parameter"><code>pid</code></em></code></span></dt>

          <dd>
            <p>Display only the locks held by the process with this
            <span class="command"><strong>pid</strong></span>.</p>
          </dd>

          <dt><span class="term"><code class="option">−r,
          −−raw</code></span></dt>

          <dd>
            <p>Use the raw output format.</p>
          </dd>

          <dt><span class="term"><code class="option">−u,
          −−notruncate</code></span></dt>

          <dd>
            <p>Do not truncate text in columns.</p>
          </dd>

          <dt><span class="term"><code class="option">−V,
          −−version</code></span></dt>

          <dd>
            <p>Display version information and exit.</p>
          </dd>

          <dt><span class="term"><code class="option">−h,
          −−help</code></span></dt>

          <dd>
            <p>Display help text and exit.</p>
          </dd>
        </dl>
      </div>
    </div>

    <div class="refsect1">
      <a id="lslocks-8_sect3" name="lslocks-8_sect3" shape="rect"> </a>

      <h2>OUTPUT</h2>

      <div class="variablelist">
        <dl class="variablelist">
          <dt><span class="term"><code class="constant">COMMAND</code></span></dt>

          <dd>
            <p>The command name of the process holding the
            lock.</p>
          </dd>

          <dt><span class="term"><code class="constant">PID</code></span></dt>

          <dd>
            <p>The process ID of the process which holds the
            lock.</p>
          </dd>

          <dt><span class="term"><code class="constant">TYPE</code></span></dt>

          <dd>
            <p>The type of lock; can be FLOCK (created with
            <a class="link" href="../htmlman2/flock.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">flock</span>(2)</span></a>) or POSIX
            (created with <a class="link" href="../htmlman2/fcntl.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">fcntl</span>(2)</span></a> and
            <a class="link" href="../htmlman3/lockf.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">lockf</span>(3)</span></a>).</p>
          </dd>

          <dt><span class="term"><code class="constant">SIZE</code></span></dt>

          <dd>
            <p>Size of the locked file.</p>
          </dd>

          <dt><span class="term"><code class="constant">MODE</code></span></dt>

          <dd>
            <p>The lock's access permissions (read, write). If the
            process is blocked and waiting for the lock, then the
            mode is postfixed with an '*' (asterisk).</p>
          </dd>

          <dt><span class="term"><code class="constant">M</code></span></dt>

          <dd>
            <p>Whether the lock is mandatory; 0 means no (meaning
            the lock is only advisory), 1 means yes. (See <a class="link" href="../htmlman2/fcntl.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">fcntl</span>(2)</span></a>.)</p>
          </dd>

          <dt><span class="term"><code class="constant">START</code></span></dt>

          <dd>
            <p>Relative byte offset of the lock.</p>
          </dd>

          <dt><span class="term"><code class="constant">END</code></span></dt>

          <dd>
            <p>Ending offset of the lock.</p>
          </dd>

          <dt><span class="term"><code class="constant">PATH</code></span></dt>

          <dd>
            <p>Full path of the lock. If none is found, or there
            are no permissions to read the path, it will fall back
            to the device's mountpoint. The path might be
            truncated; use <code class="option">−−notruncate</code> to get the
            full path.</p>
          </dd>

          <dt><span class="term"><code class="constant">BLOCKER</code></span></dt>

          <dd>
            <p>The PID of the process which blocks the lock.</p>
          </dd>
        </dl>
      </div>
    </div>

    <div class="refsect1">
      <a id="lslocks-8_sect4" name="lslocks-8_sect4" shape="rect"> </a>

      <h2>NOTES</h2>

      <div class="informalexample">
        <pre class="programlisting" xml:space="preserve">
The <span class="command"><strong>lslocks</strong></span> command is meant to replace the 
<span class="citerefentry"><span class="refentrytitle">lslk</span>(8)</span>
command,
originally written by Victor A. Abell &lt;abe@purdue.edu&gt; and unmaintained
since 2001.
</pre>
      </div>
    </div>

    <div class="refsect1">
      <a id="lslocks-8_sect5" name="lslocks-8_sect5" shape="rect"> </a>

      <h2>AUTHORS</h2>

      <div class="informalexample">
        <pre class="programlisting" xml:space="preserve">
Davidlohr Bueso &lt;dave@gnu.org&gt;
</pre>
      </div>
    </div>

    <div class="refsect1">
      <a id="lslocks-8_sect6" name="lslocks-8_sect6" shape="rect"> </a>

      <h2>SEE ALSO</h2>

      <p><a class="link" href="../htmlman1/flock.1.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">flock</span>(1)</span></a>, <a class="link" href="../htmlman2/fcntl.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">fcntl</span>(2)</span></a>, <span class="citerefentry"><span class="refentrytitle">lockf</span>(2)</span></p>
    </div>

    <div class="refsect1">
      <a id="lslocks-8_sect7" name="lslocks-8_sect7" shape="rect"> </a>

      <h2>AVAILABILITY</h2>

      <p>The lslocks command is part of the util-linux package and
      is available from
      ftp://ftp.kernel.org/pub/linux/utils/util-linux/.</p>

      <div class="license">
        <table style="border-collapse: collapse;">
          <colgroup span="1">
            <col span="1" />
          </colgroup>

          <tbody>
            <tr>
              <td style="" rowspan="1" colspan="1">
                <div class="literallayout">
                  <br />
                    Man page for the lslocks command.<br />

                  Copyright 2012 Davidlohr Bueso &lt;dave<script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>gnu.org&gt;<br />

                  May be distributed under the GNU General Public License<br />
                  
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</body>
</html>
