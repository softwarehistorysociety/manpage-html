<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Thu Sep  8 02:55:42 2022 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>MPV</title>

</head>
<body>

<h1 align="center">MPV</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#INTERACTIVE CONTROL">INTERACTIVE CONTROL</a><br>
<a href="#USAGE">USAGE</a><br>
<a href="#CONFIGURATION FILES">CONFIGURATION FILES</a><br>
<a href="#USING MPV FROM OTHER PROGRAMS OR SCRIPTS">USING MPV FROM OTHER PROGRAMS OR SCRIPTS</a><br>
<a href="#TAKING SCREENSHOTS">TAKING SCREENSHOTS</a><br>
<a href="#TERMINAL STATUS LINE">TERMINAL STATUS LINE</a><br>
<a href="#LOW LATENCY PLAYBACK">LOW LATENCY PLAYBACK</a><br>
<a href="#PROTOCOLS">PROTOCOLS</a><br>
<a href="#PSEUDO GUI MODE">PSEUDO GUI MODE</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#AUDIO OUTPUT DRIVERS">AUDIO OUTPUT DRIVERS</a><br>
<a href="#VIDEO OUTPUT DRIVERS">VIDEO OUTPUT DRIVERS</a><br>
<a href="#AUDIO FILTERS">AUDIO FILTERS</a><br>
<a href="#VIDEO FILTERS">VIDEO FILTERS</a><br>
<a href="#ENCODING">ENCODING</a><br>
<a href="#COMMAND INTERFACE">COMMAND INTERFACE</a><br>
<a href="#ON SCREEN CONTROLLER">ON SCREEN CONTROLLER</a><br>
<a href="#STATS">STATS</a><br>
<a href="#CONSOLE">CONSOLE</a><br>
<a href="#LUA SCRIPTING">LUA SCRIPTING</a><br>
<a href="#JAVASCRIPT">JAVASCRIPT</a><br>
<a href="#JSON IPC">JSON IPC</a><br>
<a href="#CHANGELOG">CHANGELOG</a><br>
<a href="#EMBEDDING INTO OTHER PROGRAMS (LIBMPV)">EMBEDDING INTO OTHER PROGRAMS (LIBMPV)</a><br>
<a href="#C PLUGINS">C PLUGINS</a><br>
<a href="#ENVIRONMENT VARIABLES">ENVIRONMENT VARIABLES</a><br>
<a href="#EXIT CODES">EXIT CODES</a><br>
<a href="#FILES">FILES</a><br>
<a href="#FILES ON WINDOWS">FILES ON WINDOWS</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">mpv - a media
player</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>mpv</b>
[options] [file|URL|PLAYLIST|-] <b><br>
mpv</b> [options] files</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>mpv</b> is a
media player based on MPlayer and mplayer2. It supports a
wide variety of video file formats, audio and video codecs,
and subtitle types. Special input URL types are available to
read input from a variety of sources other than disk files.
Depending on platform, a variety of different video and
audio output methods are supported.</p>

<p style="margin-left:11%; margin-top: 1em">Usage examples
to get you started quickly can be found at the end of this
man page.</p>

<h2>INTERACTIVE CONTROL
<a name="INTERACTIVE CONTROL"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">mpv has a fully
configurable, command-driven control layer which allows you
to control mpv using keyboard, mouse, or remote control
(there is no LIRC support - configure remotes as input
devices instead).</p>

<p style="margin-left:11%; margin-top: 1em">See the
<b>--input-</b> options for ways to customize it.</p>

<p style="margin-left:11%; margin-top: 1em">The following
listings are not necessarily complete. See
<b>etc/input.conf</b> for a list of default bindings. User
<b>input.conf</b> files and Lua scripts can define
additional key bindings.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Keyboard
Control <br>
LEFT and RIGHT</b></p>

<p style="margin-left:22%;">Seek backward/forward 5
seconds. Shift+arrow does a 1 second exact seek (see
<b>--hr-seek</b>).</p>

<p style="margin-left:11%;"><b>UP and DOWN</b></p>

<p style="margin-left:22%;">Seek forward/backward 1 minute.
Shift+arrow does a 5 second exact seek (see
<b>--hr-seek</b>).</p>

<p style="margin-left:11%;"><b>Ctrl+LEFT and
Ctrl+RIGHT</b></p>

<p style="margin-left:22%;">Seek to the previous/next
subtitle. Subject to some restrictions and might not always
work; see <b>sub-seek</b> command.</p>

<p style="margin-left:11%;"><b>Ctrl+Shift+Left and
Ctrl+Shift+Right</b></p>

<p style="margin-left:22%;">Adjust subtitle delay so that
the next or previous subtitle is displayed now. This is
especially useful to sync subtitles to audio.</p>

<p style="margin-left:11%;"><b>[ and ]</b></p>

<p style="margin-left:22%;">Decrease/increase current
playback speed by 10%.</p>

<p style="margin-left:11%;"><b>{ and }</b></p>

<p style="margin-left:22%;">Halve/double current playback
speed.</p>

<p style="margin-left:11%;"><b>BACKSPACE</b></p>

<p style="margin-left:22%;">Reset playback speed to
normal.</p>

<p style="margin-left:11%;"><b>Shift+BACKSPACE</b></p>

<p style="margin-left:22%;">Undo the last seek. This works
only if the playlist entry was not changed. Hitting it a
second time will go back to the original position. See
<b>revert-seek</b> command for details.</p>


<p style="margin-left:11%;"><b>Shift+Ctrl+BACKSPACE</b></p>

<p style="margin-left:22%;">Mark the current position. This
will then be used by <b>Shift+BACKSPACE</b> as revert
position (once you seek back, the marker will be reset). You
can use this to seek around in the file and then return to
the exact position where you left off.</p>

<p style="margin-left:11%;"><b>&lt; and &gt;</b></p>

<p style="margin-left:22%;">Go backward/forward in the
playlist.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>ENTER</b></p></td>
<td width="4%"></td>
<td width="41%">


<p>Go forward in the playlist.</p></td>
<td width="37%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>p / SPACE</b></p>

<p style="margin-left:22%;">Pause (pressing again
unpauses).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>.</b></p></td>
<td width="10%"></td>
<td width="78%">


<p>Step forward. Pressing once will pause, every
consecutive press will play one frame and then go into pause
mode again.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>,</b></p></td>
<td width="10%"></td>
<td width="78%">


<p>Step backward. Pressing once will pause, every
consecutive press will play one frame in reverse and then go
into pause mode again.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>q</b></p></td>
<td width="10%"></td>
<td width="78%">


<p>Stop playing and quit.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>Q</b></p></td>
<td width="10%"></td>
<td width="78%">


<p>Like <b>q</b>, but store the current playback position.
Playing the same file later will resume at the old playback
position if possible.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>/ and *</b></p>

<p style="margin-left:22%;">Decrease/increase volume.</p>

<p style="margin-left:11%;"><b>9 and 0</b></p>

<p style="margin-left:22%;">Decrease/increase volume.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>m</b></p></td>
<td width="7%"></td>
<td width="63%">


<p>Mute sound.</p></td>
<td width="15%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>_</b></p></td>
<td width="7%"></td>
<td width="63%">


<p>Cycle through the available video tracks.</p></td>
<td width="15%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>#</b></p></td>
<td width="7%"></td>
<td width="63%">


<p>Cycle through the available audio tracks.</p></td>
<td width="15%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>f</b></p></td>
<td width="7%"></td>
<td width="63%">


<p>Toggle fullscreen (see also <b>--fs</b>).</p></td>
<td width="15%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>ESC</b></p></td>
<td width="7%"></td>
<td width="63%">


<p>Exit fullscreen mode.</p></td>
<td width="15%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>T</b></p></td>
<td width="7%"></td>
<td width="63%">


<p>Toggle stay-on-top (see also <b>--ontop</b>).</p></td>
<td width="15%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>w and W</b></p>

<p style="margin-left:22%;">Decrease/increase pan-and-scan
range. The <b>e</b> key does the same as <b>W</b> currently,
but use is discouraged.</p>

<p style="margin-left:11%;"><b>o (also P)</b></p>

<p style="margin-left:22%;">Show progression bar, elapsed
time and total duration on the OSD.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>O</b></p></td>
<td width="10%"></td>
<td width="78%">


<p>Toggle OSD states between normal and playback
time/duration.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>v</b></p></td>
<td width="10%"></td>
<td width="78%">


<p>Toggle subtitle visibility.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>j and J</b></p>

<p style="margin-left:22%;">Cycle through the available
subtitles.</p>

<p style="margin-left:11%;"><b>z and Z</b></p>

<p style="margin-left:22%;">Adjust subtitle delay by +/-
0.1 seconds. The <b>x</b> key does the same as <b>Z</b>
currently, but use is discouraged.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>l</b></p></td>
<td width="10%"></td>
<td width="78%">


<p>Set/clear A-B loop points. See <b>ab-loop</b> command
for details.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>L</b></p></td>
<td width="10%"></td>
<td width="78%">


<p>Toggle infinite looping.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>Ctrl + and Ctrl -</b></p>

<p style="margin-left:22%;">Adjust audio delay (A/V sync)
by +/- 0.1 seconds.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>u</b></p></td>
<td width="10%"></td>
<td width="78%">


<p>Switch between applying no style overrides to SSA/ASS
subtitles, and overriding them almost completely with the
normal subtitle style. See <b>--sub-ass-override</b> for
more info.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>V</b></p></td>
<td width="10%"></td>
<td width="78%">


<p>Toggle subtitle VSFilter aspect compatibility mode. See
<b>--sub-ass-vsfilter-aspect-compat</b> for more info.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>r and R</b></p>

<p style="margin-left:22%;">Move subtitles up/down. The
<b>t</b> key does the same as <b>R</b> currently, but use is
discouraged.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>s</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Take a screenshot.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>S</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Take a screenshot, without subtitles. (Whether this
works depends on VO driver support.)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>Ctrl s</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Take a screenshot, as the window shows it (with
subtitles, OSD, and scaled video).</p></td></tr>
</table>

<p style="margin-left:11%;"><b>PGUP and PGDWN</b></p>

<p style="margin-left:22%;">Seek to the beginning of the
previous/next chapter. In most cases, &quot;previous&quot;
will actually go to the beginning of the current chapter;
see <b>--chapter-seek-threshold</b>.</p>

<p style="margin-left:11%;"><b>Shift+PGUP and
Shift+PGDWN</b></p>

<p style="margin-left:22%;">Seek backward or forward by 10
minutes. (This used to be mapped to PGUP/PGDWN without
Shift.)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>d</b></p></td>
<td width="2%"></td>
<td width="58%">


<p>Activate/deactivate deinterlacer.</p></td>
<td width="20%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>A</b></p></td>
<td width="2%"></td>
<td width="58%">


<p>Cycle aspect ratio override.</p></td>
<td width="20%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>Ctrl h</b></p></td>
<td width="2%"></td>
<td width="58%">


<p>Toggle hardware video decoding on/off.</p></td>
<td width="20%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>Alt+LEFT, Alt+RIGHT, Alt+UP,
Alt+DOWN</b></p>

<p style="margin-left:22%;">Move the video rectangle
(panning).</p>

<p style="margin-left:11%;"><b>Alt + and Alt -</b></p>

<p style="margin-left:22%;">Combining <b>Alt</b> with the
<b>+</b> or <b>-</b> keys changes video zoom.</p>

<p style="margin-left:11%;"><b>Alt+BACKSPACE</b></p>

<p style="margin-left:22%;">Reset the pan/zoom
settings.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>F8</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Show the playlist and the current position in it (useful
only if a UI window is used, broken on the terminal).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>F9</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Show the list of audio and subtitle streams (useful only
if a UI window is used, broken on the terminal).</p></td></tr>
</table>

<p style="margin-left:11%;"><b>i and I</b></p>

<p style="margin-left:22%;">Show/toggle an overlay
displaying statistics about the currently playing file such
as codec, framerate, number of dropped frames and so on. See
<i>STATS</i> for more information.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>del</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>Cycles visibility between never / auto (mouse-move) /
always</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>`</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>Show the console. (ESC closes it again. See
<i>CONSOLE</i>.)</p> </td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">(The following
keys are valid only when using a video output that supports
the corresponding adjustment.) <b><br>
1 and 2</b></p>

<p style="margin-left:22%;">Adjust contrast.</p>

<p style="margin-left:11%;"><b>3 and 4</b></p>

<p style="margin-left:22%;">Adjust brightness.</p>

<p style="margin-left:11%;"><b>5 and 6</b></p>

<p style="margin-left:22%;">Adjust gamma.</p>

<p style="margin-left:11%;"><b>7 and 8</b></p>

<p style="margin-left:22%;">Adjust saturation.</p>

<p style="margin-left:11%;"><b>Alt+0 (and command+0 on
OSX)</b></p>

<p style="margin-left:22%;">Resize video window to half its
original size.</p>

<p style="margin-left:11%;"><b>Alt+1 (and command+1 on
OSX)</b></p>

<p style="margin-left:22%;">Resize video window to its
original size.</p>

<p style="margin-left:11%;"><b>Alt+2 (and command+2 on
OSX)</b></p>

<p style="margin-left:22%;">Resize video window to double
its original size.</p>

<p style="margin-left:11%;"><b>command + f (OSX
only)</b></p>

<p style="margin-left:22%;">Toggle fullscreen (see also
<b>--fs</b>).</p>

<p style="margin-left:11%; margin-top: 1em">(The following
keys are valid if you have a keyboard with multimedia
keys.)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>PAUSE</b></p></td>
<td width="4%"></td>
<td width="33%">


<p>Pause.</p></td>
<td width="45%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>STOP</b></p></td>
<td width="4%"></td>
<td width="33%">


<p>Stop playing and quit.</p></td>
<td width="45%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>PREVIOUS and NEXT</b></p>

<p style="margin-left:22%;">Seek backward/forward 1
minute.</p>

<p style="margin-left:11%; margin-top: 1em">If you miss
some older key bindings, look at
<b>etc/restore-old-bindings.conf</b> in the mpv git
repository.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Mouse
Control <br>
Left double click</b></p>

<p style="margin-left:22%;">Toggle fullscreen on/off.</p>

<p style="margin-left:11%;"><b>Right click</b></p>

<p style="margin-left:22%;">Toggle pause on/off.</p>

<p style="margin-left:11%;"><b>Forward/Back button</b></p>

<p style="margin-left:22%;">Skip to next/previous entry in
playlist.</p>

<p style="margin-left:11%;"><b>Wheel up/down</b></p>

<p style="margin-left:22%;">Seek forward/backward 10
seconds.</p>

<p style="margin-left:11%;"><b>Wheel left/right</b></p>

<p style="margin-left:22%;">Decrease/increase volume.</p>

<h2>USAGE
<a name="USAGE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Command line
arguments starting with <b>-</b> are interpreted as options,
everything else as filenames or URLs. All options except
<i>flag</i> options (or choice options which include
<b>yes</b>) require a parameter in the form
<b>--option=value</b>.</p>

<p style="margin-left:11%; margin-top: 1em">One exception
is the lone <b>-</b> (without anything else), which means
media data will be read from stdin. Also, <b>--</b> (without
anything else) will make the player interpret all following
arguments as filenames, even if they start with <b>-</b>.
(To play a file named <b>-</b>, you need to use
<b>./-</b>.)</p>

<p style="margin-left:11%; margin-top: 1em">Every
<i>flag</i> option has a <i>no-flag</i> counterpart, e.g.
the opposite of the <b>--fs</b> option is <b>--no-fs</b>.
<b>--fs=yes</b> is same as <b>--fs</b>, <b>--fs=no</b> is
the same as <b>--no-fs</b>.</p>

<p style="margin-left:11%; margin-top: 1em">If an option is
marked as <i>(XXX only)</i>, it will only work in
combination with the <i>XXX</i> option or if <i>XXX</i> is
compiled in.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Legacy
option syntax</b> <br>
The <b>--option=value</b> syntax is not strictly enforced,
and the alternative legacy syntax <b>-option value</b> and
<b>-option=value</b> will also work. This is mostly for
compatibility with MPlayer. Using these should be avoided.
Their semantics can change any time in the future.</p>

<p style="margin-left:11%; margin-top: 1em">For example,
the alternative syntax will consider an argument following
the option a filename. <b>mpv -fs no</b> will attempt to
play a file named <b>no</b>, because <b>--fs</b> is a flag
option that requires no parameter. If an option changes and
its parameter becomes optional, then a command line using
the alternative syntax will break.</p>

<p style="margin-left:11%; margin-top: 1em">Until mpv
0.31.0, there was no difference whether an option started
with <b>--</b> or a single <b>-</b>. Newer mpv releases
strictly expect that you pass the option value after a
<b>=</b>. For example, before <b>mpv --log-file f.txt</b>
would write a log to <b>f.txt</b>, but now this command line
fails, as <b>--log-file</b> expects an option value, and
<b>f.txt</b> is simply considered a normal file to be played
(as in <b>mpv f.txt</b>).</p>

<p style="margin-left:11%; margin-top: 1em">The future plan
is that <b>-option value</b> will not work anymore, and
options with a single <b>-</b> behave the same as <b>--</b>
options.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Escaping
spaces and other special characters</b> <br>
Keep in mind that the shell will partially parse and mangle
the arguments you pass to mpv. For example, you might need
to quote or escape options and filenames:</p>

<p style="margin-left:15%;"><b>mpv &quot;filename with
spaces.mkv&quot; --title=&quot;window title&quot;</b></p>

<p style="margin-left:11%; margin-top: 1em">It gets more
complicated if the suboption parser is involved. The
suboption parser puts several options into a single string,
and passes them to a component at once, instead of using
multiple options on the level of the command line.</p>

<p style="margin-left:11%; margin-top: 1em">The suboption
parser can quote strings with <b>&quot;</b> and
<b>[...]</b>. Additionally, there is a special form of
quoting with <b>%n%</b> described below.</p>

<p style="margin-left:11%; margin-top: 1em">For example,
assume the hypothetical <b>foo</b> filter can take multiple
options:</p>

<p style="margin-left:15%;"><b>mpv test.mkv
--vf=foo:option1=value1:option2:option3=value3,bar</b></p>

<p style="margin-left:11%; margin-top: 1em">This passes
<b>option1</b> and <b>option3</b> to the <b>foo</b> filter,
with <b>option2</b> as flag (implicitly <b>option2=yes</b>),
and adds a <b>bar</b> filter after that. If an option
contains spaces or characters like <b>,</b> or <b>:</b>, you
need to quote them:</p>

<p style="margin-left:15%;"><b>mpv
'--vf=foo:option1=&quot;option value with
spaces&quot;,bar'</b></p>

<p style="margin-left:11%; margin-top: 1em">Shells may
actually strip some quotes from the string passed to the
commandline, so the example quotes the string twice,
ensuring that mpv receives the <b>&quot;</b> quotes.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>[...]</b> form of quotes wraps everything between
<b>[</b> and <b>]</b>. It's useful with shells that don't
interpret these characters in the middle of an argument
(like bash). These quotes are balanced (since mpv 0.9.0):
the <b>[</b> and <b>]</b> nest, and the quote terminates on
the last <b>]</b> that has no matching <b>[</b> within the
string. (For example, <b>[a[b]c]</b> results in
<b>a[b]c</b>.)</p>

<p style="margin-left:11%; margin-top: 1em">The
fixed-length quoting syntax is intended for use with
external scripts and programs.</p>

<p style="margin-left:11%; margin-top: 1em">It is started
with <b>%</b> and has the following format:</p>

<pre style="margin-left:15%; margin-top: 1em">%n%string_of_length_n</pre>


<p style="margin-left:15%;">Examples</p>

<p style="margin-left:26%; margin-top: 1em"><b>mpv
'--vf=foo:option1=%11%quoted text' test.avi</b></p>

<p style="margin-left:26%; margin-top: 1em">Or in a
script:</p>

<p style="margin-left:26%; margin-top: 1em"><b>mpv
--vf=foo:option1=%`expr length
&quot;$NAME&quot;`%&quot;$NAME&quot; test.avi</b></p>

<p style="margin-left:11%; margin-top: 1em">Suboptions
passed to the client API are also subject to escaping. Using
<b>mpv_set_option_string()</b> is exactly like passing
<b>--name=data</b> to the command line (but without shell
processing of the string). Some options support passing
values in a more structured way instead of flat strings, and
can avoid the suboption parsing mess. For example,
<b>--vf</b> supports <b>MPV_FORMAT_NODE</b>, which lets you
pass suboptions as a nested data structure of maps and
arrays.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Paths</b>
<br>
Some care must be taken when passing arbitrary paths and
filenames to mpv. For example, paths starting with <b>-</b>
will be interpreted as options. Likewise, if a path contains
the sequence <b>://</b>, the string before that might be
interpreted as protocol prefix, even though <b>://</b> can
be part of a legal UNIX path. To avoid problems with
arbitrary paths, you should be sure that absolute paths
passed to mpv start with <b>/</b>, and prefix relative paths
with <b>./</b>.</p>

<p style="margin-left:11%; margin-top: 1em">Using the
<b>file://</b> pseudo-protocol is discouraged, because it
involves strange URL unescaping rules.</p>

<p style="margin-left:11%; margin-top: 1em">The name
<b>-</b> itself is interpreted as stdin, and will cause mpv
to disable console controls. (Which makes it suitable for
playing data piped to stdin.)</p>

<p style="margin-left:11%; margin-top: 1em">The special
argument <b>--</b> can be used to stop mpv from interpreting
the following arguments as options.</p>

<p style="margin-left:11%; margin-top: 1em">When using the
client API, you should strictly avoid using
<b>mpv_command_string</b> for invoking the <b>loadfile</b>
command, and instead prefer e.g. <b>mpv_command</b> to avoid
the need for filename escaping.</p>

<p style="margin-left:11%; margin-top: 1em">For paths
passed to suboptions, the situation is further complicated
by the need to escape special characters. To work this
around, the path can be additionally wrapped in the
fixed-length syntax, e.g. <b>%n%string_of_length_n</b> (see
above).</p>

<p style="margin-left:11%; margin-top: 1em">Some mpv
options interpret paths starting with <b>~</b>. Currently,
the prefix <b>~~/</b> expands to the mpv configuration
directory (usually <b>~/.config/mpv/</b>). <b>~/</b> expands
to the user's home directory. (The trailing <b>/</b> is
always required.) There are the following paths as well:</p>

<p style="margin-left:11%; margin-top: 1em"><b>Per-File
Options</b> <br>
When playing multiple files, any option given on the command
line usually affects all files. Example:</p>

<pre style="margin-left:15%; margin-top: 1em">mpv --a file1.mkv --b file2.mkv --c</pre>


<p style="margin-left:11%; margin-top: 1em">(This is
different from MPlayer and mplayer2.)</p>

<p style="margin-left:11%; margin-top: 1em">Also, if any
option is changed at runtime (via input commands), they are
not reset when a new file is played.</p>

<p style="margin-left:11%; margin-top: 1em">Sometimes, it
is useful to change options per-file. This can be achieved
by adding the special per-file markers <b>--{</b> and
<b>--}</b>. (Note that you must escape these on some
shells.) Example:</p>

<pre style="margin-left:15%; margin-top: 1em">mpv --a file1.mkv --b --\{ --c file2.mkv --d file3.mkv --e --\} file4.mkv --f</pre>


<p style="margin-left:11%; margin-top: 1em">Additionally,
any file-local option changed at runtime is reset when the
current file stops playing. If option <b>--c</b> is changed
during playback of <b>file2.mkv</b>, it is reset when
advancing to <b>file3.mkv</b>. This only affects file-local
options. The option <b>--a</b> is never reset here.</p>

<p style="margin-left:11%; margin-top: 1em"><b>List
Options</b> <br>
Some options which store lists of option values can have
action suffixes. For example, the <b>--display-tags</b>
option takes a <b>,</b>-separated list of tags, but the
option also allows you to append a single tag with
<b>--display-tags-append</b>, and the tag name can for
example contain a literal <b>,</b> without the need for
escaping.</p>

<p style="margin-left:11%; margin-top: 1em"><b>String list
and path list options</b> <br>
String lists are separated by <b>,</b>. The strings are not
parsed or interpreted by the option system itself. However,
most</p>

<p style="margin-left:11%; margin-top: 1em">Path or file
list options use <b>:</b> (Unix) or <b>;</b> (Windows) as
separator, instead of <b>,</b>.</p>

<p style="margin-left:11%; margin-top: 1em">They support
the following operations:</p>

<p style="margin-left:11%; margin-top: 1em"><b>-append</b>
is meant as a simple way to append a single item without
having to escape the argument (you may still need to escape
on the shell level).</p>

<p style="margin-left:11%; margin-top: 1em"><b>Key/value
list options</b> <br>
A key/value list is a list of key/value string pairs. In
programming languages, this type of data structure is often
called a map or a dictionary. The order normally does not
matter, although in some cases the order might matter.</p>

<p style="margin-left:11%; margin-top: 1em">They support
the following operations:</p>

<p style="margin-left:11%; margin-top: 1em">Keys are unique
within the list. If an already present key is set, the
existing key is removed before the new value is
appended.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Filter
options</b> <br>
This is a very complex option type for the <b>--af</b> and
<b>--vf</b> options only. They often require complicated
escaping. See <i>VIDEO FILTERS</i> for details. They support
the following operations:</p>

<p style="margin-left:11%; margin-top: 1em"><b>General</b>
<br>
Without suffix, the operation used is normally
<b>-set</b>.</p>

<p style="margin-left:11%; margin-top: 1em">Although some
operations allow specifying multiple items, using this is
strongly discouraged and deprecated, except for <b>-set</b>.
There is a chance that operations like <b>-add</b> and
<b>-pre</b> will work like <b>-append</b> and accept a
single, unescaped item only (so the <b>,</b> separator will
not be interpreted and is passed on as part of the
value).</p>

<p style="margin-left:11%; margin-top: 1em">Some options
(like <b>--sub-file</b>, <b>--audio-file</b>,
<b>--glsl-shader</b>) are aliases for the proper option with
<b>-append</b> action. For example, <b>--sub-file</b> is an
alias for <b>--sub-files-append</b>.</p>

<p style="margin-left:11%; margin-top: 1em">Options of this
type can be changed at runtime using the <b>change-list</b>
command, which takes the suffix (without the <b>-</b>) as
separate operation parameter.</p>

<h2>CONFIGURATION FILES
<a name="CONFIGURATION FILES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>Location and
Syntax</b> <br>
You can put all of the options in configuration files which
will be read every time mpv is run. The system-wide
configuration file 'mpv.conf' is in your configuration
directory (e.g. <b>/etc/mpv</b> or
<b>/usr/local/etc/mpv</b>), the user-specific one is
<b>~/.config/mpv/mpv.conf</b>. For details and platform
specifics (in particular Windows paths) see the <i>FILES</i>
section.</p>

<p style="margin-left:11%; margin-top: 1em">User-specific
options override system-wide options and options given on
the command line override either. The syntax of the
configuration files is <b>option=value</b>. Everything after
a <i>#</i> is considered a comment. Options that work
without values can be enabled by setting them to <i>yes</i>
and disabled by setting them to <i>no</i>. Even suboptions
can be specified in this way.</p>

<p style="margin-left:15%;">Example configuration file</p>

<pre style="margin-left:22%; margin-top: 1em"># Use GPU-accelerated video output by default.
vo=gpu
# Use quotes for text that can contain spaces:
status-msg=&quot;Time: ${time-pos}&quot;</pre>


<p style="margin-left:11%; margin-top: 1em"><b>Escaping
spaces and special characters</b> <br>
This is done like with command line options. The shell is
not involved here, but option values still need to be quoted
as a whole if it contains certain characters like spaces. A
config entry can be quoted with <b>&quot;</b>, as well as
with the fixed-length syntax (<b>%n%</b>) mentioned before.
This is like passing the exact contents of the quoted string
as command line option. C-style escapes are currently _not_
interpreted on this level, although some options do this
manually. (This is a mess and should probably be changed at
some point.)</p>

<p style="margin-left:11%; margin-top: 1em"><b>Putting
Command Line Options into the Configuration File</b> <br>
Almost all command line options can be put into the
configuration file. Here is a small guide:</p>


<p style="margin-left:11%; margin-top: 1em"><b>File-specific
Configuration Files</b> <br>
You can also write file-specific configuration files. If you
wish to have a configuration file for a file called
'video.avi', create a file named 'video.avi.conf' with the
file-specific options in it and put it in
<b>~/.config/mpv/</b>. You can also put the configuration
file in the same directory as the file to be played. Both
require you to set the <b>--use-filedir-conf</b> option
(either on the command line or in your global config file).
If a file-specific configuration file is found in the same
directory, no file-specific configuration is loaded from
<b>~/.config/mpv</b>. In addition, the
<b>--use-filedir-conf</b> option enables directory-specific
configuration files. For this, mpv first tries to load a
mpv.conf from the same directory as the file played and then
tries to load any file-specific configuration.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Profiles</b>
<br>
To ease working with different configurations, profiles can
be defined in the configuration files. A profile starts with
its name in square brackets, e.g. <b>[my-profile]</b>. All
following options will be part of the profile. A description
(shown by <b>--profile=help</b>) can be defined with the
<b>profile-desc</b> option. To end the profile, start
another one or use the profile name <b>default</b> to
continue with normal options.</p>

<p style="margin-left:11%; margin-top: 1em">You can list
profiles with <b>--profile=help</b>, and show the contents
of a profile with <b>--show-profile=&lt;name&gt;</b>
(replace <b>&lt;name&gt;</b> with the profile name). You can
apply profiles on start with the
<b>--profile=&lt;name&gt;</b> option, or at runtime with the
<b>apply-profile &lt;name&gt;</b> command.</p>

<p style="margin-left:15%;">Example mpv config file with
profiles</p>
<pre style="margin-left:22%; margin-top: 1em"># normal top-level option
fullscreen=yes

# a profile that can be enabled with --profile=big-cache
[big-cache]
cache=yes
demuxer-max-bytes=123400KiB
demuxer-readahead-secs=20

[slow]
profile-desc=&quot;some profile name&quot;
# reference a builtin profile
profile=gpu-hq

[fast]
vo=vdpau


# using a profile again extends it
[slow]
framedrop=no
# you can also include other profiles
profile=big-cache</pre>


<p style="margin-left:11%; margin-top: 1em"><b>Auto
profiles</b> <br>
Some profiles are loaded automatically. The following
example demonstrates this:</p>

<p style="margin-left:15%;">Auto profile loading</p>

<pre style="margin-left:22%; margin-top: 1em">[extension.mkv]
profile-desc=&quot;profile for .mkv files&quot;
vf=flip</pre>


<p style="margin-left:11%; margin-top: 1em">The profile
name follows the schema <b>type.name</b>, where type can be
<b>protocol</b> for the input/output protocol in use (see
<b>--list-protocols</b>), and <b>extension</b> for the
extension of the path of the currently played file
(<i>not</i> the file format).</p>

<p style="margin-left:11%; margin-top: 1em">This feature is
very limited, and there are no other auto profiles.</p>

<h2>USING MPV FROM OTHER PROGRAMS OR SCRIPTS
<a name="USING MPV FROM OTHER PROGRAMS OR SCRIPTS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">There are three
choices for using mpv from other programs or scripts:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td>
<td width="3%">


<p>1.</p></td>
<td width="2%"></td>
<td width="80%">


<p>Calling it as UNIX process. If you do this, <i>do not
parse terminal output</i>. The terminal output is intended
for humans, and may change any time. In addition, terminal
behavior itself may change any time. Compatibility cannot be
guaranteed.</p> </td></tr>
</table>

<p style="margin-left:20%; margin-top: 1em">Your code
should work even if you pass <b>--no-terminal</b>. Do not
attempt to simulate user input by sending terminal control
codes to mpv's stdin. If you need interactive control, using
<b>--input-ipc-server</b> is recommended. This gives you
access to the <i>JSON IPC</i> over unix domain sockets (or
named pipes on Windows).</p>

<p style="margin-left:20%; margin-top: 1em">Depending on
what you do, passing <b>--no-config</b> or
<b>--config-dir</b> may be a good idea to avoid conflicts
with the normal mpv user configuration intended for CLI
playback.</p>

<p style="margin-left:20%; margin-top: 1em">Using
<b>--input-ipc-server</b> is also suitable for purposes like
remote control (however, the IPC protocol itself is not
&quot;secure&quot; and not intended to be so).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td>
<td width="3%">


<p style="margin-top: 1em">2.</p></td>
<td width="2%"></td>
<td width="80%">


<p style="margin-top: 1em">Using libmpv. This is generally
recommended when mpv is used as playback backend for a
completely different application. The provided C API is very
close to CLI mechanisms and the scripting API.</p></td></tr>
</table>

<p style="margin-left:20%; margin-top: 1em">Note that even
though libmpv has different defaults, it can be configured
to work exactly like the CLI player (except command line
parsing is unavailable).</p>

<p style="margin-left:20%; margin-top: 1em">See
<i>EMBEDDING INTO OTHER PROGRAMS (LIBMPV)</i>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td>
<td width="3%">


<p style="margin-top: 1em">3.</p></td>
<td width="2%"></td>
<td width="80%">


<p style="margin-top: 1em">As a user script (<i>LUA
SCRIPTING</i>, <i>JAVASCRIPT</i>, <i>C PLUGINS</i>). This is
recommended when the goal is to &quot;enhance&quot; the CLI
player. Scripts get access to the entire client API of
mpv.</p> </td></tr>
</table>

<p style="margin-left:20%; margin-top: 1em">This is the
standard way to create third-party extensions for the
player.</p>

<p style="margin-left:11%; margin-top: 1em">All these
access the client API, which is the sum of the various
mechanisms provided by the player core, as documented here:
<i>OPTIONS</i>, <i>List of Input Commands</i>,
<i>Properties</i>, <i>List of events</i> (also see C API),
<i>Hooks</i>.</p>

<h2>TAKING SCREENSHOTS
<a name="TAKING SCREENSHOTS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Screenshots of
the currently played file can be taken using the
'screenshot' input mode command, which is by default bound
to the <b>s</b> key. Files named <b>mpv-shotNNNN.jpg</b>
will be saved in the working directory, using the first
available number - no files will be overwritten. In
pseudo-GUI mode, the screenshot will be saved somewhere
else. See <i>PSEUDO GUI MODE</i>.</p>

<p style="margin-left:11%; margin-top: 1em">A screenshot
will usually contain the unscaled video contents at the end
of the video filter chain and subtitles. By default,
<b>S</b> takes screenshots without subtitles, while <b>s</b>
includes subtitles.</p>

<p style="margin-left:11%; margin-top: 1em">Unlike with
MPlayer, the <b>screenshot</b> video filter is not required.
This filter was never required in mpv, and has been
removed.</p>

<h2>TERMINAL STATUS LINE
<a name="TERMINAL STATUS LINE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">During
playback, mpv shows the playback status on the terminal. It
looks like something like this:</p>

<p style="margin-left:15%;"><b>AV: 00:03:12 / 00:24:25
(13%) A-V: -0.000</b></p>

<p style="margin-left:11%; margin-top: 1em">The status line
can be overridden with the <b>--term-status-msg</b>
option.</p>

<p style="margin-left:11%; margin-top: 1em">The following
is a list of things that can show up in the status line.
Input properties, that can be used to get the same
information manually, are also listed.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p style="margin-top: 1em"><b>AV:</b> or <b>V:</b> (video
only) or <b>A:</b> (audio only)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p>The current time position in <b>HH:MM:SS</b> format
(<b>playback-time</b> property)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p>The total file duration (absent if unknown)
(<b>length</b> property)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p>Playback speed, e.g. `` x2.0``. Only visible if the
speed is not normal. This is the user-requested speed, and
not the actual speed (usually they should be the same,
unless playback is too slow). (<b>speed</b> property.)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p>Playback percentage, e.g. <b>(13%)</b>. How much of the
file has been played. Normally calculated out of playback
position and duration, but can fallback to other methods
(like byte position) if these are not available.
(<b>percent-pos</b> property.)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p>The audio/video sync as <b>A-V: 0.000</b>. This is the
difference between audio and video time. Normally it should
be 0 or close to 0. If it's growing, it might indicate a
playback problem. (<b>avsync</b> property.)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p>Total A/V sync change, e.g. <b>ct: -0.417</b>. Normally
invisible. Can show up if there is audio
&quot;missing&quot;, or not enough frames can be dropped.
Usually this will indicate a problem.
(<b>total-avsync-change</b> property.)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p>Encoding state in <b>{...}</b>, only shown in encoding
mode.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p>Display sync state. If display sync is active
(<b>display-sync-active</b> property), this shows <b>DS:
2.500/13</b>, where the first number is average number of
vsyncs per video frame (e.g. 2.5 when playing 24Hz videos on
60Hz screens), which might jitter if the ratio doesn't round
off, or there are mistimed frames (<b>vsync-ratio</b>), and
the second number of estimated number of vsyncs which took
too long (<b>vo-delayed-frame-count</b> property). The
latter is a heuristic, as it's generally not possible to
determine this with certainty.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p>Dropped frames, e.g. <b>Dropped: 4</b>. Shows up only if
the count is not 0. Can grow if the video framerate is
higher than that of the display, or if video rendering is
too slow. May also be incremented on &quot;hiccups&quot; and
when the video frame couldn't be displayed on time.
(<b>vo-drop-frame-count</b> property.) If the decoder drops
frames, the number of decoder-dropped frames is appended to
the display as well, e.g.: <b>Dropped: 4/34</b>. This
happens only if decoder frame dropping is enabled with the
<b>--framedrop</b> options. (<b>drop-frame-count</b>
property.)</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p>Cache state, e.g. <b>Cache: 2s/134KB</b>. Visible if the
stream cache is enabled. The first value shows the amount of
video buffered in the demuxer in seconds, the second value
shows the estimated size of the buffered amount in
kilobytes. (<b>demuxer-cache-duration</b> and
<b>demuxer-cache-state</b> properties.)</p></td></tr>
</table>

<h2>LOW LATENCY PLAYBACK
<a name="LOW LATENCY PLAYBACK"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">mpv is
optimized for normal video playback, meaning it actually
tries to buffer as much data as it seems to make sense. This
will increase latency. Reducing latency is possible only by
specifically disabling features which increase latency.</p>

<p style="margin-left:11%; margin-top: 1em">The builtin
<b>low-latency</b> profile tries to apply some of the
options which can reduce latency. You can use
<b>--profile=low-latency</b> to apply all of them. You can
list the contents with <b>--show-profile=low-latency</b>
(some of the options are quite obscure, and may change every
mpv release).</p>

<p style="margin-left:11%; margin-top: 1em">Be aware that
some of the options can reduce playback quality.</p>

<p style="margin-left:11%; margin-top: 1em">Most latency is
actually caused by inconvenient timing behavior. You can
disable this with <b>--untimed</b>, but it will likely
break, unless the stream has no audio, and the input feeds
data to the player at a constant rate.</p>

<p style="margin-left:11%; margin-top: 1em">Another common
problem is with MJPEG streams. These do not signal the
correct framerate. Using <b>--untimed</b> or
<b>--no-correct-pts --fps=60</b> might help.</p>

<p style="margin-left:11%; margin-top: 1em">For
livestreams, data can build up due to pausing the stream,
due to slightly lower playback rate, or
&quot;buffering&quot; pauses. If the demuxer cache is
enabled, these can be skipped manually. The experimental
<b>drop-buffers</b> command can be used to discard any
buffered data, though it's very disruptive.</p>

<p style="margin-left:11%; margin-top: 1em">In some cases,
manually tuning TCP buffer sizes and such can help to reduce
latency.</p>

<p style="margin-left:11%; margin-top: 1em">Additional
options that can be tried:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p style="margin-top: 1em"><b>--opengl-glfinish=yes</b>,
can reduce buffering in the graphics driver</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p><b>--opengl-swapinterval=0</b>, same</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p><b>--vo=xv</b>, same</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p>without audio <b>--framedrop=no --speed=1.01</b> may
help for live sources (results can be mixed)</p></td></tr>
</table>

<h2>PROTOCOLS
<a name="PROTOCOLS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>http://...</b>,
<b>https://</b>, ...</p>

<p style="margin-left:15%;">Many network protocols are
supported, but the protocol prefix must always be specified.
mpv will never attempt to guess whether a filename is
actually a network address. A protocol prefix is always
required.</p>

<p style="margin-left:15%; margin-top: 1em">Note that not
all prefixes are documented here. Undocumented prefixes are
either aliases to documented protocols, or are just
redirections to protocols implemented and documented in
FFmpeg.</p>

<p style="margin-left:15%; margin-top: 1em"><b>data:</b> is
supported in FFmpeg (not in Libav), but needs to be in the
format <b>data://</b>. This is done to avoid ambiguity with
filenames. You can also prefix it with <b>lavf://</b> or
<b>ffmpeg://</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>ytdl://...</b></p>

<p style="margin-left:15%;">By default, the youtube-dl hook
script only looks at http(s) URLs. Prefixing an URL with
<b>ytdl://</b> forces it to be always processed by the
script. This can also be used to invoke special youtube-dl
functionality like playing a video by ID or invoking
search.</p>

<p style="margin-left:15%; margin-top: 1em">Keep in mind
that you can't pass youtube-dl command line options by this,
and you have to use <b>--ytdl-raw-options</b> instead.</p>

<p style="margin-left:11%; margin-top: 1em"><b>-</b></p>

<p style="margin-left:15%;">Play data from stdin.</p>


<p style="margin-left:11%; margin-top: 1em"><b>smb://PATH</b></p>

<p style="margin-left:15%;">Play a path from Samba
share.</p>


<p style="margin-left:11%; margin-top: 1em"><b>bd://[title][/device]
--bluray-device=PATH</b></p>

<p style="margin-left:15%;">Play a Blu-ray disc. Since
libbluray 1.0.1, you can read from ISO files by passing them
to <b>--bluray-device</b>.</p>

<p style="margin-left:15%; margin-top: 1em"><b>title</b>
can be: <b>longest</b> or <b>first</b> (selects the default
playlist); <b>mpls/&lt;number&gt;</b> (selects
&lt;number&gt;.mpls playlist); <b>&lt;number&gt;</b> (select
playlist with the same index). mpv will list the available
playlists on loading.</p>


<p style="margin-left:15%; margin-top: 1em"><b>bluray://</b>
is an alias.</p>


<p style="margin-left:11%; margin-top: 1em"><b>dvd://[title][/device]
--dvd-device=PATH</b></p>

<p style="margin-left:15%;">Play a DVD. DVD menus are not
supported. If no title is given, the longest title is
auto-selected. Without <b>--dvd-device</b>, it will probably
try to open an actual optical drive, if available and
implemented for the OS.</p>


<p style="margin-left:15%; margin-top: 1em"><b>dvdnav://</b>
is an old alias for <b>dvd://</b> and does exactly the same
thing.</p>


<p style="margin-left:11%; margin-top: 1em"><b>dvb://[cardnumber@]channel
--dvbin-...</b></p>

<p style="margin-left:15%;">Digital TV via DVB. (Linux
only.)</p>


<p style="margin-left:11%; margin-top: 1em"><b>mf://[filemask|@listfile]
--mf-...</b></p>

<p style="margin-left:15%;">Play a series of images as
video.</p>


<p style="margin-left:11%; margin-top: 1em"><b>cdda://[device]
--cdrom-device=PATH --cdda-...</b></p>

<p style="margin-left:15%;">Play CD.</p>


<p style="margin-left:11%; margin-top: 1em"><b>lavf://...</b></p>

<p style="margin-left:15%;">Access any FFmpeg/Libav
libavformat protocol. Basically, this passed the string
after the <b>//</b> directly to libavformat.</p>


<p style="margin-left:11%; margin-top: 1em"><b>av://type:options</b></p>

<p style="margin-left:15%;">This is intended for using
libavdevice inputs. <b>type</b> is the libavdevice demuxer
name, and <b>options</b> is the (pseudo-)filename passed to
the demuxer.</p>

<p style="margin-left:22%;">Example</p>

<pre style="margin-left:26%; margin-top: 1em">mpv av://v4l2:/dev/video0 --profile=low-latency --untimed</pre>


<p style="margin-left:22%; margin-top: 1em">This plays
video from the first v4l input with nearly the lowest
latency possible. It's a good replacement for the removed
<b>tv://</b> input. Using <b>--untimed</b> is a hack to
output a captured frame immediately, instead of respecting
the input framerate. (There may be better ways to handle
this in the future.)</p>


<p style="margin-left:15%; margin-top: 1em"><b>avdevice://</b>
is an alias.</p>


<p style="margin-left:11%; margin-top: 1em"><b>file://PATH</b></p>

<p style="margin-left:15%;">A local path as URL. Might be
useful in some special use-cases. Note that <b>PATH</b>
itself should start with a third <b>/</b> to make the path
an absolute path.</p>


<p style="margin-left:11%; margin-top: 1em"><b>appending://PATH</b></p>

<p style="margin-left:15%;">Play a local file, but assume
it's being appended to. This is useful for example for files
that are currently being downloaded to disk. This will block
playback, and stop playback only if no new data was appended
after a timeout of about 2 seconds.</p>

<p style="margin-left:15%; margin-top: 1em">Using this is
still a bit of a bad idea, because there is no way to detect
if a file is actually being appended, or if it's still
written. If you're trying to play the output of some
program, consider using a pipe (<b>something | mpv -</b>).
If it really has to be a file on disk, use tail to make it
wait forever, e.g. <b>tail -f -c +0 file.mkv | mpv
-</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>fd://123</b></p>

<p style="margin-left:15%;">Read data from the given file
descriptor (for example 123). This is similar to piping data
to stdin via <b>-</b>, but can use an arbitrary file
descriptor. mpv may modify some file descriptor properties
when the stream layer &quot;opens&quot; it.</p>


<p style="margin-left:11%; margin-top: 1em"><b>fdclose://123</b></p>

<p style="margin-left:15%;">Like <b>fd://</b>, but the file
descriptor is closed after use. When using this you need to
ensure that the same fd URL will only be used once.</p>

<p style="margin-left:11%; margin-top: 1em"><b>edl://[edl
specification as in edl-mpv.rst]</b></p>

<p style="margin-left:15%;">Stitch together parts of
multiple files and play them.</p>


<p style="margin-left:11%; margin-top: 1em"><b>null://</b></p>

<p style="margin-left:15%;">Simulate an empty file. If
opened for writing, it will discard all data. The
<b>null</b> demuxer will specifically pass autoprobing if
this protocol is used (while it's not automatically invoked
for empty files).</p>


<p style="margin-left:11%; margin-top: 1em"><b>memory://data</b></p>

<p style="margin-left:15%;">Use the <b>data</b> part as
source data.</p>


<p style="margin-left:11%; margin-top: 1em"><b>hex://data</b></p>

<p style="margin-left:15%;">Like <b>memory://</b>, but the
string is interpreted as hexdump.</p>

<h2>PSEUDO GUI MODE
<a name="PSEUDO GUI MODE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">mpv has no
official GUI, other than the OSC (<i>ON SCREEN
CONTROLLER</i>), which is not a full GUI and is not meant to
be. However, to compensate for the lack of expected GUI
behavior, mpv will in some cases start with some settings
changed to behave slightly more like a GUI mode.</p>

<p style="margin-left:11%; margin-top: 1em">Currently this
happens only in the following cases:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p>if started using the <b>mpv.desktop</b> file on Linux
(e.g. started from menus or file associations provided by
desktop environments)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p>if started from explorer.exe on Windows (technically, if
it was started on Windows, and all of the
stdout/stderr/stdin handles are unset)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p>started out of the bundle on OSX</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p>if you manually use
<b>--player-operation-mode=pseudo-gui</b> on the command
line</p> </td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">This mode
applies options from the builtin profile
<b>builtin-pseudo-gui</b>, but only if these haven't been
set in the user's config file or on the command line. Also,
for compatibility with the old pseudo-gui behavior, the
options in the <b>pseudo-gui</b> profile are applied
unconditionally. In addition, the profile makes sure to
enable the pseudo-GUI mode, so that
<b>--profile=pseudo-gui</b> works like in older mpv
releases. The profiles are currently defined as follows:</p>

<pre style="margin-left:15%; margin-top: 1em">[builtin-pseudo-gui]
terminal=no
force-window=yes
idle=once
screenshot-directory=~~desktop/
[pseudo-gui]
player-operation-mode=pseudo-gui</pre>



<p style="margin-left:11%; margin-top: 1em"><b>WARNING:</b></p>

<p style="margin-left:15%;">Currently, you can extend the
<b>pseudo-gui</b> profile in the config file the normal way.
This is deprecated. In future mpv releases, the behavior
might change, and not apply your additional settings, and/or
use a different profile name.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>Track
Selection <br>
--alang=&lt;languagecode[,languagecode,...]&gt;</b></p>

<p style="margin-left:22%;">Specify a priority list of
audio languages to use. Different container formats employ
different language codes. DVDs use ISO 639-1 two-letter
language codes, Matroska, MPEG-TS and NUT use ISO 639-2
three-letter language codes, while OGM uses a free-form
identifier. See also <b>--aid</b>.</p>

<p style="margin-left:22%; margin-top: 1em">This is a
string list option. See <i>List Options</i> for details.</p>

<p style="margin-left:26%;">Examples</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="71%">


<p><b>mpv dvd://1 --alang=hu,en</b> chooses the Hungarian
language track on a DVD and falls back on English if
Hungarian is not available.</p></td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="71%">


<p><b>mpv --alang=jpn example.mkv</b> plays a Matroska file
with Japanese audio.</p></td></tr>
</table>


<p style="margin-left:11%;"><b>--slang=&lt;languagecode[,languagecode,...]&gt;</b></p>

<p style="margin-left:22%;">Specify a priority list of
subtitle languages to use. Different container formats
employ different language codes. DVDs use ISO 639-1 two
letter language codes, Matroska uses ISO 639-2 three letter
language codes while OGM uses a free-form identifier. See
also <b>--sid</b>.</p>

<p style="margin-left:22%; margin-top: 1em">This is a
string list option. See <i>List Options</i> for details.</p>

<p style="margin-left:26%;">Examples</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="71%">


<p><b>mpv dvd://1 --slang=hu,en</b> chooses the Hungarian
subtitle track on a DVD and falls back on English if
Hungarian is not available.</p></td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="71%">


<p><b>mpv --slang=jpn example.mkv</b> plays a Matroska file
with Japanese subtitles.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>--vlang=&lt;...&gt;</b></p>

<p style="margin-left:22%;">Equivalent to <b>--alang</b>
and <b>--slang</b>, for video tracks.</p>

<p style="margin-left:22%; margin-top: 1em">This is a
string list option. See <i>List Options</i> for details.</p>


<p style="margin-left:11%;"><b>--aid=&lt;ID|auto|no&gt;</b></p>

<p style="margin-left:22%;">Select audio track. <b>auto</b>
selects the default, <b>no</b> disables audio. See also
<b>--alang</b>. mpv normally prints available audio tracks
on the terminal when starting playback of a file.</p>

<p style="margin-left:22%; margin-top: 1em"><b>--audio</b>
is an alias for <b>--aid</b>.</p>


<p style="margin-left:22%; margin-top: 1em"><b>--aid=no</b>
or <b>--audio=no</b> or <b>--no-audio</b> disables audio
playback. (The latter variant does not work with the client
API.)</p>


<p style="margin-left:11%;"><b>--sid=&lt;ID|auto|no&gt;</b></p>

<p style="margin-left:22%;">Display the subtitle stream
specified by <b>&lt;ID&gt;</b>. <b>auto</b> selects the
default, <b>no</b> disables subtitles.</p>

<p style="margin-left:22%; margin-top: 1em"><b>--sub</b> is
an alias for <b>--sid</b>.</p>


<p style="margin-left:22%; margin-top: 1em"><b>--sid=no</b>
or <b>--sub=no</b> or <b>--no-sub</b> disables subtitle
decoding. (The latter variant does not work with the client
API.)</p>


<p style="margin-left:11%;"><b>--vid=&lt;ID|auto|no&gt;</b></p>

<p style="margin-left:22%;">Select video channel.
<b>auto</b> selects the default, <b>no</b> disables
video.</p>

<p style="margin-left:22%; margin-top: 1em"><b>--video</b>
is an alias for <b>--vid</b>.</p>


<p style="margin-left:22%; margin-top: 1em"><b>--vid=no</b>
or <b>--video=no</b> or <b>--no-video</b> disables video
playback. (The latter variant does not work with the client
API.)</p>

<p style="margin-left:22%; margin-top: 1em">If video is
disabled, mpv will try to download the audio only if media
is streamed with youtube-dl, because it saves bandwidth.
This is done by setting the ytdl_format to
&quot;bestaudio/best&quot; in the ytdl_hook.lua script.</p>


<p style="margin-left:11%;"><b>--edition=&lt;ID|auto&gt;</b></p>

<p style="margin-left:22%;">(Matroska files only) Specify
the edition (set of chapters) to use, where 0 is the first.
If set to <b>auto</b> (the default), mpv will choose the
first edition declared as a default, or if there is no
default, the first edition defined.</p>


<p style="margin-left:11%;"><b>--track-auto-selection=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Enable the default track
auto-selection (default: yes). Enabling this will make the
player select streams according to <b>--aid</b>,
<b>--alang</b>, and others. If it is disabled, no tracks are
selected. In addition, the player will not exit if no tracks
are selected, and wait instead (this wait mode is similar to
pausing, but the pause option is not set).</p>

<p style="margin-left:22%; margin-top: 1em">This is useful
with <b>--lavfi-complex</b>: you can start playback in this
mode, and then set select tracks at runtime by setting the
filter graph. Note that if <b>--lavfi-complex</b> is set
before playback is started, the referenced tracks are always
selected.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Playback
Control <br>
--start=&lt;relative time&gt;</b></p>

<p style="margin-left:22%;">Seek to given time
position.</p>

<p style="margin-left:22%; margin-top: 1em">The general
format for times is <b>[+|-][[hh:]mm:]ss[.ms]</b>. If the
time is prefixed with <b>-</b>, the time is considered
relative from the end of the file (as signaled by the
demuxer/the file). A <b>+</b> is usually ignored (but see
below).</p>

<p style="margin-left:22%; margin-top: 1em">The following
alternative time specifications are recognized:</p>

<p style="margin-left:22%; margin-top: 1em"><b>pp%</b>
seeks to percent position pp (0-100).</p>

<p style="margin-left:22%; margin-top: 1em"><b>#c</b> seeks
to chapter number c. (Chapters start from 1.)</p>

<p style="margin-left:22%; margin-top: 1em"><b>none</b>
resets any previously set option (useful for libmpv).</p>

<p style="margin-left:22%; margin-top: 1em">If
<b>--rebase-start-time=no</b> is given, then prefixing times
with <b>+</b> makes the time relative to the start of the
file. A timestamp without prefix is considered an absolute
time, i.e. should seek to a frame with a timestamp as the
file contains it. As a bug, but also a hidden feature,
putting 1 or more spaces before the <b>+</b> or <b>-</b>
always interprets the time as absolute, which can be used to
seek to negative timestamps (useful for debugging at
most).</p>

<p style="margin-left:26%;">Examples <b><br>
--start=+56, --start=00:56</b></p>

<p style="margin-left:37%;">Seeks to the start time + 56
seconds.</p>

<p style="margin-left:26%;"><b>--start=-56,
--start=-00:56</b></p>

<p style="margin-left:37%;">Seeks to the end time - 56
seconds.</p>

<p style="margin-left:26%;"><b>--start=01:10:00</b></p>

<p style="margin-left:37%;">Seeks to 1 hour 10 min.</p>

<p style="margin-left:26%;"><b>--start=50%</b></p>

<p style="margin-left:37%;">Seeks to the middle of the
file.</p>

<p style="margin-left:26%;"><b>--start=30 --end=40</b></p>

<p style="margin-left:37%;">Seeks to 30 seconds, plays 10
seconds, and exits.</p>

<p style="margin-left:26%;"><b>--start=-3:20
--length=10</b></p>

<p style="margin-left:37%;">Seeks to 3 minutes and 20
seconds before the end of the file, plays 10 seconds, and
exits.</p>

<p style="margin-left:26%;"><b>--start='#2'
--end='#4'</b></p>

<p style="margin-left:37%;">Plays chapters 2 and 3, and
exits.</p>

<p style="margin-left:11%;"><b>--end=&lt;relative
time&gt;</b></p>

<p style="margin-left:22%;">Stop at given time. Use
<b>--length</b> if the time should be relative to
<b>--start</b>. See <b>--start</b> for valid option values
and examples.</p>

<p style="margin-left:11%;"><b>--length=&lt;relative
time&gt;</b></p>

<p style="margin-left:22%;">Stop after a given time
relative to the start time. See <b>--start</b> for valid
option values and examples.</p>

<p style="margin-left:22%; margin-top: 1em">If both
<b>--end</b> and <b>--length</b> are provided, playback will
stop when it reaches either of the two endpoints.</p>

<p style="margin-left:22%; margin-top: 1em">Obscurity note:
this does not work correctly if
<b>--rebase-start-time=no</b>, and the specified time is not
an &quot;absolute&quot; time, as defined in the
<b>--start</b> option description.</p>


<p style="margin-left:11%;"><b>--rebase-start-time=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Whether to move the file start
time to <b>00:00:00</b> (default: yes). This is less awkward
for files which start at a random timestamp, such as
transport streams. On the other hand, if there are timestamp
resets, the resulting behavior can be rather weird. For this
reason, and in case you are actually interested in the real
timestamps, this behavior can be disabled with
<b>no</b>.</p>


<p style="margin-left:11%;"><b>--speed=&lt;0.01-100&gt;</b></p>

<p style="margin-left:22%;">Slow down or speed up playback
by the factor given as parameter.</p>

<p style="margin-left:22%; margin-top: 1em">If
<b>--audio-pitch-correction</b> (on by default) is used,
playing with a speed higher than normal automatically
inserts the <b>scaletempo</b> audio filter.</p>

<p style="margin-left:11%;"><b>--pause</b></p>

<p style="margin-left:22%;">Start the player in paused
state.</p>

<p style="margin-left:11%;"><b>--shuffle</b></p>

<p style="margin-left:22%;">Play files in random order.</p>


<p style="margin-left:11%;"><b>--playlist-start=&lt;auto|index&gt;</b></p>

<p style="margin-left:22%;">Set which file on the internal
playlist to start playback with. The index is an integer,
with 0 meaning the first file. The value <b>auto</b> means
that the selection of the entry to play is left to the
playback resume mechanism (default). If an entry with the
given index doesn't exist, the behavior is unspecified and
might change in future mpv versions. The same applies if the
playlist contains further playlists (don't expect any
reasonable behavior). Passing a playlist file to mpv should
work with this option, though. E.g. <b>mpv playlist.m3u
--playlist-start=123</b> will work as expected, as long as
<b>playlist.m3u</b> does not link to further playlists.</p>

<p style="margin-left:22%; margin-top: 1em">The value
<b>no</b> is a deprecated alias for <b>auto</b>.</p>


<p style="margin-left:11%;"><b>--playlist=&lt;filename&gt;</b></p>

<p style="margin-left:22%;">Play files according to a
playlist file (Supports some common formats. If no format is
detected, it will be treated as list of files, separated by
newline characters. Note that XML playlist formats are not
supported.)</p>

<p style="margin-left:22%; margin-top: 1em">You can play
playlists directly and without this option, however, this
option disables any security mechanisms that might be in
place. You may also need this option to load plaintext files
as playlist.</p>


<p style="margin-left:22%; margin-top: 1em"><b>WARNING:</b></p>

<p style="margin-left:26%;">The way mpv uses playlist files
via <b>--playlist</b> is not safe against maliciously
constructed files. Such files may trigger harmful actions.
This has been the case for all mpv and MPlayer versions, but
unfortunately this fact was not well documented earlier, and
some people have even misguidedly recommended use of
<b>--playlist</b> with untrusted sources. Do NOT use
<b>--playlist</b> with random internet sources or files you
do not trust!</p>

<p style="margin-left:26%; margin-top: 1em">Playlist can
contain entries using other protocols, such as local files,
or (most severely), special protocols like
<b>avdevice://</b>, which are inherently unsafe.</p>


<p style="margin-left:11%;"><b>--chapter-merge-threshold=&lt;number&gt;</b></p>

<p style="margin-left:22%;">Threshold for merging almost
consecutive ordered chapter parts in milliseconds (default:
100). Some Matroska files with ordered chapters have
inaccurate chapter end timestamps, causing a small gap
between the end of one chapter and the start of the next one
when they should match. If the end of one playback part is
less than the given threshold away from the start of the
next one then keep playing video normally over the chapter
change instead of doing a seek.</p>


<p style="margin-left:11%;"><b>--chapter-seek-threshold=&lt;seconds&gt;</b></p>

<p style="margin-left:22%;">Distance in seconds from the
beginning of a chapter within which a backward chapter seek
will go to the previous chapter (default: 5.0). Past this
threshold, a backward chapter seek will go to the beginning
of the current chapter instead. A negative value means
always go back to the previous chapter.</p>


<p style="margin-left:11%;"><b>--hr-seek=&lt;no|absolute|yes&gt;</b></p>

<p style="margin-left:22%;">Select when to use precise
seeks that are not limited to keyframes. Such seeks require
decoding video from the previous keyframe up to the target
position and so can take some time depending on decoding
performance. For some video formats, precise seeks are
disabled. This option selects the default choice to use for
seeks; it is possible to explicitly override that default in
the definition of key bindings and in input commands.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>no</b></p></td>
<td width="7%"></td>
<td width="37%">


<p>Never use precise seeks.</p></td>
<td width="31%">
</td></tr>
</table>

<p style="margin-left:22%;"><b>absolute</b></p>

<p style="margin-left:32%;">Use precise seeks if the seek
is to an absolute position in the file, such as a chapter
seek, but not for relative seeks like the default behavior
of arrow keys (default).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>yes</b></p></td>
<td width="1%"></td>
<td width="56%">


<p>Use precise seeks whenever possible.</p></td>
<td width="12%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>always</b></p></td>
<td width="1%"></td>
<td width="56%">


<p>Same as <b>yes</b> (for compatibility).</p></td>
<td width="12%">
</td></tr>
</table>


<p style="margin-left:11%;"><b>--hr-seek-demuxer-offset=&lt;seconds&gt;</b></p>

<p style="margin-left:22%;">This option exists to work
around failures to do precise seeks (as in <b>--hr-seek</b>)
caused by bugs or limitations in the demuxers for some file
formats. Some demuxers fail to seek to a keyframe before the
given target position, going to a later position instead.
The value of this option is subtracted from the time stamp
given to the demuxer. Thus, if you set this option to 1.5
and try to do a precise seek to 60 seconds, the demuxer is
told to seek to time 58.5, which hopefully reduces the
chance that it erroneously goes to some time later than 60
seconds. The downside of setting this option is that precise
seeks become slower, as video between the earlier demuxer
position and the real target may be unnecessarily
decoded.</p>


<p style="margin-left:11%;"><b>--hr-seek-framedrop=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Allow the video decoder to drop
frames during seek, if these frames are before the seek
target. If this is enabled, precise seeking can be faster,
but if you're using video filters which modify timestamps or
add new frames, it can lead to precise seeking skipping the
target frame. This e.g. can break frame backstepping when
deinterlacing is enabled.</p>

<p style="margin-left:22%; margin-top: 1em">Default:
<b>yes</b></p>


<p style="margin-left:11%;"><b>--index=&lt;mode&gt;</b></p>

<p style="margin-left:22%;">Controls how to seek in files.
Note that if the index is missing from a file, it will be
built on the fly by default, so you don't need to change
this. But it might help with some broken files. <b><br>
default</b></p>

<p style="margin-left:32%;">use an index if the file has
one, or build it if missing</p>

<p style="margin-left:22%;"><b>recreate</b></p>

<p style="margin-left:32%;">don't read or use the file's
index</p>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">This option only works if the
underlying media supports seeking (i.e. not with stdin,
pipe, etc).</p>


<p style="margin-left:11%;"><b>--load-unsafe-playlists</b></p>

<p style="margin-left:22%;">Load URLs from playlists which
are considered unsafe (default: no). This includes special
protocols and anything that doesn't refer to normal files.
Local files and HTTP links on the other hand are always
considered safe.</p>

<p style="margin-left:22%; margin-top: 1em">In addition, if
a playlist is loaded while this is set, the added playlist
entries are not marked as originating from network or
potentially unsafe location. (Instead, the behavior is as if
the playlist entries were provided directly to mpv command
line or <b>loadfile</b> command.)</p>

<p style="margin-left:22%; margin-top: 1em">Note that
<b>--playlist</b> always loads all entries, so you use that
instead if you really have the need for this
functionality.</p>


<p style="margin-left:11%;"><b>--access-references=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Follow any references in the
file being opened (default: yes). Disabling this is helpful
if the file is automatically scanned (e.g. thumbnail
generation). If the thumbnail scanner for example encounters
a playlist file, which contains network URLs, and the
scanner should not open these, enabling this option will
prevent it. This option also disables ordered chapters, mov
reference files, opening of archives, and a number of other
features.</p>

<p style="margin-left:22%; margin-top: 1em">On older FFmpeg
versions, this will not work in some cases. Some FFmpeg
demuxers might not respect this option.</p>

<p style="margin-left:22%; margin-top: 1em">This option
does not prevent opening of paired subtitle files and such.
Use <b>--autoload-files=no</b> to prevent this.</p>

<p style="margin-left:22%; margin-top: 1em">This option
does not always work if you open non-files (for example
using <b>dvd://directory</b> would open a whole bunch of
files in the given directory). Prefixing the filename with
<b>./</b> if it doesn't start with a <b>/</b> will avoid
this.</p>


<p style="margin-left:11%;"><b>--loop-playlist=&lt;N|inf|force|no&gt;,
--loop-playlist</b></p>

<p style="margin-left:22%;">Loops playback <b>N</b> times.
A value of <b>1</b> plays it one time (default), <b>2</b>
two times, etc. <b>inf</b> means forever. <b>no</b> is the
same as <b>1</b> and disables looping. If several files are
specified on command line, the entire playlist is looped.
<b>--loop-playlist</b> is the same as
<b>--loop-playlist=inf</b>.</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>force</b> mode is like <b>inf</b>, but does not skip
playlist entries which have been marked as failing. This
means the player might waste CPU time trying to loop a file
that doesn't exist. But it might be useful for playing
webradios under very bad network conditions.</p>


<p style="margin-left:11%;"><b>--loop-file=&lt;N|inf|no&gt;,
--loop=&lt;N|inf|no&gt;</b></p>

<p style="margin-left:22%;">Loop a single file N times.
<b>inf</b> means forever, <b>no</b> means normal playback.
For compatibility, <b>--loop-file</b> and
<b>--loop-file=yes</b> are also accepted, and are the same
as <b>--loop-file=inf</b>.</p>

<p style="margin-left:22%; margin-top: 1em">The difference
to <b>--loop-playlist</b> is that this doesn't loop the
playlist, just the file itself. If the playlist contains
only a single file, the difference between the two option is
that this option performs a seek on loop, instead of
reloading the file.</p>

<p style="margin-left:22%; margin-top: 1em"><b>--loop</b>
is an alias for this option.</p>

<p style="margin-left:11%;"><b>--ab-loop-a=&lt;time&gt;,
--ab-loop-b=&lt;time&gt;</b></p>

<p style="margin-left:22%;">Set loop points. If playback
passes the <b>b</b> timestamp, it will seek to the <b>a</b>
timestamp. Seeking past the <b>b</b> point doesn't loop
(this is intentional).</p>

<p style="margin-left:22%; margin-top: 1em">If <b>a</b> is
after <b>b</b>, the behavior is as if the points were given
in the right order, and the player will seek to <b>b</b>
after crossing through <b>a</b>. This is different from old
behavior, where looping was disabled (and as a bug, looped
back to <b>a</b> on the end of the file).</p>

<p style="margin-left:22%; margin-top: 1em">If either
options are set to <b>no</b> (or unset), looping is
disabled. This is different from old behavior, where an
unset <b>a</b> implied the start of the file, and an unset
<b>b</b> the end of the file.</p>

<p style="margin-left:22%; margin-top: 1em">The loop-points
can be adjusted at runtime with the corresponding
properties. See also <b>ab-loop</b> command.</p>

<p style="margin-left:11%;"><b>--ordered-chapters,
--no-ordered-chapters</b></p>

<p style="margin-left:22%;">Enabled by default. Disable
support for Matroska ordered chapters. mpv will not load or
search for video segments from other files, and will also
ignore any chapter order specified for the main file.</p>


<p style="margin-left:11%;"><b>--ordered-chapters-files=&lt;playlist-file&gt;</b></p>

<p style="margin-left:22%;">Loads the given file as
playlist, and tries to use the files contained in it as
reference files when opening a Matroska file that uses
ordered chapters. This overrides the normal mechanism for
loading referenced files by scanning the same directory the
main file is located in.</p>

<p style="margin-left:22%; margin-top: 1em">Useful for
loading ordered chapter files that are not located on the
local filesystem, or if the referenced files are in
different directories.</p>

<p style="margin-left:22%; margin-top: 1em">Note: a
playlist can be as simple as a text file containing
filenames separated by newlines.</p>


<p style="margin-left:11%;"><b>--chapters-file=&lt;filename&gt;</b></p>

<p style="margin-left:22%;">Load chapters from this file,
instead of using the chapter metadata found in the main
file.</p>

<p style="margin-left:22%; margin-top: 1em">This accepts a
media file (like mkv) or even a pseudo-format like
ffmetadata and uses its chapters to replace the current
file's chapters. This doesn't work with OGM or XML chapters
directly.</p>

<p style="margin-left:11%;"><b>--sstep=&lt;sec&gt;</b></p>

<p style="margin-left:22%;">Skip &lt;sec&gt; seconds after
every frame.</p>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">Without <b>--hr-seek</b>,
skipping will snap to keyframes.</p>


<p style="margin-left:11%;"><b>--stop-playback-on-init-failure=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Stop playback if either audio
or video fails to initialize (default: no). With <b>no</b>,
playback will continue in video-only or audio-only mode if
one of them fails. This doesn't affect playback of
audio-only or video-only files.</p>


<p style="margin-left:11%;"><b>--play-dir=&lt;forward|+|backward|-&gt;</b></p>

<p style="margin-left:22%;">Control the playback direction
(default: forward). Setting <b>backward</b> will attempt to
play the file in reverse direction, with decreasing playback
time. If this is set on playback starts, playback will start
from the end of the file. If this is changed at during
playback, a hr-seek will be issued to change the
direction.</p>

<p style="margin-left:22%; margin-top: 1em"><b>+</b> and
<b>-</b> are aliases for <b>forward</b> and
<b>backward</b>.</p>

<p style="margin-left:22%; margin-top: 1em">The rest of
this option description pertains to the <b>backward</b>
mode.</p>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">Backward playback is extremely
fragile. It may not always work, is much slower than forward
playback, and breaks certain other features. How well it
works depends mainly on the file being played. Generally, it
will show good results (or results at all) only if the stars
align.</p>

<p style="margin-left:22%; margin-top: 1em">mpv, as well as
most media formats, were designed for forward playback only.
Backward playback is bolted on top of mpv, and tries to make
a medium effort to make backward playback work. Depending on
your use-case, another tool may work much better.</p>

<p style="margin-left:22%; margin-top: 1em">Backward
playback is not exactly a 1st class feature. Implementation
tradeoffs were made, that are bad for backward playback, but
in turn do not cause disadvantages for normal playback.
Various possible optimizations are not implemented in order
to keep the complexity down. Normally, a media player is
highly pipelined (future data is prepared in separate
threads, so it is available in realtime when the next stage
needs it), but backward playback will essentially stall the
pipeline at various random points.</p>

<p style="margin-left:22%; margin-top: 1em">For example,
for intra-only codecs are trivially backward playable, and
tools built around them may make efficient use of them
(consider video editors or camera viewers). mpv won't be
efficient in this case, because it uses its generic backward
playback algorithm, that on top of it is not very
optimized.</p>

<p style="margin-left:22%; margin-top: 1em">If you just
want to quickly go backward through the video and just show
&quot;keyframes&quot;, just use forward playback, and hold
down the left cursor key (which on CLI with default config
sends many small relative seek commands).</p>

<p style="margin-left:22%; margin-top: 1em">The
implementation consists of mostly 3 parts:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="75%">


<p>Backward demuxing. This relies on the demuxer cache, so
the demuxer cache should (or must, didn't test it) be
enabled, and its size will affect performance. If the cache
is too small or too large, quadratic runtime behavior may
result.</p> </td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="75%">


<p>Backward decoding. The decoder library used (libavcodec)
does not support this. It is emulated by feeding bits of
data in forward, putting the result in a queue, returning
the queue data to the VO in reverse, and then starting over
at an earlier position. This can require buffering an
extreme amount of decoded data, and also completely breaks
pipelining.</p> </td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="75%">


<p>Backward output. This is relatively simple, because the
decoder returns the frames in the needed order. However,
this may cause various problems because filters see audio
and video going backward.</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">Known
problems:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="2%"></td>
<td width="75%">


<p style="margin-top: 1em">It's fragile. If anything
doesn't work, random non-useful behavior may occur. In
simple cases, the player will just play nonsense and
artifacts. In other cases, it may get stuck or heat the CPU.
(Exceeding memory usage significantly beyond the user-set
limits would be a bug, though.)</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="75%">


<p>Performance and resource usage isn't good. In part this
is inherent to backward playback of normal media formats,
and in parts due to implementation choices and
tradeoffs.</p> </td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="75%">


<p>This is extremely reliant on good demuxer behavior.
Although backward demuxing requires no special demuxer
support, it is required that the demuxer performs seeks
reliably, fulfills some specific requirements about packet
metadata, and has deterministic behavior.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="75%">


<p>Starting playback exactly from the end may or may not
work, depending on seeking behavior and file duration
detection.</p> </td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="75%">


<p>Some container formats, audio, and video codecs are not
supported due to their behavior. There is no list, and the
player usually does not detect them. Certain live streams
(including TV captures) may exhibit problems in particular,
as well as some lossy audio codecs. h264 intra-refresh is
known not to work due to problems with libavcodec. WAV and
some other raw audio formats tend to have problems - there
are hacks for dealing with them, which may or may not
work.</p> </td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="75%">


<p>Backward demuxing of subtitles is not supported.
Subtitle display still works for some external text subtitle
formats. (These are fully read into memory, and only
backward display is needed.) Text subtitles that are cached
in the subtitle renderer also have a chance to be displayed
correctly.</p> </td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="75%">


<p>Some features dealing with playback of broken or hard to
deal with files will not work fully (such as timestamp
correction).</p> </td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="75%">


<p>If demuxer low level seeks (i.e. seeking the actual
demuxer instead of just within the demuxer cache) are
performed by backward playback, the created seek ranges may
not join, because not enough overlap is achieved.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="75%">


<p>Trying to use this with hardware video decoding will
probably exhaust all your GPU memory and then crash a thing
or two. Or it will fail because <b>--hwdec-extra-frames</b>
will certainly be set too low.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="75%">


<p>Stream recording is broken. <b>--stream-record</b> may
keep working if you backward play within a cached region
only.</p> </td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="75%">


<p>Relative seeks may behave weird. Small seeks backward
(towards smaller time, i.e. <b>seek -1</b>) may not really
seek properly, and audio will remain muted for a while.
Using hr-seek is recommended, which should have none of
these problems.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="75%">


<p>Some things are just weird. For example, while seek
commands manipulate playback time in the expected way
(provided they work correctly), the framestep commands are
transposed. Backstepping will perform very expensive work to
step forward by 1 frame.</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">Tuning:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="2%"></td>
<td width="75%">


<p style="margin-top: 1em">Remove all
<b>--vf</b>/<b>--af</b> filters you have set. Disable
hardware decoding. Disable idiotic nonsense like SPDIF
passthrough.</p> </td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="75%">


<p>Increasing <b>--video-reversal-buffer</b> might help if
reversal queue overflow is reported, which may happen in
high bitrate video, or video with large GOP. Hardware
decoding mostly ignores this, and you need to increase
<b>--hwdec-extra-frames</b> instead (until you get playback
without logged errors).</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="75%">


<p>The demuxer cache is essential for backward demuxing.
Make sure to set <b>--demuxer-seekable-cache</b> (or just
use <b>--cache</b>). The cache size might matter. If it's
too small, a queue overflow will be logged, and backward
playback cannot continue, or it performs too many low level
seeks. If it's too large, implementation tradeoffs may cause
general performance issues. Use <b>--demuxer-max-bytes</b>
to potentially increase the amount of packets the demuxer
layer can queue for reverse demuxing (basically it's the
<b>--video-reversal-buffer</b> equivalent for the demuxer
layer).</p> </td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="75%">


<p><b>--demuxer-backward-playback-step</b> also factors
into how many seeks may be performed, and whether backward
demuxing could break due to queue overflow. If it's set too
high, the backstep operation needs to search through more
packets all the time, even if the cache is large enough.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="75%">


<p>Setting <b>--demuxer-cache-wait</b> may be useful to
cache the entire file into the demuxer cache. Set
<b>--demuxer-max-bytes</b> to a large size to make sure it
can read the entire cache; <b>--demuxer-max-back-bytes</b>
should also be set to a large size to prevent that tries to
trim the cache.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="75%">


<p>If audio artifacts are audible, even though the AO does
not underrun, increasing <b>--audio-backward-overlap</b>
might help in some cases.</p></td></tr>
</table>


<p style="margin-left:11%;"><b>--video-reversal-buffer=&lt;bytesize&gt;,
--audio-reversal-buffer=&lt;bytesize&gt;</b></p>

<p style="margin-left:22%;">For backward decoding. Backward
decoding decodes forward in steps, and then reverses the
decoder output. These options control the approximate
maximum amount of bytes that can be buffered. The main use
of this is to avoid unbounded resource usage; during normal
backward playback, it's not supposed to hit the limit, and
if it does, it will drop frames and complain about it.</p>

<p style="margin-left:22%; margin-top: 1em">Use this option
if you get reversal queue overflow errors during backward
playback. Increase the size until the warning disappears.
Usually, the video buffer will overflow first, especially if
it's high resolution video.</p>

<p style="margin-left:22%; margin-top: 1em">This does not
work correctly if video hardware decoding is used. The video
frame size will not include the referenced GPU and driver
memory. Some hardware decoders may also be limited by
<b>--hwdec-extra-frames</b>.</p>

<p style="margin-left:22%; margin-top: 1em">How large the
queue size needs to be depends entirely on the way the media
was encoded. Audio typically requires a very small buffer,
while video can require excessively large buffers.</p>

<p style="margin-left:22%; margin-top: 1em">(Technically,
this allows the last frame to exceed the limit. Also, this
does not account for other buffered frames, such as inside
the decoder or the video output.)</p>

<p style="margin-left:22%; margin-top: 1em">This does not
affect demuxer cache behavior at all.</p>

<p style="margin-left:22%; margin-top: 1em">See
<b>--list-options</b> for defaults and value range.
<b>&lt;bytesize&gt;</b> options accept suffixes such as
<b>KiB</b> and <b>MiB</b>.</p>


<p style="margin-left:11%;"><b>--video-backward-overlap=&lt;auto|number&gt;,
<br>
--audio-backward-overlap=&lt;auto|number&gt;</b></p>

<p style="margin-left:22%;">Number of overlapping keyframe
ranges to use for backward decoding (default: auto)
(&quot;keyframe&quot; to be understood as in the mpv/ffmpeg
specific meaning). Backward decoding works by forward
decoding in small steps. Some codecs cannot restart decoding
from any packet (even if it's marked as seek point), which
becomes noticeable with backward decoding (in theory this is
a problem with seeking too, but
<b>--hr-seek-demuxer-offset</b> can fix it for seeking). In
particular, MDCT based audio codecs are affected.</p>

<p style="margin-left:22%; margin-top: 1em">The solution is
to feed a previous packet to the decoder each time, and then
discard the output. This option controls how many packets to
feed. The <b>auto</b> choice is currently hardcoded to 0 for
video, and uses 1 for lossy audio, 0 for lossless audio. For
some specific lossy audio codecs, this is set to 2.</p>


<p style="margin-left:22%; margin-top: 1em"><b>--video-backward-overlap</b>
can potentially handle intra-refresh video, depending on the
exact conditions. You may have to use the
<b>--vd-lavc-show-all</b> option as well.</p>


<p style="margin-left:11%;"><b>--video-backward-batch=&lt;number&gt;,
--audio-backward-batch=&lt;number&gt;</b></p>

<p style="margin-left:22%;">Number of keyframe ranges to
decode at once when backward decoding (default: 1 for video,
10 for audio). Another pointless tuning parameter nobody
should use. This should affect performance only. In theory,
setting a number higher than 1 for audio will reduce
overhead due to less frequent backstep operations and less
redundant decoding work due to fewer decoded overlap frames
(see <b>--audio-backward-overlap</b>). On the other hand, it
requires a larger reversal buffer, and could make playback
less smooth due to breaking pipelining (e.g. by decoding a
lot, and then doing nothing for a while).</p>

<p style="margin-left:22%; margin-top: 1em">It probably
never makes sense to set <b>--video-backward-batch</b>. But
in theory, it could help with intra-only video codecs by
reducing backstep operations.</p>


<p style="margin-left:11%;"><b>--demuxer-backward-playback-step=&lt;seconds&gt;</b></p>

<p style="margin-left:22%;">Number of seconds the demuxer
should seek back to get new packets during backward playback
(default: 60). This is useful for tuning backward playback,
see <b>--play-dir</b> for details.</p>

<p style="margin-left:22%; margin-top: 1em">Setting this to
a very low value or 0 may make the player think seeking is
broken, or may make it perform multiple seeks.</p>

<p style="margin-left:22%; margin-top: 1em">Setting this to
a high value may lead to quadratic runtime behavior.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Program
Behavior <br>
--help, --h</b></p>

<p style="margin-left:22%;">Show short summary of
options.</p>

<p style="margin-left:22%; margin-top: 1em">You can also
pass a string to this option, which will list all top-level
options which contain the string in the name, e.g.
<b>--h=scale</b> for all options that contain the word
<b>scale</b>. The special string <b>*</b> lists all
top-level options.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-v</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Increment verbosity level, one level for each <b>-v</b>
found on the command line.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>--version, -V</b></p>

<p style="margin-left:22%;">Print version string and
exit.</p>

<p style="margin-left:11%;"><b>--no-config</b></p>

<p style="margin-left:22%;">Do not load default
configuration files. This prevents loading of both the
user-level and system-wide <b>mpv.conf</b> and
<b>input.conf</b> files. Other configuration files are
blocked as well, such as resume playback files.</p>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">Files explicitly requested by
command line options, like <b>--include</b> or
<b>--use-filedir-conf</b>, will still be loaded.</p>

<p style="margin-left:22%; margin-top: 1em">See also:
<b>--config-dir</b>.</p>

<p style="margin-left:11%;"><b>--list-options</b></p>

<p style="margin-left:22%;">Prints all available
options.</p>

<p style="margin-left:11%;"><b>--list-properties</b></p>

<p style="margin-left:22%;">Print a list of the available
properties.</p>

<p style="margin-left:11%;"><b>--list-protocols</b></p>

<p style="margin-left:22%;">Print a list of the supported
protocols.</p>


<p style="margin-left:11%;"><b>--log-file=&lt;path&gt;</b></p>

<p style="margin-left:22%;">Opens the given path for
writing, and print log messages to it. Existing files will
be truncated. The log level is at least <b>-v -v</b>, but
can be raised via <b>--msg-level</b> (the option cannot
lower it below the forced minimum log level).</p>


<p style="margin-left:11%;"><b>--config-dir=&lt;path&gt;</b></p>

<p style="margin-left:22%;">Force a different configuration
directory. If this is set, the given directory is used to
load configuration files, and all other configuration
directories are ignored. This means the global mpv
configuration directory as well as per-user directories are
ignored, and overrides through environment variables
(<b>MPV_HOME</b>) are also ignored.</p>

<p style="margin-left:22%; margin-top: 1em">Note that the
<b>--no-config</b> option takes precedence over this
option.</p>


<p style="margin-left:11%;"><b>--save-position-on-quit</b></p>

<p style="margin-left:22%;">Always save the current
playback position on quit. When this file is played again
later, the player will seek to the old playback position on
start. This does not happen if playback of a file is stopped
in any other way than quitting. For example, going to the
next file in the playlist will not save the position, and
start playback at beginning the next time the file is
played.</p>

<p style="margin-left:22%; margin-top: 1em">This behavior
is disabled by default, but is always available when
quitting the player with Shift+Q.</p>


<p style="margin-left:11%;"><b>--watch-later-directory=&lt;path&gt;</b></p>

<p style="margin-left:22%;">The directory in which to store
the &quot;watch later&quot; temporary files.</p>

<p style="margin-left:22%; margin-top: 1em">The default is
a subdirectory named &quot;watch_later&quot; underneath the
config directory (usually <b>~/.config/mpv/</b>).</p>


<p style="margin-left:11%;"><b>--dump-stats=&lt;filename&gt;</b></p>

<p style="margin-left:22%;">Write certain statistics to the
given file. The file is truncated on opening. The file will
contain raw samples, each with a timestamp. To make this
file into a readable, the script <b>TOOLS/stats-conv.py</b>
can be used (which currently displays it as a graph).</p>

<p style="margin-left:22%; margin-top: 1em">This option is
useful for debugging only.</p>


<p style="margin-left:11%;"><b>--idle=&lt;no|yes|once&gt;</b></p>

<p style="margin-left:22%;">Makes mpv wait idly instead of
quitting when there is no file to play. Mostly useful in
input mode, where mpv can be controlled through input
commands. (Default: <b>no</b>)</p>

<p style="margin-left:22%; margin-top: 1em"><b>once</b>
will only idle at start and let the player close once the
first playlist has finished playing back.</p>


<p style="margin-left:11%;"><b>--include=&lt;configuration-file&gt;</b></p>

<p style="margin-left:22%;">Specify configuration file to
be parsed after the default ones.</p>


<p style="margin-left:11%;"><b>--load-scripts=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">If set to <b>no</b>, don't
auto-load scripts from the <b>scripts</b> configuration
subdirectory (usually <b>~/.config/mpv/scripts/</b>).
(Default: <b>yes</b>)</p>

<p style="margin-left:11%;"><b>--script=&lt;filename&gt;,
--scripts=file1.lua:file2.lua:...</b></p>

<p style="margin-left:22%;">Load a Lua script. The second
option allows you to load multiple scripts by separating
them with the path separator (<b>:</b> on Unix, <b>;</b> on
Windows).</p>


<p style="margin-left:22%; margin-top: 1em"><b>--scripts</b>
is a path list option. See <i>List Options</i> for
details.</p>


<p style="margin-left:11%;"><b>--script-opts=key1=value1,key2=value2,...</b></p>

<p style="margin-left:22%;">Set options for scripts. A
script can query an option by key. If an option is used and
what semantics the option value has depends entirely on the
loaded scripts. Values not claimed by any scripts are
ignored.</p>

<p style="margin-left:22%; margin-top: 1em">This is a
key/value list option. See <i>List Options</i> for
details.</p>

<p style="margin-left:11%;"><b>--merge-files</b></p>

<p style="margin-left:22%;">Pretend that all files passed
to mpv are concatenated into a single, big file. This uses
timeline/EDL support internally.</p>


<p style="margin-left:11%;"><b>--no-resume-playback</b></p>

<p style="margin-left:22%;">Do not restore playback
position from the <b>watch_later</b> configuration
subdirectory (usually <b>~/.config/mpv/watch_later/</b>).
See <b>quit-watch-later</b> input command.</p>


<p style="margin-left:11%;"><b>--resume-playback-check-mtime</b></p>

<p style="margin-left:22%;">Only restore the playback
position from the <b>watch_later</b> configuration
subdirectory (usually <b>~/.config/mpv/watch_later/</b>) if
the file's modification time is the same as at the time of
saving. This may prevent skipping forward in files with the
same name which have different content. (Default:
<b>no</b>)</p>


<p style="margin-left:11%;"><b>--profile=&lt;profile1,profile2,...&gt;</b></p>

<p style="margin-left:22%;">Use the given profile(s),
<b>--profile=help</b> displays a list of the defined
profiles.</p>


<p style="margin-left:11%;"><b>--reset-on-next-file=&lt;all|option1,option2,...&gt;</b></p>

<p style="margin-left:22%;">Normally, mpv will try to keep
all settings when playing the next file on the playlist,
even if they were changed by the user during playback. (This
behavior is the opposite of MPlayer's, which tries to reset
all settings when starting next file.)</p>

<p style="margin-left:22%; margin-top: 1em">Default: Do not
reset anything.</p>

<p style="margin-left:22%; margin-top: 1em">This can be
changed with this option. It accepts a list of options, and
mpv will reset the value of these options on playback start
to the initial value. The initial value is either the
default value, or as set by the config file or command
line.</p>

<p style="margin-left:22%; margin-top: 1em">In some cases,
this might not work as expected. For example,
<b>--volume</b> will only be reset if it is explicitly set
in the config file or the command line.</p>

<p style="margin-left:22%; margin-top: 1em">The special
name <b>all</b> resets as many options as possible.</p>

<p style="margin-left:22%; margin-top: 1em">This is a
string list option. See <i>List Options</i> for details.</p>

<p style="margin-left:26%;">Examples</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="71%">


<p><b>--reset-on-next-file=pause</b> Reset pause mode when
switching to the next file.</p></td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="71%">


<p><b>--reset-on-next-file=fullscreen,speed</b> Reset
fullscreen and playback speed settings if they were changed
during playback.</p></td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="71%">


<p><b>--reset-on-next-file=all</b> Try to reset all
settings that were changed during playback.</p></td></tr>
</table>


<p style="margin-left:11%;"><b>--write-filename-in-watch-later-config</b></p>

<p style="margin-left:22%;">Prepend the watch later config
files with the name of the file they refer to. This is
simply written as comment on the top of the file.</p>


<p style="margin-left:22%; margin-top: 1em"><b>WARNING:</b></p>

<p style="margin-left:26%;">This option may expose
privacy-sensitive information and is thus disabled by
default.</p>


<p style="margin-left:11%;"><b>--ignore-path-in-watch-later-config</b></p>

<p style="margin-left:22%;">Ignore path (i.e. use filename
only) when using watch later feature. (Default:
disabled)</p>


<p style="margin-left:11%;"><b>--show-profile=&lt;profile&gt;</b></p>

<p style="margin-left:22%;">Show the description and
content of a profile. Lists all profiles if no parameter is
provided.</p>

<p style="margin-left:11%;"><b>--use-filedir-conf</b></p>

<p style="margin-left:22%;">Look for a file-specific
configuration file in the same directory as the file that is
being played. See <i>File-specific Configuration
Files</i>.</p>


<p style="margin-left:22%; margin-top: 1em"><b>WARNING:</b></p>

<p style="margin-left:26%;">May be dangerous if playing
from untrusted media.</p>

<p style="margin-left:11%;"><b>--ytdl, --no-ytdl</b></p>

<p style="margin-left:22%;">Enable the youtube-dl
hook-script. It will look at the input URL, and will play
the video located on the website. This works with many
streaming sites, not just the one that the script is named
after. This requires a recent version of youtube-dl to be
installed on the system. (Enabled by default.)</p>

<p style="margin-left:22%; margin-top: 1em">If the script
can't do anything with an URL, it will do nothing.</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>try_ytdl_first</b> script option accepts a boolean 'yes'
or 'no', and if 'yes' will try parsing the URL with
youtube-dl first, instead of the default where it's only
after mpv failed to open it. This mostly depends on whether
most of your URLs need youtube-dl parsing.</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>exclude</b> script option accepts a <b>|</b>-separated
list of URL patterns which mpv should not use with
youtube-dl. The patterns are matched after the
<b>http(s)://</b> part of the URL.</p>

<p style="margin-left:22%; margin-top: 1em"><b>^</b>
matches the beginning of the URL, <b>$</b> matches its end,
and you should use <b>%</b> before any of the characters
<b>^$()%|,.[]*+-?</b> to match that character.</p>

<p style="margin-left:26%;">Examples</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="71%">


<p><b>--script-opts=ytdl_hook-exclude='^youtube%.com'</b>
will exclude any URL that starts with
<b>http://youtube.com</b> or <b>https://youtube.com</b>.</p></td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="71%">


<p><b>--script-opts=ytdl_hook-exclude='%.mkv$|%.mp4$'</b>
will exclude any URL that ends with <b>.mkv</b> or
<b>.mp4</b>.</p> </td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">See more lua
patterns here:
<i>https://www.lua.org/manual/5.1/manual.html#5.4.1</i></p>

<p style="margin-left:22%; margin-top: 1em">The
<b>use_manifests</b> script option makes mpv use the master
manifest URL for formats like HLS and DASH, if available,
allowing for video/audio selection in runtime. It's disabled
(&quot;no&quot;) by default for performance reasons.</p>


<p style="margin-left:11%;"><b>--ytdl-format=&lt;best|worst|mp4|webm|...&gt;</b></p>

<p style="margin-left:22%;">Video format/quality that is
directly passed to youtube-dl. The possible values are
specific to the website and the video, for a given url the
available formats can be found with the command
<b>youtube-dl --list-formats URL</b>. See youtube-dl's
documentation for available aliases. (Default: youtube-dl's
default, currently <b>bestvideo+bestaudio/best</b>)</p>


<p style="margin-left:11%;"><b>--ytdl-raw-options=&lt;key&gt;=&lt;value&gt;[,&lt;key&gt;=&lt;value&gt;[,...]]</b></p>

<p style="margin-left:22%;">Pass arbitrary options to
youtube-dl. Parameter and argument should be passed as a
key-value pair. Options without argument must include
<b>=</b>.</p>

<p style="margin-left:22%; margin-top: 1em">There is no
sanity checking so it's possible to break things (i.e.
passing invalid parameters to youtube-dl).</p>

<p style="margin-left:22%; margin-top: 1em">A proxy URL can
be passed for youtube-dl to use it in parsing the website.
This is useful for geo-restricted URLs. After youtube-dl
parsing, some URLs also require a proxy for playback, so
this can pass that proxy information to mpv. Take note that
SOCKS proxies aren't supported and https URLs also bypass
the proxy. This is a limitation in FFmpeg.</p>

<p style="margin-left:22%; margin-top: 1em">This is a
key/value list option. See <i>List Options</i> for
details.</p>

<p style="margin-left:26%;">Example</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="71%">



<p><b>--ytdl-raw-options=username=user,password=pass</b></p> </td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="71%">


<p><b>--ytdl-raw-options=force-ipv6=</b></p></td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="71%">



<p><b>--ytdl-raw-options=proxy=[http://127.0.0.1:3128]</b></p> </td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="71%">



<p><b>--ytdl-raw-options-append=proxy=http://127.0.0.1:3128</b></p> </td></tr>
</table>


<p style="margin-left:11%;"><b>--load-stats-overlay=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Enable the builtin script that
shows useful playback information on a key binding (default:
yes). By default, the <b>i</b> key is used (<b>I</b> to make
the overlay permanent).</p>


<p style="margin-left:11%;"><b>--load-osd-console=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Enable the builtin script that
shows a console on a key binding and lets you enter commands
(default: yes). By default,. The <b>&acute;</b> key is used
to show the console, and <b>ESC</b> to hide it again. (This
is based on a user script called <b>repl.lua</b>.)</p>


<p style="margin-left:11%;"><b>--player-operation-mode=&lt;cplayer|pseudo-gui&gt;</b></p>

<p style="margin-left:22%;">For enabling &quot;pseudo GUI
mode&quot;, which means that the defaults for some options
are changed. This option should not normally be used
directly, but only by mpv internally, or mpv-provided
scripts, config files, or .desktop files.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Video <br>
--vo=&lt;driver&gt;</b></p>

<p style="margin-left:22%;">Specify the video output
backend to be used. See <i>VIDEO OUTPUT DRIVERS</i> for
details and descriptions of available drivers.</p>

<p style="margin-left:11%;"><b>--vd=&lt;...&gt;</b></p>

<p style="margin-left:22%;">Specify a priority list of
video decoders to be used, according to their family and
name. See <b>--ad</b> for further details. Both of these
options use the same syntax and semantics; the only
difference is that they operate on different codec
lists.</p>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">See <b>--vd=help</b> for a full
list of available decoders.</p>


<p style="margin-left:11%;"><b>--vf=&lt;filter1[=parameter1:parameter2:...],filter2,...&gt;</b></p>

<p style="margin-left:22%;">Specify a list of video filters
to apply to the video stream. See <i>VIDEO FILTERS</i> for
details and descriptions of the available filters. The
option variants <b>--vf-add</b>, <b>--vf-pre</b>,
<b>--vf-del</b> and <b>--vf-clr</b> exist to modify a
previously specified list, but you should not need these for
typical use.</p>

<p style="margin-left:11%;"><b>--untimed</b></p>

<p style="margin-left:22%;">Do not sleep when outputting
video frames. Useful for benchmarks when used with
<b>--no-audio.</b></p>


<p style="margin-left:11%;"><b>--framedrop=&lt;mode&gt;</b></p>

<p style="margin-left:22%;">Skip displaying some frames to
maintain A/V sync on slow systems, or playing high framerate
video on video outputs that have an upper framerate
limit.</p>

<p style="margin-left:22%; margin-top: 1em">The argument
selects the drop methods, and can be one of the
following:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p><b>&lt;no&gt;</b></p></td>
<td width="4%"></td>
<td width="68%">


<p>Disable any frame dropping. Not recommended, for testing
only.</p> </td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p><b>&lt;vo&gt;</b></p></td>
<td width="4%"></td>
<td width="68%">


<p>Drop late frames on video output (default). This still
decodes and filters all frames, but doesn't render them on
the VO. Drops are indicated in the terminal status line as
<b>Dropped:</b> field.</p></td></tr>
</table>

<p style="margin-left:32%; margin-top: 1em">In audio sync.
mode, this drops frames that are outdated at the time of
display. If the decoder is too slow, in theory all frames
would have to be dropped (because all frames are too late) -
to avoid this, frame dropping stops if the effective
framerate is below 10 FPS.</p>

<p style="margin-left:32%; margin-top: 1em">In
display-sync. modes (see <b>--video-sync</b>), this affects
only how A/V drops or repeats frames. If this mode is
disabled, A/V desync will in theory not affect video
scheduling anymore (much like the
<b>display-resample-desync</b> mode). However, even if
disabled, frames will still be skipped (i.e. dropped)
according to the ratio between video and display
frequencies.</p>

<p style="margin-left:32%; margin-top: 1em">This is the
recommended mode, and the default.</p>

<p style="margin-left:22%;"><b>&lt;decoder&gt;</b></p>

<p style="margin-left:32%;">Old, decoder-based framedrop
mode. (This is the same as <b>--framedrop=yes</b> in mpv
0.5.x and before.) This tells the decoder to skip frames
(unless they are needed to decode future frames). May help
with slow systems, but can produce unwatchable choppy
output, or even freeze the display completely.</p>

<p style="margin-left:32%; margin-top: 1em">This uses a
heuristic which may not make sense, and in general cannot
achieve good results, because the decoder's frame dropping
cannot be controlled in a predictable manner. Not
recommended.</p>

<p style="margin-left:32%; margin-top: 1em">Even if you
want to use this, prefer <b>decoder+vo</b> for better
results.</p>

<p style="margin-left:32%; margin-top: 1em">The
<b>--vd-lavc-framedrop</b> option controls what frames to
drop.</p>

<p style="margin-left:22%;"><b>&lt;decoder+vo&gt;</b></p>

<p style="margin-left:32%;">Enable both modes. Not
recommended. Better than just <b>decoder</b> mode.</p>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;"><b>--vo=vdpau</b> has its own
code for the <b>vo</b> framedrop mode. Slight differences to
other VOs are possible.</p>


<p style="margin-left:11%;"><b>--video-latency-hacks=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Enable some things which tend
to reduce video latency by 1 or 2 frames (default: no). Note
that this option might be removed without notice once the
player's timing code does not inherently need to do these
things anymore.</p>

<p style="margin-left:22%; margin-top: 1em">This does:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="75%">


<p>Use the demuxer reported FPS for frame dropping. This
avoids that the player needs to decode 1 frame in advance,
lowering total latency in effect. This also means that if
the demuxer reported FPS is wrong, or the video filter chain
changes FPS (e.g. deinterlacing), then it could drop too
many or not enough frames.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="75%">


<p>Disable waiting for the first video frame. Normally the
player waits for the first video frame to be fully rendered
before starting playback properly. Some VOs will lazily
initialize stuff when rendering the first frame, so if this
is not done, there is some likeliness that the VO has to
drop some frames if rendering the first frame takes longer
than needed.</p></td></tr>
</table>


<p style="margin-left:11%;"><b>--override-display-fps=&lt;fps&gt;</b></p>

<p style="margin-left:22%;">Set the display FPS used with
the <b>--video-sync=display-*</b> modes. By default, a
detected value is used. Keep in mind that setting an
incorrect value (even if slightly incorrect) can ruin video
playback. On multi-monitor systems, there is a chance that
the detected value is from the wrong monitor.</p>

<p style="margin-left:22%; margin-top: 1em">Set this option
only if you have reason to believe the automatically
determined value is wrong.</p>


<p style="margin-left:11%;"><b>--display-fps=&lt;fps&gt;</b></p>

<p style="margin-left:22%;">Deprecated alias for
<b>--override-display-fps</b>.</p>

<p style="margin-left:11%;"><b>--hwdec=&lt;api&gt;</b></p>

<p style="margin-left:22%;">Specify the hardware video
decoding API that should be used if possible. Whether
hardware decoding is actually done depends on the video
codec. If hardware decoding is not possible, mpv will fall
back on software decoding.</p>

<p style="margin-left:22%; margin-top: 1em">Hardware
decoding is not enabled by default, because it is typically
an additional source of errors. It is worth using only if
your CPU is too slow to decode a specific video.</p>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">Use the <b>Ctrl+h</b> shortcut
to toggle hardware decoding at runtime. It toggles this
option between <b>auto</b> and <b>no</b>.</p>

<p style="margin-left:26%; margin-top: 1em">Always enabling
HW decoding by putting it into the config file is
discouraged. If you use the Ubuntu package, delete
<b>/etc/mpv/mpv.conf</b>, as the package tries to enable HW
decoding by default by setting <b>hwdec=vaapi</b> (which is
less than ideal, and may even cause sub-optimal wrappers to
be used). Or at least change it to
<b>hwdec=auto-safe</b>.</p>

<p style="margin-left:22%; margin-top: 1em">Use one of the
auto modes if you want to enable hardware decoding.
Explicitly selecting the mode is mostly meant for testing
and debugging. It's a bad idea to put explicit selection
into the config file if you want thing to just keep working
after updates and so on.</p>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">Even if enabled, hardware
decoding is still only white-listed for some codecs. See
<b>--hwdec-codecs</b> to enable hardware decoding in more
cases. <br>
Which method to choose?</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="71%">


<p>If you only want to enable hardware decoding at runtime,
don't set the parameter, or put <b>hwdec=no</b> into your
<b>mpv.conf</b> (relevant on distros which force-enable it
by default, such as on Ubuntu). Use the <b>Ctrl+h</b>
default binding to enable it at runtime.</p></td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="71%">


<p>If you're not sure, but want hardware decoding always
enabled by default, put <b>hwdec=auto-safe</b> into your
<b>mpv.conf</b>, and acknowledge that this use case is not
&quot;really&quot; supported and may cause problems.</p></td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="71%">


<p>If you want to test available hardware decoding methods,
pass <b>--hwdec=auto --hwdec-codecs=all</b> and look at the
terminal output.</p></td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="71%">


<p>If you're a developer, or want to perform elaborate
tests, you may need any of the other possible option
values.</p> </td></tr>
</table>


<p style="margin-left:22%; margin-top: 1em"><b>&lt;api&gt;</b>
can be one of the following:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p style="margin-top: 1em"><b>no</b></p></td>
<td width="4%"></td>
<td width="68%">


<p style="margin-top: 1em">always use software decoding
(default)</p> </td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p><b>auto</b></p></td>
<td width="4%"></td>
<td width="68%">


<p>forcibly enable any hw decoder found (see below)</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p><b>yes</b></p></td>
<td width="4%"></td>
<td width="68%">


<p>exactly the same as <b>auto</b></p></td></tr>
</table>

<p style="margin-left:22%;"><b>auto-safe</b></p>

<p style="margin-left:32%;">enable any whitelisted hw
decoder (see below)</p>

<p style="margin-left:22%;"><b>auto-copy</b></p>

<p style="margin-left:32%;">enable best hw decoder with
copy-back (see below)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>vdpau</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>requires <b>--vo=gpu</b> with X11, or <b>--vo=vdpau</b>
(Linux only)</p></td></tr>
</table>

<p style="margin-left:22%;"><b>vdpau-copy</b></p>

<p style="margin-left:32%;">copies video back into system
RAM (Linux with some GPUs only)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>vaapi</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>requires <b>--vo=gpu</b> or <b>--vo=vaapi</b> (Linux
only)</p> </td></tr>
</table>

<p style="margin-left:22%;"><b>vaapi-copy</b></p>

<p style="margin-left:32%;">copies video back into system
RAM (Linux with some GPUs only)</p>

<p style="margin-left:22%;"><b>videotoolbox</b></p>

<p style="margin-left:32%;">requires <b>--vo=gpu</b> (OS X
10.8 and up), or <b>--vo=libmpv</b> (iOS 9.0 and up)</p>

<p style="margin-left:22%;"><b>videotoolbox-copy</b></p>

<p style="margin-left:32%;">copies video back into system
RAM (OS X 10.8 or iOS 9.0 and up)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>dxva2</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>requires <b>--vo=gpu</b> with
<b>--gpu-context=d3d11</b>, <b>--gpu-context=angle</b> or
<b>--gpu-context=dxinterop</b> (Windows only)</p></td></tr>
</table>

<p style="margin-left:22%;"><b>dxva2-copy</b></p>

<p style="margin-left:32%;">copies video back to system RAM
(Windows only)</p>

<p style="margin-left:22%;"><b>d3d11va</b></p>

<p style="margin-left:32%;">requires <b>--vo=gpu</b> with
<b>--gpu-context=d3d11</b> or <b>--gpu-context=angle</b>
(Windows 8+ only)</p>

<p style="margin-left:22%;"><b>d3d11va-copy</b></p>

<p style="margin-left:32%;">copies video back to system RAM
(Windows 8+ only)</p>

<p style="margin-left:22%;"><b>mediacodec</b></p>

<p style="margin-left:32%;">requires
<b>--vo=mediacodec_embed</b> (Android only)</p>

<p style="margin-left:22%;"><b>mediacodec-copy</b></p>

<p style="margin-left:32%;">copies video back to system RAM
(Android only)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p><b>mmal</b></p></td>
<td width="4%"></td>
<td width="68%">


<p>requires <b>--vo=gpu</b> (Raspberry Pi only - default if
available)</p> </td></tr>
</table>

<p style="margin-left:22%;"><b>mmal-copy</b></p>

<p style="margin-left:32%;">copies video back to system RAM
(Raspberry Pi only)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>nvdec</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>requires <b>--vo=gpu</b> (Any platform CUDA is
available)</p> </td></tr>
</table>

<p style="margin-left:22%;"><b>nvdec-copy</b></p>

<p style="margin-left:32%;">copies video back to system RAM
(Any platform CUDA is available)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p><b>cuda</b></p></td>
<td width="4%"></td>
<td width="68%">


<p>requires <b>--vo=gpu</b> (Any platform CUDA is
available)</p> </td></tr>
</table>

<p style="margin-left:22%;"><b>cuda-copy</b></p>

<p style="margin-left:32%;">copies video back to system RAM
(Any platform CUDA is available)</p>

<p style="margin-left:22%;"><b>crystalhd</b></p>

<p style="margin-left:32%;">copies video back to system RAM
(Any platform supported by hardware)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>rkmpp</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>requires <b>--vo=gpu</b> (some RockChip devices
only)</p> </td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em"><b>auto</b>
tries to automatically enable hardware decoding using the
first available method. This still depends what VO you are
using. For example, if you are not using <b>--vo=gpu</b> or
<b>--vo=vdpau</b>, vdpau decoding will never be enabled.
Also note that if the first found method doesn't actually
work, it will always fall back to software decoding, instead
of trying the next method (might matter on some Linux
systems).</p>


<p style="margin-left:22%; margin-top: 1em"><b>auto-safe</b>
is similar to <b>auto</b>, but allows only whitelisted
methods that are considered &quot;safe&quot;. This is
supposed to be a reasonable way to enable hardware decdoding
by default in a config file (even though you shouldn't do
that anyway; prefer runtime enabling with <b>Ctrl+h</b>).
Unlike <b>auto</b>, this will not try to enable unknown or
known-to-be-bad methods. In addition, this may disable
hardware decoding in other situations when it's known to
cause problems, but currently this mechanism is quite
primitive. (As an example for something that still causes
problems: certain combinations of HEVC and Intel chips on
Windows tend to cause mpv to crash, most likely due to
driver bugs.)</p>


<p style="margin-left:22%; margin-top: 1em"><b>auto-copy-safe</b>
selects the union of methods selected with <b>auto-safe</b>
and <b>auto-copy</b>.</p>


<p style="margin-left:22%; margin-top: 1em"><b>auto-copy</b>
selects only modes that copy the video data back to system
memory after decoding. This selects modes like
<b>vaapi-copy</b> (and so on). If none of these work,
hardware decoding is disabled. This mode is usually
guaranteed to incur no additional quality loss compared to
software decoding (assuming modern codecs and an error free
video stream), and will allow CPU processing with video
filters. This mode works with all video filters and VOs.</p>

<p style="margin-left:22%; margin-top: 1em">Because these
copy the decoded video back to system RAM, they're often
less efficient than the direct modes, and may not help too
much over software decoding.</p>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">Most non-copy methods only work
with the OpenGL GPU backend. Currently, only the
<b>vaapi</b>, <b>nvdec</b> and <b>cuda</b> methods work with
Vulkan.</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>vaapi</b> mode, if used with <b>--vo=gpu</b>, requires
Mesa 11, and most likely works with Intel and AMD GPUs only.
It also requires the opengl EGL backend.</p>

<p style="margin-left:22%; margin-top: 1em"><b>nvdec</b>
and <b>nvdec-copy</b> are the newest, and recommended method
to do hardware decoding on Nvidia GPUs.</p>

<p style="margin-left:22%; margin-top: 1em"><b>cuda</b> and
<b>cuda-copy</b> are an older implementation of hardware
decoding on Nvidia GPUs that uses Nvidia's bitstream parsers
rather than FFmpeg's. This can lead to feature deficiencies,
such as incorrect playback of HDR content, and
<b>nvdec</b>/<b>nvdec-copy</b> should always be preferred
unless you specifically need Nvidia's deinterlacing
algorithms. To use this deinterlacing you must pass the
option: <b>vd-lavc-o=deint=[weave|bob|adaptive]</b>. Pass
<b>weave</b> (or leave the option unset) to not attempt any
deinterlacing.</p>

<p style="margin-left:26%;">Quality reduction with hardware
decoding</p>

<p style="margin-left:37%; margin-top: 1em">In theory,
hardware decoding does not reduce video quality (at least
for the codecs h264 and HEVC). However, due to restrictions
in video output APIs, as well as bugs in the actual hardware
decoders, there can be some loss, or even blatantly
incorrect results.</p>

<p style="margin-left:37%; margin-top: 1em">In some cases,
RGB conversion is forced, which means the RGB conversion is
performed by the hardware decoding API, instead of the
shaders used by <b>--vo=gpu</b>. This means certain
colorspaces may not display correctly, and certain filtering
(such as debanding) cannot be applied in an ideal way. This
will also usually force the use of low quality chroma
scalers instead of the one specified by <b>--cscale</b>. In
other cases, hardware decoding can also reduce the bit depth
of the decoded image, which can introduce banding or
precision loss for 10-bit files.</p>

<p style="margin-left:37%; margin-top: 1em"><b>vdpau</b>
always does RGB conversion in hardware, which does not
support newer colorspaces like BT.2020 correctly. However,
<b>vdpau</b> doesn't support 10 bit or HDR encodings, so
these limitations are unlikely to be relevant.</p>

<p style="margin-left:37%; margin-top: 1em"><b>vaapi</b>
and <b>d3d11va</b> are safe. Enabling deinterlacing (or
simply their respective post-processing filters) will
possibly at least reduce color quality by converting the
output to a 8 bit format.</p>

<p style="margin-left:37%; margin-top: 1em"><b>dxva2</b> is
not safe. It appears to always use BT.601 for forced RGB
conversion, but actual behavior depends on the GPU drivers.
Some drivers appear to convert to limited range RGB, which
gives a faded appearance. In addition to driver-specific
behavior, global system settings might affect this
additionally. This can give incorrect results even with
completely ordinary video sources.</p>

<p style="margin-left:37%; margin-top: 1em"><b>rpi</b>
always uses the hardware overlay renderer, even with
<b>--vo=gpu</b>.</p>

<p style="margin-left:37%; margin-top: 1em"><b>cuda</b>
should usually be safe, but depending on how a file/stream
has been mixed, it has been reported to corrupt the
timestamps causing glitched, flashing frames. It can also
sometimes cause massive framedrops for unknown reasons.
Caution is advised, and <b>nvdec</b> should always be
preferred.</p>


<p style="margin-left:37%; margin-top: 1em"><b>crystalhd</b>
is not safe. It always converts to 4:2:2 YUV, which may be
lossy, depending on how chroma sub-sampling is done during
conversion. It also discards the top left pixel of each
frame for some reason.</p>

<p style="margin-left:37%; margin-top: 1em">All other
methods, in particular the copy-back methods (like
<b>dxva2-copy</b> etc.) should hopefully be safe, although
they can still cause random decoding issues. At the very
least, they shouldn't affect the colors of the image.</p>

<p style="margin-left:37%; margin-top: 1em">In particular,
<b>auto-copy</b> will only select &quot;safe&quot; modes
(although potentially slower than other methods), but
there's still no guarantee the chosen hardware decoder will
actually work correctly.</p>

<p style="margin-left:37%; margin-top: 1em">In general,
it's very strongly advised to avoid hardware decoding unless
<b>absolutely</b> necessary, i.e. if your CPU is
insufficient to decode the file in questions. If you run
into any weird decoding issues, frame glitches or
discoloration, and you have <b>--hwdec</b> turned on, the
first thing you should try is disabling it.</p>


<p style="margin-left:11%;"><b>--gpu-hwdec-interop=&lt;auto|all|no|name&gt;</b></p>

<p style="margin-left:22%;">This option is for
troubleshooting hwdec interop issues. Since it's a debugging
option, its semantics may change at any time.</p>

<p style="margin-left:22%; margin-top: 1em">This is useful
for the <b>gpu</b> and <b>libmpv</b> VOs for selecting which
hwdec interop context to use exactly. Effectively it also
can be used to block loading of certain backends.</p>

<p style="margin-left:22%; margin-top: 1em">If set to
<b>auto</b> (default), the behavior depends on the VO: for
<b>gpu</b>, it does nothing, and the interop context is
loaded on demand (when the decoder probes for <b>--hwdec</b>
support). For <b>libmpv</b>, which has has no on-demand
loading, this is equivalent to <b>all</b>.</p>

<p style="margin-left:22%; margin-top: 1em">The empty
string is equivalent to <b>auto</b>.</p>

<p style="margin-left:22%; margin-top: 1em">If set to
<b>all</b>, it attempts to load all interop contexts at GL
context creation time.</p>

<p style="margin-left:22%; margin-top: 1em">Other than
that, a specific backend can be set, and the list of them
can be queried with <b>help</b> (mpv CLI only).</p>

<p style="margin-left:22%; margin-top: 1em">Runtime changes
to this are ignored (the current option value is used
whenever the renderer is created).</p>

<p style="margin-left:22%; margin-top: 1em">The old aliases
<b>--opengl-hwdec-interop</b> and <b>--hwdec-preload</b> are
barely related to this anymore, but will be somewhat
compatible in some cases.</p>


<p style="margin-left:11%;"><b>--hwdec-extra-frames=&lt;N&gt;</b></p>

<p style="margin-left:22%;">Number of GPU frames hardware
decoding should preallocate (default: see
<b>--list-options</b> output). If this is too low, frame
allocation may fail during decoding, and video frames might
get dropped and/or corrupted. Setting it too high simply
wastes GPU memory and has no advantages.</p>

<p style="margin-left:22%; margin-top: 1em">This value is
used only for hardware decoding APIs which require
preallocating surfaces (known examples include
<b>d3d11va</b> and <b>vaapi</b>). For other APIs, frames are
allocated as needed. The details depend on the libavcodec
implementations of the hardware decoders.</p>

<p style="margin-left:22%; margin-top: 1em">The required
number of surfaces depends on dynamic runtime situations.
The default is a fixed value that is thought to be
sufficient for most uses. But in certain situations, it may
not be enough.</p>


<p style="margin-left:11%;"><b>--hwdec-image-format=&lt;name&gt;</b></p>

<p style="margin-left:22%;">Set the internal pixel format
used by hardware decoding via <b>--hwdec</b> (default
<b>no</b>). The special value <b>no</b> selects an
implementation specific standard format. Most decoder
implementations support only one format, and will fail to
initialize if the format is not supported.</p>

<p style="margin-left:22%; margin-top: 1em">Some
implementations might support multiple formats. In
particular, videotoolbox is known to require <b>uyvy422</b>
for good performance on some older hardware. d3d11va can
always use <b>yuv420p</b>, which uses an opaque format, with
likely no advantages.</p>


<p style="margin-left:11%;"><b>--cuda-decode-device=&lt;auto|0..&gt;</b></p>

<p style="margin-left:22%;">Choose the GPU device used for
decoding when using the <b>cuda</b> or <b>nvdec</b> hwdecs
with the OpenGL GPU backend, and with the <b>cuda-copy</b>
or <b>nvdec-copy</b> hwdecs in all cases.</p>

<p style="margin-left:22%; margin-top: 1em">For the OpenGL
GPU backend, the default device used for decoding is the one
being used to provide <b>gpu</b> output (and in the vast
majority of cases, only one GPU will be present).</p>

<p style="margin-left:22%; margin-top: 1em">For the
<b>copy</b> hwdecs, the default device will be the first
device enumerated by the CUDA libraries - however that is
done.</p>

<p style="margin-left:22%; margin-top: 1em">For the Vulkan
GPU backend, decoding must always happen on the display
device, and this option has no effect.</p>

<p style="margin-left:11%;"><b>--vaapi-device=&lt;device
file&gt;</b></p>

<p style="margin-left:22%;">Choose the DRM device for
<b>vaapi-copy</b>. This should be the path to a DRM device
file. (Default: <b>/dev/dri/renderD128</b>)</p>


<p style="margin-left:11%;"><b>--panscan=&lt;0.0-1.0&gt;</b></p>

<p style="margin-left:22%;">Enables pan-and-scan
functionality (cropping the sides of e.g. a 16:9 video to
make it fit a 4:3 display without black bands). The range
controls how much of the image is cropped. May not work with
all video output drivers.</p>

<p style="margin-left:22%; margin-top: 1em">This option has
no effect if <b>--video-unscaled</b> option is used.</p>


<p style="margin-left:11%;"><b>--video-aspect-override=&lt;ratio|no&gt;</b></p>

<p style="margin-left:22%;">Override video aspect ratio, in
case aspect information is incorrect or missing in the file
being played.</p>

<p style="margin-left:22%; margin-top: 1em">These values
have special meaning:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>0</b></p></td>
<td width="7%"></td>
<td width="68%">


<p>disable aspect ratio handling, pretend the video has
square pixels</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>no</b></p></td>
<td width="7%"></td>
<td width="68%">


<p>same as <b>0</b></p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>-1</b></p></td>
<td width="7%"></td>
<td width="68%">


<p>use the video stream or container aspect (default)</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">But note that
handling of these special values might change in the
future.</p>

<p style="margin-left:26%;">Examples</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="71%">


<p><b>--video-aspect-override=4:3</b> or
<b>--video-aspect-override=1.3333</b></p> </td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="71%">


<p><b>--video-aspect-override=16:9</b> or
<b>--video-aspect-override=1.7777</b></p> </td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="71%">


<p><b>--no-video-aspect-override</b> or
<b>--video-aspect-override=no</b></p> </td></tr>
</table>


<p style="margin-left:11%;"><b>--video-aspect-method=&lt;bitstream|container&gt;</b></p>

<p style="margin-left:22%;">This sets the default video
aspect determination method (if the aspect is _not_
overridden by the user with <b>--video-aspect-override</b>
or others). <b><br>
container</b></p>

<p style="margin-left:32%;">Strictly prefer the container
aspect ratio. This is apparently the default behavior with
VLC, at least with Matroska. Note that if the container has
no aspect ratio set, the behavior is the same as with
bitstream.</p>

<p style="margin-left:22%;"><b>bitstream</b></p>

<p style="margin-left:32%;">Strictly prefer the bitstream
aspect ratio, unless the bitstream aspect ratio is not set.
This is apparently the default behavior with XBMC/kodi, at
least with Matroska.</p>

<p style="margin-left:22%; margin-top: 1em">The current
default for mpv is <b>container</b>.</p>

<p style="margin-left:22%; margin-top: 1em">Normally you
should not set this. Try the various choices if you
encounter video that has the wrong aspect ratio in mpv, but
seems to be correct in other players.</p>


<p style="margin-left:11%;"><b>--video-unscaled=&lt;no|yes|downscale-big&gt;</b></p>

<p style="margin-left:22%;">Disable scaling of the video.
If the window is larger than the video, black bars are
added. Otherwise, the video is cropped, unless the option is
set to <b>downscale-big</b>, in which case the video is fit
to window. The video still can be influenced by the other
<b>--video-...</b> options. This option disables the effect
of <b>--panscan</b>.</p>

<p style="margin-left:22%; margin-top: 1em">Note that the
scaler algorithm may still be used, even if the video isn't
scaled. For example, this can influence chroma conversion.
The video will also still be scaled in one dimension if the
source uses non-square pixels (e.g. anamorphic widescreen
DVDs).</p>

<p style="margin-left:22%; margin-top: 1em">This option is
disabled if the <b>--no-keepaspect</b> option is used.</p>


<p style="margin-left:11%;"><b>--video-pan-x=&lt;value&gt;,
--video-pan-y=&lt;value&gt;</b></p>

<p style="margin-left:22%;">Moves the displayed video
rectangle by the given value in the X or Y direction. The
unit is in fractions of the size of the scaled video (the
full size, even if parts of the video are not visible due to
panscan or other options).</p>

<p style="margin-left:22%; margin-top: 1em">For example,
displaying a 1280x720 video fullscreen on a 1680x1050 screen
with <b>--video-pan-x=-0.1</b> would move the video 168
pixels to the left (making 128 pixels of the source video
invisible).</p>

<p style="margin-left:22%; margin-top: 1em">This option is
disabled if the <b>--no-keepaspect</b> option is used.</p>


<p style="margin-left:11%;"><b>--video-rotate=&lt;0-359|no&gt;</b></p>

<p style="margin-left:22%;">Rotate the video clockwise, in
degrees. Currently supports 90&deg; steps only. If <b>no</b>
is given, the video is never rotated, even if the file has
rotation metadata. (The rotation value is added to the
rotation metadata, which means the value <b>0</b> would
rotate the video according to the rotation metadata.)</p>


<p style="margin-left:11%;"><b>--video-zoom=&lt;value&gt;</b></p>

<p style="margin-left:22%;">Adjust the video display scale
factor by the given value. The parameter is given log 2. For
example, <b>--video-zoom=0</b> is unscaled,
<b>--video-zoom=1</b> is twice the size,
<b>--video-zoom=-2</b> is one fourth of the size, and so
on.</p>

<p style="margin-left:22%; margin-top: 1em">This option is
disabled if the <b>--no-keepaspect</b> option is used.</p>


<p style="margin-left:11%;"><b>--video-align-x=&lt;-1-1&gt;,
--video-align-y=&lt;-1-1&gt;</b></p>

<p style="margin-left:22%;">Moves the video rectangle
within the black borders, which are usually added to pad the
video to screen if video and screen aspect ratios are
different. <b>--video-align-y=-1</b> would move the video to
the top of the screen (leaving a border only on the bottom),
a value of <b>0</b> centers it (default), and a value of
<b>1</b> would put the video at the bottom of the
screen.</p>

<p style="margin-left:22%; margin-top: 1em">If video and
screen aspect match perfectly, these options do nothing.</p>

<p style="margin-left:22%; margin-top: 1em">This option is
disabled if the <b>--no-keepaspect</b> option is used.</p>


<p style="margin-left:11%;"><b>--video-margin-ratio-left=&lt;val&gt;,
--video-margin-ratio-right=&lt;val&gt;, <br>
--video-margin-ratio-top=&lt;val&gt;,
--video-margin-ratio-bottom=&lt;val&gt;</b></p>

<p style="margin-left:22%;">Set extra video margins on each
border (default: 0). Each value is a ratio of the window
size, using a range 0.0-1.0. For example, setting the option
<b>--video-margin-ratio-right=0.2</b> at a window size of
1000 pixels will add a 200 pixels border on the right side
of the window.</p>

<p style="margin-left:22%; margin-top: 1em">The video is
&quot;boxed&quot; by these margins. The window size is not
changed. In particular it does not enlarge the window, and
the margins will cause the video to be downscaled by
default. This may or may not change in the future.</p>

<p style="margin-left:22%; margin-top: 1em">The margins are
applied after 90&deg; video rotation, but before any other
video transformations.</p>

<p style="margin-left:22%; margin-top: 1em">This option is
disabled if the <b>--no-keepaspect</b> option is used.</p>

<p style="margin-left:22%; margin-top: 1em">Subtitles still
may use the margins, depending on <b>--sub-use-margins</b>
and similar options.</p>

<p style="margin-left:22%; margin-top: 1em">These options
were created for the OSC. Some odd decisions, such as making
the margin values a ratio (instead of pixels), were made for
the sake of the OSC. It's possible that these options may be
replaced by ones that are more generally useful. The
behavior of these options may change to fit OSC requirements
better, too.</p>

<p style="margin-left:11%;"><b>--correct-pts,
--no-correct-pts</b></p>

<p style="margin-left:22%;"><b>--no-correct-pts</b>
switches mpv to a mode where video timing is determined
using a fixed framerate value (either using the <b>--fps</b>
option, or using file information). Sometimes, files with
very broken timestamps can be played somewhat well in this
mode. Note that video filters, subtitle rendering, seeking
(including hr-seeks and backstepping), and audio
synchronization can be completely broken in this mode.</p>

<p style="margin-left:11%;"><b>--fps=&lt;float&gt;</b></p>

<p style="margin-left:22%;">Override video framerate.
Useful if the original value is wrong or missing.</p>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">Works in
<b>--no-correct-pts</b> mode only.</p>


<p style="margin-left:11%;"><b>--deinterlace=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Enable or disable interlacing
(default: no). Interlaced video shows ugly comb-like
artifacts, which are visible on fast movement. Enabling this
typically inserts the yadif video filter in order to
deinterlace the video, or lets the video output apply
deinterlacing if supported.</p>

<p style="margin-left:22%; margin-top: 1em">This behaves
exactly like the <b>deinterlace</b> input property (usually
mapped to <b>d</b>).</p>

<p style="margin-left:22%; margin-top: 1em">Keep in mind
that this <b>will</b> conflict with manually inserted
deinterlacing filters, unless you take care. (Since mpv
0.27.0, even the hardware deinterlace filters will conflict.
Also since that version, <b>--deinterlace=auto</b> was
removed, which used to mean that the default interlacing
option of possibly inserted video filters was used.)</p>

<p style="margin-left:22%; margin-top: 1em">Note that this
will make video look worse if it's not actually
interlaced.</p>


<p style="margin-left:11%;"><b>--frames=&lt;number&gt;</b></p>

<p style="margin-left:22%;">Play/convert only first
<b>&lt;number&gt;</b> video frames, then quit.</p>


<p style="margin-left:22%; margin-top: 1em"><b>--frames=0</b>
loads the file, but immediately quits before initializing
playback. (Might be useful for scripts which just want to
determine some file properties.)</p>

<p style="margin-left:22%; margin-top: 1em">For audio-only
playback, any value greater than 0 will quit playback
immediately after initialization. The value 0 works as with
video.</p>


<p style="margin-left:11%;"><b>--video-output-levels=&lt;outputlevels&gt;</b></p>

<p style="margin-left:22%;">RGB color levels used with YUV
to RGB conversion. Normally, output devices such as PC
monitors use full range color levels. However, some TVs and
video monitors expect studio RGB levels. Providing full
range output to a device expecting studio level input
results in crushed blacks and whites, the reverse in dim
gray blacks and dim whites.</p>

<p style="margin-left:22%; margin-top: 1em">Not all VOs
support this option. Some will silently ignore it.</p>

<p style="margin-left:22%; margin-top: 1em">Available color
ranges are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p><b>auto</b></p></td>
<td width="4%"></td>
<td width="68%">


<p>automatic selection (equals to full range) (default)</p></td></tr>
</table>

<p style="margin-left:22%;"><b>limited</b></p>

<p style="margin-left:32%;">limited range (16-235 per
component), studio levels</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p><b>full</b></p></td>
<td width="4%"></td>
<td width="66%">


<p>full range (0-255 per component), PC levels</p></td>
<td width="2%">
</td></tr>
</table>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">It is advisable to use your
graphics driver's color range option instead, if
available.</p>


<p style="margin-left:11%;"><b>--hwdec-codecs=&lt;codec1,codec2,...|all&gt;</b></p>

<p style="margin-left:22%;">Allow hardware decoding for a
given list of codecs only. The special value <b>all</b>
always allows all codecs.</p>

<p style="margin-left:22%; margin-top: 1em">You can get the
list of allowed codecs with <b>mpv --vd=help</b>. Remove the
prefix, e.g. instead of <b>lavc:h264</b> use
<b>h264</b>.</p>

<p style="margin-left:22%; margin-top: 1em">By default,
this is set to <b>h264,vc1,hevc,vp9</b>. Note that the
hardware acceleration special codecs like <b>h264_vdpau</b>
are not relevant anymore, and in fact have been removed from
Libav in this form.</p>

<p style="margin-left:22%; margin-top: 1em">This is usually
only needed with broken GPUs, where a codec is reported as
supported, but decoding causes more problems than it
solves.</p>

<p style="margin-left:26%;">Example <b><br>
mpv --hwdec=vdpau --vo=vdpau
--hwdec-codecs=h264,mpeg2video</b></p>

<p style="margin-left:37%;">Enable vdpau decoding for h264
and mpeg2 only.</p>


<p style="margin-left:11%;"><b>--vd-lavc-check-hw-profile=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Check hardware decoder profile
(default: yes). If <b>no</b> is set, the highest profile of
the hardware decoder is unconditionally selected, and
decoding is forced even if the profile of the video is
higher than that. The result is most likely broken decoding,
but may also help if the detected or reported profiles are
somehow incorrect.</p>


<p style="margin-left:11%;"><b>--vd-lavc-software-fallback=&lt;yes|no|N&gt;</b></p>

<p style="margin-left:22%;">Fallback to software decoding
if the hardware-accelerated decoder fails (default: 3). If
this is a number, then fallback will be triggered if N
frames fail to decode in a row. 1 is equivalent to
<b>yes</b>.</p>

<p style="margin-left:22%; margin-top: 1em">Setting this to
a higher number might break the playback start fallback: if
a fallback happens, parts of the file will be skipped,
approximately by to the number of packets that could not be
decoded. Values below an unspecified count will not have
this problem, because mpv retains the packets.</p>


<p style="margin-left:11%;"><b>--vd-lavc-dr=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Enable direct rendering
(default: yes). If this is set to <b>yes</b>, the video will
be decoded directly to GPU video memory (or staging
buffers). This can speed up video upload, and may help with
large resolutions or slow hardware. This works only with the
following VOs:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="68%">


<p><b>gpu</b>: requires at least OpenGL 4.4 or Vulkan.</p></td>
<td width="3%">
</td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">(In particular,
this can't be made work with <b>opengl-cb</b>, but the
libmpv render API has optional support.)</p>

<p style="margin-left:22%; margin-top: 1em">Using video
filters of any kind that write to the image data (or output
newly allocated frames) will silently disable the DR code
path.</p>

<p style="margin-left:11%;"><b>--vd-lavc-bitexact</b></p>

<p style="margin-left:22%;">Only use bit-exact algorithms
in all decoding steps (for codec testing).</p>

<p style="margin-left:11%;"><b>--vd-lavc-fast (MPEG-2,
MPEG-4, and H.264 only)</b></p>

<p style="margin-left:22%;">Enable optimizations which do
not comply with the format specification and potentially
cause problems, like simpler dequantization, simpler motion
compensation, assuming use of the default quantization
matrix, assuming YUV 4:2:0 and skipping a few checks to
detect damaged bitstreams.</p>


<p style="margin-left:11%;"><b>--vd-lavc-o=&lt;key&gt;=&lt;value&gt;[,&lt;key&gt;=&lt;value&gt;[,...]]</b></p>

<p style="margin-left:22%;">Pass AVOptions to libavcodec
decoder. Note, a patch to make the <b>o=</b> unneeded and
pass all unknown options through the AVOption system is
welcome. A full list of AVOptions can be found in the FFmpeg
manual.</p>

<p style="margin-left:22%; margin-top: 1em">Some options
which used to be direct options can be set with this
mechanism, like <b>bug</b>, <b>gray</b>, <b>idct</b>,
<b>ec</b>, <b>vismv</b>, <b>skip_top</b> (was <b>st</b>),
<b>skip_bottom</b> (was <b>sb</b>), <b>debug</b>.</p>

<p style="margin-left:22%; margin-top: 1em">This is a
key/value list option. See <i>List Options</i> for
details.</p>

<p style="margin-left:26%;">Example</p>


<p style="margin-left:37%; margin-top: 1em"><b>--vd-lavc-o=debug=pict</b></p>


<p style="margin-left:11%;"><b>--vd-lavc-show-all=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Show even broken/corrupt frames
(default: no). If this option is set to no, libavcodec won't
output frames that were either decoded before an initial
keyframe was decoded, or frames that are recognized as
corrupted.</p>


<p style="margin-left:11%;"><b>--vd-lavc-skiploopfilter=&lt;skipvalue&gt;
(H.264 only)</b></p>

<p style="margin-left:22%;">Skips the loop filter (AKA
deblocking) during H.264 decoding. Since the filtered frame
is supposed to be used as reference for decoding dependent
frames, this has a worse effect on quality than not doing
deblocking on e.g. MPEG-2 video. But at least for high
bitrate HDTV, this provides a big speedup with little
visible quality loss.</p>


<p style="margin-left:22%; margin-top: 1em"><b>&lt;skipvalue&gt;</b>
can be one of the following:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p><b>none</b></p></td>
<td width="4%"></td>
<td width="17%">


<p>Never skip.</p></td>
<td width="51%">
</td></tr>
</table>

<p style="margin-left:22%;"><b>default</b></p>

<p style="margin-left:32%;">Skip useless processing steps
(e.g. 0 size packets in AVI).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>nonref</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>Skip frames that are not referenced (i.e. not used for
decoding other frames, the error cannot &quot;build
up&quot;).</p> </td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>bidir</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>Skip B-Frames.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>nonkey</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>Skip all frames except keyframes.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>all</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>Skip all frames.</p></td></tr>
</table>


<p style="margin-left:11%;"><b>--vd-lavc-skipidct=&lt;skipvalue&gt;
(MPEG-1/2 only)</b></p>

<p style="margin-left:22%;">Skips the IDCT step. This
degrades quality a lot in almost all cases (see
skiploopfilter for available skip values).</p>


<p style="margin-left:11%;"><b>--vd-lavc-skipframe=&lt;skipvalue&gt;</b></p>

<p style="margin-left:22%;">Skips decoding of frames
completely. Big speedup, but jerky motion and sometimes bad
artifacts (see skiploopfilter for available skip
values).</p>


<p style="margin-left:11%;"><b>--vd-lavc-framedrop=&lt;skipvalue&gt;</b></p>

<p style="margin-left:22%;">Set framedropping mode used
with <b>--framedrop</b> (see skiploopfilter for available
skip values).</p>


<p style="margin-left:11%;"><b>--vd-lavc-threads=&lt;N&gt;</b></p>

<p style="margin-left:22%;">Number of threads to use for
decoding. Whether threading is actually supported depends on
codec (default: 0). 0 means autodetect number of cores on
the machine and use that, up to the maximum of 16. You can
set more than 16 threads manually.</p>


<p style="margin-left:11%;"><b>--vd-lavc-assume-old-x264=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Assume the video was encoded by
an old, buggy x264 version (default: no). Normally, this is
autodetected by libavcodec. But if the bitstream contains no
x264 version info (or it was somehow skipped), and the
stream was in fact encoded by an old x264 version (build 150
or earlier), and if the stream uses <b>4:4:4</b> chroma,
then libavcodec will by default show corrupted video. This
option sets the libavcodec <b>x264_build</b> option to
<b>150</b>, which means that if the stream contains no
version info, or was not encoded by x264 at all, it assumes
it was encoded by the old version. Enabling this option is
pretty safe if you want your broken files to work, but in
theory this can break on streams not encoded by x264, or if
a stream encoded by a newer x264 version contains no version
info.</p>


<p style="margin-left:11%;"><b>--swapchain-depth=&lt;N&gt;</b></p>

<p style="margin-left:22%;">Allow up to N in-flight frames.
This essentially controls the frame latency. Increasing the
swapchain depth can improve pipelining and prevent missed
vsyncs, but increases visible latency. This option only
mandates an upper limit, the implementation can use a lower
latency than requested internally. A setting of 1 means that
the VO will wait for every frame to become visible before
starting to render the next frame. (Default: 3)</p>

<p style="margin-left:11%; margin-top: 1em"><b>Audio <br>
--audio-pitch-correction=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">If this is enabled (default),
playing with a speed different from normal automatically
inserts the <b>scaletempo</b> audio filter. For details, see
audio filter section.</p>


<p style="margin-left:11%;"><b>--audio-device=&lt;name&gt;</b></p>

<p style="margin-left:22%;">Use the given audio device.
This consists of the audio output name, e.g. <b>alsa</b>,
followed by <b>/</b>, followed by the audio output specific
device name. The default value for this option is
<b>auto</b>, which tries every audio output in preference
order with the default device.</p>

<p style="margin-left:22%; margin-top: 1em">You can list
audio devices with <b>--audio-device=help</b>. This outputs
the device name in quotes, followed by a description. The
device name is what you have to pass to the
<b>--audio-device</b> option. The list of audio devices can
be retrieved by API by using the <b>audio-device-list</b>
property.</p>

<p style="margin-left:22%; margin-top: 1em">While the
option normally takes one of the strings as indicated by the
methods above, you can also force the device for most AOs by
building it manually. For example <b>name/foobar</b> forces
the AO <b>name</b> to use the device <b>foobar</b>. However,
the <b>--ao</b> option will strictly force a specific AO. To
avoid confusion, don't use <b>--ao</b> and
<b>--audio-device</b> together.</p>

<p style="margin-left:26%;">Example for ALSA</p>

<p style="margin-left:37%; margin-top: 1em">MPlayer and
mplayer2 required you to replace any ',' with '.' and any
':' with '=' in the ALSA device name. For example, to use
the device named <b>dmix:default</b>, you had to do:</p>

<p style="margin-left:32%;"><b>-ao
alsa:device=dmix=default</b></p>

<p style="margin-left:26%; margin-top: 1em">In mpv you
could instead use:</p>


<p style="margin-left:32%;"><b>--audio-device=alsa/dmix:default</b></p>


<p style="margin-left:11%;"><b>--audio-exclusive=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Enable exclusive output mode.
In this mode, the system is usually locked out, and only mpv
will be able to output audio.</p>

<p style="margin-left:22%; margin-top: 1em">This only works
for some audio outputs, such as <b>wasapi</b> and
<b>coreaudio</b>. Other audio outputs silently ignore this
options. They either have no concept of exclusive mode, or
the mpv side of the implementation is missing.</p>


<p style="margin-left:11%;"><b>--audio-fallback-to-null=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">If no audio device can be
opened, behave as if <b>--ao=null</b> was given. This is
useful in combination with <b>--audio-device</b>: instead of
causing an error if the selected device does not exist, the
client API user (or a Lua script) could let playback
continue normally, and check the <b>current-ao</b> and
<b>audio-device-list</b> properties to make high-level
decisions about how to continue.</p>

<p style="margin-left:11%;"><b>--ao=&lt;driver&gt;</b></p>

<p style="margin-left:22%;">Specify the audio output
drivers to be used. See <i>AUDIO OUTPUT DRIVERS</i> for
details and descriptions of available drivers.</p>


<p style="margin-left:11%;"><b>--af=&lt;filter1[=parameter1:parameter2:...],filter2,...&gt;</b></p>

<p style="margin-left:22%;">Specify a list of audio filters
to apply to the audio stream. See <i>AUDIO FILTERS</i> for
details and descriptions of the available filters. The
option variants <b>--af-add</b>, <b>--af-pre</b>,
<b>--af-del</b> and <b>--af-clr</b> exist to modify a
previously specified list, but you should not need these for
typical use.</p>


<p style="margin-left:11%;"><b>--audio-spdif=&lt;codecs&gt;</b></p>

<p style="margin-left:22%;">List of codecs for which
compressed audio passthrough should be used. This works for
both classic S/PDIF and HDMI.</p>

<p style="margin-left:22%; margin-top: 1em">Possible codecs
are <b>ac3</b>, <b>dts</b>, <b>dts-hd</b>, <b>eac3</b>,
<b>truehd</b>. Multiple codecs can be specified by
separating them with <b>,</b>. <b>dts</b> refers to low
bitrate DTS core, while <b>dts-hd</b> refers to DTS MA
(receiver and OS support varies). If both <b>dts</b> and
<b>dts-hd</b> are specified, it behaves equivalent to
specifying <b>dts-hd</b> only.</p>

<p style="margin-left:22%; margin-top: 1em">In earlier mpv
versions you could use <b>--ad</b> to force the spdif
wrapper. This does not work anymore.</p>

<p style="margin-left:26%;">Warning</p>

<p style="margin-left:37%; margin-top: 1em">There is not
much reason to use this. HDMI supports uncompressed
multichannel PCM, and mpv supports lossless DTS-HD decoding
via FFmpeg's new DCA decoder (based on libdcadec).</p>


<p style="margin-left:11%;"><b>--ad=&lt;decoder1,decoder2,...[-]&gt;</b></p>

<p style="margin-left:22%;">Specify a priority list of
audio decoders to be used, according to their decoder name.
When determining which decoder to use, the first decoder
that matches the audio format is selected. If that is
unavailable, the next decoder is used. Finally, it tries all
other decoders that are not explicitly selected or rejected
by the option.</p>

<p style="margin-left:22%; margin-top: 1em"><b>-</b> at the
end of the list suppresses fallback on other available
decoders not on the <b>--ad</b> list. <b>+</b> in front of
an entry forces the decoder. Both of these should not
normally be used, because they break normal decoder
auto-selection! Both of these methods are deprecated.</p>

<p style="margin-left:26%;">Examples <b><br>
--ad=mp3float</b></p>

<p style="margin-left:37%;">Prefer the FFmpeg/Libav
<b>mp3float</b> decoder over all other MP3 decoders.</p>

<p style="margin-left:26%;"><b>--ad=help</b></p>

<p style="margin-left:37%;">List all available
decoders.</p>

<p style="margin-left:26%;">Warning</p>

<p style="margin-left:37%; margin-top: 1em">Enabling
compressed audio passthrough (AC3 and DTS via SPDIF/HDMI)
with this option is not possible. Use <b>--audio-spdif</b>
instead.</p>


<p style="margin-left:11%;"><b>--volume=&lt;value&gt;</b></p>

<p style="margin-left:22%;">Set the startup volume. 0 means
silence, 100 means no volume reduction or amplification.
Negative values can be passed for compatibility, but are
treated as 0.</p>

<p style="margin-left:22%; margin-top: 1em">Since mpv
0.18.1, this always controls the internal mixer (aka
&quot;softvol&quot;).</p>


<p style="margin-left:11%;"><b>--replaygain=&lt;no|track|album&gt;</b></p>

<p style="margin-left:22%;">Adjust volume gain according to
replaygain values stored in the file metadata. With
<b>--replaygain=no</b> (the default), perform no adjustment.
With <b>--replaygain=track</b>, apply track gain. With
<b>--replaygain=album</b>, apply album gain if present and
fall back to track gain otherwise.</p>


<p style="margin-left:11%;"><b>--replaygain-preamp=&lt;db&gt;</b></p>

<p style="margin-left:22%;">Pre-amplification gain in dB to
apply to the selected replaygain gain (default: 0).</p>


<p style="margin-left:11%;"><b>--replaygain-clip=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Prevent clipping caused by
replaygain by automatically lowering the gain (default). Use
<b>--replaygain-clip=no</b> to disable this.</p>


<p style="margin-left:11%;"><b>--replaygain-fallback=&lt;db&gt;</b></p>

<p style="margin-left:22%;">Gain in dB to apply if the file
has no replay gain tags. This option is always applied if
the replaygain logic is somehow inactive. If this is
applied, no other replaygain options are applied.</p>


<p style="margin-left:11%;"><b>--audio-delay=&lt;sec&gt;</b></p>

<p style="margin-left:22%;">Audio delay in seconds
(positive or negative float value). Positive values delay
the audio, and negative values delay the video.</p>


<p style="margin-left:11%;"><b>--mute=&lt;yes|no|auto&gt;</b></p>

<p style="margin-left:22%;">Set startup audio mute status
(default: no).</p>

<p style="margin-left:22%; margin-top: 1em"><b>auto</b> is
a deprecated possible value that is equivalent to
<b>no</b>.</p>

<p style="margin-left:22%; margin-top: 1em">See also:
<b>--volume</b>.</p>


<p style="margin-left:11%;"><b>--softvol=&lt;no|yes|auto&gt;</b></p>

<p style="margin-left:22%;">Deprecated/unfunctional. Before
mpv 0.18.1, this used to control whether to use the volume
controls of the audio output driver or the internal mpv
volume filter.</p>

<p style="margin-left:22%; margin-top: 1em">The current
behavior is that softvol is always enabled, i.e. as if this
option is set to <b>yes</b>. The other behaviors are not
available anymore, although <b>auto</b> almost matches
current behavior in most cases.</p>

<p style="margin-left:22%; margin-top: 1em">The <b>no</b>
behavior is still partially available through the
<b>ao-volume</b> and <b>ao-mute</b> properties. But there
are no options to reset these.</p>


<p style="margin-left:11%;"><b>--audio-demuxer=&lt;[+]name&gt;</b></p>

<p style="margin-left:22%;">Use this audio demuxer type
when using <b>--audio-file</b>. Use a '+' before the name to
force it; this will skip some checks. Give the demuxer name
as printed by <b>--audio-demuxer=help</b>.</p>


<p style="margin-left:11%;"><b>--ad-lavc-ac3drc=&lt;level&gt;</b></p>

<p style="margin-left:22%;">Select the Dynamic Range
Compression level for AC-3 audio streams.
<b>&lt;level&gt;</b> is a float value ranging from 0 to 1,
where 0 means no compression (which is the default) and 1
means full compression (make loud passages more silent and
vice versa). Values up to 6 are also accepted, but are
purely experimental. This option only shows an effect if the
AC-3 stream contains the required range compression
information.</p>

<p style="margin-left:22%; margin-top: 1em">The standard
mandates that DRC is enabled by default, but mpv (and some
other players) ignore this for the sake of better audio
quality.</p>


<p style="margin-left:11%;"><b>--ad-lavc-downmix=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Whether to request audio
channel downmixing from the decoder (default: yes). Some
decoders, like AC-3, AAC and DTS, can remix audio on
decoding. The requested number of output channels is set
with the <b>--audio-channels</b> option. Useful for playing
surround audio on a stereo system.</p>


<p style="margin-left:11%;"><b>--ad-lavc-threads=&lt;0-16&gt;</b></p>

<p style="margin-left:22%;">Number of threads to use for
decoding. Whether threading is actually supported depends on
codec. As of this writing, it's supported for some lossless
codecs only. 0 means autodetect number of cores on the
machine and use that, up to the maximum of 16 (default:
1).</p>


<p style="margin-left:11%;"><b>--ad-lavc-o=&lt;key&gt;=&lt;value&gt;[,&lt;key&gt;=&lt;value&gt;[,...]]</b></p>

<p style="margin-left:22%;">Pass AVOptions to libavcodec
decoder. Note, a patch to make the o= unneeded and pass all
unknown options through the AVOption system is welcome. A
full list of AVOptions can be found in the FFmpeg
manual.</p>

<p style="margin-left:22%; margin-top: 1em">This is a
key/value list option. See <i>List Options</i> for
details.</p>


<p style="margin-left:11%;"><b>--ad-spdif-dtshd=&lt;yes|no&gt;,
--dtshd, --no-dtshd</b></p>

<p style="margin-left:22%;">If DTS is passed through, use
DTS-HD.</p>

<p style="margin-left:26%;">Warning</p>

<p style="margin-left:37%; margin-top: 1em">This and
enabling passthrough via <b>--ad</b> are deprecated in favor
of using <b>--audio-spdif=dts-hd</b>.</p>


<p style="margin-left:11%;"><b>--audio-channels=&lt;auto-safe|auto|layouts&gt;</b></p>

<p style="margin-left:22%;">Control which audio channels
are output (e.g. surround vs. stereo). There are the
following possibilities:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="40%">


<p><b>--audio-channels=auto-safe</b></p></td>
<td width="35%">
</td></tr>
</table>

<p style="margin-left:35%;">Use the system's preferred
channel layout. If there is none (such as when accessing a
hardware device instead of the system mixer), force stereo.
Some audio outputs might simply accept any layout and do
downmixing on their own.</p>

<p style="margin-left:35%; margin-top: 1em">This is the
default.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="32%">


<p><b>--audio-channels=auto</b></p></td>
<td width="43%">
</td></tr>
</table>

<p style="margin-left:35%;">Send the audio device whatever
it accepts, preferring the audio's original channel layout.
Can cause issues with HDMI (see the warning below).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="55%">


<p><b>--audio-channels=layout1,layout2,...</b></p></td>
<td width="20%">
</td></tr>
</table>

<p style="margin-left:35%;">List of <b>,</b>-separated
channel layouts which should be allowed. Technically, this
only adjusts the filter chain output to the best matching
layout in the list, and passes the result to the audio API.
It's possible that the audio API will select a different
channel layout.</p>

<p style="margin-left:35%; margin-top: 1em">Using this mode
is recommended for direct hardware output, especially over
HDMI (see HDMI warning below).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="35%">


<p><b>--audio-channels=stereo</b></p></td>
<td width="40%">
</td></tr>
</table>

<p style="margin-left:35%;">Force a plain stereo downmix.
This is a special-case of the previous item. (See paragraphs
below for implications.)</p>

<p style="margin-left:22%; margin-top: 1em">If a list of
layouts is given, each item can be either an explicit
channel layout name (like <b>5.1</b>), or a channel number.
Channel numbers refer to default layouts, e.g. 2 channels
refer to stereo, 6 refers to 5.1.</p>

<p style="margin-left:22%; margin-top: 1em">See
<b>--audio-channels=help</b> output for defined default
layouts. This also lists speaker names, which can be used to
express arbitrary channel layouts (e.g. <b>fl-fr-lfe</b> is
2.1).</p>

<p style="margin-left:22%; margin-top: 1em">If the list of
channel layouts has only 1 item, the decoder is asked to
produce according output. This sometimes triggers
decoder-downmix, which might be different from the normal
mpv downmix. (Only some decoders support remixing audio,
like AC-3, AAC or DTS. You can use
<b>--ad-lavc-downmix=no</b> to make the decoder always
output its native layout.) One consequence is that
<b>--audio-channels=stereo</b> triggers decoder downmix,
while <b>auto</b> or <b>auto-safe</b> never will, even if
they end up selecting stereo. This happens because the
decision whether to use decoder downmix happens long before
the audio device is opened.</p>

<p style="margin-left:22%; margin-top: 1em">If the channel
layout of the media file (i.e. the decoder) and the AO's
channel layout don't match, mpv will attempt to insert a
conversion filter. You may need to change the channel layout
of the system mixer to achieve your desired output as mpv
does not have control over it. Another work-around for this
on some AOs is to use <b>--audio-exclusive=yes</b> to
circumvent the system mixer entirely.</p>

<p style="margin-left:26%;">Warning</p>

<p style="margin-left:37%; margin-top: 1em">Using
<b>auto</b> can cause issues when using audio over HDMI. The
OS will typically report all channel layouts that _can_ go
over HDMI, even if the receiver does not support them. If a
receiver gets an unsupported channel layout, random things
can happen, such as dropping the additional channels, or
adding noise.</p>

<p style="margin-left:37%; margin-top: 1em">You are
recommended to set an explicit whitelist of the layouts you
want. For example, most A/V receivers connected via HDMI and
that can do 7.1 would be served by:
<b>--audio-channels=7.1,5.1,stereo</b></p>


<p style="margin-left:11%;"><b>--audio-display=&lt;no|attachment&gt;</b></p>

<p style="margin-left:22%;">Setting this option to
<b>attachment</b> (default) will display image attachments
(e.g. album cover art) when playing audio files. It will
display the first image found, and additional images are
available as video tracks.</p>

<p style="margin-left:22%; margin-top: 1em">Setting this
option to <b>no</b> disables display of video entirely when
playing audio files.</p>

<p style="margin-left:22%; margin-top: 1em">This option has
no influence on files with normal video tracks.</p>


<p style="margin-left:11%;"><b>--audio-files=&lt;files&gt;</b></p>

<p style="margin-left:22%;">Play audio from an external
file while viewing a video.</p>

<p style="margin-left:22%; margin-top: 1em">This is a path
list option. See <i>List Options</i> for details.</p>


<p style="margin-left:11%;"><b>--audio-file=&lt;file&gt;</b></p>

<p style="margin-left:22%;">CLI/config file only alias for
<b>--audio-files-append</b>. Each use of this option will
add a new audio track. The details are similar to how
<b>--sub-file</b> works.</p>


<p style="margin-left:11%;"><b>--audio-format=&lt;format&gt;</b></p>

<p style="margin-left:22%;">Select the sample format used
for output from the audio filter layer to the sound card.
The values that <b>&lt;format&gt;</b> can adopt are listed
below in the description of the <b>format</b> audio
filter.</p>


<p style="margin-left:11%;"><b>--audio-samplerate=&lt;Hz&gt;</b></p>

<p style="margin-left:22%;">Select the output sample rate
to be used (of course sound cards have limits on this). If
the sample frequency selected is different from that of the
current media, the lavrresample audio filter will be
inserted into the audio filter layer to compensate for the
difference.</p>


<p style="margin-left:11%;"><b>--gapless-audio=&lt;no|yes|weak&gt;</b></p>

<p style="margin-left:22%;">Try to play consecutive audio
files with no silence or disruption at the point of file
change. Default: <b>weak</b>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p><b>no</b></p></td>
<td width="4%"></td>
<td width="68%">


<p>Disable gapless audio.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p><b>yes</b></p></td>
<td width="4%"></td>
<td width="68%">


<p>The audio device is opened using parameters chosen for
the first file played and is then kept open for gapless
playback. This means that if the first file for example has
a low sample rate, then the following files may get
resampled to the same low sample rate, resulting in reduced
sound quality. If you play files with different parameters,
consider using options such as <b>--audio-samplerate</b> and
<b>--audio-format</b> to explicitly select what the shared
output format will be.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p><b>weak</b></p></td>
<td width="4%"></td>
<td width="68%">


<p>Normally, the audio device is kept open (using the
format it was first initialized with). If the audio format
the decoder output changes, the audio device is closed and
reopened. This means that you will normally get gapless
audio with files that were encoded using the same settings,
but might not be gapless in other cases. The exact
conditions under which the audio device is kept open is an
implementation detail, and can change from version to
version. Currently, the device is kept even if the sample
format changes, but the sample formats are convertible. If
video is still going on when there is still audio, trying to
use gapless is also explicitly given up.</p></td></tr>
</table>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">This feature is implemented in
a simple manner and relies on audio output device buffering
to continue playback while moving from one file to another.
If playback of the new file starts slowly, for example
because it is played from a remote network location or
because you have specified cache settings that require time
for the initial cache fill, then the buffered audio may run
out before playback of the new file can start.</p>

<p style="margin-left:11%;"><b>--initial-audio-sync,
--no-initial-audio-sync</b></p>

<p style="margin-left:22%;">When starting a video file or
after events such as seeking, mpv will by default modify the
audio stream to make it start from the same timestamp as
video, by either inserting silence at the start or cutting
away the first samples. Disabling this option makes the
player behave like older mpv versions did: video and audio
are both started immediately even if their start timestamps
differ, and then video timing is gradually adjusted if
necessary to reach correct synchronization later.</p>


<p style="margin-left:11%;"><b>--volume-max=&lt;100.0-1000.0&gt;,
--softvol-max=&lt;...&gt;</b></p>

<p style="margin-left:22%;">Set the maximum amplification
level in percent (default: 130). A value of 130 will allow
you to adjust the volume up to about double the normal
level.</p>


<p style="margin-left:22%; margin-top: 1em"><b>--softvol-max</b>
is a deprecated alias and should not be used.</p>


<p style="margin-left:11%;"><b>--audio-file-auto=&lt;no|exact|fuzzy|all&gt;,
--no-audio-file-auto</b></p>

<p style="margin-left:22%;">Load additional audio files
matching the video filename. The parameter specifies how
external audio files are matched.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>no</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>Don't automatically load external audio files
(default).</p> </td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>exact</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>Load the media filename with audio file extension.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>fuzzy</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>Load all audio files containing media filename.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>all</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>Load all audio files in the current and
<b>--audio-file-paths</b> directories.</p></td></tr>
</table>


<p style="margin-left:11%;"><b>--audio-file-paths=&lt;path1:path2:...&gt;</b></p>

<p style="margin-left:22%;">Equivalent to
<b>--sub-file-paths</b> option, but for auto-loaded audio
files.</p>

<p style="margin-left:22%; margin-top: 1em">This is a path
list option. See <i>List Options</i> for details.</p>


<p style="margin-left:11%;"><b>--audio-client-name=&lt;name&gt;</b></p>

<p style="margin-left:22%;">The application name the player
reports to the audio API. Can be useful if you want to force
a different audio profile (e.g. with PulseAudio), or to set
your own application name when using libmpv.</p>


<p style="margin-left:11%;"><b>--audio-buffer=&lt;seconds&gt;</b></p>

<p style="margin-left:22%;">Set the audio output minimum
buffer. The audio device might actually create a larger
buffer if it pleases. If the device creates a smaller
buffer, additional audio is buffered in an additional
software buffer.</p>

<p style="margin-left:22%; margin-top: 1em">Making this
larger will make soft-volume and other filters react slower,
introduce additional issues on playback speed change, and
block the player on audio format changes. A smaller buffer
might lead to audio dropouts.</p>

<p style="margin-left:22%; margin-top: 1em">This option
should be used for testing only. If a non-default value
helps significantly, the mpv developers should be
contacted.</p>

<p style="margin-left:22%; margin-top: 1em">Default: 0.2
(200 ms).</p>


<p style="margin-left:11%;"><b>--audio-stream-silence=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Cash-grab consumer audio
hardware (such as A/V receivers) often ignore initial audio
sent over HDMI. This can happen every time audio over HDMI
is stopped and resumed. In order to compensate for this, you
can enable this option to not to stop and restart audio on
seeks, and fill the gaps with silence. Likewise, when
pausing playback, audio is not stopped, and silence is
played while paused. Note that if no audio track is
selected, the audio device will still be closed
immediately.</p>

<p style="margin-left:22%; margin-top: 1em">Not all AOs
support this.</p>


<p style="margin-left:11%;"><b>--audio-wait-open=&lt;secs&gt;</b></p>

<p style="margin-left:22%;">This makes sense for use with
<b>--audio-stream-silence=yes</b>. If this option is given,
the player will wait for the given amount of seconds after
opening the audio device before sending actual audio data to
it. Useful if your expensive hardware discards the first 1
or 2 seconds of audio data sent to it. If
<b>--audio-stream-silence=yes</b> is not set, this option
will likely just waste time.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Subtitles
<br>
NOTE:</b></p>

<p style="margin-left:15%;">Changing styling and position
does not work with all subtitles. Image-based subtitles
(DVD, Bluray/PGS, DVB) cannot changed for fundamental
reasons. Subtitles in ASS format are normally not changed
intentionally, but overriding them can be controlled with
<b>--sub-ass-override</b>.</p>

<p style="margin-left:15%; margin-top: 1em">Previously some
options working on text subtitles were called
<b>--sub-text-*</b>, they are now named <b>--sub-*</b>, and
those specifically for ASS have been renamed from
<b>--ass-*</b> to <b>--sub-ass-*</b>. They are now all in
this section.</p>


<p style="margin-left:11%;"><b>--sub-demuxer=&lt;[+]name&gt;</b></p>

<p style="margin-left:22%;">Force subtitle demuxer type for
<b>--sub-file</b>. Give the demuxer name as printed by
<b>--sub-demuxer=help</b>.</p>


<p style="margin-left:11%;"><b>--sub-delay=&lt;sec&gt;</b></p>

<p style="margin-left:22%;">Delays subtitles by
<b>&lt;sec&gt;</b> seconds. Can be negative.</p>


<p style="margin-left:11%;"><b>--sub-files=&lt;file-list&gt;,
--sub-file=&lt;filename&gt;</b></p>

<p style="margin-left:22%;">Add a subtitle file to the list
of external subtitles.</p>

<p style="margin-left:22%; margin-top: 1em">If you use
<b>--sub-file</b> only once, this subtitle file is displayed
by default.</p>

<p style="margin-left:22%; margin-top: 1em">If
<b>--sub-file</b> is used multiple times, the subtitle to
use can be switched at runtime by cycling subtitle tracks.
It's possible to show two subtitles at once: use
<b>--sid</b> to select the first subtitle index, and
<b>--secondary-sid</b> to select the second index. (The
index is printed on the terminal output after the
<b>--sid=</b> in the list of streams.)</p>


<p style="margin-left:22%; margin-top: 1em"><b>--sub-files</b>
is a path list option (see <i>List Options</i> for details),
and can take multiple file names separated by <b>:</b>
(Unix) or <b>;</b> (Windows), while <b>--sub-file</b> takes
a single filename, but can be used multiple times to add
multiple files. Technically, <b>--sub-file</b> is a
CLI/config file only alias for
<b>--sub-files-append</b>.</p>


<p style="margin-left:11%;"><b>--secondary-sid=&lt;ID|auto|no&gt;</b></p>

<p style="margin-left:22%;">Select a secondary subtitle
stream. This is similar to <b>--sid</b>. If a secondary
subtitle is selected, it will be rendered as toptitle (i.e.
on the top of the screen) alongside the normal subtitle, and
provides a way to render two subtitles at once.</p>

<p style="margin-left:22%; margin-top: 1em">There are some
caveats associated with this feature. For example, bitmap
subtitles will always be rendered in their usual position,
so selecting a bitmap subtitle as secondary subtitle will
result in overlapping subtitles. Secondary subtitles are
never shown on the terminal if video is disabled.</p>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">Styling and interpretation of
any formatting tags is disabled for the secondary subtitle.
Internally, the same mechanism as <b>--no-sub-ass</b> is
used to strip the styling.</p>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">If the main subtitle stream
contains formatting tags which display the subtitle at the
top of the screen, it will overlap with the secondary
subtitle. To prevent this, you could use <b>--no-sub-ass</b>
to disable styling in the main subtitle stream.</p>


<p style="margin-left:11%;"><b>--sub-scale=&lt;0-100&gt;</b></p>

<p style="margin-left:22%;">Factor for the text subtitle
font size (default: 1).</p>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">This affects ASS subtitles as
well, and may lead to incorrect subtitle rendering. Use with
care, or use <b>--sub-font-size</b> instead.</p>


<p style="margin-left:11%;"><b>--sub-scale-by-window=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Whether to scale subtitles with
the window size (default: yes). If this is disabled,
changing the window size won't change the subtitle font
size.</p>

<p style="margin-left:22%; margin-top: 1em">Like
<b>--sub-scale</b>, this can break ASS subtitles.</p>


<p style="margin-left:11%;"><b>--sub-scale-with-window=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Make the subtitle font size
relative to the window, instead of the video. This is useful
if you always want the same font size, even if the video
doesn't cover the window fully, e.g. because screen aspect
and window aspect mismatch (and the player adds black
bars).</p>

<p style="margin-left:22%; margin-top: 1em">Default:
yes.</p>

<p style="margin-left:22%; margin-top: 1em">This option is
misnamed. The difference to the confusingly similar sounding
option <b>--sub-scale-by-window</b> is that
<b>--sub-scale-with-window</b> still scales with the
approximate window size, while the other option disables
this scaling.</p>

<p style="margin-left:22%; margin-top: 1em">Affects plain
text subtitles only (or ASS if <b>--sub-ass-override</b> is
set high enough).</p>


<p style="margin-left:11%;"><b>--sub-ass-scale-with-window=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Like
<b>--sub-scale-with-window</b>, but affects subtitles in ASS
format only. Like <b>--sub-scale</b>, this can break ASS
subtitles.</p>

<p style="margin-left:22%; margin-top: 1em">Default:
no.</p>


<p style="margin-left:11%;"><b>--embeddedfonts=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Use fonts embedded in Matroska
container files and ASS scripts (default: yes). These fonts
can be used for SSA/ASS subtitle rendering.</p>


<p style="margin-left:11%;"><b>--sub-pos=&lt;0-100&gt;</b></p>

<p style="margin-left:22%;">Specify the position of
subtitles on the screen. The value is the vertical position
of the subtitle in % of the screen height.</p>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">This affects ASS subtitles as
well, and may lead to incorrect subtitle rendering. Use with
care, or use <b>--sub-margin-y</b> instead.</p>


<p style="margin-left:11%;"><b>--sub-speed=&lt;0.1-10.0&gt;</b></p>

<p style="margin-left:22%;">Multiply the subtitle event
timestamps with the given value. Can be used to fix the
playback speed for frame-based subtitle formats. Affects
text subtitles only.</p>

<p style="margin-left:26%;">Example</p>


<p style="margin-left:37%; margin-top: 1em"><b>--sub-speed=25/23.976</b>
plays frame based subtitles which have been loaded assuming
a framerate of 23.976 at 25 FPS.</p>


<p style="margin-left:11%;"><b>--sub-ass-force-style=&lt;[Style.]Param=Value[,...]&gt;</b></p>

<p style="margin-left:22%;">Override some style or script
info parameters.</p>

<p style="margin-left:22%; margin-top: 1em">This is a
string list option. See <i>List Options</i> for details.</p>

<p style="margin-left:26%;">Examples</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="71%">



<p><b>--sub-ass-force-style=FontName=Arial,Default.Bold=1</b></p> </td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="71%">


<p><b>--sub-ass-force-style=PlayResY=768</b></p></td></tr>
</table>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">Using this option may lead to
incorrect subtitle rendering.</p>


<p style="margin-left:11%;"><b>--sub-ass-hinting=&lt;none|light|normal|native&gt;</b></p>

<p style="margin-left:22%;">Set font hinting type.
&lt;type&gt; can be:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>none</b></p></td>
<td width="1%"></td>
<td width="50%">


<p>no hinting (default)</p></td>
<td width="18%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>light</b></p></td>
<td width="1%"></td>
<td width="50%">


<p>FreeType autohinter, light mode</p></td>
<td width="18%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>normal</b></p></td>
<td width="1%"></td>
<td width="50%">


<p>FreeType autohinter, normal mode</p></td>
<td width="18%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>native</b></p></td>
<td width="1%"></td>
<td width="50%">


<p>font native hinter</p></td>
<td width="18%">
</td></tr>
</table>

<p style="margin-left:26%;">Warning</p>

<p style="margin-left:37%; margin-top: 1em">Enabling
hinting can lead to mispositioned text (in situations it's
supposed to match up video background), or reduce the
smoothness of animations with some badly authored ASS
scripts. It is recommended to not use this option, unless
really needed.</p>


<p style="margin-left:11%;"><b>--sub-ass-line-spacing=&lt;value&gt;</b></p>

<p style="margin-left:22%;">Set line spacing value for
SSA/ASS renderer.</p>


<p style="margin-left:11%;"><b>--sub-ass-shaper=&lt;simple|complex&gt;</b></p>

<p style="margin-left:22%;">Set the text layout engine used
by libass.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>simple</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>uses Fribidi only, fast, doesn't render some languages
correctly</p> </td></tr>
</table>

<p style="margin-left:22%;"><b>complex</b></p>

<p style="margin-left:32%;">uses HarfBuzz, slower, wider
language support</p>

<p style="margin-left:22%; margin-top: 1em"><b>complex</b>
is the default. If libass hasn't been compiled against
HarfBuzz, libass silently reverts to <b>simple</b>.</p>


<p style="margin-left:11%;"><b>--sub-ass-styles=&lt;filename&gt;</b></p>

<p style="margin-left:22%;">Load all SSA/ASS styles found
in the specified file and use them for rendering text
subtitles. The syntax of the file is exactly like the <b>[V4
Styles]</b> / <b>[V4+ Styles]</b> section of SSA/ASS.</p>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">Using this option may lead to
incorrect subtitle rendering.</p>


<p style="margin-left:11%;"><b>--sub-ass-override=&lt;yes|no|force|scale|strip&gt;</b></p>

<p style="margin-left:22%;">Control whether user style
overrides should be applied. Note that all of these
overrides try to be somewhat smart about figuring out
whether or not a subtitle is considered a
&quot;sign&quot;.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>no</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>Render subtitles as specified by the subtitle scripts,
without overrides.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>yes</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>Apply all the <b>--sub-ass-*</b> style override options.
Changing the default for any of these options can lead to
incorrect subtitle rendering (default).</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>force</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>Like <b>yes</b>, but also force all <b>--sub-*</b>
options. Can break rendering easily.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>scale</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>Like <b>yes</b>, but also apply <b>--sub-scale</b>.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>strip</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>Radically strip all ASS tags and styles from the
subtitle. This is equivalent to the old <b>--no-ass</b> /
<b>--no-sub-ass</b> options.</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">This also
controls some bitmap subtitle overrides, as well as HTML
tags in formats like SRT, despite the name of the
option.</p>


<p style="margin-left:11%;"><b>--sub-ass-force-margins</b></p>

<p style="margin-left:22%;">Enables placing toptitles and
subtitles in black borders when they are available, if the
subtitles are in the ASS format.</p>

<p style="margin-left:22%; margin-top: 1em">Default:
no.</p>

<p style="margin-left:11%;"><b>--sub-use-margins</b></p>

<p style="margin-left:22%;">Enables placing toptitles and
subtitles in black borders when they are available, if the
subtitles are in a plain text format (or ASS if
<b>--sub-ass-override</b> is set high enough).</p>

<p style="margin-left:22%; margin-top: 1em">Default:
yes.</p>

<p style="margin-left:22%; margin-top: 1em">Renamed from
<b>--sub-ass-use-margins</b>. To place ASS subtitles in the
borders too (like the old option did), also add
<b>--sub-ass-force-margins</b>.</p>


<p style="margin-left:11%;"><b>--sub-ass-vsfilter-aspect-compat=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Stretch SSA/ASS subtitles when
playing anamorphic videos for compatibility with traditional
VSFilter behavior. This switch has no effect when the video
is stored with square pixels.</p>

<p style="margin-left:22%; margin-top: 1em">The renderer
historically most commonly used for the SSA/ASS subtitle
formats, VSFilter, had questionable behavior that resulted
in subtitles being stretched too if the video was stored in
anamorphic format that required scaling for display. This
behavior is usually undesirable and newer VSFilter versions
may behave differently. However, many existing scripts
compensate for the stretching by modifying things in the
opposite direction. Thus, if such scripts are displayed
&quot;correctly&quot;, they will not appear as intended.
This switch enables emulation of the old VSFilter behavior
(undesirable but expected by many existing scripts).</p>

<p style="margin-left:22%; margin-top: 1em">Enabled by
default.</p>


<p style="margin-left:11%;"><b>--sub-ass-vsfilter-blur-compat=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Scale <b>\blur</b> tags by
video resolution instead of script resolution (enabled by
default). This is bug in VSFilter, which according to some,
can't be fixed anymore in the name of compatibility.</p>

<p style="margin-left:22%; margin-top: 1em">Note that this
uses the actual video resolution for calculating the offset
scale factor, not what the video filter chain or the video
output use.</p>


<p style="margin-left:11%;"><b>--sub-ass-vsfilter-color-compat=&lt;basic|full|force-601|no&gt;</b></p>

<p style="margin-left:22%;">Mangle colors like
(xy-)vsfilter do (default: basic). Historically, VSFilter
was not color space aware. This was no problem as long as
the color space used for SD video (BT.601) was used. But
when everything switched to HD (BT.709), VSFilter was still
converting RGB colors to BT.601, rendered them into the
video frame, and handled the frame to the video output,
which would use BT.709 for conversion to RGB. The result
were mangled subtitle colors. Later on, bad hacks were added
on top of the ASS format to control how colors are to be
mangled.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>basic</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>Handle only BT.601-&gt;BT.709 mangling, if the subtitles
seem to indicate that this is required (default).</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>full</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>Handle the full <b>YCbCr Matrix</b> header with all
video color spaces supported by libass and mpv. This might
lead to bad breakages in corner cases and is not strictly
needed for compatibility (hopefully), which is why this is
not default.</p></td></tr>
</table>

<p style="margin-left:22%;"><b>force-601</b></p>

<p style="margin-left:32%;">Force BT.601-&gt;BT.709
mangling, regardless of subtitle headers or video color
space.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>no</b></p></td>
<td width="7%"></td>
<td width="68%">


<p>Disable color mangling completely. All colors are
RGB.</p> </td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">Choosing
anything other than <b>no</b> will make the subtitle color
depend on the video color space, and it's for example in
theory not possible to reuse a subtitle script with another
video file. The <b>--sub-ass-override</b> option doesn't
affect how this option is interpreted.</p>


<p style="margin-left:11%;"><b>--stretch-dvd-subs=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Stretch DVD subtitles when
playing anamorphic videos for better looking fonts on badly
mastered DVDs. This switch has no effect when the video is
stored with square pixels - which for DVD input cannot be
the case though.</p>

<p style="margin-left:22%; margin-top: 1em">Many studios
tend to use bitmap fonts designed for square pixels when
authoring DVDs, causing the fonts to look stretched on
playback on DVD players. This option fixes them, however at
the price of possibly misaligning some subtitles (e.g. sign
translations).</p>

<p style="margin-left:22%; margin-top: 1em">Disabled by
default.</p>


<p style="margin-left:11%;"><b>--stretch-image-subs-to-screen=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Stretch DVD and other image
subtitles to the screen, ignoring the video margins. This
has a similar effect as <b>--sub-use-margins</b> for text
subtitles, except that the text itself will be stretched,
not only just repositioned. (At least in general it is
unavoidable, as an image bitmap can in theory consist of a
single bitmap covering the whole screen, and the player
won't know where exactly the text parts are located.)</p>

<p style="margin-left:22%; margin-top: 1em">This option
does not display subtitles correctly. Use with care.</p>

<p style="margin-left:22%; margin-top: 1em">Disabled by
default.</p>


<p style="margin-left:11%;"><b>--image-subs-video-resolution=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Override the image subtitle
resolution with the video resolution (default: no).
Normally, the subtitle canvas is fit into the video canvas
(e.g. letterboxed). Setting this option uses the video size
as subtitle canvas size. Can be useful to test broken
subtitles, which often happen when the video was trancoded,
while attempting to keep the old subtitles.</p>

<p style="margin-left:11%;"><b>--sub-ass,
--no-sub-ass</b></p>

<p style="margin-left:22%;">Render ASS subtitles natively
(enabled by default).</p>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">This has been deprecated by
<b>--sub-ass-override=strip</b>. You also may need
<b>--embeddedfonts=no</b> to get the same behavior. Also,
using <b>--sub-ass-override=style</b> should give better
results without breaking subtitles too much.</p>

<p style="margin-left:22%; margin-top: 1em">If
<b>--no-sub-ass</b> is specified, all tags and style
declarations are stripped and ignored on display. The
subtitle renderer uses the font style as specified by the
<b>--sub-</b> options instead.</p>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">Using <b>--no-sub-ass</b> may
lead to incorrect or completely broken rendering of ASS/SSA
subtitles. It can sometimes be useful to forcibly override
the styling of ASS subtitles, but should be avoided in
general.</p>


<p style="margin-left:11%;"><b>--sub-auto=&lt;no|exact|fuzzy|all&gt;,
--no-sub-auto</b></p>

<p style="margin-left:22%;">Load additional subtitle files
matching the video filename. The parameter specifies how
external subtitle files are matched. <b>exact</b> is enabled
by default.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>no</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>Don't automatically load external subtitle files.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>exact</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>Load the media filename with subtitle file extension
(default).</p> </td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>fuzzy</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>Load all subs containing media filename.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>all</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>Load all subs in the current and <b>--sub-file-paths</b>
directories.</p> </td></tr>
</table>


<p style="margin-left:11%;"><b>--sub-codepage=&lt;codepage&gt;</b></p>

<p style="margin-left:22%;">You can use this option to
specify the subtitle codepage. uchardet will be used to
guess the charset. (If mpv was not compiled with uchardet,
then <b>utf-8</b> is the effective default.)</p>

<p style="margin-left:22%; margin-top: 1em">The default
value for this option is <b>auto</b>, which enables
autodetection.</p>

<p style="margin-left:22%; margin-top: 1em">The following
steps are taken to determine the final codepage, in
order:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="75%">


<p>if the specific codepage has a <b>+</b>, use that
codepage</p> </td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="75%">


<p>if the data looks like UTF-8, assume it is UTF-8</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="75%">


<p>if <b>--sub-codepage</b> is set to a specific codepage,
use that</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="75%">


<p>run uchardet, and if successful, use that</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="75%">


<p>otherwise, use <b>UTF-8-BROKEN</b></p></td></tr>
</table>

<p style="margin-left:26%;">Examples</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="71%">


<p><b>--sub-codepage=latin2</b> Use Latin 2 if input is not
UTF-8.</p> </td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="71%">


<p><b>--sub-codepage=+cp1250</b> Always force recoding to
cp1250.</p> </td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">The pseudo
codepage <b>UTF-8-BROKEN</b> is used internally. If it's
set, subtitles are interpreted as UTF-8 with &quot;Latin
1&quot; as fallback for bytes which are not valid UTF-8
sequences. iconv is never involved in this mode.</p>

<p style="margin-left:22%; margin-top: 1em">This option
changed in mpv 0.23.0. Support for the old syntax was fully
removed in mpv 0.24.0.</p>


<p style="margin-left:11%;"><b>--sub-fix-timing=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Adjust subtitle timing is to
remove minor gaps or overlaps between subtitles (if the
difference is smaller than 210 ms, the gap or overlap is
removed).</p>

<p style="margin-left:11%;"><b>--sub-forced-only</b></p>

<p style="margin-left:22%;">Display only forced subtitles
for the DVD subtitle stream selected by e.g.
<b>--slang</b>.</p>


<p style="margin-left:11%;"><b>--sub-fps=&lt;rate&gt;</b></p>

<p style="margin-left:22%;">Specify the framerate of the
subtitle file (default: video fps). Affects text subtitles
only.</p>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;"><b>&lt;rate&gt;</b> &gt; video
fps speeds the subtitles up for frame-based subtitle files
and slows them down for time-based ones.</p>

<p style="margin-left:22%; margin-top: 1em">See also:
<b>--sub-speed</b>.</p>


<p style="margin-left:11%;"><b>--sub-gauss=&lt;0.0-3.0&gt;</b></p>

<p style="margin-left:22%;">Apply Gaussian blur to image
subtitles (default: 0). This can help to make pixelated
DVD/Vobsubs look nicer. A value other than 0 also switches
to software subtitle scaling. Might be slow.</p>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">Never applied to text
subtitles.</p>

<p style="margin-left:11%;"><b>--sub-gray</b></p>

<p style="margin-left:22%;">Convert image subtitles to
grayscale. Can help to make yellow DVD/Vobsubs look
nicer.</p>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">Never applied to text
subtitles.</p>


<p style="margin-left:11%;"><b>--sub-paths=&lt;path1:path2:...&gt;</b></p>

<p style="margin-left:22%;">Deprecated, use
<b>--sub-file-paths</b>.</p>


<p style="margin-left:11%;"><b>--sub-file-paths=&lt;path-list&gt;</b></p>

<p style="margin-left:22%;">Specify extra directories to
search for subtitles matching the video. Multiple
directories can be separated by &quot;:&quot; (&quot;;&quot;
on Windows). Paths can be relative or absolute. Relative
paths are interpreted relative to video file directory. If
the file is a URL, only absolute paths and <b>sub</b>
configuration subdirectory will be scanned.</p>

<p style="margin-left:26%;">Example</p>

<p style="margin-left:37%; margin-top: 1em">Assuming that
<b>/path/to/video/video.avi</b> is played and
<b>--sub-file-paths=sub:subtitles</b> is specified, mpv
searches for subtitle files in these directories:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="71%">


<p><b>/path/to/video/</b></p></td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="71%">


<p><b>/path/to/video/sub/</b></p></td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="71%">


<p><b>/path/to/video/subtitles/</b></p></td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="71%">


<p>the <b>sub</b> configuration subdirectory (usually
<b>~/.config/mpv/sub/</b>)</p> </td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">This is a path
list option. See <i>List Options</i> for details.</p>

<p style="margin-left:11%;"><b>--sub-visibility,
--no-sub-visibility</b></p>

<p style="margin-left:22%;">Can be used to disable display
of subtitles, but still select and decode them.</p>

<p style="margin-left:11%;"><b>--sub-clear-on-seek</b></p>

<p style="margin-left:22%;">(Obscure, rarely useful.) Can
be used to play broken mkv files with duplicate ReadOrder
fields. ReadOrder is the first field in a Matroska-style ASS
subtitle packets. It should be unique, and libass uses it
for fast elimination of duplicates. This option disables
caching of subtitles across seeks, so after a seek libass
can't eliminate subtitle packets with the same ReadOrder as
earlier packets.</p>


<p style="margin-left:11%;"><b>--teletext-page=&lt;1-999&gt;</b></p>

<p style="margin-left:22%;">This works for
<b>dvb_teletext</b> subtitle streams, and if FFmpeg has been
compiled with support for it.</p>


<p style="margin-left:11%;"><b>--sub-font=&lt;name&gt;</b></p>

<p style="margin-left:22%;">Specify font to use for
subtitles that do not themselves specify a particular font.
The default is <b>sans-serif</b>.</p>

<p style="margin-left:26%;">Examples</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="49%">


<p><b>--sub-font='Bitstream Vera Sans'</b></p></td>
<td width="22%">
</td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="49%">


<p><b>--sub-font='Comic Sans MS'</b></p></td>
<td width="22%">
</td></tr>
</table>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">The <b>--sub-font</b> option
(and many other style related <b>--sub-</b> options) are
ignored when ASS-subtitles are rendered, unless the
<b>--no-sub-ass</b> option is specified.</p>

<p style="margin-left:26%; margin-top: 1em">This used to
support fontconfig patterns. Starting with libass 0.13.0,
this stopped working.</p>


<p style="margin-left:11%;"><b>--sub-font-size=&lt;size&gt;</b></p>

<p style="margin-left:22%;">Specify the sub font size. The
unit is the size in scaled pixels at a window height of 720.
The actual pixel size is scaled with the window height: if
the window height is larger or smaller than 720, the actual
size of the text increases or decreases as well.</p>

<p style="margin-left:22%; margin-top: 1em">Default:
55.</p>


<p style="margin-left:11%;"><b>--sub-back-color=&lt;color&gt;</b></p>

<p style="margin-left:22%;">See <b>--sub-color</b>. Color
used for sub text background. You can use
<b>--sub-shadow-offset</b> to change its size relative to
the text.</p>


<p style="margin-left:11%;"><b>--sub-blur=&lt;0..20.0&gt;</b></p>

<p style="margin-left:22%;">Gaussian blur factor. 0 means
no blur applied (default).</p>


<p style="margin-left:11%;"><b>--sub-bold=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Format text on bold.</p>


<p style="margin-left:11%;"><b>--sub-italic=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Format text on italic.</p>


<p style="margin-left:11%;"><b>--sub-border-color=&lt;color&gt;</b></p>

<p style="margin-left:22%;">See <b>--sub-color</b>. Color
used for the sub font border.</p>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">ignored when
<b>--sub-back-color</b> is specified (or more exactly: when
that option is not set to completely transparent).</p>


<p style="margin-left:11%;"><b>--sub-border-size=&lt;size&gt;</b></p>

<p style="margin-left:22%;">Size of the sub font border in
scaled pixels (see <b>--sub-font-size</b> for details). A
value of 0 disables borders.</p>

<p style="margin-left:22%; margin-top: 1em">Default: 3.</p>


<p style="margin-left:11%;"><b>--sub-color=&lt;color&gt;</b></p>

<p style="margin-left:22%;">Specify the color used for
unstyled text subtitles.</p>

<p style="margin-left:22%; margin-top: 1em">The color is
specified in the form <b>r/g/b</b>, where each color
component is specified as number in the range 0.0 to 1.0.
It's also possible to specify the transparency by using
<b>r/g/b/a</b>, where the alpha value 0 means fully
transparent, and 1.0 means opaque. If the alpha component is
not given, the color is 100% opaque.</p>

<p style="margin-left:22%; margin-top: 1em">Passing a
single number to the option sets the sub to gray, and the
form <b>gray/a</b> lets you specify alpha additionally.</p>

<p style="margin-left:26%;">Examples</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="71%">


<p><b>--sub-color=1.0/0.0/0.0</b> set sub to opaque red</p></td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="71%">


<p><b>--sub-color=1.0/0.0/0.0/0.75</b> set sub to opaque
red with 75% alpha</p></td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="71%">


<p><b>--sub-color=0.5/0.75</b> set sub to 50% gray with 75%
alpha</p> </td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">Alternatively,
the color can be specified as a RGB hex triplet in the form
<b>#RRGGBB</b>, where each 2-digit group expresses a color
value in the range 0 (<b>00</b>) to 255 (<b>FF</b>). For
example, <b>#FF0000</b> is red. This is similar to web
colors. Alpha is given with <b>#AARRGGBB</b>.</p>

<p style="margin-left:26%;">Examples</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="71%">


<p><b>--sub-color='#FF0000'</b> set sub to opaque red</p></td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="71%">


<p><b>--sub-color='#C0808080'</b> set sub to 50% gray with
75% alpha</p></td></tr>
</table>


<p style="margin-left:11%;"><b>--sub-margin-x=&lt;size&gt;</b></p>

<p style="margin-left:22%;">Left and right screen margin
for the subs in scaled pixels (see <b>--sub-font-size</b>
for details).</p>

<p style="margin-left:22%; margin-top: 1em">This option
specifies the distance of the sub to the left, as well as at
which distance from the right border long sub text will be
broken.</p>

<p style="margin-left:22%; margin-top: 1em">Default:
25.</p>


<p style="margin-left:11%;"><b>--sub-margin-y=&lt;size&gt;</b></p>

<p style="margin-left:22%;">Top and bottom screen margin
for the subs in scaled pixels (see <b>--sub-font-size</b>
for details).</p>

<p style="margin-left:22%; margin-top: 1em">This option
specifies the vertical margins of unstyled text subtitles.
If you just want to raise the vertical subtitle position,
use <b>--sub-pos</b>.</p>

<p style="margin-left:22%; margin-top: 1em">Default:
22.</p>


<p style="margin-left:11%;"><b>--sub-align-x=&lt;left|center|right&gt;</b></p>

<p style="margin-left:22%;">Control to which corner of the
screen text subtitles should be aligned to (default:
<b>center</b>).</p>

<p style="margin-left:22%; margin-top: 1em">Never applied
to ASS subtitles, except in <b>--no-sub-ass</b> mode.
Likewise, this does not apply to image subtitles.</p>


<p style="margin-left:11%;"><b>--sub-align-y=&lt;top|center|bottom&gt;</b></p>

<p style="margin-left:22%;">Vertical position (default:
<b>bottom</b>). Details see <b>--sub-align-x</b>.</p>


<p style="margin-left:11%;"><b>--sub-justify=&lt;auto|left|center|right&gt;</b></p>

<p style="margin-left:22%;">Control how multi line subs are
justified irrespective of where they are aligned (default:
<b>auto</b> which justifies as defined by
<b>--sub-align-y</b>). Left justification is recommended to
make the subs easier to read as it is easier for the
eyes.</p>


<p style="margin-left:11%;"><b>--sub-ass-justify=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Applies justification as
defined by <b>--sub-justify</b> on ASS subtitles if
<b>--sub-ass-override</b> is not set to <b>no</b>. Default:
<b>no</b>.</p>


<p style="margin-left:11%;"><b>--sub-shadow-color=&lt;color&gt;</b></p>

<p style="margin-left:22%;">See <b>--sub-color</b>. Color
used for sub text shadow.</p>


<p style="margin-left:11%;"><b>--sub-shadow-offset=&lt;size&gt;</b></p>

<p style="margin-left:22%;">Displacement of the sub text
shadow in scaled pixels (see <b>--sub-font-size</b> for
details). A value of 0 disables shadows.</p>

<p style="margin-left:22%; margin-top: 1em">Default: 0.</p>


<p style="margin-left:11%;"><b>--sub-spacing=&lt;size&gt;</b></p>

<p style="margin-left:22%;">Horizontal sub font spacing in
scaled pixels (see <b>--sub-font-size</b> for details). This
value is added to the normal letter spacing. Negative values
are allowed.</p>

<p style="margin-left:22%; margin-top: 1em">Default: 0.</p>


<p style="margin-left:11%;"><b>--sub-filter-sdh=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Applies filter removing
subtitle additions for the deaf or hard-of-hearing (SDH).
This is intended for English, but may in part work for other
languages too. The intention is that it can be always
enabled so may not remove all parts added. It removes
speaker labels (like MAN:), upper case text in parentheses
and any text in brackets.</p>

<p style="margin-left:22%; margin-top: 1em">Default:
<b>no</b>.</p>


<p style="margin-left:11%;"><b>--sub-filter-sdh-harder=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Do harder SDH filtering (if
enabled by <b>--sub-filter-sdh</b>). Will also remove
speaker labels and text within parentheses using both lower
and upper case letters.</p>

<p style="margin-left:22%; margin-top: 1em">Default:
<b>no</b>.</p>


<p style="margin-left:11%;"><b>--sub-create-cc-track=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">For every video stream, create
a closed captions track (default: no). The only purpose is
to make the track available for selection at the start of
playback, instead of creating it lazily. This applies only
to <b>ATSC A53 Part 4 Closed Captions</b> (displayed by mpv
as subtitle tracks using the codec <b>eia_608</b>). The CC
track is marked &quot;default&quot; and selected according
to the normal subtitle track selection rules. You can then
use <b>--sid</b> to explicitly select the correct track
too.</p>

<p style="margin-left:22%; margin-top: 1em">If the video
stream contains no closed captions, or if no video is being
decoded, the CC track will remain empty and will not show
any text.</p>


<p style="margin-left:11%;"><b>--sub-font-provider=&lt;auto|none|fontconfig&gt;</b></p>

<p style="margin-left:22%;">Which libass font provider
backend to use (default: auto). <b>auto</b> will attempt to
use the native font provider: fontconfig on Linux, CoreText
on OSX, DirectWrite on Windows. <b>fontconfig</b> forces
fontconfig, if libass was built with support (if not, it
behaves like <b>none</b>).</p>

<p style="margin-left:22%; margin-top: 1em">The <b>none</b>
font provider effectively disables system fonts. It will
still attempt to use embedded fonts (unless
<b>--embeddedfonts=no</b> is set; this is the same behavior
as with all other font providers), <b>subfont.ttf</b> if
provided, and fonts in the <b>fonts</b> sub-directory if
provided. (The fallback is more strict than that of other
font providers, and if a font name does not match, it may
prefer not to render any text that uses the missing
font.)</p>

<p style="margin-left:11%; margin-top: 1em"><b>Window <br>
--title=&lt;string&gt;</b></p>

<p style="margin-left:22%;">Set the window title. This is
used for the video window, and if possible, also sets the
audio stream title.</p>

<p style="margin-left:22%; margin-top: 1em">Properties are
expanded. (See <i>Property Expansion</i>.)</p>


<p style="margin-left:22%; margin-top: 1em"><b>WARNING:</b></p>

<p style="margin-left:26%;">There is a danger of this
causing significant CPU usage, depending on the properties
used. Changing the window title is often a slow operation,
and if the title changes every frame, playback can be
ruined.</p>


<p style="margin-left:11%;"><b>--screen=&lt;default|0-32&gt;</b></p>

<p style="margin-left:22%;">In multi-monitor configurations
(i.e. a single desktop that spans across multiple displays),
this option tells mpv which screen to display the video
on.</p>

<p style="margin-left:26%;">Note (X11)</p>

<p style="margin-left:37%; margin-top: 1em">This option
does not work properly with all window managers. In these
cases, you can try to use <b>--geometry</b> to position the
window explicitly. It's also possible that the window
manager provides native features to control which screens
application windows should use.</p>

<p style="margin-left:22%; margin-top: 1em">See also
<b>--fs-screen</b>.</p>

<p style="margin-left:11%;"><b>--fullscreen, --fs</b></p>

<p style="margin-left:22%;">Fullscreen playback.</p>


<p style="margin-left:11%;"><b>--fs-screen=&lt;all|current|0-32&gt;</b></p>

<p style="margin-left:22%;">In multi-monitor configurations
(i.e. a single desktop that spans across multiple displays),
this option tells mpv which screen to go fullscreen to. If
<b>current</b> is used mpv will fallback on what the user
provided with the <b>screen</b> option.</p>

<p style="margin-left:26%;">Note (X11)</p>

<p style="margin-left:37%; margin-top: 1em">This option
works properly only with window managers which understand
the EWMH <b>_NET_WM_FULLSCREEN_MONITORS</b> hint.</p>

<p style="margin-left:26%;">Note (OS X)</p>

<p style="margin-left:37%; margin-top: 1em"><b>all</b> does
not work on OS X and will behave like <b>current</b>.</p>

<p style="margin-left:22%; margin-top: 1em">See also
<b>--screen</b>.</p>


<p style="margin-left:11%;"><b>--keep-open=&lt;yes|no|always&gt;</b></p>

<p style="margin-left:22%;">Do not terminate when playing
or seeking beyond the end of the file, and there is not next
file to be played (and <b>--loop</b> is not used). Instead,
pause the player. When trying to seek beyond end of the
file, the player will attempt to seek to the last frame.</p>

<p style="margin-left:22%; margin-top: 1em">Normally, this
will act like <b>set pause yes</b> on EOF, unless the
<b>--keep-open-pause=no</b> option is set.</p>

<p style="margin-left:22%; margin-top: 1em">The following
arguments can be given:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>no</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>If the current file ends, go to the next file or
terminate. (Default.)</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>yes</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>Don't terminate if the current file is the last playlist
entry. Equivalent to <b>--keep-open</b> without
arguments.</p> </td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>always</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>Like <b>yes</b>, but also applies to files before the
last playlist entry. This means playback will never
automatically advance to the next file.</p></td></tr>
</table>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">This option is not respected
when using <b>--frames</b>. Explicitly skipping to the next
file if the binding uses <b>force</b> will terminate
playback as well.</p>

<p style="margin-left:26%; margin-top: 1em">Also, if errors
or unusual circumstances happen, the player can quit
anyway.</p>

<p style="margin-left:22%; margin-top: 1em">Since mpv
0.6.0, this doesn't pause if there is a next file in the
playlist, or the playlist is looped. Approximately, this
will pause when the player would normally exit, but in
practice there are corner cases in which this is not the
case (e.g. <b>mpv --keep-open file.mkv /dev/null</b> will
play file.mkv normally, then fail to open <b>/dev/null</b>,
then exit). (In mpv 0.8.0, <b>always</b> was introduced,
which restores the old behavior.)</p>


<p style="margin-left:11%;"><b>--keep-open-pause=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">If set to <b>no</b>, instead of
pausing when <b>--keep-open</b> is active, just stop at end
of file and continue playing forward when you seek backwards
until end where it stops again. Default: <b>yes</b>.</p>


<p style="margin-left:11%;"><b>--image-display-duration=&lt;seconds|inf&gt;</b></p>

<p style="margin-left:22%;">If the current file is an
image, play the image for the given amount of seconds
(default: 1). <b>inf</b> means the file is kept open forever
(until the user stops playback manually).</p>

<p style="margin-left:22%; margin-top: 1em">Unlike
<b>--keep-open</b>, the player is not paused, but simply
continues playback until the time has elapsed. (It should
not use any resources during &quot;playback&quot;.)</p>

<p style="margin-left:22%; margin-top: 1em">This affects
image files, which are defined as having only 1 video frame
and no audio. The player may recognize certain non-images as
images, for example if <b>--length</b> is used to reduce the
length to 1 frame, or if you seek to the last frame.</p>

<p style="margin-left:22%; margin-top: 1em">This option
does not affect the framerate used for <b>mf://</b> or
<b>--merge-files</b>. For that, use <b>--mf-fps</b>
instead.</p>

<p style="margin-left:22%; margin-top: 1em">Setting
<b>--image-display-duration</b> hides the OSC and does not
track playback time on the command-line output, and also
does not duplicate the image frame when encoding. To force
the player into &quot;dumb mode&quot; and actually count out
seconds, or to duplicate the image when encoding, you need
to use <b>--demuxer=lavf --demuxer-lavf-o=loop=1</b>, and
use <b>--length</b> or <b>--frames</b> to stop after a
particular time.</p>


<p style="margin-left:11%;"><b>--force-window=&lt;yes|no|immediate&gt;</b></p>

<p style="margin-left:22%;">Create a video output window
even if there is no video. This can be useful when
pretending that mpv is a GUI application. Currently, the
window always has the size 640x480, and is subject to
<b>--geometry</b>, <b>--autofit</b>, and similar
options.</p>


<p style="margin-left:22%; margin-top: 1em"><b>WARNING:</b></p>

<p style="margin-left:26%;">The window is created only
after initialization (to make sure default window placement
still works if the video size is different from the
<b>--force-window</b> default window size). This can be a
problem if initialization doesn't work perfectly, such as
when opening URLs with bad network connection, or opening
broken video files. The <b>immediate</b> mode can be used to
create the window always on program start, but this may
cause other issues.</p>

<p style="margin-left:11%;"><b>--taskbar-progress,
--no-taskbar-progress</b></p>

<p style="margin-left:22%;">(Windows only) Enable/disable
playback progress rendering in taskbar (Windows 7 and
above).</p>

<p style="margin-left:22%; margin-top: 1em">Enabled by
default.</p>

<p style="margin-left:11%;"><b>--snap-window</b></p>

<p style="margin-left:22%;">(Windows only) Snap the player
window to screen edges.</p>

<p style="margin-left:11%;"><b>--ontop</b></p>

<p style="margin-left:22%;">Makes the player window stay on
top of other windows.</p>

<p style="margin-left:22%; margin-top: 1em">On Windows, if
combined with fullscreen mode, this causes mpv to be treated
as exclusive fullscreen window that bypasses the Desktop
Window Manager.</p>


<p style="margin-left:11%;"><b>--ontop-level=&lt;window|system|level&gt;</b></p>

<p style="margin-left:22%;">(OS X only) Sets the level of
an ontop window (default: window).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>window</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>On top of all other windows.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>system</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>On top of system elements like Taskbar, Menubar and
Dock.</p> </td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>level</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>A level as integer.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>--border,
--no-border</b></p>

<p style="margin-left:22%;">Play video with window border
and decorations. Since this is on by default, use
<b>--no-border</b> to disable the standard window
decorations.</p>

<p style="margin-left:11%;"><b>--fit-border,
--no-fit-border</b></p>

<p style="margin-left:22%;">(Windows only) Fit the whole
window with border and decorations on the screen. Since this
is on by default, use <b>--no-fit-border</b> to make mpv try
to only fit client area with video on the screen. This
behavior only applied to window/video with size exceeding
size of the screen.</p>

<p style="margin-left:11%;"><b>--on-all-workspaces</b></p>

<p style="margin-left:22%;">(X11 only) Show the video
window on all virtual desktops.</p>


<p style="margin-left:11%;"><b>--geometry=&lt;[W[xH]][+-x+-y]&gt;,
--geometry=&lt;x:y&gt;</b></p>

<p style="margin-left:22%;">Adjust the initial window
position or size. <b>W</b> and <b>H</b> set the window size
in pixels. <b>x</b> and <b>y</b> set the window position,
measured in pixels from the top-left corner of the screen to
the top-left corner of the image being displayed. If a
percentage sign (<b>%</b>) is given after the argument, it
turns the value into a percentage of the screen size in that
direction. Positions are specified similar to the standard
X11 <b>--geometry</b> option format, in which e.g. +10-50
means &quot;place 10 pixels from the left border and 50
pixels from the lower border&quot; and &quot;--20+-10&quot;
means &quot;place 20 pixels beyond the right and 10 pixels
beyond the top border&quot;.</p>

<p style="margin-left:22%; margin-top: 1em">If an external
window is specified using the <b>--wid</b> option, this
option is ignored.</p>

<p style="margin-left:22%; margin-top: 1em">The coordinates
are relative to the screen given with <b>--screen</b> for
the video output drivers that fully support
<b>--screen</b>.</p>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">Generally only supported by GUI
VOs. Ignored for encoding. <br>
Note (X11)</p>

<p style="margin-left:37%; margin-top: 1em">This option
does not work properly with all window managers.</p>

<p style="margin-left:26%;">Examples</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="8%">


<p><b>50:40</b></p></td>
<td width="3%"></td>
<td width="49%">


<p>Places the window at x=50, y=40.</p></td>
<td width="14%">
</td></tr>
</table>

<p style="margin-left:26%;"><b>50%:50%</b></p>

<p style="margin-left:37%;">Places the window in the middle
of the screen.</p>

<p style="margin-left:26%;"><b>100%:100%</b></p>

<p style="margin-left:37%;">Places the window at the bottom
right corner of the screen.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="5%">


<p><b>50%</b></p></td>
<td width="6%"></td>
<td width="63%">


<p>Sets the window width to half the screen width. Window
height is set so that the window has the video aspect
ratio.</p> </td></tr>
</table>

<p style="margin-left:26%;"><b>50%x50%</b></p>

<p style="margin-left:37%;">Forces the window width and
height to half the screen width and height. Will show black
borders to compensate for the video aspect ratio (with most
VOs and without <b>--no-keepaspect</b>).</p>

<p style="margin-left:26%;"><b>50%+10+10</b></p>

<p style="margin-left:37%;">Sets the window to half the
screen widths, and positions it 10 pixels below/left of the
top left corner of the screen.</p>

<p style="margin-left:22%; margin-top: 1em">See also
<b>--autofit</b> and <b>--autofit-larger</b> for fitting the
window into a given size without changing aspect ratio.</p>


<p style="margin-left:11%;"><b>--autofit=&lt;[W[xH]]&gt;</b></p>

<p style="margin-left:22%;">Set the initial window size to
a maximum size specified by <b>WxH</b>, without changing the
window's aspect ratio. The size is measured in pixels, or if
a number is followed by a percentage sign (<b>%</b>), in
percents of the screen size.</p>

<p style="margin-left:22%; margin-top: 1em">This option
never changes the aspect ratio of the window. If the aspect
ratio mismatches, the window's size is reduced until it fits
into the specified size.</p>

<p style="margin-left:22%; margin-top: 1em">Window position
is not taken into account, nor is it modified by this option
(the window manager still may place the window differently
depending on size). Use <b>--geometry</b> to change the
window position. Its effects are applied after this
option.</p>

<p style="margin-left:22%; margin-top: 1em">See
<b>--geometry</b> for details how this is handled with
multi-monitor setups.</p>

<p style="margin-left:22%; margin-top: 1em">Use
<b>--autofit-larger</b> instead if you just want to limit
the maximum size of the window, rather than always forcing a
window size.</p>

<p style="margin-left:22%; margin-top: 1em">Use
<b>--geometry</b> if you want to force both window width and
height to a specific size.</p>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">Generally only supported by GUI
VOs. Ignored for encoding. <br>
Examples</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="6%">


<p><b>70%</b></p></td>
<td width="5%"></td>
<td width="63%">


<p>Make the window width 70% of the screen size, keeping
aspect ratio.</p></td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="6%">


<p><b>1000</b></p></td>
<td width="5%"></td>
<td width="63%">


<p>Set the window width to 1000 pixels, keeping aspect
ratio.</p> </td></tr>
</table>

<p style="margin-left:26%;"><b>70%x60%</b></p>

<p style="margin-left:37%;">Make the window as large as
possible, without being wider than 70% of the screen width,
or higher than 60% of the screen height.</p>


<p style="margin-left:11%;"><b>--autofit-larger=&lt;[W[xH]]&gt;</b></p>

<p style="margin-left:22%;">This option behaves exactly
like <b>--autofit</b>, except the window size is only
changed if the window would be larger than the specified
size.</p>

<p style="margin-left:26%;">Example <b><br>
90%x80%</b></p>

<p style="margin-left:37%;">If the video is larger than 90%
of the screen width or 80% of the screen height, make the
window smaller until either its width is 90% of the screen,
or its height is 80% of the screen.</p>


<p style="margin-left:11%;"><b>--autofit-smaller=&lt;[W[xH]]&gt;</b></p>

<p style="margin-left:22%;">This option behaves exactly
like <b>--autofit</b>, except that it sets the minimum size
of the window (just as <b>--autofit-larger</b> sets the
maximum).</p>

<p style="margin-left:26%;">Example <b><br>
500x500</b></p>

<p style="margin-left:37%;">Make the window at least 500
pixels wide and 500 pixels high (depending on the video
aspect ratio, the width or height will be larger than 500 in
order to keep the aspect ratio the same).</p>


<p style="margin-left:11%;"><b>--window-scale=&lt;factor&gt;</b></p>

<p style="margin-left:22%;">Resize the video window to a
multiple (or fraction) of the video size. This option is
applied before <b>--autofit</b> and other options are
applied (so they override this option).</p>

<p style="margin-left:22%; margin-top: 1em">For example,
<b>--window-scale=0.5</b> would show the window at half the
video size.</p>


<p style="margin-left:11%;"><b>--window-minimized=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Whether the video window is
minimized or not. Setting this will minimize, or unminimze,
the video window if the current VO supports it. Note that
some VOs may support minimization while not supporting
unminimization (eg: Wayland).</p>

<p style="margin-left:22%; margin-top: 1em">Whether this
option and <b>--window-maximized</b> work on program start
or at runtime, and whether they're (at runtime) updated to
reflect the actual window state, heavily depends on the VO
and the windowing system. Some VOs simply do not implement
them or parts of them, while other VOs may be restricted by
the windowing systems (especially Wayland).</p>


<p style="margin-left:11%;"><b>--window-maximized=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Whether the video window is
maximized or not. Setting this will maximize, or unmaximize,
the video window if the current VO supports it. See
<b>--window-minimized</b> for further remarks.</p>


<p style="margin-left:11%;"><b>--cursor-autohide=&lt;number|no|always&gt;</b></p>

<p style="margin-left:22%;">Make mouse cursor automatically
hide after given number of milliseconds. <b>no</b> will
disable cursor autohide. <b>always</b> means the cursor will
stay hidden.</p>


<p style="margin-left:11%;"><b>--cursor-autohide-fs-only</b></p>

<p style="margin-left:22%;">If this option is given, the
cursor is always visible in windowed mode. In fullscreen
mode, the cursor is shown or hidden according to
<b>--cursor-autohide</b>.</p>

<p style="margin-left:11%;"><b>--no-fixed-vo,
--fixed-vo</b></p>

<p style="margin-left:22%;"><b>--no-fixed-vo</b> enforces
closing and reopening the video window for multiple files
(one (un)initialization for each file).</p>


<p style="margin-left:11%;"><b>--force-rgba-osd-rendering</b></p>

<p style="margin-left:22%;">Change how some video outputs
render the OSD and text subtitles. This does not change
appearance of the subtitles and only has performance
implications. For VOs which support native ASS rendering
(like <b>gpu</b>, <b>vdpau</b>, <b>direct3d</b>), this can
be slightly faster or slower, depending on GPU drivers and
hardware. For other VOs, this just makes rendering
slower.</p>


<p style="margin-left:11%;"><b>--force-window-position</b></p>

<p style="margin-left:22%;">Forcefully move mpv's video
output window to default location whenever there is a change
in video parameters, video stream or file. This used to be
the default behavior. Currently only affects X11 VOs.</p>

<p style="margin-left:11%;"><b>--no-keepaspect,
--keepaspect</b></p>

<p style="margin-left:22%;"><b>--no-keepaspect</b> will
always stretch the video to window size, and will disable
the window manager hints that force the window aspect ratio.
(Ignored in fullscreen mode.)</p>

<p style="margin-left:11%;"><b>--no-keepaspect-window,
--keepaspect-window</b></p>

<p style="margin-left:22%;"><b>--keepaspect-window</b> (the
default) will lock the window size to the video aspect.
<b>--no-keepaspect-window</b> disables this behavior, and
will instead add black bars if window aspect and video
aspect mismatch. Whether this actually works depends on the
VO backend. (Ignored in fullscreen mode.)</p>


<p style="margin-left:11%;"><b>--monitoraspect=&lt;ratio&gt;</b></p>

<p style="margin-left:22%;">Set the aspect ratio of your
monitor or TV screen. A value of 0 disables a previous
setting (e.g. in the config file). Overrides the
<b>--monitorpixelaspect</b> setting if enabled.</p>

<p style="margin-left:22%; margin-top: 1em">See also
<b>--monitorpixelaspect</b> and
<b>--video-aspect-override</b>.</p>

<p style="margin-left:26%;">Examples</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="71%">


<p><b>--monitoraspect=4:3</b> or
<b>--monitoraspect=1.3333</b></p> </td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="71%">


<p><b>--monitoraspect=16:9</b> or
<b>--monitoraspect=1.7777</b></p> </td></tr>
</table>

<p style="margin-left:11%;"><b>--hidpi-window-scale,
--no-hidpi-window-scale</b></p>

<p style="margin-left:22%;">(OS X, X11, and Wayland only)
Scale the window size according to the backing scale factor
(default: yes). On regular HiDPI resolutions the window
opens with double the size but appears as having the same
size as on none-HiDPI resolutions. This is the default OS X
behavior.</p>

<p style="margin-left:11%;"><b>--native-fs,
--no-native-fs</b></p>

<p style="margin-left:22%;">(OS X only) Uses the native
fullscreen mechanism of the OS (default: yes).</p>


<p style="margin-left:11%;"><b>--monitorpixelaspect=&lt;ratio&gt;</b></p>

<p style="margin-left:22%;">Set the aspect of a single
pixel of your monitor or TV screen (default: 1). A value of
1 means square pixels (correct for (almost?) all LCDs). See
also <b>--monitoraspect</b> and
<b>--video-aspect-override</b>.</p>

<p style="margin-left:11%;"><b>--stop-screensaver,
--no-stop-screensaver</b></p>

<p style="margin-left:22%;">Turns off the screensaver (or
screen blanker and similar mechanisms) at startup and turns
it on again on exit (default: yes). The screensaver is
always re-enabled when the player is paused.</p>

<p style="margin-left:22%; margin-top: 1em">This is not
supported on all video outputs or platforms. Sometimes it is
implemented, but does not work (especially with Linux
&quot;desktops&quot;).</p>

<p style="margin-left:11%;"><b>--wid=&lt;ID&gt;</b></p>

<p style="margin-left:22%;">This tells mpv to attach to an
existing window. If a VO is selected that supports this
option, it will use that window for video output. mpv will
scale the video to the size of this window, and will add
black bars to compensate if the aspect ratio of the video is
different.</p>

<p style="margin-left:22%; margin-top: 1em">On X11, the ID
is interpreted as a <b>Window</b> on X11. Unlike
MPlayer/mplayer2, mpv always creates its own window, and
sets the wid window as parent. The window will always be
resized to cover the parent window fully. The value <b>0</b>
is interpreted specially, and mpv will draw directly on the
root window.</p>

<p style="margin-left:22%; margin-top: 1em">On win32, the
ID is interpreted as <b>HWND</b>. Pass it as value cast to
<b>intptr_t</b>. mpv will create its own window, and set the
wid window as parent, like with X11.</p>

<p style="margin-left:22%; margin-top: 1em">On OSX/Cocoa,
the ID is interpreted as <b>NSView*</b>. Pass it as value
cast to <b>intptr_t</b>. mpv will create its own sub-view.
Because OSX does not support window embedding of foreign
processes, this works only with libmpv, and will crash when
used from the command line.</p>

<p style="margin-left:22%; margin-top: 1em">On Android, the
ID is interpreted as <b>android.view.Surface</b>. Pass it as
a value cast to <b>intptr_t</b>. Use with
<b>--vo=mediacodec_embed</b> and <b>--hwdec=mediacodec</b>
for direct rendering using MediaCodec, or with <b>--vo=gpu
--gpu-context=android</b> (with or without
<b>--hwdec=mediacodec-copy</b>).</p>


<p style="margin-left:11%;"><b>--no-window-dragging</b></p>

<p style="margin-left:22%;">Don't move the window when
clicking on it and moving the mouse pointer.</p>

<p style="margin-left:11%;"><b>--x11-name</b></p>

<p style="margin-left:22%;">Set the window class name for
X11-based video output methods.</p>


<p style="margin-left:11%;"><b>--x11-netwm=&lt;yes|no|auto&gt;</b></p>

<p style="margin-left:22%;">(X11 only) Control the use of
NetWM protocol features.</p>

<p style="margin-left:22%; margin-top: 1em">This may or may
not help with broken window managers. This provides some
functionality that was implemented by the now removed
<b>--fstype</b> option. Actually, it is not known to the
developers to which degree this option was needed, so
feedback is welcome.</p>

<p style="margin-left:22%; margin-top: 1em">Specifically,
<b>yes</b> will force use of NetWM fullscreen support, even
if not advertised by the WM. This can be useful for WMs that
are broken on purpose, like XMonad. (XMonad supposedly
doesn't advertise fullscreen support, because Flash uses it.
Apparently, applications which want to use fullscreen anyway
are supposed to either ignore the NetWM support hints, or
provide a workaround. Shame on XMonad for deliberately
breaking X protocols (as if X isn't bad enough already).</p>

<p style="margin-left:22%; margin-top: 1em">By default,
NetWM support is autodetected (<b>auto</b>).</p>

<p style="margin-left:22%; margin-top: 1em">This option
might be removed in the future.</p>


<p style="margin-left:11%;"><b>--x11-bypass-compositor=&lt;yes|no|fs-only|never&gt;</b></p>

<p style="margin-left:22%;">If set to <b>yes</b>, then ask
the compositor to unredirect the mpv window (default:
<b>fs-only</b>). This uses the
<b>_NET_WM_BYPASS_COMPOSITOR</b> hint.</p>

<p style="margin-left:22%; margin-top: 1em"><b>fs-only</b>
asks the window manager to disable the compositor only in
fullscreen mode.</p>

<p style="margin-left:22%; margin-top: 1em"><b>no</b> sets
<b>_NET_WM_BYPASS_COMPOSITOR</b> to 0, which is the default
value as declared by the EWMH specification, i.e. no change
is done.</p>

<p style="margin-left:22%; margin-top: 1em"><b>never</b>
asks the window manager to never disable the compositor.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Disc Devices
<br>
--cdrom-device=&lt;path&gt;</b></p>

<p style="margin-left:22%;">Specify the CD-ROM device
(default: <b>/dev/cdrom</b>).</p>


<p style="margin-left:11%;"><b>--dvd-device=&lt;path&gt;</b></p>

<p style="margin-left:22%;">Specify the DVD device or .iso
filename (default: <b>/dev/dvd</b>). You can also specify a
directory that contains files previously copied directly
from a DVD (with e.g. vobcopy).</p>

<p style="margin-left:26%;">Example</p>

<p style="margin-left:37%; margin-top: 1em"><b>mpv dvd://
--dvd-device=/path/to/dvd/</b></p>


<p style="margin-left:11%;"><b>--bluray-device=&lt;path&gt;</b></p>

<p style="margin-left:22%;">(Blu-ray only) Specify the
Blu-ray disc location. Must be a directory with Blu-ray
structure.</p>

<p style="margin-left:26%;">Example</p>

<p style="margin-left:37%; margin-top: 1em"><b>mpv bd://
--bluray-device=/path/to/bd/</b></p>

<p style="margin-left:11%;"><b>--cdda-...</b></p>

<p style="margin-left:22%;">These options can be used to
tune the CD Audio reading feature of mpv.</p>


<p style="margin-left:11%;"><b>--cdda-speed=&lt;value&gt;</b></p>

<p style="margin-left:22%;">Set CD spin speed.</p>


<p style="margin-left:11%;"><b>--cdda-paranoia=&lt;0-2&gt;</b></p>

<p style="margin-left:22%;">Set paranoia level. Values
other than 0 seem to break playback of anything but the
first track.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p><b>0</b></p></td>
<td width="9%"></td>
<td width="57%">


<p>disable checking (default)</p></td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p><b>1</b></p></td>
<td width="9%"></td>
<td width="57%">


<p>overlap checking only</p></td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p><b>2</b></p></td>
<td width="9%"></td>
<td width="57%">


<p>full data correction and verification</p></td>
<td width="11%">
</td></tr>
</table>


<p style="margin-left:11%;"><b>--cdda-sector-size=&lt;value&gt;</b></p>

<p style="margin-left:22%;">Set atomic read size.</p>


<p style="margin-left:11%;"><b>--cdda-overlap=&lt;value&gt;</b></p>

<p style="margin-left:22%;">Force minimum overlap search
during verification to &lt;value&gt; sectors.</p>

<p style="margin-left:11%;"><b>--cdda-toc-bias</b></p>

<p style="margin-left:22%;">Assume that the beginning
offset of track 1 as reported in the TOC will be addressed
as LBA 0. Some discs need this for getting track boundaries
correctly.</p>


<p style="margin-left:11%;"><b>--cdda-toc-offset=&lt;value&gt;</b></p>

<p style="margin-left:22%;">Add <b>&lt;value&gt;</b>
sectors to the values reported when addressing tracks. May
be negative.</p>


<p style="margin-left:11%;"><b>--cdda-skip=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">(Never) accept imperfect data
reconstruction.</p>


<p style="margin-left:11%;"><b>--cdda-cdtext=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Print CD text. This is disabled
by default, because it ruins performance with CD-ROM drives
for unknown reasons.</p>


<p style="margin-left:11%;"><b>--dvd-speed=&lt;speed&gt;</b></p>

<p style="margin-left:22%;">Try to limit DVD speed
(default: 0, no change). DVD base speed is 1385 kB/s, so an
8x drive can read at speeds up to 11080 kB/s. Slower speeds
make the drive more quiet. For watching DVDs, 2700 kB/s
should be quiet and fast enough. mpv resets the speed to the
drive default value on close. Values of at least 100 mean
speed in kB/s. Values less than 100 mean multiples of 1385
kB/s, i.e. <b>--dvd-speed=8</b> selects 11080 kB/s.</p>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">You need write access to the
DVD device to change the speed.</p>


<p style="margin-left:11%;"><b>--dvd-angle=&lt;ID&gt;</b></p>

<p style="margin-left:22%;">Some DVDs contain scenes that
can be viewed from multiple angles. This option tells mpv
which angle to use (default: 1).</p>

<p style="margin-left:11%; margin-top: 1em"><b>Equalizer
<br>
--brightness=&lt;-100-100&gt;</b></p>

<p style="margin-left:22%;">Adjust the brightness of the
video signal (default: 0). Not supported by all video output
drivers.</p>


<p style="margin-left:11%;"><b>--contrast=&lt;-100-100&gt;</b></p>

<p style="margin-left:22%;">Adjust the contrast of the
video signal (default: 0). Not supported by all video output
drivers.</p>


<p style="margin-left:11%;"><b>--saturation=&lt;-100-100&gt;</b></p>

<p style="margin-left:22%;">Adjust the saturation of the
video signal (default: 0). You can get grayscale output with
this option. Not supported by all video output drivers.</p>


<p style="margin-left:11%;"><b>--gamma=&lt;-100-100&gt;</b></p>

<p style="margin-left:22%;">Adjust the gamma of the video
signal (default: 0). Not supported by all video output
drivers.</p>


<p style="margin-left:11%;"><b>--hue=&lt;-100-100&gt;</b></p>

<p style="margin-left:22%;">Adjust the hue of the video
signal (default: 0). You can get a colored negative of the
image with this option. Not supported by all video output
drivers.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Demuxer <br>
--demuxer=&lt;[+]name&gt;</b></p>

<p style="margin-left:22%;">Force demuxer type. Use a '+'
before the name to force it; this will skip some checks.
Give the demuxer name as printed by
<b>--demuxer=help</b>.</p>


<p style="margin-left:11%;"><b>--demuxer-lavf-analyzeduration=&lt;value&gt;</b></p>

<p style="margin-left:22%;">Maximum length in seconds to
analyze the stream properties.</p>


<p style="margin-left:11%;"><b>--demuxer-lavf-probe-info=&lt;yes|no|auto|nostreams&gt;</b></p>

<p style="margin-left:22%;">Whether to probe stream
information (default: auto). Technically, this controls
whether libavformat's <b>avformat_find_stream_info()</b>
function is called. Usually it's safer to call it, but it
can also make startup slower.</p>

<p style="margin-left:22%; margin-top: 1em">The <b>auto</b>
choice (the default) tries to skip this for a few know-safe
whitelisted formats, while calling it for everything
else.</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>nostreams</b> choice only calls it if and only if the
file seems to contain no streams after opening (helpful in
cases when calling the function is needed to detect streams
at all, such as with FLV files).</p>


<p style="margin-left:11%;"><b>--demuxer-lavf-probescore=&lt;1-100&gt;</b></p>

<p style="margin-left:22%;">Minimum required libavformat
probe score. Lower values will require less data to be
loaded (makes streams start faster), but makes file format
detection less reliable. Can be used to force auto-detected
libavformat demuxers, even if libavformat considers the
detection not reliable enough. (Default: 26.)</p>


<p style="margin-left:11%;"><b>--demuxer-lavf-allow-mimetype=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Allow deriving the format from
the HTTP MIME type (default: yes). Set this to no in case
playing things from HTTP mysteriously fails, even though the
same files work from local disk.</p>

<p style="margin-left:22%; margin-top: 1em">This is default
in order to reduce latency when opening HTTP streams.</p>


<p style="margin-left:11%;"><b>--demuxer-lavf-format=&lt;name&gt;</b></p>

<p style="margin-left:22%;">Force a specific libavformat
demuxer.</p>


<p style="margin-left:11%;"><b>--demuxer-lavf-hacks=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">By default, some formats will
be handled differently from other formats by explicitly
checking for them. Most of these compensate for weird or
imperfect behavior from libavformat demuxers. Passing
<b>no</b> disables these. For debugging and testing
only.</p>


<p style="margin-left:11%;"><b>--demuxer-lavf-o=&lt;key&gt;=&lt;value&gt;[,&lt;key&gt;=&lt;value&gt;[,...]]</b></p>

<p style="margin-left:22%;">Pass AVOptions to libavformat
demuxer.</p>

<p style="margin-left:22%; margin-top: 1em">Note, a patch
to make the <i>o=</i> unneeded and pass all unknown options
through the AVOption system is welcome. A full list of
AVOptions can be found in the FFmpeg manual. Note that some
options may conflict with mpv options.</p>

<p style="margin-left:22%; margin-top: 1em">This is a
key/value list option. See <i>List Options</i> for
details.</p>

<p style="margin-left:26%;">Example</p>


<p style="margin-left:37%; margin-top: 1em"><b>--demuxer-lavf-o=fflags=+ignidx</b></p>


<p style="margin-left:11%;"><b>--demuxer-lavf-probesize=&lt;value&gt;</b></p>

<p style="margin-left:22%;">Maximum amount of data to probe
during the detection phase. In the case of MPEG-TS this
value identifies the maximum number of TS packets to
scan.</p>


<p style="margin-left:11%;"><b>--demuxer-lavf-buffersize=&lt;value&gt;</b></p>

<p style="margin-left:22%;">Size of the stream read buffer
allocated for libavformat in bytes (default: 32768).
Lowering the size could lower latency. Note that libavformat
might reallocate the buffer internally, or not fully use all
of it.</p>


<p style="margin-left:11%;"><b>--demuxer-lavf-linearize-timestamps=&lt;yes|no|auto&gt;</b></p>

<p style="margin-left:22%;">Attempt to linearize timestamp
resets in demuxed streams (default: auto). This was tested
only for single audio streams. It's unknown whether it works
correctly for video (but likely won't). Note that the
implementation is slightly incorrect either way, and will
introduce a discontinuity by about 1 codec frame size.</p>

<p style="margin-left:22%; margin-top: 1em">The <b>auto</b>
mode enables this for OGG audio stream. This covers the
common and annoying case of OGG web radio streams. Some of
these will reset timestamps to 0 every time a new song
begins. This breaks the mpv seekable cache, which can't deal
with timestamp resets. Note that FFmpeg/libavformat's
seeking API can't deal with this either; it's likely that if
this option breaks this even more, while if it's disabled,
you can at least seek within the first song in the stream.
Well, you won't get anything useful either way if the seek
is outside of mpv's cache.</p>


<p style="margin-left:11%;"><b>--demuxer-lavf-propagate-opts=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Propagate FFmpeg-level options
to recursively opened connections (default: yes). This is
needed because FFmpeg will apply these settings to nested
AVIO contexts automatically. On the other hand, this could
break in certain situations - it's the FFmpeg API, you just
can't win.</p>

<p style="margin-left:22%; margin-top: 1em">This affects in
particular the <b>--timeout</b> option and anything passed
with <b>--demuxer-lavf-o</b>.</p>

<p style="margin-left:22%; margin-top: 1em">If this option
is deemed unnecessary at some point in the future, it will
be removed without notice.</p>


<p style="margin-left:11%;"><b>--demuxer-mkv-subtitle-preroll=&lt;yes|index|no&gt;,
--mkv-subtitle-preroll</b></p>

<p style="margin-left:22%;">Try harder to show embedded
soft subtitles when seeking somewhere. Normally, it can
happen that the subtitle at the seek target is not shown due
to how some container file formats are designed. The
subtitles appear only if seeking before or exactly to the
position a subtitle first appears. To make this worse,
subtitles are often timed to appear a very small amount
before the associated video frame, so that seeking to the
video frame typically does not demux the subtitle at that
position.</p>

<p style="margin-left:22%; margin-top: 1em">Enabling this
option makes the demuxer start reading data a bit before the
seek target, so that subtitles appear correctly. Note that
this makes seeking slower, and is not guaranteed to always
work. It only works if the subtitle is close enough to the
seek target.</p>

<p style="margin-left:22%; margin-top: 1em">Works with the
internal Matroska demuxer only. Always enabled for absolute
and hr-seeks, and this option changes behavior with relative
or imprecise seeks only.</p>

<p style="margin-left:22%; margin-top: 1em">You can use the
<b>--demuxer-mkv-subtitle-preroll-secs</b> option to specify
how much data the demuxer should pre-read at most in order
to find subtitle packets that may overlap. Setting this to 0
will effectively disable this preroll mechanism. Setting a
very large value can make seeking very slow, and an
extremely large value would completely reread the entire
file from start to seek target on every seek - seeking can
become slower towards the end of the file. The details are
messy, and the value is actually rounded down to the cluster
with the previous video keyframe.</p>

<p style="margin-left:22%; margin-top: 1em">Some files,
especially files muxed with newer mkvmerge versions, have
information embedded that can be used to determine what
subtitle packets overlap with a seek target. In these cases,
mpv will reduce the amount of data read to a minimum.
(Although it will still read <i>all</i> data between the
cluster that contains the first wanted subtitle packet, and
the seek target.) If the <b>index</b> choice (which is the
default) is specified, then prerolling will be done only if
this information is actually available. If this method is
used, the maximum amount of data to skip can be additionally
controlled by
<b>--demuxer-mkv-subtitle-preroll-secs-index</b> (it still
uses the value of the option without <b>-index</b> if that
is higher).</p>

<p style="margin-left:22%; margin-top: 1em">See also
<b>--hr-seek-demuxer-offset</b> option. This option can
achieve a similar effect, but only if hr-seek is active. It
works with any demuxer, but makes seeking much slower, as it
has to decode audio and video data instead of just skipping
over it.</p>


<p style="margin-left:22%; margin-top: 1em"><b>--mkv-subtitle-preroll</b>
is a deprecated alias.</p>


<p style="margin-left:11%;"><b>--demuxer-mkv-subtitle-preroll-secs=&lt;value&gt;</b></p>

<p style="margin-left:22%;">See
<b>--demuxer-mkv-subtitle-preroll</b>.</p>


<p style="margin-left:11%;"><b>--demuxer-mkv-subtitle-preroll-secs-index=&lt;value&gt;</b></p>

<p style="margin-left:22%;">See
<b>--demuxer-mkv-subtitle-preroll</b>.</p>


<p style="margin-left:11%;"><b>--demuxer-mkv-probe-video-duration=&lt;yes|no|full&gt;</b></p>

<p style="margin-left:22%;">When opening the file, seek to
the end of it, and check what timestamp the last video
packet has, and report that as file duration. This is
strictly for compatibility with Haali only. In this mode,
it's possible that opening will be slower (especially when
playing over http), or that behavior with broken files is
much worse. So don't use this option.</p>

<p style="margin-left:22%; margin-top: 1em">The <b>yes</b>
mode merely uses the index and reads a small number of
blocks from the end of the file. The <b>full</b> mode
actually traverses the entire file and can make a reliable
estimate even without an index present (such as partial
files).</p>


<p style="margin-left:11%;"><b>--demuxer-rawaudio-channels=&lt;value&gt;</b></p>

<p style="margin-left:22%;">Number of channels (or channel
layout) if <b>--demuxer=rawaudio</b> is used (default:
stereo).</p>


<p style="margin-left:11%;"><b>--demuxer-rawaudio-format=&lt;value&gt;</b></p>

<p style="margin-left:22%;">Sample format for
<b>--demuxer=rawaudio</b> (default: s16le). Use
<b>--demuxer-rawaudio-format=help</b> to get a list of all
formats.</p>


<p style="margin-left:11%;"><b>--demuxer-rawaudio-rate=&lt;value&gt;</b></p>

<p style="margin-left:22%;">Sample rate for
<b>--demuxer=rawaudio</b> (default: 44 kHz).</p>


<p style="margin-left:11%;"><b>--demuxer-rawvideo-fps=&lt;value&gt;</b></p>

<p style="margin-left:22%;">Rate in frames per second for
<b>--demuxer=rawvideo</b> (default: 25.0).</p>


<p style="margin-left:11%;"><b>--demuxer-rawvideo-w=&lt;value&gt;,
--demuxer-rawvideo-h=&lt;value&gt;</b></p>

<p style="margin-left:22%;">Image dimension in pixels for
<b>--demuxer=rawvideo</b>.</p>

<p style="margin-left:26%;">Example</p>

<p style="margin-left:37%; margin-top: 1em">Play a raw YUV
sample:</p>

<pre style="margin-left:32%; margin-top: 1em">mpv sample-720x576.yuv --demuxer=rawvideo \
--demuxer-rawvideo-w=720 --demuxer-rawvideo-h=576</pre>



<p style="margin-left:11%;"><b>--demuxer-rawvideo-format=&lt;value&gt;</b></p>

<p style="margin-left:22%;">Color space (fourcc) in hex or
string for <b>--demuxer=rawvideo</b> (default:
<b>YV12</b>).</p>


<p style="margin-left:11%;"><b>--demuxer-rawvideo-mp-format=&lt;value&gt;</b></p>

<p style="margin-left:22%;">Color space by internal video
format for <b>--demuxer=rawvideo</b>. Use
<b>--demuxer-rawvideo-mp-format=help</b> for a list of
possible formats.</p>


<p style="margin-left:11%;"><b>--demuxer-rawvideo-codec=&lt;value&gt;</b></p>

<p style="margin-left:22%;">Set the video codec instead of
selecting the rawvideo codec when using
<b>--demuxer=rawvideo</b>. This uses the same values as
codec names in <b>--vd</b> (but it does not accept decoder
names).</p>


<p style="margin-left:11%;"><b>--demuxer-rawvideo-size=&lt;value&gt;</b></p>

<p style="margin-left:22%;">Frame size in bytes when using
<b>--demuxer=rawvideo</b>.</p>


<p style="margin-left:11%;"><b>--demuxer-cue-codepage=&lt;codepage&gt;</b></p>

<p style="margin-left:22%;">Specify the CUE sheet codepage.
(See <b>--sub-codepage</b> for details.)</p>


<p style="margin-left:11%;"><b>--demuxer-max-bytes=&lt;bytesize&gt;</b></p>

<p style="margin-left:22%;">This controls how much the
demuxer is allowed to buffer ahead. The demuxer will
normally try to read ahead as much as necessary, or as much
is requested with <b>--demuxer-readahead-secs</b>. The
option can be used to restrict the maximum readahead. This
limits excessive readahead in case of broken files or
desynced playback. The demuxer will stop reading additional
packets as soon as one of the limits is reached. (The limits
still can be slightly overstepped due to technical
reasons.)</p>

<p style="margin-left:22%; margin-top: 1em">Set these
limits higher if you get a packet queue overflow warning,
and you think normal playback would be possible with a
larger packet queue.</p>

<p style="margin-left:22%; margin-top: 1em">See
<b>--list-options</b> for defaults and value range.
<b>&lt;bytesize&gt;</b> options accept suffixes such as
<b>KiB</b> and <b>MiB</b>.</p>


<p style="margin-left:11%;"><b>--demuxer-max-back-bytes=&lt;bytesize&gt;</b></p>

<p style="margin-left:22%;">This controls how much past
data the demuxer is allowed to preserve. This is useful only
if the <b>--demuxer-seekable-cache</b> option is enabled.
Unlike the forward cache, there is no control how many
seconds are actually cached - it will simply use as much
memory this option allows. Setting this option to 0 will
strictly disable any back buffer, but this will lead to the
situation that the forward seek range starts after the
current playback position (as it removes past packets that
are seek points).</p>

<p style="margin-left:22%; margin-top: 1em">If the end of
the file is reached, the remaining unused forward buffer
space is &quot;donated&quot; to the backbuffer (unless the
backbuffer size is set to 0). This still limits the total
cache usage to the sum of the forward and backward cache,
and effectively makes better use of the total allowed memory
budget. (The opposite does not happen: free backward buffer
is never &quot;donated&quot; to the forward buffer.)</p>

<p style="margin-left:22%; margin-top: 1em">Keep in mind
that other buffers in the player (like decoders) will cause
the demuxer to cache &quot;future&quot; frames in the back
buffer, which can skew the impression about how much data
the backbuffer contains.</p>

<p style="margin-left:22%; margin-top: 1em">See
<b>--list-options</b> for defaults and value range.</p>


<p style="margin-left:11%;"><b>--demuxer-seekable-cache=&lt;yes|no|auto&gt;</b></p>

<p style="margin-left:22%;">This controls whether seeking
can use the demuxer cache (default: auto). If enabled, short
seek offsets will not trigger a low level demuxer seek
(which means for example that slow network round trips or
FFmpeg seek bugs can be avoided). If a seek cannot happen
within the cached range, a low level seek will be triggered.
Seeking outside of the cache will start a new cached range,
but can discard the old cache range if the demuxer exhibits
certain unsupported behavior.</p>

<p style="margin-left:22%; margin-top: 1em">Keep in mind
that some events can flush the cache or force a low level
seek anyway, such as switching tracks, or attempting to seek
before the start or after the end of the file.</p>

<p style="margin-left:22%; margin-top: 1em">The special
value <b>auto</b> means <b>yes</b> in the same situation as
<b>--cache-secs</b> is used (i.e. when the stream appears to
be a network stream or the stream cache is enabled).</p>


<p style="margin-left:11%;"><b>--demuxer-thread=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Run the demuxer in a separate
thread, and let it prefetch a certain amount of packets
(default: yes). Having this enabled leads to smoother
playback, enables features like prefetching, and prevents
that stuck network freezes the player. On the other hand, it
can add overhead, or the background prefetching can hog CPU
resources.</p>

<p style="margin-left:22%; margin-top: 1em">Disabling this
option is not recommended. Use it for debugging only.</p>


<p style="margin-left:11%;"><b>--demuxer-termination-timeout=&lt;seconds&gt;</b></p>

<p style="margin-left:22%;">Number of seconds the player
should wait to shutdown the demuxer (default: 0.1). The
player will wait up to this much time before it closes the
stream layer forcefully. Forceful closing usually means the
network I/O is given no chance to close its connections
gracefully (of course the OS can still close TCP connections
properly), and might result in annoying messages being
logged, and in some cases, confused remote servers.</p>

<p style="margin-left:22%; margin-top: 1em">This timeout is
usually only applied when loading has finished properly. If
loading is aborted by the user, or in some corner cases like
removing external tracks sourced from network during
playback, forceful closing is always used.</p>


<p style="margin-left:11%;"><b>--demuxer-readahead-secs=&lt;seconds&gt;</b></p>

<p style="margin-left:22%;">If <b>--demuxer-thread</b> is
enabled, this controls how much the demuxer should buffer
ahead in seconds (default: 1). As long as no packet has a
timestamp difference higher than the readahead amount
relative to the last packet returned to the decoder, the
demuxer keeps reading.</p>

<p style="margin-left:22%; margin-top: 1em">Note that the
<b>--cache-secs</b> option will override this value if a
cache is enabled, and the value is larger.</p>

<p style="margin-left:22%; margin-top: 1em">(This value
tends to be fuzzy, because many file formats don't store
linear timestamps.)</p>


<p style="margin-left:11%;"><b>--prefetch-playlist=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Prefetch next playlist entry
while playback of the current entry is ending (default: no).
This merely opens the URL of the next playlist entry as soon
as the current URL is fully read.</p>

<p style="margin-left:22%; margin-top: 1em">This does
<b>not</b> work with URLs resolved by the <b>youtube-dl</b>
wrapper, and it won't.</p>

<p style="margin-left:22%; margin-top: 1em">This does not
affect HLS (<b>.m3u8</b> URLs) - HLS prefetching depends on
the demuxer cache settings and is on by default.</p>

<p style="margin-left:22%; margin-top: 1em">This can give
subtly wrong results if per-file options are used, or if
options are changed in the time window between prefetching
start and next file played.</p>

<p style="margin-left:22%; margin-top: 1em">This can
occasionally make wrong prefetching decisions. For example,
it can't predict whether you go backwards in the playlist,
and assumes you won't edit the playlist.</p>

<p style="margin-left:22%; margin-top: 1em">Highly
experimental.</p>


<p style="margin-left:11%;"><b>--force-seekable=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">If the player thinks that the
media is not seekable (e.g. playing from a pipe, or it's an
http stream with a server that doesn't support range
requests), seeking will be disabled. This option can
forcibly enable it. For seeks within the cache, there's a
good chance of success.</p>


<p style="margin-left:11%;"><b>--demuxer-cache-wait=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Before starting playback, read
data until either the end of the file was reached, or the
demuxer cache has reached maximum capacity. Only once this
is done, playback starts. This intentionally happens before
the initial seek triggered with <b>--start</b>. This does
not change any runtime behavior after the initial caching.
This option is useless if the file cannot be cached
completely.</p>


<p style="margin-left:11%;"><b>--rar-list-all-volumes=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">When opening multi-volume rar
files, open all volumes to create a full list of contained
files (default: no). If disabled, only the archive entries
whose headers are located within the first volume are listed
(and thus played when opening a .rar file with mpv). Doing
so speeds up opening, and the typical idiotic use-case of
playing uncompressed multi-volume rar files that contain a
single media file is made faster.</p>

<p style="margin-left:22%; margin-top: 1em">Opening is
still slow, because for unknown, idiotic, and unnecessary
reasons libarchive opens all volumes anyway when playing the
main file, even though mpv iterated no archive entries
yet.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Input <br>
--native-keyrepeat</b></p>

<p style="margin-left:22%;">Use system settings for
keyrepeat delay and rate, instead of <b>--input-ar-delay</b>
and <b>--input-ar-rate</b>. (Whether this applies depends on
the VO backend and how it handles keyboard input. Does not
apply to terminal input.)</p>

<p style="margin-left:11%;"><b>--input-ar-delay</b></p>

<p style="margin-left:22%;">Delay in milliseconds before we
start to autorepeat a key (0 to disable).</p>

<p style="margin-left:11%;"><b>--input-ar-rate</b></p>

<p style="margin-left:22%;">Number of key presses to
generate per second on autorepeat.</p>


<p style="margin-left:11%;"><b>--input-conf=&lt;filename&gt;</b></p>

<p style="margin-left:22%;">Specify input configuration
file other than the default location in the mpv
configuration directory (usually
<b>~/.config/mpv/input.conf</b>).</p>


<p style="margin-left:11%;"><b>--no-input-default-bindings</b></p>

<p style="margin-left:22%;">Disable mpv default (built-in)
key bindings.</p>

<p style="margin-left:11%;"><b>--input-cmdlist</b></p>

<p style="margin-left:22%;">Prints all commands that can be
bound to keys.</p>


<p style="margin-left:11%;"><b>--input-doubleclick-time=&lt;milliseconds&gt;</b></p>

<p style="margin-left:22%;">Time in milliseconds to
recognize two consecutive button presses as a double-click
(default: 300).</p>

<p style="margin-left:11%;"><b>--input-keylist</b></p>

<p style="margin-left:22%;">Prints all keys that can be
bound to commands.</p>


<p style="margin-left:11%;"><b>--input-key-fifo-size=&lt;2-65000&gt;</b></p>

<p style="margin-left:22%;">Specify the size of the FIFO
that buffers key events (default: 7). If it is too small,
some events may be lost. The main disadvantage of setting it
to a very large value is that if you hold down a key
triggering some particularly slow command then the player
may be unresponsive while it processes all the queued
commands.</p>

<p style="margin-left:11%;"><b>--input-test</b></p>

<p style="margin-left:22%;">Input test mode. Instead of
executing commands on key presses, mpv will show the keys
and the bound commands on the OSD. Has to be used with a
dummy video, and the normal ways to quit the player will not
work (key bindings that normally quit will be shown on OSD
only, just like any other binding). See
<i>INPUT.CONF</i>.</p>


<p style="margin-left:11%;"><b>--input-file=&lt;filename&gt;</b></p>

<p style="margin-left:22%;">Deprecated. Use
<b>--input-ipc-server</b>.</p>

<p style="margin-left:22%; margin-top: 1em">Read commands
from the given file. Mostly useful with a FIFO. Since mpv
0.7.0 also understands JSON commands (see <i>JSON IPC</i>),
but you can't get replies or events. Use
<b>--input-ipc-server</b> for something bi-directional. On
MS Windows, JSON commands are not available.</p>

<p style="margin-left:22%; margin-top: 1em">This can also
specify a direct file descriptor with <b>fd://N</b> (UNIX
only). In this case, JSON replies will be written if the FD
is writable.</p>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">When the given file is a FIFO
mpv opens both ends, so you can do several <i>echo
&quot;seek 10&quot; &gt; mp_pipe</i> and the pipe will stay
valid.</p>

<p style="margin-left:11%;"><b>--input-terminal,
--no-input-terminal</b></p>

<p style="margin-left:22%;"><b>--no-input-terminal</b>
prevents the player from reading key events from standard
input. Useful when reading data from standard input. This is
automatically enabled when <b>-</b> is found on the command
line. There are situations where you have to set it
manually, e.g. if you open <b>/dev/stdin</b> (or the
equivalent on your system), use stdin in a playlist or
intend to read from stdin later on via the loadfile or
loadlist input commands.</p>


<p style="margin-left:11%;"><b>--input-ipc-server=&lt;filename&gt;</b></p>

<p style="margin-left:22%;">Enable the IPC support and
create the listening socket at the given path.</p>

<p style="margin-left:22%; margin-top: 1em">On Linux and
Unix, the given path is a regular filesystem path. On
Windows, named pipes are used, so the path refers to the
pipe namespace (<b>\\.\pipe\&lt;name&gt;</b>). If the
<b>\\.\pipe\</b> prefix is missing, mpv will add it
automatically before creating the pipe, so
<b>--input-ipc-server=/tmp/mpv-socket</b> and
<b>--input-ipc-server=\\.\pipe\tmp\mpv-socket</b> are
equivalent for IPC on Windows.</p>

<p style="margin-left:22%; margin-top: 1em">See <i>JSON
IPC</i> for details.</p>


<p style="margin-left:11%;"><b>--input-gamepad=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Enable/disable SDL2 Gamepad
support. Disabled by default.</p>

<p style="margin-left:11%;"><b>--input-cursor,
--no-input-cursor</b></p>

<p style="margin-left:22%;">Permit mpv to receive pointer
events reported by the video output driver. Necessary to use
the OSC, or to select the buttons in DVD menus. Support
depends on the VO in use.</p>


<p style="margin-left:11%;"><b>--input-media-keys=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">(OS X and Windows only)
Enable/disable media keys support. Enabled by default
(except for libmpv).</p>

<p style="margin-left:11%;"><b>--input-right-alt-gr,
--no-input-right-alt-gr</b></p>

<p style="margin-left:22%;">(Cocoa and Windows only) Use
the right Alt key as Alt Gr to produce special characters.
If disabled, count the right Alt as an Alt modifier key.
Enabled by default.</p>


<p style="margin-left:11%;"><b>--input-vo-keyboard=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Disable all keyboard input on
for VOs which can't participate in proper keyboard input
dispatching. May not affect all VOs. Generally useful for
embedding only.</p>

<p style="margin-left:22%; margin-top: 1em">On X11, a
sub-window with input enabled grabs all keyboard input as
long as it is 1. a child of a focused window, and 2. the
mouse is inside of the sub-window. It can steal away all
keyboard input from the application embedding the mpv
window, and on the other hand, the mpv window will receive
no input if the mouse is outside of the mpv window, even
though mpv has focus. Modern toolkits work around this weird
X11 behavior, but naively embedding foreign windows breaks
it.</p>

<p style="margin-left:22%; margin-top: 1em">The only way to
handle this reasonably is using the XEmbed protocol, which
was designed to solve these problems. GTK provides
<b>GtkSocket</b>, which supports XEmbed. Qt doesn't seem to
provide anything working in newer versions.</p>

<p style="margin-left:22%; margin-top: 1em">If the embedder
supports XEmbed, input should work with default settings and
with this option disabled. Note that
<b>input-default-bindings</b> is disabled by default in
libmpv as well - it should be enabled if you want the mpv
default key bindings.</p>

<p style="margin-left:22%; margin-top: 1em">(This option
was renamed from <b>--input-x11-keyboard</b>.)</p>

<p style="margin-left:11%; margin-top: 1em"><b>OSD <br>
--osc, --no-osc</b></p>

<p style="margin-left:22%;">Whether to load the
on-screen-controller (default: yes).</p>

<p style="margin-left:11%;"><b>--no-osd-bar,
--osd-bar</b></p>

<p style="margin-left:22%;">Disable display of the OSD
bar.</p>

<p style="margin-left:22%; margin-top: 1em">You can
configure this on a per-command basis in input.conf using
<b>osd-</b> prefixes, see <b>Input Command Prefixes</b>. If
you want to disable the OSD completely, use
<b>--osd-level=0</b>.</p>


<p style="margin-left:11%;"><b>--osd-on-seek=&lt;no,bar,msg,msg-bar&gt;</b></p>

<p style="margin-left:22%;">Set what is displayed on the
OSD during seeks. The default is <b>bar</b>.</p>

<p style="margin-left:22%; margin-top: 1em">You can
configure this on a per-command basis in input.conf using
<b>osd-</b> prefixes, see <b>Input Command Prefixes</b>.</p>


<p style="margin-left:11%;"><b>--osd-duration=&lt;time&gt;</b></p>

<p style="margin-left:22%;">Set the duration of the OSD
messages in ms (default: 1000).</p>


<p style="margin-left:11%;"><b>--osd-font=&lt;name&gt;</b></p>

<p style="margin-left:22%;">Specify font to use for OSD.
The default is <b>sans-serif</b>.</p>

<p style="margin-left:26%;">Examples</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="49%">


<p><b>--osd-font='Bitstream Vera Sans'</b></p></td>
<td width="22%">
</td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="49%">


<p><b>--osd-font='Comic Sans MS'</b></p></td>
<td width="22%">
</td></tr>
</table>


<p style="margin-left:11%;"><b>--osd-font-size=&lt;size&gt;</b></p>

<p style="margin-left:22%;">Specify the OSD font size. See
<b>--sub-font-size</b> for details.</p>

<p style="margin-left:22%; margin-top: 1em">Default:
55.</p>


<p style="margin-left:11%;"><b>--osd-msg1=&lt;string&gt;</b></p>

<p style="margin-left:22%;">Show this string as message on
OSD with OSD level 1 (visible by default). The message will
be visible by default, and as long as no other message
covers it, and the OSD level isn't changed (see
<b>--osd-level</b>). Expands properties; see <i>Property
Expansion</i>.</p>


<p style="margin-left:11%;"><b>--osd-msg2=&lt;string&gt;</b></p>

<p style="margin-left:22%;">Similar to <b>--osd-msg1</b>,
but for OSD level 2. If this is an empty string (default),
then the playback time is shown.</p>


<p style="margin-left:11%;"><b>--osd-msg3=&lt;string&gt;</b></p>

<p style="margin-left:22%;">Similar to <b>--osd-msg1</b>,
but for OSD level 3. If this is an empty string (default),
then the playback time, duration, and some more information
is shown.</p>

<p style="margin-left:22%; margin-top: 1em">This is used
for the <b>show-progress</b> command (by default mapped to
<b>P</b>), and when seeking if enabled with
<b>--osd-on-seek</b> or by <b>osd-</b> prefixes in
input.conf (see <b>Input Command Prefixes</b>).</p>


<p style="margin-left:22%; margin-top: 1em"><b>--osd-status-msg</b>
is a legacy equivalent (but with a minor difference).</p>


<p style="margin-left:11%;"><b>--osd-status-msg=&lt;string&gt;</b></p>

<p style="margin-left:22%;">Show a custom string during
playback instead of the standard status text. This overrides
the status text used for <b>--osd-level=3</b>, when using
the <b>show-progress</b> command (by default mapped to
<b>P</b>), and when seeking if enabled with
<b>--osd-on-seek</b> or <b>osd-</b> prefixes in input.conf
(see <b>Input Command Prefixes</b>). Expands properties. See
<i>Property Expansion</i>.</p>

<p style="margin-left:22%; margin-top: 1em">This option has
been replaced with <b>--osd-msg3</b>. The only difference is
that this option implicitly includes <b>${osd-sym-cc}</b>.
This option is ignored if <b>--osd-msg3</b> is not
empty.</p>


<p style="margin-left:11%;"><b>--osd-playing-msg=&lt;string&gt;</b></p>

<p style="margin-left:22%;">Show a message on OSD when
playback starts. The string is expanded for properties, e.g.
<b>--osd-playing-msg='file: ${filename}'</b> will show the
message <b>file:</b> followed by a space and the currently
played filename.</p>

<p style="margin-left:22%; margin-top: 1em">See <i>Property
Expansion</i>.</p>


<p style="margin-left:11%;"><b>--osd-bar-align-x=&lt;-1-1&gt;</b></p>

<p style="margin-left:22%;">Position of the OSD bar. -1 is
far left, 0 is centered, 1 is far right. Fractional values
(like 0.5) are allowed.</p>


<p style="margin-left:11%;"><b>--osd-bar-align-y=&lt;-1-1&gt;</b></p>

<p style="margin-left:22%;">Position of the OSD bar. -1 is
top, 0 is centered, 1 is bottom. Fractional values (like
0.5) are allowed.</p>


<p style="margin-left:11%;"><b>--osd-bar-w=&lt;1-100&gt;</b></p>

<p style="margin-left:22%;">Width of the OSD bar, in
percentage of the screen width (default: 75). A value of 50
means the bar is half the screen wide.</p>


<p style="margin-left:11%;"><b>--osd-bar-h=&lt;0.1-50&gt;</b></p>

<p style="margin-left:22%;">Height of the OSD bar, in
percentage of the screen height (default: 3.125).</p>


<p style="margin-left:11%;"><b>--osd-back-color=&lt;color&gt;</b></p>

<p style="margin-left:22%;">See <b>--osd-color</b>. Color
used for OSD text background.</p>


<p style="margin-left:11%;"><b>--osd-blur=&lt;0..20.0&gt;</b></p>

<p style="margin-left:22%;">Gaussian blur factor. 0 means
no blur applied (default).</p>


<p style="margin-left:11%;"><b>--osd-bold=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Format text on bold.</p>


<p style="margin-left:11%;"><b>--osd-italic=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Format text on italic.</p>


<p style="margin-left:11%;"><b>--osd-border-color=&lt;color&gt;</b></p>

<p style="margin-left:22%;">See <b>--osd-color</b>. Color
used for the OSD font border.</p>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">ignored when
<b>--osd-back-color</b> is specified (or more exactly: when
that option is not set to completely transparent).</p>


<p style="margin-left:11%;"><b>--osd-border-size=&lt;size&gt;</b></p>

<p style="margin-left:22%;">Size of the OSD font border in
scaled pixels (see <b>--sub-font-size</b> for details). A
value of 0 disables borders.</p>

<p style="margin-left:22%; margin-top: 1em">Default: 3.</p>


<p style="margin-left:11%;"><b>--osd-color=&lt;color&gt;</b></p>

<p style="margin-left:22%;">Specify the color used for OSD.
See <b>--sub-color</b> for details.</p>

<p style="margin-left:11%;"><b>--osd-fractions</b></p>

<p style="margin-left:22%;">Show OSD times with fractions
of seconds (in millisecond precision). Useful to see the
exact timestamp of a video frame.</p>


<p style="margin-left:11%;"><b>--osd-level=&lt;0-3&gt;</b></p>

<p style="margin-left:22%;">Specifies which mode the OSD
should start in.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p><b>0</b></p></td>
<td width="9%"></td>
<td width="68%">


<p>OSD completely disabled (subtitles only)</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p><b>1</b></p></td>
<td width="9%"></td>
<td width="68%">


<p>enabled (shows up only on user interaction)</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p><b>2</b></p></td>
<td width="9%"></td>
<td width="68%">


<p>enabled + current time visible by default</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p><b>3</b></p></td>
<td width="9%"></td>
<td width="68%">


<p>enabled + <b>--osd-status-msg</b> (current time and
status by default)</p></td></tr>
</table>


<p style="margin-left:11%;"><b>--osd-margin-x=&lt;size&gt;</b></p>

<p style="margin-left:22%;">Left and right screen margin
for the OSD in scaled pixels (see <b>--sub-font-size</b> for
details).</p>

<p style="margin-left:22%; margin-top: 1em">This option
specifies the distance of the OSD to the left, as well as at
which distance from the right border long OSD text will be
broken.</p>

<p style="margin-left:22%; margin-top: 1em">Default:
25.</p>


<p style="margin-left:11%;"><b>--osd-margin-y=&lt;size&gt;</b></p>

<p style="margin-left:22%;">Top and bottom screen margin
for the OSD in scaled pixels (see <b>--sub-font-size</b> for
details).</p>

<p style="margin-left:22%; margin-top: 1em">This option
specifies the vertical margins of the OSD.</p>

<p style="margin-left:22%; margin-top: 1em">Default:
22.</p>


<p style="margin-left:11%;"><b>--osd-align-x=&lt;left|center|right&gt;</b></p>

<p style="margin-left:22%;">Control to which corner of the
screen OSD should be aligned to (default: <b>left</b>).</p>


<p style="margin-left:11%;"><b>--osd-align-y=&lt;top|center|bottom&gt;</b></p>

<p style="margin-left:22%;">Vertical position (default:
<b>top</b>). Details see <b>--osd-align-x</b>.</p>


<p style="margin-left:11%;"><b>--osd-scale=&lt;factor&gt;</b></p>

<p style="margin-left:22%;">OSD font size multiplier,
multiplied with <b>--osd-font-size</b> value.</p>


<p style="margin-left:11%;"><b>--osd-scale-by-window=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Whether to scale the OSD with
the window size (default: yes). If this is disabled,
<b>--osd-font-size</b> and other OSD options that use scaled
pixels are always in actual pixels. The effect is that
changing the window size won't change the OSD font size.</p>


<p style="margin-left:11%;"><b>--osd-shadow-color=&lt;color&gt;</b></p>

<p style="margin-left:22%;">See <b>--sub-color</b>. Color
used for OSD shadow.</p>


<p style="margin-left:11%;"><b>--osd-shadow-offset=&lt;size&gt;</b></p>

<p style="margin-left:22%;">Displacement of the OSD shadow
in scaled pixels (see <b>--sub-font-size</b> for details). A
value of 0 disables shadows.</p>

<p style="margin-left:22%; margin-top: 1em">Default: 0.</p>


<p style="margin-left:11%;"><b>--osd-spacing=&lt;size&gt;</b></p>

<p style="margin-left:22%;">Horizontal OSD/sub font spacing
in scaled pixels (see <b>--sub-font-size</b> for details).
This value is added to the normal letter spacing. Negative
values are allowed.</p>

<p style="margin-left:22%; margin-top: 1em">Default: 0.</p>


<p style="margin-left:11%;"><b>--video-osd=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Enabled OSD rendering on the
video window (default: yes). This can be used in situations
where terminal OSD is preferred. If you just want to disable
all OSD rendering, use <b>--osd-level=0</b>.</p>

<p style="margin-left:22%; margin-top: 1em">It does not
affect subtitles or overlays created by scripts (in
particular, the OSC needs to be disabled with
<b>--no-osc</b>).</p>

<p style="margin-left:22%; margin-top: 1em">This option is
somewhat experimental and could be replaced by another
mechanism in the future.</p>


<p style="margin-left:11%;"><b>--osd-font-provider=&lt;...&gt;</b></p>

<p style="margin-left:22%;">See <b>--sub-font-provider</b>
for details and accepted values. Note that unlike subtitles,
OSD never uses embedded fonts from media files.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Screenshot
<br>
--screenshot-format=&lt;type&gt;</b></p>

<p style="margin-left:22%;">Set the image file type used
for saving screenshots.</p>

<p style="margin-left:22%; margin-top: 1em">Available
choices:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p><b>png</b></p></td>
<td width="4%"></td>
<td width="31%">


<p>PNG</p></td>
<td width="37%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p><b>jpg</b></p></td>
<td width="4%"></td>
<td width="31%">


<p>JPEG (default)</p></td>
<td width="37%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p><b>jpeg</b></p></td>
<td width="4%"></td>
<td width="31%">


<p>JPEG (alias for jpg)</p></td>
<td width="37%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p><b>webp</b></p></td>
<td width="4%"></td>
<td width="31%">


<p>WebP</p></td>
<td width="37%">
</td></tr>
</table>


<p style="margin-left:11%;"><b>--screenshot-tag-colorspace=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Tag screenshots with the
appropriate colorspace.</p>

<p style="margin-left:22%; margin-top: 1em">Note that not
all formats are supported.</p>

<p style="margin-left:22%; margin-top: 1em">Default:
<b>no</b>.</p>


<p style="margin-left:11%;"><b>--screenshot-high-bit-depth=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">If possible, write screenshots
with a bit depth similar to the source video (default: yes).
This is interesting in particular for PNG, as this sometimes
triggers writing 16 bit PNGs with huge file sizes. This will
also include an unused alpha channel in the resulting files
if 16 bit is used.</p>


<p style="margin-left:11%;"><b>--screenshot-template=&lt;template&gt;</b></p>

<p style="margin-left:22%;">Specify the filename template
used to save screenshots. The template specifies the
filename without file extension, and can contain format
specifiers, which will be substituted when taking a
screenshot. By default, the template is <b>mpv-shot%n</b>,
which results in filenames like <b>mpv-shot0012.png</b> for
example.</p>

<p style="margin-left:22%; margin-top: 1em">The template
can start with a relative or absolute path, in order to
specify a directory location where screenshots should be
saved.</p>

<p style="margin-left:22%; margin-top: 1em">If the final
screenshot filename points to an already existing file, the
file will not be overwritten. The screenshot will either not
be saved, or if the template contains <b>%n</b>, saved using
different, newly generated filename.</p>

<p style="margin-left:22%; margin-top: 1em">Allowed format
specifiers: <b><br>
%[#][0X]n</b></p>

<p style="margin-left:32%;">A sequence number, padded with
zeros to length X (default: 04). E.g. passing the format
<b>%04n</b> will yield <b>0012</b> on the 12th screenshot.
The number is incremented every time a screenshot is taken
or if the file already exists. The length <b>X</b> must be
in the range 0-9. With the optional # sign, mpv will use the
lowest available number. For example, if you take three
screenshots--0001, 0002, 0003--and delete the first two, the
next two screenshots will not be 0004 and 0005, but 0001 and
0002 again.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>%f</b></p></td>
<td width="7%"></td>
<td width="68%">


<p>Filename of the currently played video.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>%F</b></p></td>
<td width="7%"></td>
<td width="68%">


<p>Same as <b>%f</b>, but strip the file extension,
including the dot.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>%x</b></p></td>
<td width="7%"></td>
<td width="68%">


<p>Directory path of the currently played video. If the
video is not on the filesystem (but e.g. <b>http://</b>),
this expand to an empty string.</p></td></tr>
</table>

<p style="margin-left:22%;"><b>%X{fallback}</b></p>

<p style="margin-left:32%;">Same as <b>%x</b>, but if the
video file is not on the filesystem, return the fallback
string inside the <b>{...}</b>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>%p</b></p></td>
<td width="7%"></td>
<td width="68%">


<p>Current playback time, in the same format as used in the
OSD. The result is a string of the form
&quot;HH:MM:SS&quot;. For example, if the video is at the
time position 5 minutes and 34 seconds, <b>%p</b> will be
replaced with &quot;00:05:34&quot;.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>%P</b></p></td>
<td width="7%"></td>
<td width="68%">


<p>Similar to <b>%p</b>, but extended with the playback
time in milliseconds. It is formatted as
&quot;HH:MM:SS.mmm&quot;, with &quot;mmm&quot; being the
millisecond part of the playback time.</p></td></tr>
</table>


<p style="margin-left:32%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:37%;">This is a simple way for
getting unique per-frame timestamps. (Frame numbers would be
more intuitive, but are not easily implementable because
container formats usually use time stamps for identifying
frames.)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="4%">


<p style="margin-top: 1em"><b>%wX</b></p></td>
<td width="6%"></td>
<td width="68%">


<p style="margin-top: 1em">Specify the current playback
time using the format string <b>X</b>. <b>%p</b> is like
<b>%wH:%wM:%wS</b>, and <b>%P</b> is like
<b>%wH:%wM:%wS.%wT</b>.</p> </td></tr>
</table>

<p style="margin-left:32%;"><b>Valid format
specifiers:</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="26%">


<p><b>%wH</b></p></td>
<td width="6%"></td>
<td width="46%">


<p>hour (padded with 0 to two digits)</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="26%">


<p><b>%wh</b></p></td>
<td width="6%"></td>
<td width="46%">


<p>hour (not padded)</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="26%">


<p><b>%wM</b></p></td>
<td width="6%"></td>
<td width="46%">


<p>minutes (00-59)</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="26%">


<p><b>%wm</b></p></td>
<td width="6%"></td>
<td width="46%">


<p>total minutes (includes hours, unlike <b>%wM</b>)</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="26%">


<p><b>%wS</b></p></td>
<td width="6%"></td>
<td width="46%">


<p>seconds (00-59)</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="26%">


<p><b>%ws</b></p></td>
<td width="6%"></td>
<td width="46%">


<p>total seconds (includes hours and minutes)</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="26%">


<p><b>%wf</b></p></td>
<td width="6%"></td>
<td width="46%">


<p>like <b>%ws</b>, but as float</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="26%">


<p><b>%wT</b></p></td>
<td width="6%"></td>
<td width="46%">


<p>milliseconds (000-999)</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="26%">


<p><b>%tX</b></p></td>
<td width="6%"></td>
<td width="46%">
</td></tr>
</table>

<p style="margin-left:32%; margin-top: 1em">Specify the
current local date/time using the format <b>X</b>. This
format specifier uses the UNIX <b>strftime()</b> function
internally, and inserts the result of passing &quot;%X&quot;
to <b>strftime</b>. For example, <b>%tm</b> will insert the
number of the current month as number. You have to use
multiple <b>%tX</b> specifiers to build a full date/time
string.</p>

<p style="margin-left:22%;"><b>%{prop[:fallback
text]}</b></p>

<p style="margin-left:32%;">Insert the value of the input
property 'prop'. E.g. <b>%{filename}</b> is the same as
<b>%f</b>. If the property does not exist or is not
available, an error text is inserted, unless a fallback is
specified.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>%%</b></p></td>
<td width="7%"></td>
<td width="57%">


<p>Replaced with the <b>%</b> character itself.</p></td>
<td width="11%">
</td></tr>
</table>


<p style="margin-left:11%;"><b>--screenshot-directory=&lt;path&gt;</b></p>

<p style="margin-left:22%;">Store screenshots in this
directory. This path is joined with the filename generated
by <b>--screenshot-template</b>. If the template filename is
already absolute, the directory is ignored.</p>

<p style="margin-left:22%; margin-top: 1em">If the
directory does not exist, it is created on the first
screenshot. If it is not a directory, an error is generated
when trying to write a screenshot.</p>

<p style="margin-left:22%; margin-top: 1em">This option is
not set by default, and thus will write screenshots to the
directory from which mpv was started. In pseudo-gui mode
(see <i>PSEUDO GUI MODE</i>), this is set to the
desktop.</p>


<p style="margin-left:11%;"><b>--screenshot-jpeg-quality=&lt;0-100&gt;</b></p>

<p style="margin-left:22%;">Set the JPEG quality level.
Higher means better quality. The default is 90.</p>


<p style="margin-left:11%;"><b>--screenshot-jpeg-source-chroma=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Write JPEG files with the same
chroma subsampling as the video (default: yes). If disabled,
the libjpeg default is used.</p>


<p style="margin-left:11%;"><b>--screenshot-png-compression=&lt;0-9&gt;</b></p>

<p style="margin-left:22%;">Set the PNG compression level.
Higher means better compression. This will affect the file
size of the written screenshot file and the time it takes to
write a screenshot. Too high compression might occupy enough
CPU time to interrupt playback. The default is 7.</p>


<p style="margin-left:11%;"><b>--screenshot-png-filter=&lt;0-5&gt;</b></p>

<p style="margin-left:22%;">Set the filter applied prior to
PNG compression. 0 is none, 1 is &quot;sub&quot;, 2 is
&quot;up&quot;, 3 is &quot;average&quot;, 4 is
&quot;Paeth&quot;, and 5 is &quot;mixed&quot;. This affects
the level of compression that can be achieved. For most
images, &quot;mixed&quot; achieves the best compression
ratio, hence it is the default.</p>


<p style="margin-left:11%;"><b>--screenshot-webp-lossless=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Write lossless WebP files.
<b>--screenshot-webp-quality</b> is ignored if this is set.
The default is no.</p>


<p style="margin-left:11%;"><b>--screenshot-webp-quality=&lt;0-100&gt;</b></p>

<p style="margin-left:22%;">Set the WebP quality level.
Higher means better quality. The default is 75.</p>


<p style="margin-left:11%;"><b>--screenshot-webp-compression=&lt;0-6&gt;</b></p>

<p style="margin-left:22%;">Set the WebP compression level.
Higher means better compression, but takes more CPU time.
Note that this also affects the screenshot quality when used
with lossy WebP files. The default is 4.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Software
Scaler <br>
--sws-scaler=&lt;name&gt;</b></p>

<p style="margin-left:22%;">Specify the software scaler
algorithm to be used with <b>--vf=scale</b>. This also
affects video output drivers which lack hardware
acceleration, e.g. <b>x11</b>. See also
<b>--vf=scale</b>.</p>

<p style="margin-left:22%; margin-top: 1em">To get a list
of available scalers, run <b>--sws-scaler=help</b>.</p>

<p style="margin-left:22%; margin-top: 1em">Default:
<b>bicubic</b>.</p>


<p style="margin-left:11%;"><b>--sws-lgb=&lt;0-100&gt;</b></p>

<p style="margin-left:22%;">Software scaler Gaussian blur
filter (luma). See <b>--sws-scaler</b>.</p>


<p style="margin-left:11%;"><b>--sws-cgb=&lt;0-100&gt;</b></p>

<p style="margin-left:22%;">Software scaler Gaussian blur
filter (chroma). See <b>--sws-scaler</b>.</p>


<p style="margin-left:11%;"><b>--sws-ls=&lt;-100-100&gt;</b></p>

<p style="margin-left:22%;">Software scaler sharpen filter
(luma). See <b>--sws-scaler</b>.</p>


<p style="margin-left:11%;"><b>--sws-cs=&lt;-100-100&gt;</b></p>

<p style="margin-left:22%;">Software scaler sharpen filter
(chroma). See <b>--sws-scaler</b>.</p>

<p style="margin-left:11%;"><b>--sws-chs=&lt;h&gt;</b></p>

<p style="margin-left:22%;">Software scaler chroma
horizontal shifting. See <b>--sws-scaler</b>.</p>

<p style="margin-left:11%;"><b>--sws-cvs=&lt;v&gt;</b></p>

<p style="margin-left:22%;">Software scaler chroma vertical
shifting. See <b>--sws-scaler</b>.</p>


<p style="margin-left:11%;"><b>--sws-bitexact=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Unknown functionality (default:
no). Consult libswscale source code. The primary purpose of
this, as far as libswscale API goes), is to produce exactly
the same output for the same input on all platforms (output
has the same &quot;bits&quot; everywhere, thus
&quot;bitexact&quot;). Typically disables optimizations.</p>


<p style="margin-left:11%;"><b>--sws-fast=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Allow optimizations that help
with performance, but reduce quality (default: no).</p>

<p style="margin-left:22%; margin-top: 1em">VOs like
<b>drm</b> and <b>x11</b> will benefit a lot from using
<b>--sws-fast</b>. You may need to set other options, like
<b>--sws-scaler</b>. The builtin <b>sws-fast</b> profile
sets this option and some others to gain performance for
reduced quality.</p>


<p style="margin-left:11%;"><b>--sws-allow-zimg=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Allow using zimg (if the
component using the internal swscale wrapper explicitly
allows so). In this case, zimg <i>may</i> be used, if the
internal zimg wrapper supports the input and output formats.
It will silently fall back to libswscale if one of these
conditions does not apply.</p>

<p style="margin-left:22%; margin-top: 1em">If zimg is
used, the other <b>--sws-</b> options are ignored, and the
<b>--zimg-</b> options are used instead.</p>

<p style="margin-left:22%; margin-top: 1em">If the internal
component using the swscale wrapper hooks up logging
correctly, a verbose priority log message will indicate
whether zimg is being used.</p>

<p style="margin-left:22%; margin-top: 1em">Most things
which need software conversion can make use of this.</p>


<p style="margin-left:11%;"><b>--zimg-scaler=&lt;point|bilinear|bicubic|spline16|spline36|lanczos&gt;</b></p>

<p style="margin-left:22%;">Zimg luma scaler to use
(default: lanczos).</p>


<p style="margin-left:11%;"><b>--zimg-scaler-param-a=&lt;default|float&gt;,
<br>
--zimg-scaler-param-b=&lt;default|float&gt;</b></p>

<p style="margin-left:22%;">Set scaler parameters. By
default, these are set to the special string <b>default</b>,
which maps to a scaler-specific default value. Ignored if
the scaler is not tunable. <b><br>
lanczos</b></p>

<p style="margin-left:32%;"><b>--zimg-scaler-param-a</b> is
the number of taps.</p>

<p style="margin-left:22%;"><b>bicubic</b></p>

<p style="margin-left:32%;">a and b are the bicubic b and c
parameters.</p>


<p style="margin-left:11%;"><b>--zimg-scaler-chroma=...</b></p>

<p style="margin-left:22%;">Same as <b>--zimg-scaler</b>,
for for chroma interpolation (default: bilinear).</p>


<p style="margin-left:11%;"><b>--zimg-scaler-chroma-param-a,
--zimg-scaler-chroma-param-b</b></p>

<p style="margin-left:22%;">Same as
<b>--zimg-scaler-param-a</b> / <b>--zimg-scaler-param-b</b>,
for chroma.</p>


<p style="margin-left:11%;"><b>--zimg-dither=&lt;no|ordered|random|error-diffusion&gt;</b></p>

<p style="margin-left:22%;">Dithering (default:
random).</p>


<p style="margin-left:11%;"><b>--zimg-fast=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Allow optimizations that help
with performance, but reduce quality (default: yes).
Currently, this may simplify gamma conversion
operations.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Audio
Resampler</b> <br>
This controls the default options of any resampling done by
mpv (but not within libavfilter, within the system audio API
resampler, or any other places).</p>

<p style="margin-left:11%; margin-top: 1em">It also sets
the defaults for the <b>lavrresample</b> audio filter.
<b><br>
--audio-resample-filter-size=&lt;length&gt;</b></p>

<p style="margin-left:22%;">Length of the filter with
respect to the lower sampling rate. (default: 16)</p>


<p style="margin-left:11%;"><b>--audio-resample-phase-shift=&lt;count&gt;</b></p>

<p style="margin-left:22%;">Log2 of the number of polyphase
entries. (..., 10-&gt;1024, 11-&gt;2048, 12-&gt;4096, ...)
(default: 10-&gt;1024)</p>


<p style="margin-left:11%;"><b>--audio-resample-cutoff=&lt;cutoff&gt;</b></p>

<p style="margin-left:22%;">Cutoff frequency (0.0-1.0),
default set depending upon filter length.</p>


<p style="margin-left:11%;"><b>--audio-resample-linear=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">If set then filters will be
linearly interpolated between polyphase entries. (default:
no)</p>


<p style="margin-left:11%;"><b>--audio-normalize-downmix=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Enable/disable normalization if
surround audio is downmixed to stereo (default: no). If this
is disabled, downmix can cause clipping. If it's enabled,
the output might be too quiet. It depends on the source
audio.</p>

<p style="margin-left:22%; margin-top: 1em">Technically,
this changes the <b>normalize</b> suboption of the
<b>lavrresample</b> audio filter, which performs the
downmixing.</p>

<p style="margin-left:22%; margin-top: 1em">If downmix
happens outside of mpv for some reason, or in the decoder
(decoder downmixing), or in the audio output (system mixer),
this has no effect.</p>


<p style="margin-left:11%;"><b>--audio-resample-max-output-size=&lt;length&gt;</b></p>

<p style="margin-left:22%;">Limit maximum size of audio
frames filtered at once, in ms (default: 40). The output
size size is limited in order to make resample speed changes
react faster. This is necessary especially if decoders or
filters output very large frame sizes (like some lossless
codecs or some DRC filters). This option does not affect the
resampling algorithm in any way.</p>

<p style="margin-left:22%; margin-top: 1em">For
testing/debugging only. Can be removed or changed any
time.</p>


<p style="margin-left:11%;"><b>--audio-swresample-o=&lt;string&gt;</b></p>

<p style="margin-left:22%;">Set AVOptions on the SwrContext
or AVAudioResampleContext. These should be documented by
FFmpeg or Libav.</p>

<p style="margin-left:22%; margin-top: 1em">This is a
key/value list option. See <i>List Options</i> for
details.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Terminal
<br>
--quiet</b></p>

<p style="margin-left:22%;">Make console output less
verbose; in particular, prevents the status line (i.e. AV:
3.4 (00:00:03.37) / 5320.6 ...) from being displayed.
Particularly useful on slow terminals or broken ones which
do not properly handle carriage return (i.e. <b>\r</b>).</p>

<p style="margin-left:22%; margin-top: 1em">See also:
<b>--really-quiet</b> and <b>--msg-level</b>.</p>

<p style="margin-left:11%;"><b>--really-quiet</b></p>

<p style="margin-left:22%;">Display even less output and
status messages than with <b>--quiet</b>.</p>

<p style="margin-left:11%;"><b>--no-terminal,
--terminal</b></p>

<p style="margin-left:22%;">Disable any use of the terminal
and stdin/stdout/stderr. This completely silences any
message output.</p>

<p style="margin-left:22%; margin-top: 1em">Unlike
<b>--really-quiet</b>, this disables input and terminal
initialization as well.</p>

<p style="margin-left:11%;"><b>--no-msg-color</b></p>

<p style="margin-left:22%;">Disable colorful console output
on terminals.</p>


<p style="margin-left:11%;"><b>--msg-level=&lt;module1=level1,module2=level2,...&gt;</b></p>

<p style="margin-left:22%;">Control verbosity directly for
each module. The <b>all</b> module changes the verbosity of
all the modules. The verbosity changes from this option are
applied in order from left to right, and each item can
override a previous one.</p>

<p style="margin-left:22%; margin-top: 1em">Run mpv with
<b>--msg-level=all=trace</b> to see all messages mpv
outputs. You can use the module names printed in the output
(prefixed to each line in <b>[...]</b>) to limit the output
to interesting modules.</p>

<p style="margin-left:22%; margin-top: 1em">This also
affects <b>--log-file</b>, and in certain cases libmpv API
logging.</p>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">Some messages are printed
before the command line is parsed and are therefore not
affected by <b>--msg-level</b>. To control these messages,
you have to use the <b>MPV_VERBOSE</b> environment variable;
see <i>ENVIRONMENT VARIABLES</i> for details.</p>

<p style="margin-left:22%; margin-top: 1em">Available
levels:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="9%">


<p><b>no</b></p></td>
<td width="2%"></td>
<td width="38%">


<p>complete silence</p></td>
<td width="25%">
</td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="9%">


<p><b>fatal</b></p></td>
<td width="2%"></td>
<td width="38%">


<p>fatal messages only</p></td>
<td width="25%">
</td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="9%">


<p><b>error</b></p></td>
<td width="2%"></td>
<td width="38%">


<p>error messages</p></td>
<td width="25%">
</td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="9%">


<p><b>warn</b></p></td>
<td width="2%"></td>
<td width="38%">


<p>warning messages</p></td>
<td width="25%">
</td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="9%">


<p><b>info</b></p></td>
<td width="2%"></td>
<td width="38%">


<p>informational messages</p></td>
<td width="25%">
</td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="9%">


<p><b>status</b></p></td>
<td width="2%"></td>
<td width="38%">


<p>status messages (default)</p></td>
<td width="25%">
</td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="9%">


<p><b>v</b></p></td>
<td width="2%"></td>
<td width="38%">


<p>verbose messages</p></td>
<td width="25%">
</td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="9%">


<p><b>debug</b></p></td>
<td width="2%"></td>
<td width="38%">


<p>debug messages</p></td>
<td width="25%">
</td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="9%">


<p><b>trace</b></p></td>
<td width="2%"></td>
<td width="38%">


<p>very noisy debug messages</p></td>
<td width="25%">
</td></tr>
</table>

<p style="margin-left:26%;">Example</p>

<pre style="margin-left:32%; margin-top: 1em">mpv --msg-level=ao/sndio=no</pre>


<p style="margin-left:26%; margin-top: 1em">Completely
silences the output of ao_sndio, which uses the log prefix
<b>[ao/sndio]</b>.</p>

<pre style="margin-left:32%; margin-top: 1em">mpv --msg-level=all=warn,ao/alsa=error</pre>


<p style="margin-left:26%; margin-top: 1em">Only show
warnings or worse, and let the ao_alsa output show errors
only.</p>


<p style="margin-left:11%;"><b>--term-osd=&lt;auto|no|force&gt;</b></p>

<p style="margin-left:22%;">Control whether OSD messages
are shown on the console when no video output is available
(default: auto).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>auto</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>use terminal OSD if no video output active</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>no</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>disable terminal OSD</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>force</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>use terminal OSD even if video output active</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">The <b>auto</b>
mode also enables terminal OSD if <b>--video-osd=no</b> was
set.</p>

<p style="margin-left:11%;"><b>--term-osd-bar,
--no-term-osd-bar</b></p>

<p style="margin-left:22%;">Enable printing a progress bar
under the status line on the terminal. (Disabled by
default.)</p>


<p style="margin-left:11%;"><b>--term-osd-bar-chars=&lt;string&gt;</b></p>

<p style="margin-left:22%;">Customize the
<b>--term-osd-bar</b> feature. The string is expected to
consist of 5 characters (start, left space, position
indicator, right space, end). You can use Unicode
characters, but note that double- width characters will not
be treated correctly.</p>

<p style="margin-left:22%; margin-top: 1em">Default:
<b>[-+-]</b>.</p>


<p style="margin-left:11%;"><b>--term-playing-msg=&lt;string&gt;</b></p>

<p style="margin-left:22%;">Print out a string after
starting playback. The string is expanded for properties,
e.g. <b>--term-playing-msg='file: ${filename}'</b> will
print the string <b>file:</b> followed by a space and the
currently played filename.</p>

<p style="margin-left:22%; margin-top: 1em">See <i>Property
Expansion</i>.</p>


<p style="margin-left:11%;"><b>--term-status-msg=&lt;string&gt;</b></p>

<p style="margin-left:22%;">Print out a custom string
during playback instead of the standard status line. Expands
properties. See <i>Property Expansion</i>.</p>

<p style="margin-left:11%;"><b>--msg-module</b></p>

<p style="margin-left:22%;">Prepend module name to each
console message.</p>

<p style="margin-left:11%;"><b>--msg-time</b></p>

<p style="margin-left:22%;">Prepend timing information to
each console message.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Cache <br>
--cache=&lt;yes|no|auto&gt;</b></p>

<p style="margin-left:22%;">Decide whether to use network
cache settings (default: auto).</p>

<p style="margin-left:22%; margin-top: 1em">If enabled, use
up to <b>--cache-secs</b> for the cache size (but still
limited to <b>--demuxer-max-bytes</b>).
<b>--demuxer-seekable-cache=auto</b> behaves as if it was
set to <b>yes</b>. If disabled, <b>--cache-pause</b> and
related are implicitly disabled.</p>

<p style="margin-left:22%; margin-top: 1em">The <b>auto</b>
choice enables this depending on whether the stream is
thought to involve network accesses or other slow media
(this is an imperfect heuristic).</p>

<p style="margin-left:22%; margin-top: 1em">Before mpv
0.30.0, this used to accept a number, which specified the
size of the cache in kilobytes. Use e.g. <b>--cache
--demuxer-max-bytes=123k</b> instead.</p>

<p style="margin-left:11%;"><b>--no-cache</b></p>

<p style="margin-left:22%;">Turn off input stream caching.
See <b>--cache</b>.</p>


<p style="margin-left:11%;"><b>--cache-secs=&lt;seconds&gt;</b></p>

<p style="margin-left:22%;">How many seconds of audio/video
to prefetch if the cache is active. This overrides the
<b>--demuxer-readahead-secs</b> option if and only if the
cache is enabled and the value is larger. The default value
is set to something very high, so the actually achieved
readahead will usually be limited by the value of the
<b>--demuxer-max-bytes</b> option. Setting this option is
usually only useful for limiting readahead.</p>


<p style="margin-left:11%;"><b>--cache-on-disk=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Write packet data to a
temporary file, instead of keeping them in memory. This
makes sense only with <b>--cache</b>. If the normal cache is
disabled, this option is ignored.</p>

<p style="margin-left:22%; margin-top: 1em">You need to set
<b>--cache-dir</b> to use this.</p>

<p style="margin-left:22%; margin-top: 1em">The cache file
is append-only. Even if the player appears to prune data,
the file space freed by it is not reused. The cache file is
deleted when playback is closed.</p>

<p style="margin-left:22%; margin-top: 1em">Note that
packet metadata is still kept in memory.
<b>--demuxer-max-bytes</b> and related options are applied
to metadata <i>only</i>. The size of this metadata varies,
but 50 MB per hour of media is typical. The cache statistics
will report this metadats size, instead of the size of the
cache file. If the metadata hits the size limits, the
metadata is pruned (but not the cache file).</p>

<p style="margin-left:22%; margin-top: 1em">When the media
is closed, the cache file is deleted. A cache file is
generally worthless after the media is closed, and it's hard
to retrieve any media data from it (it's not supported by
design).</p>

<p style="margin-left:22%; margin-top: 1em">If the option
is enabled at runtime, the cache file is created, but old
data will remain in the memory cache. If the option is
disabled at runtime, old data remains in the disk cache, and
the cache file is not closed until the media is closed. If
the option is disabled and enabled again, it will continue
to use the cache file that was opened first.</p>


<p style="margin-left:11%;"><b>--cache-dir=&lt;path&gt;</b></p>

<p style="margin-left:22%;">Directory where to create
temporary files (default: none).</p>

<p style="margin-left:22%; margin-top: 1em">Currently, this
is used for <b>--cache-on-disk</b> only.</p>


<p style="margin-left:11%;"><b>--cache-pause=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Whether the player should
automatically pause when the cache runs out of data and
stalls decoding/playback (default: yes). If enabled, it will
pause and unpause once more data is available, aka
&quot;buffering&quot;.</p>


<p style="margin-left:11%;"><b>--cache-pause-wait=&lt;seconds&gt;</b></p>

<p style="margin-left:22%;">Number of seconds the packet
cache should have buffered before starting playback again if
&quot;buffering&quot; was entered (default: 1). This can be
used to control how long the player rebuffers if
<b>--cache-pause</b> is enabled, and the demuxer underruns.
If the given time is higher than the maximum set with
<b>--cache-secs</b> or <b>--demuxer-readahead-secs</b>, or
prefetching ends before that for some other reason (like
file end or maximum configured cache size reached), playback
resumes earlier.</p>


<p style="margin-left:11%;"><b>--cache-pause-initial=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Enter &quot;buffering&quot;
mode before starting playback (default: no). This can be
used to ensure playback starts smoothly, in exchange for
waiting some time to prefetch network data (as controlled by
<b>--cache-pause-wait</b>). For example, some common
behavior is that playback starts, but network caches
immediately underrun when trying to decode more data as
playback progresses.</p>

<p style="margin-left:22%; margin-top: 1em">Another thing
that can happen is that the network prefetching is so CPU
demanding (due to demuxing in the background) that playback
drops frames at first. In these cases, it helps enabling
this option, and setting <b>--cache-secs</b> and
<b>--cache-pause-wait</b> to roughly the same value.</p>

<p style="margin-left:22%; margin-top: 1em">This option
also triggers when playback is restarted after seeking.</p>


<p style="margin-left:11%;"><b>--cache-unlink-files=&lt;immediate|whendone|no&gt;</b></p>

<p style="margin-left:22%;">Whether or when to unlink cache
files (default: immediate). This affects cache files which
are inherently temporary, and which make no sense to remain
on disk after the player terminates. This is a debugging
option. <b><br>
immediate</b></p>

<p style="margin-left:32%;">Unlink cache file after they
were created. The cache files won't be visible anymore, even
though they're in use. This ensures they are guaranteed to
be removed from disk when the player terminates, even if it
crashes.</p>

<p style="margin-left:22%;"><b>whendone</b></p>

<p style="margin-left:32%;">Delete cache files after they
are closed.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>no</b></p></td>
<td width="7%"></td>
<td width="68%">


<p>Don't delete cache files. They will consume disk space
without having a use.</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">Currently, this
is used for <b>--cache-on-disk</b> only.</p>


<p style="margin-left:11%;"><b>--stream-buffer-size=&lt;bytesize&gt;</b></p>

<p style="margin-left:22%;">Size of the low level stream
byte buffer (default: 128KB). This is used as buffer between
demuxer and low level I/O (e.g. sockets). Generally, this
can be very small, and the main purpose is similar to the
internal buffer FILE in the C standard library will
have.</p>

<p style="margin-left:22%; margin-top: 1em">Half of the
buffer is always used for guaranteed seek back, which is
important for unseekable input.</p>

<p style="margin-left:22%; margin-top: 1em">There are known
cases where this can help performance to set a large
buffer:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="3%">


<p>1.</p></td>
<td width="2%"></td>
<td width="69%">


<p>mp4 files. libavformat may trigger many small seeks in
both directions, depending on how the file was muxed.</p></td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="3%">


<p>2.</p></td>
<td width="2%"></td>
<td width="69%">


<p>Certain network filesystems, which do not have a cache,
and where small reads can be inefficient.</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">In other cases,
setting this to a large value can reduce performance.</p>

<p style="margin-left:22%; margin-top: 1em">Usually, read
accesses are at half the buffer size, but it may happen that
accesses are done alternating with smaller and larger sizes
(this is due to the internal ring buffer wrap-around).</p>

<p style="margin-left:22%; margin-top: 1em">See
<b>--list-options</b> for defaults and value range.
<b>&lt;bytesize&gt;</b> options accept suffixes such as
<b>KiB</b> and <b>MiB</b>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Network <br>
--user-agent=&lt;string&gt;</b></p>

<p style="margin-left:22%;">Use <b>&lt;string&gt;</b> as
user agent for HTTP streaming.</p>

<p style="margin-left:11%;"><b>--cookies,
--no-cookies</b></p>

<p style="margin-left:22%;">Support cookies when making
HTTP requests. Disabled by default.</p>


<p style="margin-left:11%;"><b>--cookies-file=&lt;filename&gt;</b></p>

<p style="margin-left:22%;">Read HTTP cookies from
&lt;filename&gt;. The file is assumed to be in Netscape
format.</p>


<p style="margin-left:11%;"><b>--http-header-fields=&lt;field1,field2&gt;</b></p>

<p style="margin-left:22%;">Set custom HTTP fields when
accessing HTTP stream.</p>

<p style="margin-left:22%; margin-top: 1em">This is a
string list option. See <i>List Options</i> for details.</p>

<p style="margin-left:26%;">Example</p>

<pre style="margin-left:32%; margin-top: 1em">mpv --http-header-fields='Field1: value1','Field2: value2' \
http://localhost:1234</pre>


<p style="margin-left:26%; margin-top: 1em">Will generate
HTTP request:</p>

<pre style="margin-left:32%; margin-top: 1em">GET / HTTP/1.0
Host: localhost:1234
User-Agent: MPlayer
Icy-MetaData: 1
Field1: value1
Field2: value2
Connection: close</pre>



<p style="margin-left:11%;"><b>--http-proxy=&lt;proxy&gt;</b></p>

<p style="margin-left:22%;">URL of the HTTP/HTTPS proxy. If
this is set, the <b>http_proxy</b> environment is ignored.
The <b>no_proxy</b> environment variable is still respected.
This option is silently ignored if it does not start with
<b>http://</b>. Proxies are not used for https URLs. Setting
this option does not try to make the ytdl script use the
proxy.</p>


<p style="margin-left:11%;"><b>--tls-ca-file=&lt;filename&gt;</b></p>

<p style="margin-left:22%;">Certificate authority database
file for use with TLS. (Silently fails with older FFmpeg or
Libav versions.)</p>

<p style="margin-left:11%;"><b>--tls-verify</b></p>

<p style="margin-left:22%;">Verify peer certificates when
using TLS (e.g. with <b>https://...</b>). (Silently fails
with older FFmpeg or Libav versions.)</p>

<p style="margin-left:11%;"><b>--tls-cert-file</b></p>

<p style="margin-left:22%;">A file containing a certificate
to use in the handshake with the peer.</p>

<p style="margin-left:11%;"><b>--tls-key-file</b></p>

<p style="margin-left:22%;">A file containing the private
key for the certificate.</p>


<p style="margin-left:11%;"><b>--referrer=&lt;string&gt;</b></p>

<p style="margin-left:22%;">Specify a referrer path or URL
for HTTP requests.</p>


<p style="margin-left:11%;"><b>--network-timeout=&lt;seconds&gt;</b></p>

<p style="margin-left:22%;">Specify the network timeout in
seconds (default: 60 seconds). This affects at least HTTP.
The special value 0 uses the FFmpeg/Libav defaults. If a
protocol is used which does not support timeouts, this
option is silently ignored.</p>


<p style="margin-left:22%; margin-top: 1em"><b>WARNING:</b></p>

<p style="margin-left:26%;">This breaks the RTSP protocol,
because of inconsistent FFmpeg API regarding its internal
timeout option. Not only does the RTSP timeout option accept
different units (seconds instead of microseconds, causing
mpv to pass it huge values), it will also overflow FFmpeg
internal calculations. The worst is that merely setting the
option will put RTSP into listening mode, which breaks any
client uses. At time of this writing, the fix was not made
effective yet. For this reason, this option is ignored (or
should be ignored) on RTSP URLs. You can still set the
timeout option directly with <b>--demuxer-lavf-o</b>.</p>


<p style="margin-left:11%;"><b>--rtsp-transport=&lt;lavf|udp|tcp|http&gt;</b></p>

<p style="margin-left:22%;">Select RTSP transport method
(default: tcp). This selects the underlying network
transport when playing <b>rtsp://...</b> URLs. The value
<b>lavf</b> leaves the decision to libavformat.</p>


<p style="margin-left:11%;"><b>--hls-bitrate=&lt;no|min|max|&lt;rate&gt;&gt;</b></p>

<p style="margin-left:22%;">If HLS streams are played, this
option controls what streams are selected by default. The
option allows the following parameters:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="4%">


<p><b>no</b></p></td>
<td width="6%"></td>
<td width="68%">


<p>Don't do anything special. Typically, this will simply
pick the first audio/video streams it can find.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="4%">


<p><b>min</b></p></td>
<td width="6%"></td>
<td width="68%">


<p>Pick the streams with the lowest bitrate.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="4%">


<p><b>max</b></p></td>
<td width="6%"></td>
<td width="68%">


<p>Same, but highest bitrate. (Default.)</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">Additionally,
if the option is a number, the stream with the highest rate
equal or below the option value is selected.</p>

<p style="margin-left:22%; margin-top: 1em">The bitrate as
used is sent by the server, and there's no guarantee it's
actually meaningful.</p>

<p style="margin-left:11%; margin-top: 1em"><b>DVB <br>
--dvbin-prog=&lt;string&gt;</b></p>

<p style="margin-left:22%;">This defines the program to
tune to. Usually, you may specify this by using a stream URI
like <b>&quot;dvb://ZDF HD&quot;</b>, but you can tune to a
different channel by writing to this property at runtime.
Also see <b>dvbin-channel-switch-offset</b> for more useful
channel switching functionality.</p>


<p style="margin-left:11%;"><b>--dvbin-card=&lt;0-15&gt;</b></p>

<p style="margin-left:22%;">Specifies using card number
0-15 (default: 0).</p>


<p style="margin-left:11%;"><b>--dvbin-file=&lt;filename&gt;</b></p>

<p style="margin-left:22%;">Instructs mpv to read the
channels list from <b>&lt;filename&gt;</b>. The default is
in the mpv configuration directory (usually
<b>~/.config/mpv</b>) with the filename
<b>channels.conf.{sat,ter,cbl,atsc}</b> (based on your card
type) or <b>channels.conf</b> as a last resort. For DVB-S/2
cards, a VDR 1.7.x format channel list is recommended as it
allows tuning to DVB-S2 channels, enabling subtitles and
decoding the PMT (which largely improves the demuxing).
Classic mplayer format channel lists are still supported
(without these improvements), and for other card types, only
limited VDR format channel list support is implemented
(patches welcome). For channels with dynamic PID switching
or incomplete <b>channels.conf</b>,
<b>--dvbin-full-transponder</b> or the magic PID <b>8192</b>
are recommended.</p>


<p style="margin-left:11%;"><b>--dvbin-timeout=&lt;1-30&gt;</b></p>

<p style="margin-left:22%;">Maximum number of seconds to
wait when trying to tune a frequency before giving up
(default: 30).</p>


<p style="margin-left:11%;"><b>--dvbin-full-transponder=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Apply no filters on program
PIDs, only tune to frequency and pass full transponder to
demuxer. The player frontend selects the streams from the
full TS in this case, so the program which is shown
initially may not match the chosen channel. Switching
between the programs is possible by cycling the
<b>program</b> property. This is useful to record multiple
programs on a single transponder, or to work around issues
in the <b>channels.conf</b>. It is also recommended to use
this for channels which switch PIDs on-the-fly, e.g. for
regional news.</p>

<p style="margin-left:22%; margin-top: 1em">Default:
<b>no</b></p>


<p style="margin-left:11%;"><b>--dvbin-channel-switch-offset=&lt;integer&gt;</b></p>

<p style="margin-left:22%;">This value is not meant for
setting via configuration, but used in channel switching. An
<b>input.conf</b> can <b>cycle</b> this value <b>up</b> and
<b>down</b> to perform channel switching. This number
effectively gives the offset to the initially tuned to
channel in the channel list.</p>

<p style="margin-left:22%; margin-top: 1em">An example
<b>input.conf</b> could contain: <b>H cycle
dvbin-channel-switch-offset up</b>, <b>K cycle
dvbin-channel-switch-offset down</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>ALSA audio
output options <br>
--alsa-device=&lt;device&gt;</b></p>

<p style="margin-left:22%;">Deprecated, use
<b>--audio-device</b> (requires <b>alsa/</b> prefix).</p>

<p style="margin-left:11%;"><b>--alsa-resample=yes</b></p>

<p style="margin-left:22%;">Enable ALSA resampling plugin.
(This is disabled by default, because some drivers report
incorrect audio delay in some cases.)</p>


<p style="margin-left:11%;"><b>--alsa-mixer-device=&lt;device&gt;</b></p>

<p style="margin-left:22%;">Set the mixer device used with
<b>ao-volume</b> (default: <b>default</b>).</p>


<p style="margin-left:11%;"><b>--alsa-mixer-name=&lt;name&gt;</b></p>

<p style="margin-left:22%;">Set the name of the mixer
element (default: <b>Master</b>). This is for example
<b>PCM</b> or <b>Master</b>.</p>


<p style="margin-left:11%;"><b>--alsa-mixer-index=&lt;number&gt;</b></p>

<p style="margin-left:22%;">Set the index of the mixer
channel (default: 0). Consider the output of &quot;<b>amixer
scontrols</b>&quot;, then the index is the number that
follows the name of the element.</p>


<p style="margin-left:11%;"><b>--alsa-non-interleaved</b></p>

<p style="margin-left:22%;">Allow output of non-interleaved
formats (if the audio decoder uses this format). Currently
disabled by default, because some popular ALSA plugins are
utterly broken with non-interleaved formats.</p>

<p style="margin-left:11%;"><b>--alsa-ignore-chmap</b></p>

<p style="margin-left:22%;">Don't read or set the channel
map of the ALSA device - only request the required number of
channels, and then pass the audio as-is to it. This option
most likely should not be used. It can be useful for
debugging, or for static setups with a specially engineered
ALSA configuration (in this case you should always force the
same layout with <b>--audio-channels</b>, or it will work
only for files which use the layout implicit to your ALSA
device).</p>


<p style="margin-left:11%;"><b>--alsa-buffer-time=&lt;microseconds&gt;</b></p>

<p style="margin-left:22%;">Set the requested buffer time
in microseconds. A value of 0 skips requesting anything from
the ALSA API. This and the <b>--alsa-periods</b> option uses
the ALSA <b>near</b> functions to set the requested
parameters. If doing so results in an empty configuration
set, setting these parameters is skipped.</p>

<p style="margin-left:22%; margin-top: 1em">Both options
control the buffer size. A low buffer size can lead to
higher CPU usage and audio dropouts, while a high buffer
size can lead to higher latency in volume changes and other
filtering.</p>


<p style="margin-left:11%;"><b>--alsa-periods=&lt;number&gt;</b></p>

<p style="margin-left:22%;">Number of periods requested
from the ALSA API. See <b>--alsa-buffer-time</b> for further
remarks.</p>

<p style="margin-left:11%; margin-top: 1em"><b>GPU renderer
options</b> <br>
The following video options are currently all specific to
<b>--vo=gpu</b> and <b>--vo=libmpv</b> only, which are the
only VOs that implement them. <b><br>
--scale=&lt;filter&gt;</b></p>

<p style="margin-left:22%;">The filter function to use when
upscaling video. <b><br>
bilinear</b></p>

<p style="margin-left:32%;">Bilinear hardware texture
filtering (fastest, very low quality). This is the default
for compatibility reasons.</p>

<p style="margin-left:22%;"><b>spline36</b></p>

<p style="margin-left:32%;">Mid quality and speed. This is
the default when using <b>gpu-hq</b>.</p>

<p style="margin-left:22%;"><b>lanczos</b></p>

<p style="margin-left:32%;">Lanczos scaling. Provides mid
quality and speed. Generally worse than <b>spline36</b>, but
it results in a slightly sharper image which is good for
some content types. The number of taps can be controlled
with <b>scale-radius</b>, but is best left unchanged.</p>

<p style="margin-left:32%; margin-top: 1em">(This filter is
an alias for <b>sinc</b>-windowed <b>sinc</b>)</p>

<p style="margin-left:22%;"><b>ewa_lanczos</b></p>

<p style="margin-left:32%;">Elliptic weighted average
Lanczos scaling. Also known as Jinc. Relatively slow, but
very good quality. The radius can be controlled with
<b>scale-radius</b>. Increasing the radius makes the filter
sharper but adds more ringing.</p>

<p style="margin-left:32%; margin-top: 1em">(This filter is
an alias for <b>jinc</b>-windowed <b>jinc</b>)</p>

<p style="margin-left:22%;"><b>ewa_lanczossharp</b></p>

<p style="margin-left:32%;">A slightly sharpened version of
ewa_lanczos, preconfigured to use an ideal radius and
parameter. If your hardware can run it, this is probably
what you should use by default.</p>

<p style="margin-left:22%;"><b>mitchell</b></p>

<p style="margin-left:32%;">Mitchell-Netravali. The
<b>B</b> and <b>C</b> parameters can be set with
<b>--scale-param1</b> and <b>--scale-param2</b>. This filter
is very good at downscaling (see <b>--dscale</b>).</p>

<p style="margin-left:22%;"><b>oversample</b></p>

<p style="margin-left:32%;">A version of nearest neighbour
that (naively) oversamples pixels, so that pixels
overlapping edges get linearly interpolated instead of
rounded. This essentially removes the small imperfections
and judder artifacts caused by nearest-neighbour
interpolation, in exchange for adding some blur. This filter
is good at temporal interpolation, and also known as
&quot;smoothmotion&quot; (see <b>--tscale</b>).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>linear</b></p></td>
<td width="1%"></td>
<td width="28%">


<p>A <b>--tscale</b> filter.</p></td>
<td width="40%">
</td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">There are some
more filters, but most are not as useful. For a complete
list, pass <b>help</b> as value, e.g.:</p>

<pre style="margin-left:26%; margin-top: 1em">mpv --scale=help</pre>



<p style="margin-left:11%;"><b>--cscale=&lt;filter&gt;</b></p>

<p style="margin-left:22%;">As <b>--scale</b>, but for
interpolating chroma information. If the image is not
subsampled, this option is ignored entirely.</p>


<p style="margin-left:11%;"><b>--dscale=&lt;filter&gt;</b></p>

<p style="margin-left:22%;">Like <b>--scale</b>, but apply
these filters on downscaling instead. If this option is
unset, the filter implied by <b>--scale</b> will be
applied.</p>


<p style="margin-left:11%;"><b>--tscale=&lt;filter&gt;</b></p>

<p style="margin-left:22%;">The filter used for
interpolating the temporal axis (frames). This is only used
if <b>--interpolation</b> is enabled. The only valid choices
for <b>--tscale</b> are separable convolution filters (use
<b>--tscale=help</b> to get a list). The default is
<b>mitchell</b>.</p>

<p style="margin-left:22%; margin-top: 1em">Common
<b>--tscale</b> choices include <b>oversample</b>,
<b>linear</b>, <b>catmull_rom</b>, <b>mitchell</b>,
<b>gaussian</b>, or <b>bicubic</b>. These are listed in
increasing order of smoothness/blurriness, with
<b>bicubic</b> being the smoothest/blurriest and
<b>oversample</b> being the sharpest/least smooth.</p>


<p style="margin-left:11%;"><b>--scale-param1=&lt;value&gt;,
--scale-param2=&lt;value&gt;, <br>
--cscale-param1=&lt;value&gt;,
--cscale-param2=&lt;value&gt;, <br>
--dscale-param1=&lt;value&gt;,
--dscale-param2=&lt;value&gt;, <br>
--tscale-param1=&lt;value&gt;,
--tscale-param2=&lt;value&gt;</b></p>

<p style="margin-left:22%;">Set filter parameters. By
default, these are set to the special string <b>default</b>,
which maps to a scaler-specific default value. Ignored if
the filter is not tunable. Currently, this affects the
following filter parameters: <b><br>
bcspline</b></p>

<p style="margin-left:32%;">Spline parameters (<b>B</b> and
<b>C</b>). Defaults to 0.5 for both.</p>

<p style="margin-left:22%;"><b>gaussian</b></p>

<p style="margin-left:32%;">Scale parameter (<b>t</b>).
Increasing this makes the result blurrier. Defaults to
1.</p>

<p style="margin-left:22%;"><b>oversample</b></p>

<p style="margin-left:32%;">Minimum distance to an edge
before interpolation is used. Setting this to 0 will always
interpolate edges, whereas setting it to 0.5 will never
interpolate, thus behaving as if the regular nearest
neighbour algorithm was used. Defaults to 0.0.</p>

<p style="margin-left:11%;"><b>--scale-blur=&lt;value&gt;,
--scale-wblur=&lt;value&gt;, --cscale-blur=&lt;value&gt;,
<br>
--cscale-wblur=&lt;value&gt;, --dscale-blur=&lt;value&gt;,
--dscale-wblur=&lt;value&gt;, <br>
--tscale-blur=&lt;value&gt;,
--tscale-wblur=&lt;value&gt;</b></p>

<p style="margin-left:22%;">Kernel/window scaling factor
(also known as a blur factor). Decreasing this makes the
result sharper, increasing it makes it blurrier (default 0).
If set to 0, the kernel's preferred blur factor is used.
Note that setting this too low (eg. 0.5) leads to bad
results. It's generally recommended to stick to values
between 0.8 and 1.2.</p>


<p style="margin-left:11%;"><b>--scale-clamp=&lt;0.0-1.0&gt;,
--cscale-clamp, --dscale-clamp, --tscale-clamp</b></p>

<p style="margin-left:22%;">Specifies a weight bias to
multiply into negative coefficients. Specifying
<b>--scale-clamp=1</b> has the effect of removing negative
weights completely, thus effectively clamping the value
range to [0-1]. Values between 0.0 and 1.0 can be specified
to apply only a moderate diminishment of negative weights.
This is especially useful for <b>--tscale</b>, where it
reduces excessive ringing artifacts in the temporal domain
(which typically manifest themselves as short flashes or
fringes of black, mostly around moving edges) in exchange
for potentially adding more blur. The default for
<b>--tscale-clamp</b> is 1.0, the others default to 0.0.</p>


<p style="margin-left:11%;"><b>--scale-cutoff=&lt;value&gt;,
--cscale-cutoff=&lt;value&gt;, <br>
--dscale-cutoff=&lt;value&gt;</b></p>

<p style="margin-left:22%;">Cut off the filter kernel
prematurely once the value range drops below this threshold.
Doing so allows more aggressive pruning of skippable
coefficients by disregarding parts of the LUT which are
effectively zeroed out by the window function. Only affects
polar (EWA) filters. The default is 0.001 for each, which is
perceptually transparent but provides a 10%-20% speedup,
depending on the exact radius and filter kernel chosen.</p>


<p style="margin-left:11%;"><b>--scale-taper=&lt;value&gt;,
--scale-wtaper=&lt;value&gt;, --dscale-taper=&lt;value&gt;,
<br>
--dscale-wtaper=&lt;value&gt;, --cscale-taper=&lt;value&gt;,
<br>
--cscale-wtaper=&lt;value&gt;, --tscale-taper=&lt;value&gt;,
<br>
--tscale-wtaper=&lt;value&gt;</b></p>

<p style="margin-left:22%;">Kernel/window taper factor.
Increasing this flattens the filter function. Value range is
0 to 1. A value of 0 (the default) means no flattening, a
value of 1 makes the filter completely flat (equivalent to a
box function). Values in between mean that some portion will
be flat and the actual filter function will be squeezed into
the space in between.</p>


<p style="margin-left:11%;"><b>--scale-radius=&lt;value&gt;,
--cscale-radius=&lt;value&gt;, <br>
--dscale-radius=&lt;value&gt;,
--tscale-radius=&lt;value&gt;</b></p>

<p style="margin-left:22%;">Set radius for tunable filters,
must be a float number between 0.5 and 16.0. Defaults to the
filter's preferred radius if not specified. Doesn't work for
every scaler and VO combination.</p>

<p style="margin-left:22%; margin-top: 1em">Note that
depending on filter implementation details and video scaling
ratio, the radius that actually being used might be
different (most likely being increased a bit).</p>


<p style="margin-left:11%;"><b>--scale-antiring=&lt;value&gt;,
--cscale-antiring=&lt;value&gt;, <br>
--dscale-antiring=&lt;value&gt;,
--tscale-antiring=&lt;value&gt;</b></p>

<p style="margin-left:22%;">Set the antiringing strength.
This tries to eliminate ringing, but can introduce other
artifacts in the process. Must be a float number between 0.0
and 1.0. The default value of 0.0 disables antiringing
entirely.</p>

<p style="margin-left:22%; margin-top: 1em">Note that this
doesn't affect the special filters <b>bilinear</b> and
<b>bicubic_fast</b>, nor does it affect any polar (EWA)
scalers.</p>


<p style="margin-left:11%;"><b>--scale-window=&lt;window&gt;,
--cscale-window=&lt;window&gt;, <br>
--dscale-window=&lt;window&gt;,
--tscale-window=&lt;window&gt;</b></p>

<p style="margin-left:22%;">(Advanced users only) Choose a
custom windowing function for the kernel. Defaults to the
filter's preferred window if unset. Use
<b>--scale-window=help</b> to get a list of supported
windowing functions.</p>


<p style="margin-left:11%;"><b>--scale-wparam=&lt;window&gt;,
--cscale-wparam=&lt;window&gt;, <br>
--cscale-wparam=&lt;window&gt;,
--tscale-wparam=&lt;window&gt;</b></p>

<p style="margin-left:22%;">(Advanced users only) Configure
the parameter for the window function given by
<b>--scale-window</b> etc. By default, these are set to the
special string <b>default</b>, which maps to a
window-specific default value. Ignored if the window is not
tunable. Currently, this affects the following window
parameters:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>kaiser</b></p></td>
<td width="1%"></td>
<td width="66%">


<p>Window parameter (alpha). Defaults to 6.33.</p></td>
<td width="2%">
</td></tr>
</table>

<p style="margin-left:22%;"><b>blackman</b></p>

<p style="margin-left:32%;">Window parameter (alpha).
Defaults to 0.16.</p>

<p style="margin-left:22%;"><b>gaussian</b></p>

<p style="margin-left:32%;">Scale parameter (t). Increasing
this makes the window wider. Defaults to 1.</p>


<p style="margin-left:11%;"><b>--scaler-lut-size=&lt;4..10&gt;</b></p>

<p style="margin-left:22%;">Set the size of the lookup
texture for scaler kernels (default: 6). The actual size of
the texture is <b>2^N</b> for an option value of <b>N</b>.
So the lookup texture with the default setting uses 64
samples.</p>

<p style="margin-left:22%; margin-top: 1em">All weights are
linearly interpolated from those samples, so increasing the
size of lookup table might improve the accuracy of
scaler.</p>


<p style="margin-left:11%;"><b>--scaler-resizes-only</b></p>

<p style="margin-left:22%;">Disable the scaler if the video
image is not resized. In that case, <b>bilinear</b> is used
instead of whatever is set with <b>--scale</b>. Bilinear
will reproduce the source image perfectly if no scaling is
performed. Enabled by default. Note that this option never
affects <b>--cscale</b>.</p>


<p style="margin-left:11%;"><b>--correct-downscaling</b></p>

<p style="margin-left:22%;">When using convolution based
filters, extend the filter size when downscaling. Increases
quality, but reduces performance while downscaling.</p>

<p style="margin-left:22%; margin-top: 1em">This will
perform slightly sub-optimally for anamorphic video (but
still better than without it) since it will extend the size
to match only the milder of the scale factors between the
axes.</p>


<p style="margin-left:11%;"><b>--linear-downscaling</b></p>

<p style="margin-left:22%;">Scale in linear light when
downscaling. It should only be used with a
<b>--fbo-format</b> that has at least 16 bit precision. This
option has no effect on HDR content.</p>

<p style="margin-left:11%;"><b>--linear-upscaling</b></p>

<p style="margin-left:22%;">Scale in linear light when
upscaling. Like <b>--linear-downscaling</b>, it should only
be used with a <b>--fbo-format</b> that has at least 16 bits
precisions. This is not usually recommended except for
testing/specific purposes. Users are advised to either
enable <b>--sigmoid-upscaling</b> or keep both options
disabled (i.e. scaling in gamma light).</p>

<p style="margin-left:11%;"><b>--sigmoid-upscaling</b></p>

<p style="margin-left:22%;">When upscaling, use a sigmoidal
color transform to avoid emphasizing ringing artifacts. This
is incompatible with and replaces <b>--linear-upscaling</b>.
(Note that sigmoidization also requires linearization, so
the <b>LINEAR</b> rendering step fires in both cases)</p>

<p style="margin-left:11%;"><b>--sigmoid-center</b></p>

<p style="margin-left:22%;">The center of the sigmoid curve
used for <b>--sigmoid-upscaling</b>, must be a float between
0.0 and 1.0. Defaults to 0.75 if not specified.</p>

<p style="margin-left:11%;"><b>--sigmoid-slope</b></p>

<p style="margin-left:22%;">The slope of the sigmoid curve
used for <b>--sigmoid-upscaling</b>, must be a float between
1.0 and 20.0. Defaults to 6.5 if not specified.</p>

<p style="margin-left:11%;"><b>--interpolation</b></p>

<p style="margin-left:22%;">Reduce stuttering caused by
mismatches in the video fps and display refresh rate (also
known as judder).</p>


<p style="margin-left:22%; margin-top: 1em"><b>WARNING:</b></p>

<p style="margin-left:26%;">This requires setting the
<b>--video-sync</b> option to one of the <b>display-</b>
modes, or it will be silently disabled. This was not
required before mpv 0.14.0.</p>

<p style="margin-left:22%; margin-top: 1em">This
essentially attempts to interpolate the missing frames by
convoluting the video along the temporal axis. The filter
used can be controlled using the <b>--tscale</b>
setting.</p>


<p style="margin-left:11%;"><b>--interpolation-threshold=&lt;0..1,-1&gt;</b></p>

<p style="margin-left:22%;">Threshold below which frame
ratio interpolation gets disabled (default: <b>0.0001</b>).
This is calculated as <b>abs(disphz/vfps - 1) &lt;
threshold</b>, where <b>vfps</b> is the speed-adjusted video
FPS, and <b>disphz</b> the display refresh rate. (The
speed-adjusted video FPS is roughly equal to the normal
video FPS, but with slowdown and speedup applied. This
matters if you use <b>--video-sync=display-resample</b> to
make video run synchronously to the display FPS, or if you
change the <b>speed</b> property.)</p>

<p style="margin-left:22%; margin-top: 1em">The default is
intended to almost always enable interpolation if the
playback rate is even slightly different from the display
refresh rate. But note that if you use e.g.
<b>--video-sync=display-vdrop</b>, small deviations in the
rate can disable interpolation and introduce a discontinuity
every other minute.</p>

<p style="margin-left:22%; margin-top: 1em">Set this to
<b>-1</b> to disable this logic.</p>

<p style="margin-left:11%;"><b>--opengl-pbo</b></p>

<p style="margin-left:22%;">Enable use of PBOs. On some
drivers this can be faster, especially if the source video
size is huge (e.g. so called &quot;4K&quot; video). On other
drivers it might be slower or cause latency issues.</p>


<p style="margin-left:11%;"><b>--dither-depth=&lt;N|no|auto&gt;</b></p>

<p style="margin-left:22%;">Set dither target depth to N.
Default: no.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p><b>no</b></p></td>
<td width="4%"></td>
<td width="68%">


<p>Disable any dithering done by mpv.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p><b>auto</b></p></td>
<td width="4%"></td>
<td width="68%">


<p>Automatic selection. If output bit depth cannot be
detected, 8 bits per component are assumed.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p><b>8</b></p></td>
<td width="4%"></td>
<td width="68%">


<p>Dither to 8 bit output.</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">Note that the
depth of the connected video display device cannot be
detected. Often, LCD panels will do dithering on their own,
which conflicts with this option and leads to ugly
output.</p>


<p style="margin-left:11%;"><b>--dither-size-fruit=&lt;2-8&gt;</b></p>

<p style="margin-left:22%;">Set the size of the dither
matrix (default: 6). The actual size of the matrix is
<b>(2^N) x (2^N)</b> for an option value of <b>N</b>, so a
value of 6 gives a size of 64x64. The matrix is generated at
startup time, and a large matrix can take rather long to
compute (seconds).</p>

<p style="margin-left:22%; margin-top: 1em">Used in
<b>--dither=fruit</b> mode only.</p>


<p style="margin-left:11%;"><b>--dither=&lt;fruit|ordered|error-diffusion|no&gt;</b></p>

<p style="margin-left:22%;">Select dithering algorithm
(default: fruit). (Normally, the <b>--dither-depth</b>
option controls whether dithering is enabled.)</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>error-diffusion</b> option requires compute shader
support. It also requires large amount of shared memory to
run, the size of which depends on both the kernel (see
<b>--error-diffusion</b> option below) and the height of
video window. It will fallback to <b>fruit</b> dithering if
there is no enough shared memory to run the shader.</p>

<p style="margin-left:11%;"><b>--temporal-dither</b></p>

<p style="margin-left:22%;">Enable temporal dithering.
(Only active if dithering is enabled in general.) This
changes between 8 different dithering patterns on each frame
by changing the orientation of the tiled dithering matrix.
Unfortunately, this can lead to flicker on LCD displays,
since these have a high reaction time.</p>


<p style="margin-left:11%;"><b>--temporal-dither-period=&lt;1-128&gt;</b></p>

<p style="margin-left:22%;">Determines how often the
dithering pattern is updated when <b>--temporal-dither</b>
is in use. 1 (the default) will update on every video frame,
2 on every other frame, etc.</p>


<p style="margin-left:11%;"><b>--error-diffusion=&lt;kernel&gt;</b></p>

<p style="margin-left:22%;">The error diffusion kernel to
use when <b>--dither=error-diffusion</b> is set.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>simple</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>Propagate error to only two adjacent pixels. Fastest but
low quality.</p></td></tr>
</table>

<p style="margin-left:22%;"><b>sierra-lite</b></p>

<p style="margin-left:32%;">Fast with reasonable quality.
This is the default.</p>

<p style="margin-left:22%;"><b>floyd-steinberg</b></p>

<p style="margin-left:32%;">Most notable error diffusion
kernel.</p>

<p style="margin-left:22%;"><b>atkinson</b></p>

<p style="margin-left:32%;">Looks different from other
kernels because only fraction of errors will be propagated
during dithering. A typical use case of this kernel is
saving dithered screenshot (in window mode). This kernel
produces slightly smaller file, with still reasonable
dithering quality.</p>

<p style="margin-left:22%; margin-top: 1em">There are other
kernels (use <b>--error-diffusion=help</b> to list) but most
of them are much slower and demanding even larger amount of
shared memory. Among these kernels, <b>burkes</b> achieves a
good balance between performance and quality, and probably
is the one you want to try first.</p>

<p style="margin-left:11%;"><b>--gpu-debug</b></p>

<p style="margin-left:22%;">Enables GPU debugging. What
this means depends on the API type. For OpenGL, it calls
<b>glGetError()</b>, and requests a debug context. For
Vulkan, it enables validation layers.</p>


<p style="margin-left:11%;"><b>--opengl-swapinterval=&lt;n&gt;</b></p>

<p style="margin-left:22%;">Interval in displayed frames
between two buffer swaps. 1 is equivalent to enable VSYNC, 0
to disable VSYNC. Defaults to 1 if not specified.</p>

<p style="margin-left:22%; margin-top: 1em">Note that this
depends on proper OpenGL vsync support. On some platforms
and drivers, this only works reliably when in fullscreen
mode. It may also require driver-specific hacks if using
multiple monitors, to ensure mpv syncs to the right one.
Compositing window managers can also lead to bad results, as
can missing or incorrect display FPS information (see
<b>--override-display-fps</b>).</p>


<p style="margin-left:11%;"><b>--vulkan-swap-mode=&lt;mode&gt;</b></p>

<p style="margin-left:22%;">Controls the presentation mode
of the vulkan swapchain. This is similar to the
<b>--opengl-swapinterval</b> option.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p><b>auto</b></p></td>
<td width="4%"></td>
<td width="68%">


<p>Use the preferred swapchain mode for the vulkan context.
(Default)</p> </td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p><b>fifo</b></p></td>
<td width="4%"></td>
<td width="68%">


<p>Non-tearing, vsync blocked. Similar to &quot;VSync
on&quot;.</p> </td></tr>
</table>

<p style="margin-left:22%;"><b>fifo-relaxed</b></p>

<p style="margin-left:32%;">Tearing, vsync blocked. Late
frames will tear instead of stuttering.</p>

<p style="margin-left:22%;"><b>mailbox</b></p>

<p style="margin-left:32%;">Non-tearing, not vsync blocked.
Similar to &quot;triple buffering&quot;.</p>

<p style="margin-left:22%;"><b>immediate</b></p>

<p style="margin-left:32%;">Tearing, not vsync blocked.
Similar to &quot;VSync off&quot;.</p>


<p style="margin-left:11%;"><b>--vulkan-queue-count=&lt;1..8&gt;</b></p>

<p style="margin-left:22%;">Controls the number of VkQueues
used for rendering (limited by how many your device
supports). In theory, using more queues could enable some
parallelism between frames (when using a
<b>--swapchain-depth</b> higher than 1), but it can also
slow things down on hardware where there's no true
parallelism between queues. (Default: 1)</p>


<p style="margin-left:11%;"><b>--vulkan-async-transfer</b></p>

<p style="margin-left:22%;">Enables the use of async
transfer queues on supported vulkan devices. Using them
allows transfer operations like texture uploads and blits to
happen concurrently with the actual rendering, thus
improving overall throughput and power consumption. Enabled
by default, and should be relatively safe.</p>


<p style="margin-left:11%;"><b>--vulkan-async-compute</b></p>

<p style="margin-left:22%;">Enables the use of async
compute queues on supported vulkan devices. Using this, in
theory, allows out-of-order scheduling of compute shaders
with graphics shaders, thus enabling the hardware to do more
effective work while waiting for pipeline bubbles and memory
operations. Not beneficial on all GPUs. It's worth noting
that if async compute is enabled, and the device supports
more compute queues than graphics queues (bound by the
restrictions set by <b>--vulkan-queue-count</b>), mpv will
internally try and prefer the use of compute shaders over
fragment shaders wherever possible. Enabled by default,
although Nvidia users may want to disable it.</p>


<p style="margin-left:11%;"><b>--d3d11-warp=&lt;yes|no|auto&gt;</b></p>

<p style="margin-left:22%;">Use WARP (Windows Advanced
Rasterization Platform) with the D3D11 GPU backend (default:
auto). This is a high performance software renderer. By
default, it is only used when the system has no hardware
adapters that support D3D11. While the extended GPU features
will work with WARP, they can be very slow.</p>


<p style="margin-left:11%;"><b>--d3d11-feature-level=&lt;12_1|12_0|11_1|11_0|10_1|10_0|9_3|9_2|9_1&gt;</b></p>

<p style="margin-left:22%;">Select a specific feature level
when using the D3D11 GPU backend. By default, the highest
available feature level is used. This option can be used to
select a lower feature level, which is mainly useful for
debugging. Most extended GPU features will not work at 9_x
feature levels.</p>


<p style="margin-left:11%;"><b>--d3d11-flip=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Enable flip-model presentation,
which avoids unnecessarily copying the backbuffer by sharing
surfaces with the DWM (default: yes). This may cause
performance issues with older drivers. If flip-model
presentation is not supported (for example, on Windows 7
without the platform update), mpv will automatically fall
back to the older bitblt presentation model.</p>


<p style="margin-left:11%;"><b>--d3d11-sync-interval=&lt;0..4&gt;</b></p>

<p style="margin-left:22%;">Schedule each frame to be
presented for this number of VBlank intervals. (default: 1)
Setting to 1 will enable VSync, setting to 0 will disable
it.</p>

<p style="margin-left:11%;"><b>--d3d11-adapter=&lt;adapter
name|help&gt;</b></p>

<p style="margin-left:22%;">Select a specific D3D11 adapter
to utilize for D3D11 rendering. Will pick the default
adapter if unset. Alternatives are listed when the name
&quot;help&quot; is given.</p>

<p style="margin-left:22%; margin-top: 1em">Checks for
matches based on the start of the string, case insensitive.
Thus, if the description of the adapter starts with the
vendor name, that can be utilized as the selection
parameter.</p>

<p style="margin-left:22%; margin-top: 1em">Hardware
decoders utilizing the D3D11 rendering abstraction's helper
functionality to receive a device, such as D3D11VA or
DXVA2's DXGI mode, will be affected by this choice.</p>


<p style="margin-left:11%;"><b>--d3d11-output-format=&lt;auto|rgba8|bgra8|rgb10_a2|rgba16f&gt;</b></p>

<p style="margin-left:22%;">Select a specific D3D11 output
format to utilize for D3D11 rendering. &quot;auto&quot; is
the default, which will pick either rgba8 or rgb10_a2
depending on the configured desktop bit depth. rgba16f and
bgra8 are left out of the autodetection logic, and are
available for manual testing.</p>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">Desktop bit depth querying is
only available from an API available from Windows 10. Thus
on older systems it will only automatically utilize the
rgba8 output format.</p>


<p style="margin-left:11%;"><b>--d3d11-output-csp=&lt;auto|srgb|linear|pq|bt.2020&gt;</b></p>

<p style="margin-left:22%;">Select a specific D3D11 output
color space to utilize for D3D11 rendering. &quot;auto&quot;
is the default, which will select the color space of the
desktop on which the swap chain is located.</p>

<p style="margin-left:22%; margin-top: 1em">Values other
than &quot;srgb&quot; and &quot;pq&quot; have had issues in
testing, so they are mostly available for manual
testing.</p>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">Swap chain color space
configuration is only available from an API available from
Windows 10. Thus on older systems it will not work.</p>


<p style="margin-left:11%;"><b>--d3d11va-zero-copy=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">By default, when using hardware
decoding with <b>--gpu-api=d3d11</b>, the video image will
be copied (GPU-to-GPU) from the decoder surface to a shader
resource. Set this option to avoid that copy by sampling
directly from the decoder image. This may increase
performance and reduce power usage, but can cause the image
to be sampled incorrectly on the bottom and right edges due
to padding, and may invoke driver bugs, since Direct3D 11
technically does not allow sampling from a decoder surface
(though most drivers support it.)</p>

<p style="margin-left:22%; margin-top: 1em">Currently only
relevant for <b>--gpu-api=d3d11</b>.</p>


<p style="margin-left:11%;"><b>--wayland-frame-wait-offset=&lt;-500..3000&gt;</b></p>

<p style="margin-left:22%;">Control the amount of offset
(in microseconds) to add to wayland's frame wait (default
1000). The wayland context assumes that if frame callback or
presentation feedback isn't received within a certain amount
of time then the video is being rendered offscreen. The time
it waits is equal to how long it takes your monitor to
display a frame (i.e. 1/refresh rate) plus the offset. In
general, staying close to your monitor's refresh rate is
preferred, but with a small offset in case a frame takes a
little long to display.</p>


<p style="margin-left:11%;"><b>--wayland-disable-vsync=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Disable vsync for the wayland
contexts (default: no). Useful for benchmarking the wayland
context when combined with <b>video-sync=display-desync</b>,
<b>--no-audio</b>, and <b>--untimed=yes</b>. Only works with
<b>--gpu-context=wayland</b> and
<b>--gpu-context=waylandvk</b>.</p>


<p style="margin-left:11%;"><b>--spirv-compiler=&lt;compiler&gt;</b></p>

<p style="margin-left:22%;">Controls which compiler is used
to translate GLSL to SPIR-V. This is (currently) only
relevant for <b>--gpu-api=vulkan</b> and
<i>--gpu-api=d3d11</i>. The possible choices are currently
only:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p><b>auto</b></p></td>
<td width="4%"></td>
<td width="66%">


<p>Use the first available compiler. (Default)</p></td>
<td width="2%">
</td></tr>
</table>

<p style="margin-left:22%;"><b>shaderc</b></p>

<p style="margin-left:32%;">Use libshaderc, which is an API
wrapper around glslang. This is generally the most
preferred, if available.</p>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">This option is deprecated,
since there is only one reasonable value. It may be removed
in the future.</p>

<p style="margin-left:11%;"><b>--glsl-shader=&lt;file&gt;,
--glsl-shaders=&lt;file-list&gt;</b></p>

<p style="margin-left:22%;">Custom GLSL hooks. These are a
flexible way to add custom fragment shaders, which can be
injected at almost arbitrary points in the rendering
pipeline, and access all previous intermediate textures.</p>

<p style="margin-left:22%; margin-top: 1em">Each use of the
<b>--glsl-shader</b> option will add another file to the
internal list of shaders, while <b>--glsl-shaders</b> takes
a list of files, and overwrites the internal list with it.
The latter is a path list option (see <i>List Options</i>
for details).</p>

<p style="margin-left:26%;">Warning</p>

<p style="margin-left:37%; margin-top: 1em">The syntax is
not stable yet and may change any time.</p>

<p style="margin-left:22%; margin-top: 1em">The general
syntax of a user shader looks like this:</p>
<pre style="margin-left:26%; margin-top: 1em">//!METADATA ARGS...
//!METADATA ARGS...

vec4 hook() {
   ...
   return something;
}

//!METADATA ARGS...
//!METADATA ARGS...

...</pre>

<p style="margin-left:22%; margin-top: 1em">Each section of
metadata, along with the non-metadata lines after it,
defines a single block. There are currently two types of
blocks, HOOKs and TEXTUREs.</p>

<p style="margin-left:22%; margin-top: 1em">A
<b>TEXTURE</b> block can set the following options: <b><br>
TEXTURE &lt;name&gt; (required)</b></p>

<p style="margin-left:32%;">The name of this texture. Hooks
can then bind the texture under this name using BIND. This
must be the first option of the texture block.</p>

<p style="margin-left:22%;"><b>SIZE &lt;width&gt;
[&lt;height&gt;] [&lt;depth&gt;] (required)</b></p>

<p style="margin-left:32%;">The dimensions of the texture.
The height and depth are optional. The type of texture (1D,
2D or 3D) depends on the number of components specified.</p>

<p style="margin-left:22%;"><b>FORMAT &lt;name&gt;
(required)</b></p>

<p style="margin-left:32%;">The texture format for the
samples. Supported texture formats are listed in debug
logging when the <b>gpu</b> VO is initialized (look for
<b>Texture formats:</b>). Usually, this follows OpenGL
naming conventions. For example, <b>rgb16</b> provides 3
channels with normalized 16 bit components. One oddity are
float formats: for example, <b>rgba16f</b> has 16 bit
internal precision, but the texture data is provided as 32
bit floats, and the driver converts the data on texture
upload.</p>

<p style="margin-left:32%; margin-top: 1em">Although format
names follow a common naming convention, not all of them are
available on all hardware, drivers, GL versions, and so
on.</p>

<p style="margin-left:22%;"><b>FILTER
&lt;LINEAR|NEAREST&gt;</b></p>

<p style="margin-left:32%;">The min/magnification filter
used when sampling from this texture.</p>

<p style="margin-left:22%;"><b>BORDER
&lt;CLAMP|REPEAT|MIRROR&gt;</b></p>

<p style="margin-left:32%;">The border wrapping mode used
when sampling from this texture.</p>

<p style="margin-left:22%; margin-top: 1em">Following the
metadata is a string of bytes in hexadecimal notation that
define the raw texture data, corresponding to the format
specified by <i>FORMAT</i>, on a single line with no extra
whitespace.</p>

<p style="margin-left:22%; margin-top: 1em">A <b>HOOK</b>
block can set the following options: <b><br>
HOOK &lt;name&gt; (required)</b></p>

<p style="margin-left:32%;">The texture which to hook into.
May occur multiple times within a metadata block, up to a
predetermined limit. See below for a list of hookable
textures.</p>

<p style="margin-left:22%;"><b>DESC &lt;title&gt;</b></p>

<p style="margin-left:32%;">User-friendly description of
the pass. This is the name used when representing this
shader in the list of passes for property
<i>vo-passes</i>.</p>

<p style="margin-left:22%;"><b>BIND &lt;name&gt;</b></p>

<p style="margin-left:32%;">Loads a texture (either coming
from mpv or from a <b>TEXTURE</b> block) and makes it
available to the pass. When binding textures from mpv, this
will also set up macros to facilitate accessing it properly.
See below for a list. By default, no textures are bound. The
special name HOOKED can be used to refer to the texture that
triggered this pass.</p>

<p style="margin-left:22%;"><b>SAVE &lt;name&gt;</b></p>

<p style="margin-left:32%;">Gives the name of the texture
to save the result of this pass into. By default, this is
set to the special name HOOKED which has the effect of
overwriting the hooked texture.</p>

<p style="margin-left:22%;"><b>WIDTH &lt;szexpr&gt;, HEIGHT
&lt;szexpr&gt;</b></p>

<p style="margin-left:32%;">Specifies the size of the
resulting texture for this pass. <b>szexpr</b> refers to an
expression in RPN (reverse polish notation), using the
operators + - * / &gt; &lt; !, floating point literals, and
references to sizes of existing texture (such as MAIN.width
or CHROMA.height), OUTPUT, or NATIVE_CROPPED (size of an
input texture cropped after pan-and-scan, video-align-x/y,
video-pan-x/y, etc. and possibly prescaled). By default,
these are set to HOOKED.w and HOOKED.h, espectively.</p>

<p style="margin-left:22%;"><b>WHEN &lt;szexpr&gt;</b></p>

<p style="margin-left:32%;">Specifies a condition that
needs to be true (non-zero) for the shader stage to be
evaluated. If it fails, it will silently be omitted. (Note
that a shader stage like this which has a dependency on an
optional hook point can still cause that hook point to be
saved, which has some minor overhead)</p>

<p style="margin-left:22%;"><b>OFFSET &lt;ox oy |
ALIGN&gt;</b></p>

<p style="margin-left:32%;">Indicates a pixel shift
(offset) introduced by this pass. These pixel offsets will
be accumulated and corrected during the next scaling pass
(<b>cscale</b> or <b>scale</b>). The default values are 0 0
which correspond to no shift. Note that offsets are ignored
when not overwriting the hooked texture.</p>

<p style="margin-left:32%; margin-top: 1em">A special value
of <b>ALIGN</b> will attempt to fix existing offset of
HOOKED by align it with reference. It requires HOOKED to be
resizable (see below). It works transparently with fragment
shader. For compute shader, the predefined <b>texmap</b>
macro is required to handle coordinate mapping.</p>

<p style="margin-left:22%;"><b>COMPONENTS &lt;n&gt;</b></p>

<p style="margin-left:32%;">Specifies how many components
of this pass's output are relevant and should be stored in
the texture, up to 4 (rgba). By default, this value is equal
to the number of components in HOOKED.</p>

<p style="margin-left:22%;"><b>COMPUTE &lt;bw&gt;
&lt;bh&gt; [&lt;tw&gt; &lt;th&gt;]</b></p>

<p style="margin-left:32%;">Specifies that this shader
should be treated as a compute shader, with the block size
bw and bh. The compute shader will be dispatched with
however many blocks are necessary to completely tile over
the output. Within each block, there will bw tw*th threads,
forming a single work group. In other words: tw and th
specify the work group size, which can be different from the
block size. So for example, a compute shader with bw, bh =
32 and tw, th = 8 running on a 500x500 texture would
dispatch 16x16 blocks (rounded up), each with 8x8
threads.</p>

<p style="margin-left:32%; margin-top: 1em">Compute shaders
in mpv are treated a bit different from fragment shaders.
Instead of defining a <b>vec4 hook</b> that produces an
output sample, you directly define <b>void hook</b> which
writes to a fixed writeonly image unit named
<b>out_image</b> (this is bound by mpv) using
<i>imageStore</i>. To help translate texture coordinates in
the absence of vertices, mpv provides a special function
<b>NAME_map(id)</b> to map from the texel space of the
output image to the texture coordinates for all bound
textures. In particular, <b>NAME_pos</b> is equivalent to
<b>NAME_map(gl_GlobalInvocationID)</b>, although using this
only really makes sense if (tw,th) == (bw,bh).</p>

<p style="margin-left:22%; margin-top: 1em">Each bound mpv
texture (via <b>BIND</b>) will make available the following
definitions to that shader pass, where NAME is the name of
the bound texture: <b><br>
vec4 NAME_tex(vec2 pos)</b></p>

<p style="margin-left:32%;">The sampling function to use to
access the texture at a certain spot (in texture coordinate
space, range [0,1]). This takes care of any necessary
normalization conversions.</p>

<p style="margin-left:22%;"><b>vec4 NAME_texOff(vec2
offset)</b></p>

<p style="margin-left:32%;">Sample the texture at a certain
offset in pixels. This works like NAME_tex but additionally
takes care of necessary rotations, so that sampling at e.g.
vec2(-1,0) is always one pixel to the left.</p>

<p style="margin-left:22%;"><b>vec2 NAME_pos</b></p>

<p style="margin-left:32%;">The local texture coordinate of
that texture, range [0,1].</p>

<p style="margin-left:22%;"><b>vec2 NAME_size</b></p>

<p style="margin-left:32%;">The (rotated) size in pixels of
the texture.</p>

<p style="margin-left:22%;"><b>mat2 NAME_rot</b></p>

<p style="margin-left:32%;">The rotation matrix associated
with this texture. (Rotates pixel space to texture
coordinates)</p>

<p style="margin-left:22%;"><b>vec2 NAME_pt</b></p>

<p style="margin-left:32%;">The (unrotated) size of a
single pixel, range [0,1].</p>

<p style="margin-left:22%;"><b>float NAME_mul</b></p>

<p style="margin-left:32%;">The coefficient that needs to
be multiplied into the texture contents in order to
normalize it to the range [0,1].</p>

<p style="margin-left:22%;"><b>sampler NAME_raw</b></p>

<p style="margin-left:32%;">The raw bound texture itself.
The use of this should be avoided unless absolutely
necessary.</p>

<p style="margin-left:22%; margin-top: 1em">Normally, users
should use either NAME_tex or NAME_texOff to read from the
texture. For some shaders however , it can be better for
performance to do custom sampling from NAME_raw, in which
case care needs to be taken to respect NAME_mul and
NAME_rot.</p>

<p style="margin-left:22%; margin-top: 1em">In addition to
these parameters, the following uniforms are also globally
available: <b><br>
float random</b></p>

<p style="margin-left:32%;">A random number in the range
[0-1], different per frame.</p>

<p style="margin-left:22%;"><b>int frame</b></p>

<p style="margin-left:32%;">A simple count of frames
rendered, increases by one per frame and never resets
(regardless of seeks).</p>

<p style="margin-left:22%;"><b>vec2 input_size</b></p>

<p style="margin-left:32%;">The size in pixels of the input
image (possibly cropped and prescaled).</p>

<p style="margin-left:22%;"><b>vec2 target_size</b></p>

<p style="margin-left:32%;">The size in pixels of the
visible part of the scaled (and possibly cropped) image.</p>

<p style="margin-left:22%;"><b>vec2 tex_offset</b></p>

<p style="margin-left:32%;">Texture offset introduced by
user shaders or options like panscan, video-align-x/y,
video-pan-x/y.</p>

<p style="margin-left:22%; margin-top: 1em">Internally,
vo_gpu may generate any number of the following textures.
Whenever a texture is rendered and saved by vo_gpu, all of
the passes that have hooked into it will run, in the order
they were added by the user. This is a list of the legal
hook points: <b><br>
RGB, LUMA, CHROMA, ALPHA, XYZ (resizable)</b></p>

<p style="margin-left:32%;">Source planes (raw). Which of
these fire depends on the image format of the source.</p>

<p style="margin-left:22%;"><b>CHROMA_SCALED, ALPHA_SCALED
(fixed)</b></p>

<p style="margin-left:32%;">Source planes (upscaled). These
only fire on subsampled content.</p>

<p style="margin-left:22%;"><b>NATIVE (resizable)</b></p>

<p style="margin-left:32%;">The combined image, in the
source colorspace, before conversion to RGB.</p>

<p style="margin-left:22%;"><b>MAINPRESUB
(resizable)</b></p>

<p style="margin-left:32%;">The image, after conversion to
RGB, but before <b>--blend-subtitles=video</b> is
applied.</p>

<p style="margin-left:22%;"><b>MAIN (resizable)</b></p>

<p style="margin-left:32%;">The main image, after
conversion to RGB but before upscaling.</p>

<p style="margin-left:22%;"><b>LINEAR (fixed)</b></p>

<p style="margin-left:32%;">Linear light image, before
scaling. This only fires when <b>--linear-upscaling</b>,
<b>--linear-downscaling</b> or <b>--sigmoid-upscaling</b> is
in effect.</p>

<p style="margin-left:22%;"><b>SIGMOID (fixed)</b></p>

<p style="margin-left:32%;">Sigmoidized light, before
scaling. This only fires when <b>--sigmoid-upscaling</b> is
in effect.</p>

<p style="margin-left:22%;"><b>PREKERNEL (fixed)</b></p>

<p style="margin-left:32%;">The image immediately before
the scaler kernel runs.</p>

<p style="margin-left:22%;"><b>POSTKERNEL (fixed)</b></p>

<p style="margin-left:32%;">The image immediately after the
scaler kernel runs.</p>

<p style="margin-left:22%;"><b>SCALED (fixed)</b></p>

<p style="margin-left:32%;">The final upscaled image,
before color management.</p>

<p style="margin-left:22%;"><b>OUTPUT (fixed)</b></p>

<p style="margin-left:32%;">The final output image, after
color management but before dithering and drawing to
screen.</p>

<p style="margin-left:22%; margin-top: 1em">Only the
textures labelled with <b>resizable</b> may be transformed
by the pass. When overwriting a texture marked <b>fixed</b>,
the WIDTH, HEIGHT and OFFSET must be left at their default
values.</p>


<p style="margin-left:11%;"><b>--glsl-shader=&lt;file&gt;</b></p>

<p style="margin-left:22%;">CLI/config file only alias for
<b>--glsl-shaders-append</b>.</p>

<p style="margin-left:11%;"><b>--deband</b></p>

<p style="margin-left:22%;">Enable the debanding algorithm.
This greatly reduces the amount of visible banding, blocking
and other quantization artifacts, at the expense of very
slightly blurring some of the finest details. In practice,
it's virtually always an improvement - the only reason to
disable it would be for performance.</p>


<p style="margin-left:11%;"><b>--deband-iterations=&lt;1..16&gt;</b></p>

<p style="margin-left:22%;">The number of debanding steps
to perform per sample. Each step reduces a bit more banding,
but takes time to compute. Note that the strength of each
step falls off very quickly, so high numbers (&gt;4) are
practically useless. (Default 1)</p>


<p style="margin-left:11%;"><b>--deband-threshold=&lt;0..4096&gt;</b></p>

<p style="margin-left:22%;">The debanding filter's cut-off
threshold. Higher numbers increase the debanding strength
dramatically but progressively diminish image details.
(Default 64)</p>


<p style="margin-left:11%;"><b>--deband-range=&lt;1..64&gt;</b></p>

<p style="margin-left:22%;">The debanding filter's initial
radius. The radius increases linearly for each iteration. A
higher radius will find more gradients, but a lower radius
will smooth more aggressively. (Default 16)</p>

<p style="margin-left:22%; margin-top: 1em">If you increase
the <b>--deband-iterations</b>, you should probably decrease
this to compensate.</p>


<p style="margin-left:11%;"><b>--deband-grain=&lt;0..4096&gt;</b></p>

<p style="margin-left:22%;">Add some extra noise to the
image. This significantly helps cover up remaining
quantization artifacts. Higher numbers add more noise.
(Default 48)</p>


<p style="margin-left:11%;"><b>--sharpen=&lt;value&gt;</b></p>

<p style="margin-left:22%;">If set to a value other than 0,
enable an unsharp masking filter. Positive values will
sharpen the image (but add more ringing and aliasing).
Negative values will blur the image. If your GPU is powerful
enough, consider alternatives like the
<b>ewa_lanczossharp</b> scale filter, or the
<b>--scale-blur</b> option.</p>

<p style="margin-left:11%;"><b>--opengl-glfinish</b></p>

<p style="margin-left:22%;">Call <b>glFinish()</b> before
swapping buffers (default: disabled). Slower, but might
improve results when doing framedropping. Can completely
ruin performance. The details depend entirely on the OpenGL
driver.</p>

<p style="margin-left:11%;"><b>--opengl-waitvsync</b></p>

<p style="margin-left:22%;">Call <b>glXWaitVideoSyncSGI</b>
after each buffer swap (default: disabled). This may or may
not help with video timing accuracy and frame drop. It's
possible that this makes video output slower, or has no
effect at all.</p>

<p style="margin-left:22%; margin-top: 1em">X11/GLX
only.</p>


<p style="margin-left:11%;"><b>--opengl-dwmflush=&lt;no|windowed|yes|auto&gt;</b></p>

<p style="margin-left:22%;">Calls <b>DwmFlush</b> after
swapping buffers on Windows (default: auto). It also sets
<b>SwapInterval(0)</b> to ignore the OpenGL timing. Values
are: no (disabled), windowed (only in windowed mode), yes
(also in full screen).</p>

<p style="margin-left:22%; margin-top: 1em">The value
<b>auto</b> will try to determine whether the compositor is
active, and calls <b>DwmFlush</b> only if it seems to
be.</p>

<p style="margin-left:22%; margin-top: 1em">This may help
to get more consistent frame intervals, especially with
high-fps clips - which might also reduce dropped frames.
Typically, a value of <b>windowed</b> should be enough,
since full screen may bypass the DWM.</p>

<p style="margin-left:22%; margin-top: 1em">Windows
only.</p>


<p style="margin-left:11%;"><b>--angle-d3d11-feature-level=&lt;11_0|10_1|10_0|9_3&gt;</b></p>

<p style="margin-left:22%;">Selects a specific feature
level when using the ANGLE backend with D3D11. By default,
the highest available feature level is used. This option can
be used to select a lower feature level, which is mainly
useful for debugging. Note that OpenGL ES 3.0 is only
supported at feature level 10_1 or higher. Most extended
OpenGL features will not work at lower feature levels
(similar to <b>--gpu-dumb-mode</b>).</p>

<p style="margin-left:22%; margin-top: 1em">Windows with
ANGLE only.</p>


<p style="margin-left:11%;"><b>--angle-d3d11-warp=&lt;yes|no|auto&gt;</b></p>

<p style="margin-left:22%;">Use WARP (Windows Advanced
Rasterization Platform) when using the ANGLE backend with
D3D11 (default: auto). This is a high performance software
renderer. By default, it is used when the Direct3D hardware
does not support Direct3D 11 feature level 9_3. While the
extended OpenGL features will work with WARP, they can be
very slow.</p>

<p style="margin-left:22%; margin-top: 1em">Windows with
ANGLE only.</p>


<p style="margin-left:11%;"><b>--angle-egl-windowing=&lt;yes|no|auto&gt;</b></p>

<p style="margin-left:22%;">Use ANGLE's built in EGL
windowing functions to create a swap chain (default: auto).
If this is set to <b>no</b> and the D3D11 renderer is in
use, ANGLE's built in swap chain will not be used and a
custom swap chain that is optimized for video rendering will
be created instead. If set to <b>auto</b>, a custom swap
chain will be used for D3D11 and the built in swap chain
will be used for D3D9. This option is mainly for debugging
purposes, in case the custom swap chain has poor performance
or does not work.</p>

<p style="margin-left:22%; margin-top: 1em">If set to
<b>yes</b>, the <b>--angle-max-frame-latency</b>,
<b>--angle-swapchain-length</b> and <b>--angle-flip</b>
options will have no effect.</p>

<p style="margin-left:22%; margin-top: 1em">Windows with
ANGLE only.</p>


<p style="margin-left:11%;"><b>--angle-flip=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Enable flip-model presentation,
which avoids unnecessarily copying the backbuffer by sharing
surfaces with the DWM (default: yes). This may cause
performance issues with older drivers. If flip-model
presentation is not supported (for example, on Windows 7
without the platform update), mpv will automatically fall
back to the older bitblt presentation model.</p>

<p style="margin-left:22%; margin-top: 1em">If set to
<b>no</b>, the <b>--angle-swapchain-length</b> option will
have no effect.</p>

<p style="margin-left:22%; margin-top: 1em">Windows with
ANGLE only.</p>


<p style="margin-left:11%;"><b>--angle-renderer=&lt;d3d9|d3d11|auto&gt;</b></p>

<p style="margin-left:22%;">Forces a specific renderer when
using the ANGLE backend (default: auto). In auto mode this
will pick D3D11 for systems that support Direct3D 11 feature
level 9_3 or higher, and D3D9 otherwise. This option is
mainly for debugging purposes. Normally there is no reason
to force a specific renderer, though
<b>--angle-renderer=d3d9</b> may give slightly better
performance on old hardware. Note that the D3D9 renderer
only supports OpenGL ES 2.0, so most extended OpenGL
features will not work if this renderer is selected (similar
to <b>--gpu-dumb-mode</b>).</p>

<p style="margin-left:22%; margin-top: 1em">Windows with
ANGLE only.</p>


<p style="margin-left:11%;"><b>--cocoa-force-dedicated-gpu=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Deactivates the automatic
graphics switching and forces the dedicated GPU. (default:
no)</p>

<p style="margin-left:22%; margin-top: 1em">OS X only.</p>


<p style="margin-left:11%;"><b>--cocoa-cb-sw-renderer=&lt;yes|no|auto&gt;</b></p>

<p style="margin-left:22%;">Use the Apple Software Renderer
when using cocoa-cb (default: auto). If set to <b>no</b> the
software renderer is never used and instead fails when a the
usual pixel format could not be created, <b>yes</b> will
always only use the software renderer, and <b>auto</b> only
falls back to the software renderer when the usual pixel
format couldn't be created.</p>

<p style="margin-left:22%; margin-top: 1em">OS X only.</p>


<p style="margin-left:11%;"><b>--cocoa-cb-10bit-context=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Creates a 10bit capable pixel
format for the context creation (default: yes). Instead of
8bit integer framebuffer a 16bit half-float framebuffer is
requested.</p>

<p style="margin-left:22%; margin-top: 1em">OS X only.</p>


<p style="margin-left:11%;"><b>--macos-title-bar-appearance=&lt;appearance&gt;</b></p>

<p style="margin-left:22%;">Sets the appearance of the
title bar (default: auto). Not all combinations of
appearances and <b>--macos-title-bar-material</b> materials
make sense or are unique. Appearances that are not supported
by you current macOS version fall back to the default value.
macOS and cocoa-cb only</p>


<p style="margin-left:22%; margin-top: 1em"><b>&lt;appearance&gt;</b>
can be one of the following:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p><b>auto</b></p></td>
<td width="4%"></td>
<td width="68%">


<p>Detects the system settings and sets the title bar
appearance appropriately. On macOS 10.14 it also detects run
time changes.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p><b>aqua</b></p></td>
<td width="4%"></td>
<td width="68%">


<p>The standard macOS Light appearance.</p></td></tr>
</table>

<p style="margin-left:22%;"><b>darkAqua</b></p>

<p style="margin-left:32%;">The standard macOS Dark
appearance. (macOS 10.14+)</p>

<p style="margin-left:22%;"><b>vibrantLight</b></p>

<p style="margin-left:32%;">Light vibrancy appearance
with.</p>

<p style="margin-left:22%;"><b>vibrantDark</b></p>

<p style="margin-left:32%;">Dark vibrancy appearance
with.</p>

<p style="margin-left:22%;"><b>aquaHighContrast</b></p>

<p style="margin-left:32%;">Light Accessibility appearance.
(macOS 10.14+)</p>


<p style="margin-left:22%;"><b>darkAquaHighContrast</b></p>

<p style="margin-left:32%;">Dark Accessibility appearance.
(macOS 10.14+)</p>


<p style="margin-left:22%;"><b>vibrantLightHighContrast</b></p>

<p style="margin-left:32%;">Light vibrancy Accessibility
appearance. (macOS 10.14+)</p>


<p style="margin-left:22%;"><b>vibrantDarkHighContrast</b></p>

<p style="margin-left:32%;">Dark vibrancy Accessibility
appearance. (macOS 10.14+)</p>


<p style="margin-left:11%;"><b>--macos-title-bar-material=&lt;material&gt;</b></p>

<p style="margin-left:22%;">Sets the material of the title
bar (default: titlebar). All deprecated materials should not
be used on macOS 10.14+ because their functionality is not
guaranteed. Not all combinations of materials and
<b>--macos-title-bar-appearance</b> appearances make sense
or are unique. Materials that are not supported by you
current macOS version fall back to the default value. macOS
and cocoa-cb only</p>


<p style="margin-left:22%; margin-top: 1em"><b>&lt;material&gt;</b>
can be one of the following: <b><br>
titlebar</b></p>

<p style="margin-left:32%;">The standard macOS titel bar
material.</p>

<p style="margin-left:22%;"><b>selection</b></p>

<p style="margin-left:32%;">The standard macOS selection
material.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p><b>menu</b></p></td>
<td width="4%"></td>
<td width="68%">


<p>The standard macOS menu material. (macOS 10.11+)</p></td></tr>
</table>

<p style="margin-left:22%;"><b>popover</b></p>

<p style="margin-left:32%;">The standard macOS popover
material. (macOS 10.11+)</p>

<p style="margin-left:22%;"><b>sidebar</b></p>

<p style="margin-left:32%;">The standard macOS sidebar
material. (macOS 10.11+)</p>

<p style="margin-left:22%;"><b>headerView</b></p>

<p style="margin-left:32%;">The standard macOS header view
material. (macOS 10.14+)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>sheet</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>The standard macOS sheet material. (macOS 10.14+)</p></td></tr>
</table>

<p style="margin-left:22%;"><b>windowBackground</b></p>

<p style="margin-left:32%;">The standard macOS window
background material. (macOS 10.14+)</p>

<p style="margin-left:22%;"><b>hudWindow</b></p>

<p style="margin-left:32%;">The standard macOS hudWindow
material. (macOS 10.14+)</p>

<p style="margin-left:22%;"><b>fullScreen</b></p>

<p style="margin-left:32%;">The standard macOS full screen
material. (macOS 10.14+)</p>

<p style="margin-left:22%;"><b>toolTip</b></p>

<p style="margin-left:32%;">The standard macOS tool tip
material. (macOS 10.14+)</p>

<p style="margin-left:22%;"><b>contentBackground</b></p>

<p style="margin-left:32%;">The standard macOS content
background material. (macOS 10.14+)</p>


<p style="margin-left:22%;"><b>underWindowBackground</b></p>

<p style="margin-left:32%;">The standard macOS under window
background material. (macOS 10.14+)</p>

<p style="margin-left:22%;"><b>underPageBackground</b></p>

<p style="margin-left:32%;">The standard macOS under page
background material. (deprecated in macOS 10.14+)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>dark</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>The standard macOS dark material. (deprecated in macOS
10.14+)</p> </td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>light</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>The standard macOS light material. (macOS 10.14+)</p></td></tr>
</table>

<p style="margin-left:22%;"><b>mediumLight</b></p>

<p style="margin-left:32%;">The standard macOS mediumLight
material. (macOS 10.11+, deprecated in macOS 10.14+)</p>

<p style="margin-left:22%;"><b>ultraDark</b></p>

<p style="margin-left:32%;">The standard macOS ultraDark
material. (macOS 10.11+ deprecated in macOS 10.14+)</p>


<p style="margin-left:11%;"><b>--macos-title-bar-color=&lt;color&gt;</b></p>

<p style="margin-left:22%;">Sets the color of the title bar
(default: completely transparent). Is influenced by
<b>--macos-title-bar-appearance</b> and
<b>--macos-title-bar-material</b>. See <b>--sub-color</b>
for color syntax.</p>


<p style="margin-left:11%;"><b>--macos-fs-animation-duration=&lt;default|0-1000&gt;</b></p>

<p style="margin-left:22%;">Sets the fullscreen resize
animation duration in ms (default: default). The default
value is slightly less than the system's animation duration
(500ms) to prevent some problems when the end of an async
animation happens at the same time as the end of the system
wide fullscreen animation. Setting anything higher than
500ms will only prematurely cancel the resize animation
after the system wide animation ended. The upper limit is
still set at 1000ms since it's possible that Apple or the
user changes the system defaults. Anything higher than
1000ms though seems too long and shouldn't be set anyway. OS
X and cocoa-cb only</p>


<p style="margin-left:11%;"><b>--android-surface-size=&lt;WxH&gt;</b></p>

<p style="margin-left:22%;">Set dimensions of the rendering
surface used by the Android gpu context. Needs to be set by
the embedding application if the dimensions change during
runtime (i.e. if the device is rotated), via the
surfaceChanged callback.</p>

<p style="margin-left:22%; margin-top: 1em">Android with
<b>--gpu-context=android</b> only.</p>

<p style="margin-left:11%;"><b>--gpu-sw</b></p>

<p style="margin-left:22%;">Continue even if a software
renderer is detected.</p>


<p style="margin-left:11%;"><b>--gpu-context=&lt;sys&gt;</b></p>

<p style="margin-left:22%;">The value <b>auto</b> (the
default) selects the GPU context. You can also pass
<b>help</b> to get a complete list of compiled in backends
(sorted by autoprobe order).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>auto</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>auto-select (default)</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>cocoa</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>Cocoa/OS X (deprecated, use --vo=libmpv instead)</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>win</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>Win32/WGL</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>winvk</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>VK_KHR_win32_surface</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>angle</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>Direct3D11 through the OpenGL ES translation layer
ANGLE. This supports almost everything the <b>win</b>
backend does (if the ANGLE build is new enough).</p></td></tr>
</table>

<p style="margin-left:22%;"><b>dxinterop
(experimental)</b></p>

<p style="margin-left:32%;">Win32, using WGL for rendering
and Direct3D 9Ex for presentation. Works on Nvidia and AMD.
Newer Intel chips with the latest drivers may also work.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>d3d11</b></p></td>
<td width="3%"></td>
<td width="63%">


<p>Win32, with native Direct3D 11 rendering.</p></td>
<td width="5%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>x11</b></p></td>
<td width="3%"></td>
<td width="63%">


<p>X11/GLX</p></td>
<td width="5%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>x11vk</b></p></td>
<td width="3%"></td>
<td width="63%">


<p>VK_KHR_xlib_surface</p></td>
<td width="5%">
</td></tr>
</table>

<p style="margin-left:22%;"><b>wayland</b></p>

<p style="margin-left:32%;">Wayland/EGL</p>

<p style="margin-left:22%;"><b>waylandvk</b></p>

<p style="margin-left:32%;">VK_KHR_wayland_surface</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>drm</b></p></td>
<td width="1%"></td>
<td width="11%">


<p>DRM/EGL</p></td>
<td width="57%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>x11egl</b></p></td>
<td width="1%"></td>
<td width="11%">


<p>X11/EGL</p></td>
<td width="57%">
</td></tr>
</table>

<p style="margin-left:22%;"><b>android</b></p>

<p style="margin-left:32%;">Android/EGL. Requires
<b>--wid</b> be set to an <b>android.view.Surface</b>.</p>


<p style="margin-left:11%;"><b>--gpu-api=&lt;type&gt;</b></p>

<p style="margin-left:22%;">Controls which type of graphics
APIs will be accepted:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>auto</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>Use any available API (default)</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>opengl</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>Allow only OpenGL (requires OpenGL 2.1+ or GLES
2.0+)</p> </td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>vulkan</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>Allow only Vulkan (requires a valid/working
<b>--spirv-compiler</b>)</p> </td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>d3d11</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>Allow only <b>--gpu-context=d3d11</b></p></td></tr>
</table>


<p style="margin-left:11%;"><b>--opengl-es=&lt;mode&gt;</b></p>

<p style="margin-left:22%;">Controls which type of OpenGL
context will be accepted:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p><b>auto</b></p></td>
<td width="4%"></td>
<td width="54%">


<p>Allow all types of OpenGL (default)</p></td>
<td width="14%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p><b>yes</b></p></td>
<td width="4%"></td>
<td width="54%">


<p>Only allow GLES</p></td>
<td width="14%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p><b>no</b></p></td>
<td width="4%"></td>
<td width="54%">


<p>Only allow desktop/core GL</p></td>
<td width="14%">
</td></tr>
</table>


<p style="margin-left:11%;"><b>--opengl-restrict=&lt;version&gt;</b></p>

<p style="margin-left:22%;">Restricts all OpenGL versions
above a certain version. Versions are encoded in hundreds,
i.e. OpenGL 4.5 -&gt; 450. As an example,
--opengl-restrict=300 would restrict OpenGL 3.0 and higher,
effectively only allowing 2.x contexts. Note that this only
imposes a limit on context creation APIs, the actual OpenGL
context may still have a higher OpenGL version. (Default:
0)</p>


<p style="margin-left:11%;"><b>--fbo-format=&lt;fmt&gt;</b></p>

<p style="margin-left:22%;">Selects the internal format of
textures used for FBOs. The format can influence performance
and quality of the video output. <b>fmt</b> can be one of:
rgb8, rgb10, rgb10_a2, rgb16, rgb16f, rgb32f, rgba12,
rgba16, rgba16f, rgba16hf, rgba32f.</p>

<p style="margin-left:22%; margin-top: 1em">Default:
<b>auto</b>, which first attempts to utilize 16bit float
(rgba16f, rgba16hf), and falls back to rgba16 if those are
not available. Finally, attempts to utilize rgb10_a2 or
rgba8 if all of the previous formats are not available.</p>


<p style="margin-left:11%;"><b>--gamma-factor=&lt;0.1..2.0&gt;</b></p>

<p style="margin-left:22%;">Set an additional raw gamma
factor (default: 1.0). If gamma is adjusted in other ways
(like with the <b>--gamma</b> option or key bindings and the
<b>gamma</b> property), the value is multiplied with the
other gamma value.</p>

<p style="margin-left:22%; margin-top: 1em">Recommended
values based on the environmental brightness:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="4%">


<p><b>1.0</b></p></td>
<td width="6%"></td>
<td width="60%">


<p>Pitch black or dimly lit room (default)</p></td>
<td width="8%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="4%">


<p><b>1.1</b></p></td>
<td width="6%"></td>
<td width="60%">


<p>Moderately lit room, home</p></td>
<td width="8%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="4%">


<p><b>1.2</b></p></td>
<td width="6%"></td>
<td width="60%">


<p>Brightly illuminated room, office</p></td>
<td width="8%">
</td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">NOTE: This is
based around the assumptions of typical movie content, which
contains an implicit end-to-end of about 0.8 from scene to
display. For bright environments it can be useful to cancel
that out.</p>

<p style="margin-left:11%;"><b>--gamma-auto</b></p>

<p style="margin-left:22%;">Automatically corrects the
gamma value depending on ambient lighting conditions (adding
a gamma boost for bright rooms).</p>

<p style="margin-left:22%; margin-top: 1em">With ambient
illuminance of 16 lux, mpv will pick the 1.0 gamma value (no
boost), and slightly increase the boost up until 1.2 for 256
lux.</p>

<p style="margin-left:22%; margin-top: 1em">NOTE: Only
implemented on OS X.</p>


<p style="margin-left:11%;"><b>--target-prim=&lt;value&gt;</b></p>

<p style="margin-left:22%;">Specifies the primaries of the
display. Video colors will be adapted to this colorspace
when ICC color management is not being used. Valid values
are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p><b>auto</b></p></td>
<td width="4%"></td>
<td width="68%">


<p>Disable any adaptation, except for atypical color
spaces. Specifically, wide/unusual gamuts get automatically
adapted to BT.709, while standard gamut (i.e. BT.601 and
BT.709) content is not touched. (default)</p></td></tr>
</table>

<p style="margin-left:22%;"><b>bt.470m</b></p>

<p style="margin-left:32%;">ITU-R BT.470 M</p>

<p style="margin-left:22%;"><b>bt.601-525</b></p>

<p style="margin-left:32%;">ITU-R BT.601 (525-line SD
systems, eg. NTSC), SMPTE 170M/240M</p>

<p style="margin-left:22%;"><b>bt.601-625</b></p>

<p style="margin-left:32%;">ITU-R BT.601 (625-line SD
systems, eg. PAL/SECAM), ITU-R BT.470 B/G</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>bt.709</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>ITU-R BT.709 (HD), IEC 61966-2-4 (sRGB), SMPTE RP177
Annex B</p></td></tr>
</table>

<p style="margin-left:22%;"><b>bt.2020</b></p>

<p style="margin-left:32%;">ITU-R BT.2020 (UHD)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>apple</b></p></td>
<td width="3%"></td>
<td width="25%">


<p>Apple RGB</p></td>
<td width="43%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>adobe</b></p></td>
<td width="3%"></td>
<td width="25%">


<p>Adobe RGB (1998)</p></td>
<td width="43%">
</td></tr>
</table>

<p style="margin-left:22%;"><b>prophoto</b></p>

<p style="margin-left:32%;">ProPhoto RGB (ROMM)</p>

<p style="margin-left:22%;"><b>cie1931</b></p>

<p style="margin-left:32%;">CIE 1931 RGB (not to be
confused with CIE XYZ)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>dci-p3</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>DCI-P3 (Digital Cinema Colorspace), SMPTE RP431-2</p></td></tr>
</table>

<p style="margin-left:22%;"><b>v-gamut</b></p>

<p style="margin-left:32%;">Panasonic V-Gamut (VARICAM)
primaries</p>

<p style="margin-left:22%;"><b>s-gamut</b></p>

<p style="margin-left:32%;">Sony S-Gamut (S-Log)
primaries</p>


<p style="margin-left:11%;"><b>--target-trc=&lt;value&gt;</b></p>

<p style="margin-left:22%;">Specifies the transfer
characteristics (gamma) of the display. Video colors will be
adjusted to this curve when ICC color management is not
being used. Valid values are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p><b>auto</b></p></td>
<td width="4%"></td>
<td width="68%">


<p>Disable any adaptation, except for atypical transfers.
Specifically, HDR or linear light source material gets
automatically converted to gamma 2.2, while SDR content is
not touched. (default)</p></td></tr>
</table>

<p style="margin-left:22%;"><b>bt.1886</b></p>

<p style="margin-left:32%;">ITU-R BT.1886 curve (assuming
infinite contrast)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>srgb</b></p></td>
<td width="1%"></td>
<td width="31%">


<p>IEC 61966-2-4 (sRGB)</p></td>
<td width="37%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>linear</b></p></td>
<td width="1%"></td>
<td width="31%">


<p>Linear light output</p></td>
<td width="37%">
</td></tr>
</table>

<p style="margin-left:22%;"><b>gamma1.8</b></p>

<p style="margin-left:32%;">Pure power curve (gamma 1.8),
also used for Apple RGB</p>

<p style="margin-left:22%;"><b>gamma2.0</b></p>

<p style="margin-left:32%;">Pure power curve (gamma
2.0)</p>

<p style="margin-left:22%;"><b>gamma2.2</b></p>

<p style="margin-left:32%;">Pure power curve (gamma
2.2)</p>

<p style="margin-left:22%;"><b>gamma2.4</b></p>

<p style="margin-left:32%;">Pure power curve (gamma
2.4)</p>

<p style="margin-left:22%;"><b>gamma2.6</b></p>

<p style="margin-left:32%;">Pure power curve (gamma
2.6)</p>

<p style="margin-left:22%;"><b>gamma2.8</b></p>

<p style="margin-left:32%;">Pure power curve (gamma 2.8),
also used for BT.470-BG</p>

<p style="margin-left:22%;"><b>prophoto</b></p>

<p style="margin-left:32%;">ProPhoto RGB (ROMM)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>pq</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>ITU-R BT.2100 PQ (Perceptual quantizer) curve, aka SMPTE
ST2084</p> </td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>hlg</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>ITU-R BT.2100 HLG (Hybrid Log-gamma) curve, aka ARIB
STD-B67</p> </td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>v-log</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>Panasonic V-Log (VARICAM) curve</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>s-log1</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>Sony S-Log1 curve</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>s-log2</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>Sony S-Log2 curve</p></td></tr>
</table>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">When using HDR output formats,
mpv will encode to the specified curve but it will not set
any HDMI flags or other signalling that might be required
for the target device to correctly display the HDR signal.
The user should independently guarantee this before using
these signal formats for display.</p>


<p style="margin-left:11%;"><b>--target-peak=&lt;auto|nits&gt;</b></p>

<p style="margin-left:22%;">Specifies the measured peak
brightness of the output display, in cd/m^2 (AKA nits). The
interpretation of this brightness depends on the configured
<b>--target-trc</b>. In all cases, it imposes a limit on the
signal values that will be sent to the display. If the
source exceeds this brightness level, a tone mapping filter
will be inserted. For HLG, it has the additional effect of
parametrizing the inverse OOTF, in order to get
colorimetrically consistent results with the mastering
display. For SDR, or when using an ICC (profile
(<b>--icc-profile</b>), setting this to a value above 100
essentially causes the display to be treated as if it were
an HDR display in disguise. (See the note below)</p>

<p style="margin-left:22%; margin-top: 1em">In <b>auto</b>
mode (the default), the chosen peak is an appropriate value
based on the TRC in use. For SDR curves, it uses 100. For
HDR curves, it uses 100 * the transfer function's nominal
peak.</p>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">When using an SDR transfer
function, this is normally not needed, and setting it may
lead to very unexpected results. The one time it <i>is</i>
useful is if you want to calibrate a HDR display using
traditional transfer functions and calibration equipment. In
such cases, you can set your HDR display to a high
brightness such as 800 cd/m^2, and then calibrate it to a
standard curve like gamma2.8. Setting this value to 800
would then instruct mpv to essentially treat it as an HDR
display with the given peak. This may be a good alternative
in environments where PQ or HLG input to the display is not
possible, and makes it possible to use HDR displays with mpv
regardless of operating system support for HDMI HDR
metadata.</p>

<p style="margin-left:26%; margin-top: 1em">In such a
configuration, we highly recommend setting
<b>--tone-mapping</b> to <b>mobius</b> or even
<b>clip</b>.</p>


<p style="margin-left:11%;"><b>--tone-mapping=&lt;value&gt;</b></p>

<p style="margin-left:22%;">Specifies the algorithm used
for tone-mapping images onto the target display. This is
relevant for both HDR-&gt;SDR conversion as well as gamut
reduction (e.g. playing back BT.2020 content on a standard
gamut display). Valid values are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>clip</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>Hard-clip any out-of-range values. Use this when you
care about perfect color accuracy for in-range values at the
cost of completely distorting out-of-range values. Not
generally recommended.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>mobius</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>Generalization of Reinhard to a M&ouml;bius transform
with linear section. Smoothly maps out-of-range values while
retaining contrast and colors for in-range material as much
as possible. Use this when you care about color accuracy
more than detail preservation. This is somewhere in between
<b>clip</b> and <b>reinhard</b>, depending on the value of
<b>--tone-mapping-param</b>.</p> </td></tr>
</table>

<p style="margin-left:22%;"><b>reinhard</b></p>

<p style="margin-left:32%;">Reinhard tone mapping
algorithm. Very simple continuous curve. Preserves overall
image brightness but uses nonlinear contrast, which results
in flattening of details and degradation in color
accuracy.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>hable</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>Similar to <b>reinhard</b> but preserves both dark and
bright details better (slightly sigmoidal), at the cost of
slightly darkening / desaturating everything. Developed by
John Hable for use in video games. Use this when you care
about detail preservation more than color/brightness
accuracy. This is roughly equivalent to
<b>--tone-mapping=reinhard --tone-mapping-param=0.24</b>. If
possible, you should also enable <b>--hdr-compute-peak</b>
for the best results. (Default)</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>gamma</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>Fits a logarithmic transfer between the tone curves.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>linear</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>Linearly stretches the entire reference gamut to (a
linear multiple of) the display.</p></td></tr>
</table>


<p style="margin-left:11%;"><b>--tone-mapping-param=&lt;value&gt;</b></p>

<p style="margin-left:22%;">Set tone mapping parameters. By
default, this is set to the special string <b>default</b>,
which maps to an algorithm-specific default value. Ignored
if the tone mapping algorithm is not tunable. This affects
the following tone mapping algorithms:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>clip</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>Specifies an extra linear coefficient to multiply into
the signal before clipping. Defaults to 1.0.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>mobius</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>Specifies the transition point from linear to mobius
transform. Every value below this point is guaranteed to be
mapped 1:1. The higher the value, the more accurate the
result will be, at the cost of losing bright details.
Defaults to 0.3, which due to the steep initial slope still
preserves in-range colors fairly accurately.</p></td></tr>
</table>

<p style="margin-left:22%;"><b>reinhard</b></p>

<p style="margin-left:32%;">Specifies the local contrast
coefficient at the display peak. Defaults to 0.5, which
means that in-gamut values will be about half as bright as
when clipping.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>gamma</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>Specifies the exponent of the function. Defaults to
1.8.</p> </td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>linear</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>Specifies the scale factor to use while stretching.
Defaults to 1.0.</p></td></tr>
</table>


<p style="margin-left:11%;"><b>--tone-mapping-max-boost=&lt;1.0..10.0&gt;</b></p>

<p style="margin-left:22%;">Upper limit for how much the
tone mapping algorithm is allowed to boost the average
brightness by over-exposing the image. The default value of
1.0 allows no additional brightness boost. A value of 2.0
would allow over-exposing by a factor of 2, and so on.
Raising this setting can help reveal details that would
otherwise be hidden in dark scenes, but raising it too high
will make dark scenes appear unnaturally bright.</p>


<p style="margin-left:11%;"><b>--hdr-compute-peak=&lt;auto|yes|no&gt;</b></p>

<p style="margin-left:22%;">Compute the HDR peak and frame
average brightness per-frame instead of relying on tagged
metadata. These values are averaged over local regions as
well as over several frames to prevent the value from
jittering around too much. This option basically gives you
dynamic, per-scene tone mapping. Requires compute shaders,
which is a fairly recent OpenGL feature, and will probably
also perform horribly on some drivers, so enable at your own
risk. The special value <b>auto</b> (default) will enable
HDR peak computation automatically if compute shaders and
SSBOs are supported.</p>


<p style="margin-left:11%;"><b>--hdr-peak-decay-rate=&lt;1.0..1000.0&gt;</b></p>

<p style="margin-left:22%;">The decay rate used for the HDR
peak detection algorithm (default: 100.0). This is only
relevant when <b>--hdr-compute-peak</b> is enabled. Higher
values make the peak decay more slowly, leading to more
stable values at the cost of more &quot;eye
adaptation&quot;-like effects (although this is mitigated
somewhat by <b>--hdr-scene-threshold</b>). A value of 1.0
(the lowest possible) disables all averaging, meaning each
frame's value is used directly as measured, but doing this
is not recommended for &quot;noisy&quot; sources since it
may lead to excessive flicker. (In signal theory terms, this
controls the time constant &quot;tau&quot; of an IIR low
pass filter)</p>


<p style="margin-left:11%;"><b>--hdr-scene-threshold-low=&lt;0.0..100.0&gt;,
<br>
--hdr-scene-threshold-high=&lt;0.0..100.0&gt;</b></p>

<p style="margin-left:22%;">The lower and upper thresholds
(in dB) for a brightness difference to be considered a scene
change (default: 5.5 low, 10.0 high). This is only relevant
when <b>--hdr-compute-peak</b> is enabled. Normally, small
fluctuations in the frame brightness are compensated for by
the peak averaging mechanism, but for large jumps in the
brightness this can result in the frame remaining too bright
or too dark for up to several seconds, depending on the
value of <b>--hdr-peak-decay-rate</b>. To counteract this,
when the brightness between the running average and the
current frame exceeds the low threshold, mpv will make the
averaging filter more aggressive, up to the limit of the
high threshold (at which point the filter becomes
instant).</p>


<p style="margin-left:11%;"><b>--tone-mapping-desaturate=&lt;0.0..1.0&gt;</b></p>

<p style="margin-left:22%;">Apply desaturation for
highlights (default: 0.75). The parameter controls the
strength of the desaturation curve. A value of 0.0
completely disables it, while a value of 1.0 means that
overly bright colors will tend towards white. (This is not
always the case, especially not for highlights that are near
primary colors)</p>

<p style="margin-left:22%; margin-top: 1em">Values in
between apply progressively more/less aggressive
desaturation. This setting helps prevent unnaturally
oversaturated colors for super-highlights, by (smoothly)
turning them into less saturated (per channel tone mapped)
colors instead. This makes images feel more natural, at the
cost of chromatic distortions for out-of-range colors. The
default value of 0.75 provides a good balance. Setting this
to 0.0 preserves the chromatic accuracy of the tone mapping
process.</p>


<p style="margin-left:11%;"><b>--tone-mapping-desaturate-exponent=&lt;0.0..20.0&gt;</b></p>

<p style="margin-left:22%;">This setting controls the
exponent of the desaturation curve, which controls how
bright a color needs to be in order to start being
desaturated. The default of 1.5 provides a reasonable
balance. Decreasing this exponent makes the curve more
aggressive.</p>

<p style="margin-left:11%;"><b>--gamut-warning</b></p>

<p style="margin-left:22%;">If enabled, mpv will mark all
clipped/out-of-gamut pixels that exceed a given threshold
(currently hard-coded to 101%). The affected pixels will be
inverted to make them stand out. Note: This option applies
after the effects of all of mpv's color space transformation
/ tone mapping options, so it's a good idea to combine this
with <b>--tone-mapping=clip</b> and use <b>--target-prim</b>
to set the gamut to simulate. For example,
<b>--target-prim=bt.709</b> would make mpv highlight all
pixels that exceed the gamut of a standard gamut (sRGB)
display. This option also does not work well with ICC
profiles, since the 3DLUTs are always generated against the
source color space and have chromatically-accurate clipping
built in.</p>


<p style="margin-left:11%;"><b>--use-embedded-icc-profile</b></p>

<p style="margin-left:22%;">Load the embedded ICC profile
contained in media files such as PNG images. (Default: yes).
Note that this option only works when also using a display
ICC profile (<b>--icc-profile</b> or
<b>--icc-profile-auto</b>), and also requires LittleCMS 2
support.</p>


<p style="margin-left:11%;"><b>--icc-profile=&lt;file&gt;</b></p>

<p style="margin-left:22%;">Load an ICC profile and use it
to transform video RGB to screen output. Needs LittleCMS 2
support compiled in. This option overrides the
<b>--target-prim</b>, <b>--target-trc</b> and
<b>--icc-profile-auto</b> options.</p>

<p style="margin-left:11%;"><b>--icc-profile-auto</b></p>

<p style="margin-left:22%;">Automatically select the ICC
display profile currently specified by the display settings
of the operating system.</p>

<p style="margin-left:22%; margin-top: 1em">NOTE: On
Windows, the default profile must be an ICC profile. WCS
profiles are not supported.</p>

<p style="margin-left:22%; margin-top: 1em">Applications
using libmpv with the render API need to provide the ICC
profile via <b>MPV_RENDER_PARAM_ICC_PROFILE</b>.</p>


<p style="margin-left:11%;"><b>--icc-cache-dir=&lt;dirname&gt;</b></p>

<p style="margin-left:22%;">Store and load the 3D LUTs
created from the ICC profile in this directory. This can be
used to speed up loading, since LittleCMS 2 can take a while
to create a 3D LUT. Note that these files contain
uncompressed LUTs. Their size depends on the
<b>--icc-3dlut-size</b>, and can be very big.</p>

<p style="margin-left:22%; margin-top: 1em">NOTE: This is
not cleaned automatically, so old, unused cache files may
stick around indefinitely.</p>


<p style="margin-left:11%;"><b>--icc-intent=&lt;value&gt;</b></p>

<p style="margin-left:22%;">Specifies the ICC intent used
for the color transformation (when using
<b>--icc-profile</b>).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p><b>0</b></p></td>
<td width="9%"></td>
<td width="48%">


<p>perceptual</p></td>
<td width="20%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p><b>1</b></p></td>
<td width="9%"></td>
<td width="48%">


<p>relative colorimetric (default)</p></td>
<td width="20%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p><b>2</b></p></td>
<td width="9%"></td>
<td width="48%">


<p>saturation</p></td>
<td width="20%">
</td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p><b>3</b></p></td>
<td width="9%"></td>
<td width="48%">


<p>absolute colorimetric</p></td>
<td width="20%">
</td></tr>
</table>


<p style="margin-left:11%;"><b>--icc-3dlut-size=&lt;r&gt;x&lt;g&gt;x&lt;b&gt;</b></p>

<p style="margin-left:22%;">Size of the 3D LUT generated
from the ICC profile in each dimension. Default is 64x64x64.
Sizes may range from 2 to 512.</p>


<p style="margin-left:11%;"><b>--icc-contrast=&lt;0-1000000|inf&gt;</b></p>

<p style="margin-left:22%;">Specifies an upper limit on the
target device's contrast ratio. This is detected
automatically from the profile if possible, but for some
profiles it might be missing, causing the contrast to be
assumed as infinite. As a result, video may appear darker
than intended. This only affects BT.1886 content. The
default of 0 means no limit if the detected contrast is less
than 100000, and limits to 1000 otherwise. Use
<b>--icc-contrast=inf</b> to preserve the infinite contrast
(most likely when using OLED displays).</p>


<p style="margin-left:11%;"><b>--blend-subtitles=&lt;yes|video|no&gt;</b></p>

<p style="margin-left:22%;">Blend subtitles directly onto
upscaled video frames, before interpolation and/or color
management (default: no). Enabling this causes subtitles to
be affected by <b>--icc-profile</b>, <b>--target-prim</b>,
<b>--target-trc</b>, <b>--interpolation</b>,
<b>--gamma-factor</b> and <b>--glsl-shaders</b>. It also
increases subtitle performance when using
<b>--interpolation</b>.</p>

<p style="margin-left:22%; margin-top: 1em">The downside of
enabling this is that it restricts subtitles to the visible
portion of the video, so you can't have subtitles exist in
the black margins below a video (for example).</p>

<p style="margin-left:22%; margin-top: 1em">If <b>video</b>
is selected, the behavior is similar to <b>yes</b>, but subs
are drawn at the video's native resolution, and scaled along
with the video.</p>


<p style="margin-left:22%; margin-top: 1em"><b>WARNING:</b></p>

<p style="margin-left:26%;">This changes the way subtitle
colors are handled. Normally, subtitle colors are assumed to
be in sRGB and color managed as such. Enabling this makes
them treated as being in the video's color space instead.
This is good if you want things like softsubbed ASS signs to
match the video colors, but may cause SRT subtitles or
similar to look slightly off.</p>


<p style="margin-left:11%;"><b>--alpha=&lt;blend-tiles|blend|yes|no&gt;</b></p>

<p style="margin-left:22%;">Decides what to do if the input
has an alpha component. <b><br>
blend-tiles</b></p>

<p style="margin-left:32%;">Blend the frame against a 16x16
gray/white tiles background (default).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>blend</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>Blend the frame against the background color
(<b>--background</b>, normally black).</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>yes</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>Try to create a framebuffer with alpha component. This
only makes sense if the video contains alpha information
(which is extremely rare). May not be supported on all
platforms. If alpha framebuffers are unavailable, it
silently falls back on a normal framebuffer. Note that if
you set the <b>--fbo-format</b> option to a non-default
value, a format with alpha must be specified, or this won't
work. This does not work on X11 with EGL and Mesa
(freedesktop bug 67676).</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>no</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>Ignore alpha component.</p></td></tr>
</table>


<p style="margin-left:11%;"><b>--opengl-rectangle-textures</b></p>

<p style="margin-left:22%;">Force use of rectangle textures
(default: no). Normally this shouldn't have any advantages
over normal textures. Note that hardware decoding overrides
this flag. Could be removed any time.</p>


<p style="margin-left:11%;"><b>--background=&lt;color&gt;</b></p>

<p style="margin-left:22%;">Color used to draw parts of the
mpv window not covered by video. See <b>--osd-color</b>
option how colors are defined.</p>

<p style="margin-left:11%;"><b>--gpu-tex-pad-x,
--gpu-tex-pad-y</b></p>

<p style="margin-left:22%;">Enlarge the video source
textures by this many pixels. For debugging only (normally
textures are sized exactly, but due to hardware decoding
interop we may have to deal with additional padding, which
can be tested with these options). Could be removed any
time.</p>


<p style="margin-left:11%;"><b>--opengl-early-flush=&lt;yes|no|auto&gt;</b></p>

<p style="margin-left:22%;">Call <b>glFlush()</b> after
rendering a frame and before attempting to display it
(default: auto). Can fix stuttering in some cases, in other
cases probably causes it. The <b>auto</b> mode will call
<b>glFlush()</b> only if the renderer is going to wait for a
while after rendering, instead of flipping GL front and
backbuffers immediately (i.e. it doesn't call it in
display-sync mode).</p>

<p style="margin-left:22%; margin-top: 1em">On OSX this is
always deactivated because it only causes performance
problems and other regressions.</p>


<p style="margin-left:11%;"><b>--gpu-dumb-mode=&lt;yes|no|auto&gt;</b></p>

<p style="margin-left:22%;">This mode is extremely
restricted, and will disable most extended features. That
includes high quality scalers and custom shaders!</p>

<p style="margin-left:22%; margin-top: 1em">It is intended
for hardware that does not support FBOs (including GLES,
which supports it insufficiently), or to get some more
performance out of bad or old hardware.</p>

<p style="margin-left:22%; margin-top: 1em">This mode is
forced automatically if needed, and this option is mostly
useful for debugging. The default of <b>auto</b> will enable
it automatically if nothing uses features which require
FBOs.</p>

<p style="margin-left:22%; margin-top: 1em">This option
might be silently removed in the future.</p>


<p style="margin-left:11%;"><b>--gpu-shader-cache-dir=&lt;dirname&gt;</b></p>

<p style="margin-left:22%;">Store and load compiled GLSL
shaders in this directory. Normally, shader compilation is
very fast, so this is usually not needed. It mostly matters
for GPU APIs that require internally recompiling shaders to
other languages, for example anything based on ANGLE or
Vulkan. Enabling this can improve startup performance on
these platforms.</p>

<p style="margin-left:22%; margin-top: 1em">NOTE: This is
not cleaned automatically, so old, unused cache files may
stick around indefinitely.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Miscellaneous
<br>
--display-tags=tag1,tags2,...</b></p>

<p style="margin-left:22%;">Set the list of tags that
should be displayed on the terminal. Tags that are in the
list, but are not present in the played file, will not be
shown. If a value ends with <b>*</b>, all tags are matched
by prefix (though there is no general globbing). Just
passing <b>*</b> essentially filtering.</p>

<p style="margin-left:22%; margin-top: 1em">The default
includes a common list of tags, call mpv with
<b>--list-options</b> to see it.</p>

<p style="margin-left:22%; margin-top: 1em">This is a
string list option. See <i>List Options</i> for details.</p>


<p style="margin-left:11%;"><b>--mc=&lt;seconds/frame&gt;</b></p>

<p style="margin-left:22%;">Maximum A-V sync correction per
frame (in seconds)</p>


<p style="margin-left:11%;"><b>--autosync=&lt;factor&gt;</b></p>

<p style="margin-left:22%;">Gradually adjusts the A/V sync
based on audio delay measurements. Specifying
<b>--autosync=0</b>, the default, will cause frame timing to
be based entirely on audio delay measurements. Specifying
<b>--autosync=1</b> will do the same, but will subtly change
the A/V correction algorithm. An uneven video framerate in a
video which plays fine with <b>--no-audio</b> can often be
helped by setting this to an integer value greater than 1.
The higher the value, the closer the timing will be to
<b>--no-audio</b>. Try <b>--autosync=30</b> to smooth out
problems with sound drivers which do not implement a perfect
audio delay measurement. With this value, if large A/V sync
offsets occur, they will only take about 1 or 2 seconds to
settle out. This delay in reaction time to sudden A/V
offsets should be the only side effect of turning this
option on, for all sound drivers.</p>


<p style="margin-left:11%;"><b>--video-timing-offset=&lt;seconds&gt;</b></p>

<p style="margin-left:22%;">Control how long before video
display target time the frame should be rendered (default:
0.050). If a video frame should be displayed at a certain
time, the VO will start rendering the frame earlier, and
then will perform a blocking wait until the display time,
and only then &quot;swap&quot; the frame to display. The
rendering cannot start before the previous frame is
displayed, so this value is implicitly limited by the video
framerate. With normal video frame rates, the default value
will ensure that rendering is always immediately started
after the previous frame was displayed. On the other hand,
setting a too high value can reduce responsiveness with low
FPS value.</p>

<p style="margin-left:22%; margin-top: 1em">For client API
users using the render API (or the deprecated
<b>opengl-cb</b> API), this option is interesting, because
you can stop the render API from limiting your FPS (see
<b>mpv_render_context_render()</b> documentation).</p>

<p style="margin-left:22%; margin-top: 1em">This applies
only to audio timing modes (e.g. <b>--video-sync=audio</b>).
In other modes (<b>--video-sync=display-...</b>), video
timing relies on vsync blocking, and this option is not
used.</p>


<p style="margin-left:11%;"><b>--video-sync=&lt;audio|...&gt;</b></p>

<p style="margin-left:22%;">How the player synchronizes
audio and video.</p>

<p style="margin-left:22%; margin-top: 1em">If you use this
option, you usually want to set it to
<b>display-resample</b> to enable a timing mode that tries
to not skip or repeat frames when for example playing 24fps
video on a 24Hz screen.</p>

<p style="margin-left:22%; margin-top: 1em">The modes
starting with <b>display-</b> try to output video frames
completely synchronously to the display, using the detected
display vertical refresh rate as a hint how fast frames will
be displayed on average. These modes change video speed
slightly to match the display. See <b>--video-sync-...</b>
options for fine tuning. The robustness of this mode is
further reduced by making a some idealized assumptions,
which may not always apply in reality. Behavior can depend
on the VO and the system's video and audio drivers. Media
files must use constant framerate. Section-wise VFR might
work as well with some container formats (but not e.g.
mkv).</p>

<p style="margin-left:22%; margin-top: 1em">Under some
circumstances, the player automatically reverts to
<b>audio</b> mode for some time or permanently. This can
happen on very low framerate video, or if the framerate
cannot be detected.</p>

<p style="margin-left:22%; margin-top: 1em">Also in
display-sync modes it can happen that interruptions to video
playback (such as toggling fullscreen mode, or simply
resizing the window) will skip the video frames that should
have been displayed, while <b>audio</b> mode will display
them after the renderer has resumed (typically resulting in
a short A/V desync and the video &quot;catching
up&quot;).</p>

<p style="margin-left:22%; margin-top: 1em">Before mpv
0.30.0, there was a fallback to <b>audio</b> mode on severe
A/V desync. This was changed for the sake of not
sporadically stopping. Now, <b>display-desync</b> does what
it promises and may desync with audio by an arbitrary
amount, until it is manually fixed with a seek.</p>

<p style="margin-left:22%; margin-top: 1em">These modes
also require a vsync blocked presentation mode. For OpenGL,
this translates to <b>--opengl-swapinterval=1</b>. For
Vulkan, it translates to <b>--vulkan-swap-mode=fifo</b> (or
<b>fifo-relaxed</b>).</p>

<p style="margin-left:22%; margin-top: 1em">The modes with
<b>desync</b> in their names do not attempt to keep
audio/video in sync. They will slowly (or quickly) desync,
until e.g. the next seek happens. These modes are meant for
testing, not serious use.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>audio</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>Time video frames to audio. This is the most robust
mode, because the player doesn't have to assume anything
about how the display behaves. The disadvantage is that it
can lead to occasional frame drops or repeats. If audio is
disabled, this uses the system clock. This is the default
mode.</p> </td></tr>
</table>

<p style="margin-left:22%;"><b>display-resample</b></p>

<p style="margin-left:32%;">Resample audio to match the
video. This mode will also try to adjust audio speed to
compensate for other drift. (This means it will play the
audio at a different speed every once in a while to reduce
the A/V difference.)</p>


<p style="margin-left:22%;"><b>display-resample-vdrop</b></p>

<p style="margin-left:32%;">Resample audio to match the
video. Drop video frames to compensate for drift.</p>


<p style="margin-left:22%;"><b>display-resample-desync</b></p>

<p style="margin-left:32%;">Like the previous mode, but no
A/V compensation.</p>

<p style="margin-left:22%;"><b>display-vdrop</b></p>

<p style="margin-left:32%;">Drop or repeat video frames to
compensate desyncing video. (Although it should have the
same effects as <b>audio</b>, the implementation is very
different.)</p>

<p style="margin-left:22%;"><b>display-adrop</b></p>

<p style="margin-left:32%;">Drop or repeat audio data to
compensate desyncing video. See
<b>--video-sync-adrop-size</b>. This mode will cause severe
audio artifacts if the real monitor refresh rate is too
different from the reported or forced rate.</p>

<p style="margin-left:22%;"><b>display-desync</b></p>

<p style="margin-left:32%;">Sync video to display, and let
audio play on its own.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>desync</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>Sync video according to system clock, and let audio play
on its own.</p></td></tr>
</table>


<p style="margin-left:11%;"><b>--video-sync-max-video-change=&lt;value&gt;</b></p>

<p style="margin-left:22%;">Maximum speed difference in
percent that is applied to video with
<b>--video-sync=display-...</b> (default: 1). Display sync
mode will be disabled if the monitor and video refresh way
do not match within the given range. It tries multiples as
well: playing 30 fps video on a 60 Hz screen will duplicate
every second frame. Playing 24 fps video on a 60 Hz screen
will play video in a 2-3-2-3-... pattern.</p>

<p style="margin-left:22%; margin-top: 1em">The default
settings are not loose enough to speed up 23.976 fps video
to 25 fps. We consider the pitch change too extreme to allow
this behavior by default. Set this option to a value of
<b>5</b> to enable it.</p>

<p style="margin-left:22%; margin-top: 1em">Note that in
the <b>--video-sync=display-resample</b> mode, audio speed
will additionally be changed by a small amount if necessary
for A/V sync. See <b>--video-sync-max-audio-change</b>.</p>


<p style="margin-left:11%;"><b>--video-sync-max-audio-change=&lt;value&gt;</b></p>

<p style="margin-left:22%;">Maximum <i>additional</i> speed
difference in percent that is applied to audio with
<b>--video-sync=display-...</b> (default: 0.125). Normally,
the player plays the audio at the speed of the video. But if
the difference between audio and video position is too high,
e.g. due to drift or other timing errors, it will attempt to
speed up or slow down audio by this additional factor. Too
low values could lead to video frame dropping or repeating
if the A/V desync cannot be compensated, too high values
could lead to chaotic frame dropping due to the audio
&quot;overshooting&quot; and skipping multiple video frames
before the sync logic can react.</p>


<p style="margin-left:11%;"><b>--video-sync-adrop-size=&lt;value&gt;</b></p>

<p style="margin-left:22%;">For the
<b>--video-sync=display-adrop</b> mode. This mode
duplicates/drops audio data to keep audio in sync with
video. To avoid audio artifacts on jitter (which would
add/remove samples all the time), this is done in relatively
large, fixed units, controlled by this option. The unit is
seconds.</p>


<p style="margin-left:11%;"><b>--mf-fps=&lt;value&gt;</b></p>

<p style="margin-left:22%;">Framerate used when decoding
from multiple PNG or JPEG files with <b>mf://</b> (default:
1).</p>


<p style="margin-left:11%;"><b>--mf-type=&lt;value&gt;</b></p>

<p style="margin-left:22%;">Input file type for
<b>mf://</b> (available: jpeg, png, tga, sgi). By default,
this is guessed from the file extension.</p>


<p style="margin-left:11%;"><b>--stream-dump=&lt;destination-filename&gt;</b></p>

<p style="margin-left:22%;">Instead of playing a file, read
its byte stream and write it to the given destination file.
The destination is overwritten. Can be useful to test
network-related behavior.</p>


<p style="margin-left:11%;"><b>--stream-lavf-o=opt1=value1,opt2=value2,...</b></p>

<p style="margin-left:22%;">Set AVOptions on streams opened
with libavformat. Unknown or misspelled options are silently
ignored. (They are mentioned in the terminal output in
verbose mode, i.e. <b>--v</b>. In general we can't print
errors, because other options such as e.g. user agent are
not available with all protocols, and printing errors for
unknown options would end up being too noisy.)</p>

<p style="margin-left:22%; margin-top: 1em">This is a
key/value list option. See <i>List Options</i> for
details.</p>


<p style="margin-left:11%;"><b>--vo-mmcss-profile=&lt;name&gt;</b></p>

<p style="margin-left:22%;">(Windows only.) Set the MMCSS
profile for the video renderer thread (default:
<b>Playback</b>).</p>


<p style="margin-left:11%;"><b>--priority=&lt;prio&gt;</b></p>

<p style="margin-left:22%;">(Windows only.) Set process
priority for mpv according to the predefined priorities
available under Windows.</p>

<p style="margin-left:22%; margin-top: 1em">Possible values
of <b>&lt;prio&gt;</b>:
idle|belownormal|normal|abovenormal|high|realtime</p>


<p style="margin-left:22%; margin-top: 1em"><b>WARNING:</b></p>

<p style="margin-left:26%;">Using realtime priority can
cause system lockup.</p>


<p style="margin-left:11%;"><b>--force-media-title=&lt;string&gt;</b></p>

<p style="margin-left:22%;">Force the contents of the
<b>media-title</b> property to this value. Useful for
scripts which want to set a title, without overriding the
user's setting in <b>--title</b>.</p>


<p style="margin-left:11%;"><b>--external-files=&lt;file-list&gt;</b></p>

<p style="margin-left:22%;">Load a file and add all of its
tracks. This is useful to play different files together (for
example audio from one file, video from another), or for
advanced <b>--lavfi-complex</b> used (like playing two video
files at the same time).</p>

<p style="margin-left:22%; margin-top: 1em">Unlike
<b>--sub-files</b> and <b>--audio-files</b>, this includes
all tracks, and does not cause default stream selection over
the &quot;proper&quot; file. This makes it slightly less
intrusive. (In mpv 0.28.0 and before, this was not quite
strictly enforced.)</p>

<p style="margin-left:22%; margin-top: 1em">This is a path
list option. See <i>List Options</i> for details.</p>


<p style="margin-left:11%;"><b>--external-file=&lt;file&gt;</b></p>

<p style="margin-left:22%;">CLI/config file only alias for
<b>--external-files-append</b>. Each use of this option will
add a new external files.</p>


<p style="margin-left:11%;"><b>--autoload-files=&lt;yes|no&gt;</b></p>

<p style="margin-left:22%;">Automatically load/select
external files (default: yes).</p>

<p style="margin-left:22%; margin-top: 1em">If set to
<b>no</b>, then do not automatically load external files as
specified by <b>--sub-auto</b> and <b>--audio-file-auto</b>.
If external files are forcibly added (like with
<b>--sub-files</b>), they will not be auto-selected.</p>

<p style="margin-left:22%; margin-top: 1em">This does not
affect playlist expansion, redirection, or other loading of
referenced files like with ordered chapters.</p>


<p style="margin-left:11%;"><b>--record-file=&lt;file&gt;</b></p>

<p style="margin-left:22%;">Deprecated, use
<b>--stream-record</b>, or the <b>dump-cache</b>
command.</p>

<p style="margin-left:22%; margin-top: 1em">Record the
current stream to the given target file. The target file
will always be overwritten without asking.</p>

<p style="margin-left:22%; margin-top: 1em">This was
deprecated because it isn't very nice to use. For one,
seeking while this is enabled will be directly reflected in
the output, which was not useful and annoying.</p>


<p style="margin-left:11%;"><b>--stream-record=&lt;file&gt;</b></p>

<p style="margin-left:22%;">Write received/read data from
the demuxer to the given output file. The output file will
always be overwritten without asking. The output format is
determined by the extension of the output file.</p>

<p style="margin-left:22%; margin-top: 1em">Switching
streams or seeking during recording might result in
recording being stopped and/or broken files. Use with
care.</p>

<p style="margin-left:22%; margin-top: 1em">Seeking outside
of the demuxer cache will result in &quot;skips&quot; in the
output file, but seeking within the demuxer cache should not
affect recording. One exception is when you seek back far
enough to exceed the forward buffering size, in which case
the cache stops actively reading. This will return in
dropped data if it's a live stream.</p>

<p style="margin-left:22%; margin-top: 1em">If this is set
at runtime, the old file is closed, and the new file is
opened. Note that this will write only data that is appended
at the end of the cache, and the already cached data cannot
be written. You can try the <b>dump-cache</b> command as an
alternative.</p>

<p style="margin-left:22%; margin-top: 1em">External files
(<b>--audio-file</b> etc.) are ignored by this, it works on
the &quot;main&quot; file only. Using this with files using
ordered chapters or EDL files will also not work correctly
in general.</p>

<p style="margin-left:22%; margin-top: 1em">There are some
glitches with this because it uses FFmpeg's libavformat for
writing the output file. For example, it's typical that it
will only work if the output format is the same as the input
format. This is the case even if it works with the
<b>ffmpeg</b> tool. One reason for this is that
<b>ffmpeg</b> and its libraries contain certain hacks and
workarounds for these issues, that are unavailable to
outside users.</p>

<p style="margin-left:22%; margin-top: 1em">This replaces
<b>--record-file</b>. It is similar to the ancient/removed
<b>--stream-capture</b>/<b>-capture</b> options, and
provides better behavior in most cases (i.e. actually
works).</p>


<p style="margin-left:11%;"><b>--lavfi-complex=&lt;string&gt;</b></p>

<p style="margin-left:22%;">Set a &quot;complex&quot;
libavfilter filter, which means a single filter graph can
take input from multiple source audio and video tracks. The
graph can result in a single audio or video output (or
both).</p>

<p style="margin-left:22%; margin-top: 1em">Currently, the
filter graph labels are used to select the participating
input tracks and audio/video output. The following rules
apply:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="75%">


<p>A label of the form <b>aidN</b> selects audio track N as
input (e.g. <b>aid1</b>).</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="75%">


<p>A label of the form <b>vidN</b> selects video track N as
input.</p> </td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="75%">


<p>A label named <b>ao</b> will be connected to the audio
output.</p> </td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="75%">


<p>A label named <b>vo</b> will be connected to the video
output.</p> </td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">Each label can
be used only once. If you want to use e.g. an audio stream
for multiple filters, you need to use the <b>asplit</b>
filter. Multiple video or audio outputs are not possible,
but you can use filters to merge them into one.</p>

<p style="margin-left:22%; margin-top: 1em">It's not
possible to change the tracks connected to the filter at
runtime, unless you explicitly change the
<b>lavfi-complex</b> property and set new track assignments.
When the graph is changed, the track selection is changed
according to the used labels as well.</p>

<p style="margin-left:22%; margin-top: 1em">Other tracks,
as long as they're not connected to the filter, and the
corresponding output is not connected to the filter, can
still be freely changed with the normal methods.</p>

<p style="margin-left:22%; margin-top: 1em">Note that the
normal filter chains (<b>--af</b>, <b>--vf</b>) are applied
between the complex graphs (e.g. <b>ao</b> label) and the
actual output.</p>

<p style="margin-left:26%;">Examples</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="71%">


<p><b>--lavfi-complex='[aid1] [aid2] amix [ao]'</b> Play
audio track 1 and 2 at the same time.</p></td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="71%">


<p><b>--lavfi-complex='[vid1] [vid2] vstack [vo]'</b> Stack
video track 1 and 2 and play them at the same time. Note
that both tracks need to have the same width, or filter
initialization will fail (you can add <b>scale</b> filters
before the <b>vstack</b> filter to fix the size). To load a
video track from another file, you can use
<b>--external-file=other.mkv</b>.</p> </td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="71%">


<p><b>--lavfi-complex='[aid1] asplit [t1] [ao] ; [t1]
showvolume [t2] ; [vid1] [t2] overlay [vo]'</b> Play audio
track 1, and overlay the measured volume for each speaker
over video track 1.</p></td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="71%">


<p><b>null:// --lavfi-complex='life [vo]'</b> A libavfilter
source-only filter (Conways' Life Game).</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">See the FFmpeg
libavfilter documentation for details on the available
filters.</p>


<p style="margin-left:11%;"><b>--metadata-codepage=&lt;codepage&gt;</b></p>

<p style="margin-left:22%;">Codepage for various input
metadata (default: <b>utf-8</b>). This affects how file
tags, chapter titles, etc. are interpreted. You can for
example set this to <b>auto</b> to enable autodetection of
the codepage. (This is not the default because non-UTF-8
codepages are an obscure fringe use-case.)</p>

<p style="margin-left:22%; margin-top: 1em">See
<b>--sub-codepage</b> option on how codepages are specified
and further details regarding autodetection and codepage
conversion. (The underlying code is the same.)</p>

<p style="margin-left:22%; margin-top: 1em">Conversion is
not applied to metadata that is updated at runtime.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Debugging
<br>
--unittest=&lt;name&gt;</b></p>

<p style="margin-left:22%;">Run an internal unit test.
There are multiple, and the name specifies which.</p>

<p style="margin-left:22%; margin-top: 1em">The special
value <b>all-simple</b> runs all tests which do not need
further setup (other arguments and such). Some tests may
need additional arguments to do anything useful.</p>

<p style="margin-left:22%; margin-top: 1em">On success, the
player binary exits with exit status 0, otherwise it returns
with an undefined non-0 exit status (it may crash or abort
itself on test failures).</p>

<p style="margin-left:22%; margin-top: 1em">This is only
enabled if built with <b>--enable-tests</b>, and should
normally be enabled and used by developers only.</p>

<h2>AUDIO OUTPUT DRIVERS
<a name="AUDIO OUTPUT DRIVERS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Audio output
drivers are interfaces to different audio output facilities.
The syntax is: <b><br>
--ao=&lt;driver1,driver2,...[,]&gt;</b></p>

<p style="margin-left:22%;">Specify a priority list of
audio output drivers to be used.</p>

<p style="margin-left:11%; margin-top: 1em">If the list has
a trailing ',', mpv will fall back on drivers not contained
in the list.</p>


<p style="margin-left:11%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:15%;">See <b>--ao=help</b> for a list
of compiled-in audio output drivers. The driver
<b>--ao=alsa</b> is preferred. <b>--ao=pulse</b> is
preferred on systems where PulseAudio is used. On BSD
systems, <b>--ao=oss</b> or <b>--ao=sndio</b> may work (the
latter being experimental).</p>

<p style="margin-left:11%; margin-top: 1em">Available audio
output drivers are: <b><br>
alsa (Linux only)</b></p>

<p style="margin-left:22%;">ALSA audio output driver</p>

<p style="margin-left:22%; margin-top: 1em">See <i>ALSA
audio output options</i> for options specific to this
AO.</p>


<p style="margin-left:22%; margin-top: 1em"><b>WARNING:</b></p>

<p style="margin-left:26%;">To get multichannel/surround
audio, use <b>--audio-channels=auto</b>. The default for
this option is <b>auto-safe</b>, which makes this audio
output explicitly reject multichannel output, as there is no
way to detect whether a certain channel layout is actually
supported.</p>

<p style="margin-left:26%; margin-top: 1em">You can also
try <i>using the upmix plugin</i>. This setup enables
multichannel audio on the <b>default</b> device with
automatic upmixing with shared access, so playing stereo and
multichannel audio at the same time will work as
expected.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>oss</b></p></td>
<td width="7%"></td>
<td width="35%">


<p>OSS audio output driver</p></td>
<td width="43%">
</td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">The following
global options are supported by this audio output: <b><br>
--oss-mixer-device</b></p>

<p style="margin-left:32%;">Sets the audio mixer device
(default: <b>/dev/mixer</b>).</p>

<p style="margin-left:22%;"><b>--oss-mixer-channel</b></p>

<p style="margin-left:32%;">Sets the audio mixer channel
(default: <b>pcm</b>). Other valid values include <b>vol,
pcm, line</b>. For a complete list of options look for
<b>SOUND_DEVICE_NAMES</b> in
<b>/usr/include/linux/soundcard.h</b>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>jack</b></p></td>
<td width="5%"></td>
<td width="78%">


<p>JACK (Jack Audio Connection Kit) audio output
driver.</p> </td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">The following
global options are supported by this audio output: <b><br>
--jack-port=&lt;name&gt;</b></p>

<p style="margin-left:32%;">Connects to the ports with the
given name (default: physical ports).</p>


<p style="margin-left:22%;"><b>--jack-name=&lt;client&gt;</b></p>

<p style="margin-left:32%;">Client name that is passed to
JACK (default: <b>mpv</b>). Useful if you want to have
certain connections established automatically.</p>


<p style="margin-left:22%;"><b>--jack-autostart=&lt;yes|no&gt;</b></p>

<p style="margin-left:32%;">Automatically start jackd if
necessary (default: disabled). Note that this tends to be
unreliable and will flood stdout with server messages.</p>


<p style="margin-left:22%;"><b>--jack-connect=&lt;yes|no&gt;</b></p>

<p style="margin-left:32%;">Automatically create
connections to output ports (default: enabled). When
enabled, the maximum number of output channels will be
limited to the number of available output ports.</p>


<p style="margin-left:22%;"><b>--jack-std-channel-layout=&lt;waveext|any&gt;</b></p>

<p style="margin-left:32%;">Select the standard channel
layout (default: waveext). JACK itself has no notion of
channel layouts (i.e. assigning which speaker a given
channel is supposed to map to) - it just takes whatever the
application outputs, and reroutes it to whatever the user
defines. This means the user and the application are in
charge of dealing with the channel layout. <b>waveext</b>
uses WAVE_FORMAT_EXTENSIBLE order, which, even though it was
defined by Microsoft, is the standard on many systems. The
value <b>any</b> makes JACK accept whatever comes from the
audio filter chain, regardless of channel layout and without
reordering. This mode is probably not very useful, other
than for debugging or when used with fixed setups.</p>

<p style="margin-left:11%;"><b>coreaudio (Mac OS X
only)</b></p>

<p style="margin-left:22%;">Native Mac OS X audio output
driver using AudioUnits and the CoreAudio sound server.</p>

<p style="margin-left:22%; margin-top: 1em">Automatically
redirects to <b>coreaudio_exclusive</b> when playing
compressed formats.</p>

<p style="margin-left:22%; margin-top: 1em">The following
global options are supported by this audio output: <b><br>
--coreaudio-change-physical-format=&lt;yes|no&gt;</b></p>

<p style="margin-left:32%;">Change the physical format to
one similar to the requested audio format (default: no).
This has the advantage that multichannel audio output will
actually work. The disadvantage is that it will change the
system-wide audio settings. This is equivalent to changing
the <b>Format</b> setting in the <b>Audio Devices</b> dialog
in the <b>Audio MIDI Setup</b> utility. Note that this does
not affect the selected speaker setup.</p>


<p style="margin-left:22%;"><b>--coreaudio-spdif-hack=&lt;yes|no&gt;</b></p>

<p style="margin-left:32%;">Try to pass through AC3/DTS
data as PCM. This is useful for drivers which do not report
AC3 support. It converts the AC3 data to float, and assumes
the driver will do the inverse conversion, which means a
typical A/V receiver will pick it up as compressed IEC
framed AC3 stream, ignoring that it's marked as PCM. This
disables normal AC3 passthrough (even if the device reports
it as supported). Use with extreme care.</p>

<p style="margin-left:11%;"><b>coreaudio_exclusive (Mac OS
X only)</b></p>

<p style="margin-left:22%;">Native Mac OS X audio output
driver using direct device access and exclusive mode
(bypasses the sound server).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>openal</b></p></td>
<td width="2%"></td>
<td width="40%">


<p>OpenAL audio output driver</p></td>
<td width="38%">
</td></tr>
</table>


<p style="margin-left:22%;"><b>--openal-num-buffers=&lt;2-128&gt;</b></p>

<p style="margin-left:32%;">Specify the number of audio
buffers to use. Lower values are better for lower CPU usage.
Default: 4.</p>


<p style="margin-left:22%;"><b>--openal-num-samples=&lt;256-32768&gt;</b></p>

<p style="margin-left:32%;">Specify the number of complete
samples to use for each buffer. Higher values are better for
lower CPU usage. Default: 8192.</p>


<p style="margin-left:22%;"><b>--openal-direct-channels=&lt;yes|no&gt;</b></p>

<p style="margin-left:32%;">Enable OpenAL Soft's direct
channel extension when available to avoid tinting the sound
with ambisonics or HRTF. Channels are dropped when when they
are not available as downmixing will be disabled. Default:
no.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>pulse</b></p></td>
<td width="4%"></td>
<td width="46%">


<p>PulseAudio audio output driver</p></td>
<td width="32%">
</td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">The following
global options are supported by this audio output: <b><br>
--pulse-host=&lt;host&gt;</b></p>

<p style="margin-left:32%;">Specify the host to use. An
empty &lt;host&gt; string uses a local connection,
&quot;localhost&quot; uses network transfer (most likely not
what you want).</p>


<p style="margin-left:22%;"><b>--pulse-buffer=&lt;1-2000|native&gt;</b></p>

<p style="margin-left:32%;">Set the audio buffer size in
milliseconds. A higher value buffers more data, and has a
lower probability of buffer underruns. A smaller value makes
the audio stream react faster, e.g. to playback speed
changes.</p>


<p style="margin-left:22%;"><b>--pulse-latency-hacks=&lt;yes|no&gt;</b></p>

<p style="margin-left:32%;">Enable hacks to workaround
PulseAudio timing bugs (default: no). If enabled, mpv will
do elaborate latency calculations on its own. If disabled,
it will use PulseAudio automatically updated timing
information. Disabling this might help with e.g. networked
audio or some plugins, while enabling it might help in some
unknown situations (it used to be required to get good
behavior on old PulseAudio versions).</p>

<p style="margin-left:32%; margin-top: 1em">If you have
stuttering video when using pulse, try to enable this
option. (Or try to update PulseAudio.)</p>


<p style="margin-left:22%;"><b>--pulse-allow-suspended=&lt;yes|no&gt;</b></p>

<p style="margin-left:32%;">Allow mpv to use PulseAudio
even if the sink is suspended (default: no). Can be useful
if PulseAudio is running as a bridge to jack and mpv has its
sink-input set to the one jack is using.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>sdl</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>SDL 1.2+ audio output driver. Should work on any
platform supported by SDL 1.2, but may require the
<b>SDL_AUDIODRIVER</b> environment variable to be set
appropriately for your system.</p></td></tr>
</table>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">This driver is for
compatibility with extremely foreign environments, such as
systems where none of the other drivers are available.</p>

<p style="margin-left:22%; margin-top: 1em">The following
global options are supported by this audio output: <b><br>
--sdl-buflen=&lt;length&gt;</b></p>

<p style="margin-left:32%;">Sets the audio buffer length in
seconds. Is used only as a hint by the sound system. Playing
a file with <b>-v</b> will show the requested and obtained
exact buffer size. A value of 0 selects the sound system
default.</p>


<p style="margin-left:22%;"><b>--sdl-bufcnt=&lt;count&gt;</b></p>

<p style="margin-left:32%;">Sets the number of extra audio
buffers in mpv. Usually needs not be changed.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>null</b></p></td>
<td width="5%"></td>
<td width="78%">


<p>Produces no audio output but maintains video playback
speed. You can use <b>--ao=null --ao-null-untimed</b> for
benchmarking.</p> </td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">The following
global options are supported by this audio output: <b><br>
--ao-null-untimed</b></p>

<p style="margin-left:32%;">Do not simulate timing of a
perfect audio device. This means audio decoding will go as
fast as possible, instead of timing it to the system
clock.</p>

<p style="margin-left:22%;"><b>--ao-null-buffer</b></p>

<p style="margin-left:32%;">Simulated buffer length in
seconds.</p>

<p style="margin-left:22%;"><b>--ao-null-outburst</b></p>

<p style="margin-left:32%;">Simulated chunk size in
samples.</p>

<p style="margin-left:22%;"><b>--ao-null-speed</b></p>

<p style="margin-left:32%;">Simulated audio playback speed
as a multiplier. Usually, a real audio device will not go
exactly as fast as the system clock. It will deviate just a
little, and this option helps to simulate this.</p>

<p style="margin-left:22%;"><b>--ao-null-latency</b></p>

<p style="margin-left:32%;">Simulated device latency. This
is additional to EOF.</p>


<p style="margin-left:22%;"><b>--ao-null-broken-eof</b></p>

<p style="margin-left:32%;">Simulate broken audio drivers,
which always add the fixed device latency to the reported
audio playback position.</p>


<p style="margin-left:22%;"><b>--ao-null-broken-delay</b></p>

<p style="margin-left:32%;">Simulate broken audio drivers,
which don't report latency correctly.</p>


<p style="margin-left:22%;"><b>--ao-null-channel-layouts</b></p>

<p style="margin-left:32%;">If not empty, this is a
<b>,</b> separated list of channel layouts the AO allows.
This can be used to test channel layout selection.</p>

<p style="margin-left:22%;"><b>--ao-null-format</b></p>

<p style="margin-left:32%;">Force the audio output format
the AO will accept. If unset accepts any.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>pcm</b></p></td>
<td width="7%"></td>
<td width="56%">


<p>Raw PCM/WAVE file writer audio output</p></td>
<td width="22%">
</td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">The following
global options are supported by this audio output: <b><br>
--ao-pcm-waveheader=&lt;yes|no&gt;</b></p>

<p style="margin-left:32%;">Include or do not include the
WAVE header (default: included). When not included, raw PCM
will be generated.</p>


<p style="margin-left:22%;"><b>--ao-pcm-file=&lt;filename&gt;</b></p>

<p style="margin-left:32%;">Write the sound to
<b>&lt;filename&gt;</b> instead of the default
<b>audiodump.wav</b>. If <b>no-waveheader</b> is specified,
the default is <b>audiodump.pcm</b>.</p>


<p style="margin-left:22%;"><b>--ao-pcm-append=&lt;yes|no&gt;</b></p>

<p style="margin-left:32%;">Append to the file, instead of
overwriting it. Always use this with the
<b>no-waveheader</b> option - with <b>waveheader</b> it's
broken, because it will write a WAVE header every time the
file is opened.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>rsound</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Audio output to an RSound daemon. Use
<b>--audio-device=rsound/&lt;hostname&gt;</b> to set the
host name (with <b>&lt;hostname&gt;</b> replaced, without
the <b>&lt; &gt;</b>).</p></td></tr>
</table>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">Completely useless, unless you
intend to run RSound. Not to be confused with RoarAudio,
which is something completely different.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p style="margin-top: 1em"><b>sndio</b></p></td>
<td width="4%"></td>
<td width="70%">


<p style="margin-top: 1em">Audio output to the OpenBSD
sndio sound system</p></td>
<td width="8%">
</td></tr>
</table>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">Experimental. There are known
bugs and issues.</p>

<p style="margin-left:22%; margin-top: 1em">(Note: only
supports mono, stereo, 4.0, 5.1 and 7.1 channel
layouts.)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p style="margin-top: 1em"><b>wasapi</b></p></td>
<td width="2%"></td>
<td width="70%">


<p style="margin-top: 1em">Audio output to the Windows
Audio Session API.</p></td>
<td width="8%">
</td></tr>
</table>

<h2>VIDEO OUTPUT DRIVERS
<a name="VIDEO OUTPUT DRIVERS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Video output
drivers are interfaces to different video output facilities.
The syntax is: <b><br>
--vo=&lt;driver1,driver2,...[,]&gt;</b></p>

<p style="margin-left:22%;">Specify a priority list of
video output drivers to be used.</p>

<p style="margin-left:11%; margin-top: 1em">If the list has
a trailing <b>,</b>, mpv will fall back on drivers not
contained in the list.</p>


<p style="margin-left:11%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:15%;">See <b>--vo=help</b> for a list
of compiled-in video output drivers.</p>

<p style="margin-left:15%; margin-top: 1em">The recommended
output driver is <b>--vo=gpu</b>, which is the default. All
other drivers are for compatibility or special purposes. If
the default does not work, it will fallback to other drivers
(in the same order as listed by <b>--vo=help</b>).</p>

<p style="margin-left:11%; margin-top: 1em">Available video
output drivers are: <b><br>
xv (X11 only)</b></p>

<p style="margin-left:22%;">Uses the XVideo extension to
enable hardware-accelerated display. This is the most
compatible VO on X, but may be low-quality, and has issues
with OSD and subtitle display.</p>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">This driver is for
compatibility with old systems.</p>

<p style="margin-left:22%; margin-top: 1em">The following
global options are supported by this video output: <b><br>
--xv-adaptor=&lt;number&gt;</b></p>

<p style="margin-left:32%;">Select a specific XVideo
adapter (check xvinfo results).</p>


<p style="margin-left:22%;"><b>--xv-port=&lt;number&gt;</b></p>

<p style="margin-left:32%;">Select a specific XVideo
port.</p>


<p style="margin-left:22%;"><b>--xv-ck=&lt;cur|use|set&gt;</b></p>

<p style="margin-left:32%;">Select the source from which
the color key is taken (default: cur).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="32%"></td>
<td width="5%">


<p><b>cur</b></p></td>
<td width="6%"></td>
<td width="57%">


<p>The default takes the color key currently set in Xv.</p></td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="5%">


<p><b>use</b></p></td>
<td width="6%"></td>
<td width="57%">


<p>Use but do not set the color key from mpv (use the
<b>--colorkey</b> option to change it).</p></td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="5%">


<p><b>set</b></p></td>
<td width="6%"></td>
<td width="57%">


<p>Same as use but also sets the supplied color key.</p></td></tr>
</table>


<p style="margin-left:22%;"><b>--xv-ck-method=&lt;none|man|bg|auto&gt;</b></p>

<p style="margin-left:32%;">Sets the color key drawing
method (default: man).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="32%"></td>
<td width="6%">


<p><b>none</b></p></td>
<td width="5%"></td>
<td width="57%">


<p>Disables color-keying.</p></td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="6%">


<p><b>man</b></p></td>
<td width="5%"></td>
<td width="57%">


<p>Draw the color key manually (reduces flicker in some
cases).</p> </td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="6%">


<p><b>bg</b></p></td>
<td width="5%"></td>
<td width="57%">


<p>Set the color key as window background.</p></td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="6%">


<p><b>auto</b></p></td>
<td width="5%"></td>
<td width="57%">


<p>Let Xv draw the color key.</p></td></tr>
</table>


<p style="margin-left:22%;"><b>--xv-colorkey=&lt;number&gt;</b></p>

<p style="margin-left:32%;">Changes the color key to an RGB
value of your choice. <b>0x000000</b> is black and
<b>0xffffff</b> is white.</p>


<p style="margin-left:22%;"><b>--xv-buffers=&lt;number&gt;</b></p>

<p style="margin-left:32%;">Number of image buffers to use
for the internal ringbuffer (default: 2). Increasing this
will use more memory, but might help with the X server not
responding quickly enough if video FPS is close to or higher
than the display refresh rate.</p>

<p style="margin-left:11%;"><b>x11 (X11 only)</b></p>

<p style="margin-left:22%;">Shared memory video output
driver without hardware acceleration that works whenever X11
is present.</p>

<p style="margin-left:22%; margin-top: 1em">Since mpv
0.30.0, you may need to use <b>--profile=sw-fast</b> to get
decent performance.</p>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">This is a fallback only, and
should not be normally used.</p>

<p style="margin-left:11%;"><b>vdpau (X11 only)</b></p>

<p style="margin-left:22%;">Uses the VDPAU interface to
display and optionally also decode video. Hardware decoding
is used with <b>--hwdec=vdpau</b>.</p>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">Earlier versions of mpv (and
MPlayer, mplayer2) provided sub-options to tune vdpau
post-processing, like <b>deint</b>, <b>sharpen</b>,
<b>denoise</b>, <b>chroma-deint</b>, <b>pullup</b>,
<b>hqscaling</b>. These sub-options are deprecated, and you
should use the <b>vdpaupp</b> video filter instead.</p>

<p style="margin-left:22%; margin-top: 1em">The following
global options are supported by this video output: <b><br>
--vo-vdpau-sharpen=&lt;-1-1&gt;</b></p>

<p style="margin-left:32%;">(Deprecated. See note about
<b>vdpaupp</b>.)</p>

<p style="margin-left:32%; margin-top: 1em">For positive
values, apply a sharpening algorithm to the video, for
negative values a blurring algorithm (default: 0).</p>


<p style="margin-left:22%;"><b>--vo-vdpau-denoise=&lt;0-1&gt;</b></p>

<p style="margin-left:32%;">(Deprecated. See note about
<b>vdpaupp</b>.)</p>

<p style="margin-left:32%; margin-top: 1em">Apply a noise
reduction algorithm to the video (default: 0; no noise
reduction).</p>


<p style="margin-left:22%;"><b>--vo-vdpau-deint=&lt;-4-4&gt;</b></p>

<p style="margin-left:32%;">(Deprecated. See note about
<b>vdpaupp</b>.)</p>

<p style="margin-left:32%; margin-top: 1em">Select
deinterlacing mode (default: 0). In older versions (as well
as MPlayer/mplayer2) you could use this option to enable
deinterlacing. This doesn't work anymore, and deinterlacing
is enabled with either the <b>d</b> key (by default mapped
to the command <b>cycle deinterlace</b>), or the
<b>--deinterlace</b> option. Also, to select the default
deint mode, you should use something like
<b>--vf-defaults=vdpaupp:deint-mode=temporal</b> instead of
this sub-option.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="32%"></td>
<td width="2%">


<p><b>0</b></p></td>
<td width="9%"></td>
<td width="57%">


<p>Pick the <b>vdpaupp</b> video filter default, which
corresponds to 3.</p></td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="2%">


<p><b>1</b></p></td>
<td width="9%"></td>
<td width="57%">


<p>Show only first field.</p></td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="2%">


<p><b>2</b></p></td>
<td width="9%"></td>
<td width="57%">


<p>Bob deinterlacing.</p></td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="2%">


<p><b>3</b></p></td>
<td width="9%"></td>
<td width="57%">


<p>Motion-adaptive temporal deinterlacing. May lead to A/V
desync with slow video hardware and/or high resolution.</p></td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="2%">


<p><b>4</b></p></td>
<td width="9%"></td>
<td width="57%">


<p>Motion-adaptive temporal deinterlacing with edge-guided
spatial interpolation. Needs fast video hardware.</p></td></tr>
</table>


<p style="margin-left:22%;"><b>--vo-vdpau-chroma-deint</b></p>

<p style="margin-left:32%;">(Deprecated. See note about
<b>vdpaupp</b>.)</p>

<p style="margin-left:32%; margin-top: 1em">Makes temporal
deinterlacers operate both on luma and chroma (default). Use
no-chroma-deint to solely use luma and speed up advanced
deinterlacing. Useful with slow video memory.</p>

<p style="margin-left:22%;"><b>--vo-vdpau-pullup</b></p>

<p style="margin-left:32%;">(Deprecated. See note about
<b>vdpaupp</b>.)</p>

<p style="margin-left:32%; margin-top: 1em">Try to apply
inverse telecine, needs motion adaptive temporal
deinterlacing.</p>


<p style="margin-left:22%;"><b>--vo-vdpau-hqscaling=&lt;0-9&gt;</b></p>

<p style="margin-left:32%;">(Deprecated. See note about
<b>vdpaupp</b>.)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="32%"></td>
<td width="5%">


<p><b>0</b></p></td>
<td width="6%"></td>
<td width="57%">


<p>Use default VDPAU scaling (default).</p></td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="5%">


<p><b>1-9</b></p></td>
<td width="6%"></td>
<td width="57%">


<p>Apply high quality VDPAU scaling (needs capable
hardware).</p> </td></tr>
</table>


<p style="margin-left:22%;"><b>--vo-vdpau-fps=&lt;number&gt;</b></p>

<p style="margin-left:32%;">Override autodetected display
refresh rate value (the value is needed for framedrop to
allow video playback rates higher than display refresh rate,
and for vsync-aware frame timing adjustments). Default 0
means use autodetected value. A positive value is
interpreted as a refresh rate in Hz and overrides the
autodetected value. A negative value disables all timing
adjustment and framedrop logic.</p>


<p style="margin-left:22%;"><b>--vo-vdpau-composite-detect</b></p>

<p style="margin-left:32%;">NVIDIA's current VDPAU
implementation behaves somewhat differently under a
compositing window manager and does not give accurate frame
timing information. With this option enabled, the player
tries to detect whether a compositing window manager is
active. If one is detected, the player disables timing
adjustments as if the user had specified <b>fps=-1</b> (as
they would be based on incorrect input). This means timing
is somewhat less accurate than without compositing, but with
the composited mode behavior of the NVIDIA driver, there is
no hard playback speed limit even without the disabled
logic. Enabled by default, use
<b>--vo-vdpau-composite-detect=no</b> to disable.</p>


<p style="margin-left:22%;"><b>--vo-vdpau-queuetime-windowed=&lt;number&gt;
and queuetime-fs=&lt;number&gt;</b></p>

<p style="margin-left:32%;">Use VDPAU's presentation queue
functionality to queue future video frame changes at most
this many milliseconds in advance (default: 50). See below
for additional information.</p>


<p style="margin-left:22%;"><b>--vo-vdpau-output-surfaces=&lt;2-15&gt;</b></p>

<p style="margin-left:32%;">Allocate this many output
surfaces to display video frames (default: 3). See below for
additional information.</p>


<p style="margin-left:22%;"><b>--vo-vdpau-colorkey=&lt;#RRGGBB|#AARRGGBB&gt;</b></p>

<p style="margin-left:32%;">Set the VDPAU presentation
queue background color, which in practice is the colorkey
used if VDPAU operates in overlay mode (default:
<b>#020507</b>, some shade of black). If the alpha component
of this value is 0, the default VDPAU colorkey will be used
instead (which is usually green).</p>


<p style="margin-left:22%;"><b>--vo-vdpau-force-yuv</b></p>

<p style="margin-left:32%;">Never accept RGBA input. This
means mpv will insert a filter to convert to a YUV format
before the VO. Sometimes useful to force availability of
certain YUV-only features, like video equalizer or
deinterlacing.</p>

<p style="margin-left:22%; margin-top: 1em">Using the VDPAU
frame queuing functionality controlled by the queuetime
options makes mpv's frame flip timing less sensitive to
system CPU load and allows mpv to start decoding the next
frame(s) slightly earlier, which can reduce jitter caused by
individual slow-to-decode frames. However, the NVIDIA
graphics drivers can make other window behavior such as
window moves choppy if VDPAU is using the blit queue (mainly
happens if you have the composite extension enabled) and
this feature is active. If this happens on your system and
it bothers you then you can set the queuetime value to 0 to
disable this feature. The settings to use in windowed and
fullscreen mode are separate because there should be no
reason to disable this for fullscreen mode (as the driver
issue should not affect the video itself).</p>

<p style="margin-left:22%; margin-top: 1em">You can queue
more frames ahead by increasing the queuetime values and the
<b>output_surfaces</b> count (to ensure enough surfaces to
buffer video for a certain time ahead you need at least as
many surfaces as the video has frames during that time, plus
two). This could help make video smoother in some cases. The
main downsides are increased video RAM requirements for the
surfaces and laggier display response to user commands
(display changes only become visible some time after they're
queued). The graphics driver implementation may also have
limits on the length of maximum queuing time or number of
queued surfaces that work well or at all.</p>

<p style="margin-left:11%;"><b>direct3d (Windows
only)</b></p>

<p style="margin-left:22%;">Video output driver that uses
the Direct3D interface.</p>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">This driver is for
compatibility with systems that don't provide proper OpenGL
drivers, and where ANGLE does not perform well.</p>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">Before to 0.21.0,
<b>direct3d_shaders</b> and <b>direct3d</b> were different,
with <b>direct3d</b> not using shader by default. Now both
use shaders by default, and <b>direct3d_shaders</b> is a
deprecated alias. Use the
<b>--vo-direct3d-prefer-stretchrect</b> or the
<b>--vo-direct3d-disable-shaders</b> options to get the old
behavior of <b>direct3d</b>.</p>

<p style="margin-left:22%; margin-top: 1em">The following
global options are supported by this video output: <b><br>
--vo-direct3d-prefer-stretchrect</b></p>

<p style="margin-left:32%;">Use
<b>IDirect3DDevice9::StretchRect</b> over other methods if
possible.</p>


<p style="margin-left:22%;"><b>--vo-direct3d-disable-stretchrect</b></p>

<p style="margin-left:32%;">Never render the video using
<b>IDirect3DDevice9::StretchRect</b>.</p>


<p style="margin-left:22%;"><b>--vo-direct3d-disable-textures</b></p>

<p style="margin-left:32%;">Never render the video using
D3D texture rendering. Rendering with textures + shader will
still be allowed. Add <b>disable-shaders</b> to completely
disable video rendering with textures.</p>


<p style="margin-left:22%;"><b>--vo-direct3d-disable-shaders</b></p>

<p style="margin-left:32%;">Never use shaders when
rendering video.</p>


<p style="margin-left:22%;"><b>--vo-direct3d-only-8bit</b></p>

<p style="margin-left:32%;">Never render YUV video with
more than 8 bits per component. Using this flag will force
software conversion to 8-bit.</p>


<p style="margin-left:22%;"><b>--vo-direct3d-disable-texture-align</b></p>

<p style="margin-left:32%;">Normally texture sizes are
always aligned to 16. With this option enabled, the video
texture will always have exactly the same size as the video
itself.</p>

<p style="margin-left:22%; margin-top: 1em">Debug options.
These might be incorrect, might be removed in the future,
might crash, might cause slow downs, etc. Contact the
developers if you actually need any of these for performance
or proper operation. <b><br>
--vo-direct3d-force-power-of-2</b></p>

<p style="margin-left:32%;">Always force textures to power
of 2, even if the device reports non-power-of-2 texture
sizes as supported.</p>


<p style="margin-left:22%;"><b>--vo-direct3d-texture-memory=&lt;mode&gt;</b></p>

<p style="margin-left:32%;">Only affects operation with
shaders/texturing enabled, and (E)OSD. Possible values:
<b><br>
default (default)</b></p>

<p style="margin-left:43%;">Use <b>D3DPOOL_DEFAULT</b>,
with a <b>D3DPOOL_SYSTEMMEM</b> texture for locking. If the
driver supports <b>D3DDEVCAPS_TEXTURESYSTEMMEMORY</b>,
<b>D3DPOOL_SYSTEMMEM</b> is used directly.</p>

<p style="margin-left:32%;"><b>default-pool</b></p>

<p style="margin-left:43%;">Use <b>D3DPOOL_DEFAULT</b>.
(Like <b>default</b>, but never use a shadow-texture.)</p>

<p style="margin-left:32%;"><b>default-pool-shadow</b></p>

<p style="margin-left:43%;">Use <b>D3DPOOL_DEFAULT</b>,
with a <b>D3DPOOL_SYSTEMMEM</b> texture for locking. (Like
<b>default</b>, but always force the shadow-texture.)</p>

<p style="margin-left:32%;"><b>managed</b></p>

<p style="margin-left:43%;">Use <b>D3DPOOL_MANAGED</b>.</p>

<p style="margin-left:32%;"><b>scratch</b></p>

<p style="margin-left:43%;">Use <b>D3DPOOL_SCRATCH</b>,
with a <b>D3DPOOL_SYSTEMMEM</b> texture for locking.</p>


<p style="margin-left:22%;"><b>--vo-direct3d-swap-discard</b></p>

<p style="margin-left:32%;">Use
<b>D3DSWAPEFFECT_DISCARD</b>, which might be faster. Might
be slower too, as it must(?) clear every frame.</p>


<p style="margin-left:22%;"><b>--vo-direct3d-exact-backbuffer</b></p>

<p style="margin-left:32%;">Always resize the backbuffer to
window size.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>gpu</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>General purpose, customizable, GPU-accelerated video
output driver. It supports extended scaling methods,
dithering, color management, custom shaders, HDR, and
more.</p> </td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">See <i>GPU
renderer options</i> for options specific to this VO.</p>

<p style="margin-left:22%; margin-top: 1em">By default, it
tries to use fast and fail-safe settings. Use the
<b>gpu-hq</b> profile to use this driver with defaults set
to high quality rendering. The profile can be applied with
<b>--profile=gpu-hq</b> and its contents can be viewed with
<b>--show-profile=gpu-hq</b>.</p>

<p style="margin-left:22%; margin-top: 1em">This VO
abstracts over several possible graphics APIs and windowing
contexts, which can be influenced using the <b>--gpu-api</b>
and <b>--gpu-context</b> options.</p>

<p style="margin-left:22%; margin-top: 1em">Hardware
decoding over OpenGL-interop is supported to some degree.
Note that in this mode, some corner case might not be
gracefully handled, and color space conversion and chroma
upsampling is generally in the hand of the hardware decoder
APIs.</p>

<p style="margin-left:22%; margin-top: 1em"><b>gpu</b>
makes use of FBOs by default. Sometimes you can achieve
better quality or performance by changing the
<b>--gpu-fbo-format</b> option to <b>rgb16f</b>,
<b>rgb32f</b> or <b>rgb</b>. Known problems include
Mesa/Intel not accepting <b>rgb16</b>, Mesa sometimes not
being compiled with float texture support, and some OS X
setups being very slow with <b>rgb16</b> but fast with
<b>rgb32f</b>. If you have problems, you can also try
enabling the <b>--gpu-dumb-mode=yes</b> option.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p style="margin-top: 1em"><b>sdl</b></p></td>
<td width="7%"></td>
<td width="78%">


<p style="margin-top: 1em">SDL 2.0+ Render video output
driver, depending on system with or without hardware
acceleration. Should work on all platforms supported by SDL
2.0. For tuning, refer to your copy of the file
<b>SDL_hints.h</b>.</p> </td></tr>
</table>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">This driver is for
compatibility with systems that don't provide proper
graphics drivers.</p>

<p style="margin-left:22%; margin-top: 1em">The following
global options are supported by this video output: <b><br>
--sdl-sw</b></p>

<p style="margin-left:32%;">Continue even if a software
renderer is detected.</p>

<p style="margin-left:22%;"><b>--sdl-switch-mode</b></p>

<p style="margin-left:32%;">Instruct SDL to switch the
monitor video mode when going fullscreen.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>vaapi</b></p></td>
<td width="4%"></td>
<td width="78%">


<p>Intel VA API video output driver with support for
hardware decoding. Note that there is absolutely no reason
to use this, other than compatibility. This is low quality,
and has issues with OSD.</p></td></tr>
</table>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">This driver is for
compatibility with crappy systems. You can use vaapi
hardware decoding with <b>--vo=gpu</b> too.</p>

<p style="margin-left:22%; margin-top: 1em">The following
global options are supported by this video output: <b><br>
--vo-vaapi-scaling=&lt;algorithm&gt;</b></p>

<p style="margin-left:32%;"><b>default</b></p>

<p style="margin-left:43%;">Driver default (mpv default as
well).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="32%"></td>
<td width="6%">


<p><b>fast</b></p></td>
<td width="5%"></td>
<td width="57%">


<p>Fast, but low quality.</p></td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="6%">


<p><b>hq</b></p></td>
<td width="5%"></td>
<td width="57%">


<p>Unspecified driver dependent high-quality scaling,
slow.</p> </td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="6%">


<p><b>nla</b></p></td>
<td width="5%"></td>
<td width="57%">


<p><b>non-linear anamorphic scaling</b></p></td></tr>
</table>


<p style="margin-left:22%;"><b>--vo-vaapi-deint-mode=&lt;mode&gt;</b></p>

<p style="margin-left:32%;">Select deinterlacing algorithm.
Note that by default deinterlacing is initially always off,
and needs to be enabled with the <b>d</b> key (default key
binding for <b>cycle deinterlace</b>).</p>

<p style="margin-left:32%; margin-top: 1em">This option
doesn't apply if libva supports video post processing (vpp).
In this case, the default for <b>deint-mode</b> is
<b>no</b>, and enabling deinterlacing via user interaction
using the methods mentioned above actually inserts the
<b>vavpp</b> video filter. If vpp is not actually supported
with the libva backend in use, you can use this option to
forcibly enable VO based deinterlacing.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="32%"></td>
<td width="3%">


<p><b>no</b></p></td>
<td width="8%"></td>
<td width="57%">


<p>Don't allow deinterlacing (default for newer libva).</p></td></tr>
</table>

<p style="margin-left:32%;"><b>first-field</b></p>

<p style="margin-left:43%;">Show only first field.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="32%"></td>
<td width="5%">


<p><b>bob</b></p></td>
<td width="6%"></td>
<td width="57%">


<p>bob deinterlacing (default for older libva).</p></td></tr>
</table>


<p style="margin-left:22%;"><b>--vo-vaapi-scaled-osd=&lt;yes|no&gt;</b></p>

<p style="margin-left:32%;">If enabled, then the OSD is
rendered at video resolution and scaled to display
resolution. By default, this is disabled, and the OSD is
rendered at display resolution if the driver supports
it.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>null</b></p></td>
<td width="5%"></td>
<td width="76%">


<p>Produces no video output. Useful for benchmarking.</p></td>
<td width="2%">
</td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">Usually, it's
better to disable video with <b>--no-video</b> instead.</p>

<p style="margin-left:22%; margin-top: 1em">The following
global options are supported by this video output: <b><br>
--vo-null-fps=&lt;value&gt;</b></p>

<p style="margin-left:32%;">Simulate display FPS. This
artificially limits how many frames the VO accepts per
second.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>caca</b></p></td>
<td width="5%"></td>
<td width="78%">


<p>Color ASCII art video output driver that works on a text
console.</p> </td></tr>
</table>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">This driver is a joke.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p style="margin-top: 1em"><b>tct</b></p></td>
<td width="7%"></td>
<td width="78%">


<p style="margin-top: 1em">Color Unicode art video output
driver that works on a text console. Depends on support of
true color by modern terminals to display the images at full
color range. On Windows it requires an ansi terminal such as
mintty.</p> </td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">Since mpv
0.30.0, you may need to use <b>--profile=sw-fast</b> to get
decent performance. <b><br>
--vo-tct-algo=&lt;algo&gt;</b></p>

<p style="margin-left:32%;">Select how to write the pixels
to the terminal. <b><br>
half-blocks</b></p>

<p style="margin-left:43%;">Uses unicode LOWER HALF BLOCK
character to achieve higher vertical resolution.
(Default.)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="32%"></td>
<td width="8%">


<p><b>plain</b></p></td>
<td width="3%"></td>
<td width="57%">


<p>Uses spaces. Causes vertical resolution to drop
twofolds, but in theory works in more places.</p></td></tr>
</table>


<p style="margin-left:22%;"><b>--vo-tct-width=&lt;width&gt;
--vo-tct-height=&lt;height&gt;</b></p>

<p style="margin-left:32%;">Assume the terminal has the
specified character width and/or height. These default to
80x25 if the terminal size cannot be determined.</p>

<p style="margin-left:22%;"><b>--vo-tct-256=&lt;yes|no&gt;
(default: no)</b></p>

<p style="margin-left:32%;">Use 256 colors - for terminals
which don't support true color.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>image</b></p></td>
<td width="4%"></td>
<td width="78%">


<p>Output each frame into an image file in the current
directory. Each file takes the frame number padded with
leading zeros as name.</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">The following
global options are supported by this video output: <b><br>
--vo-image-format=&lt;format&gt;</b></p>

<p style="margin-left:32%;">Select the image file
format.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="32%"></td>
<td width="6%">


<p><b>jpg</b></p></td>
<td width="5%"></td>
<td width="57%">


<p>JPEG files, extension .jpg. (Default.)</p></td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="6%">


<p><b>jpeg</b></p></td>
<td width="5%"></td>
<td width="57%">


<p>JPEG files, extension .jpeg.</p></td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="6%">


<p><b>png</b></p></td>
<td width="5%"></td>
<td width="57%">


<p>PNG files.</p></td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="6%">


<p><b>webp</b></p></td>
<td width="5%"></td>
<td width="57%">


<p>WebP files.</p></td></tr>
</table>


<p style="margin-left:22%;"><b>--vo-image-png-compression=&lt;0-9&gt;</b></p>

<p style="margin-left:32%;">PNG compression factor (speed
vs. file size tradeoff) (default: 7)</p>


<p style="margin-left:22%;"><b>--vo-image-png-filter=&lt;0-5&gt;</b></p>

<p style="margin-left:32%;">Filter applied prior to PNG
compression (0 = none; 1 = sub; 2 = up; 3 = average; 4 =
Paeth; 5 = mixed) (default: 5)</p>


<p style="margin-left:22%;"><b>--vo-image-jpeg-quality=&lt;0-100&gt;</b></p>

<p style="margin-left:32%;">JPEG quality factor (default:
90)</p>


<p style="margin-left:22%;"><b>--vo-image-jpeg-optimize=&lt;0-100&gt;</b></p>

<p style="margin-left:32%;">JPEG optimization factor
(default: 100)</p>


<p style="margin-left:22%;"><b>--vo-image-webp-lossless=&lt;yes|no&gt;</b></p>

<p style="margin-left:32%;">Enable writing lossless WebP
files (default: no)</p>


<p style="margin-left:22%;"><b>--vo-image-webp-quality=&lt;0-100&gt;</b></p>

<p style="margin-left:32%;">WebP quality (default: 75)</p>


<p style="margin-left:22%;"><b>--vo-image-webp-compression=&lt;0-6&gt;</b></p>

<p style="margin-left:32%;">WebP compression factor
(default: 4)</p>


<p style="margin-left:22%;"><b>--vo-image-outdir=&lt;dirname&gt;</b></p>

<p style="margin-left:32%;">Specify the directory to save
the image files to (default: <b>./</b>).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>libmpv</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>For use with libmpv direct embedding. As a special case,
on OS X it is used like a normal VO within mpv (cocoa-cb).
Otherwise useless in any other contexts. (See
<b>&lt;mpv/render.h&gt;</b>.)</p> </td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">This also
supports many of the options the <b>gpu</b> VO has,
depending on the backend.</p>

<p style="margin-left:11%;"><b>rpi (Raspberry Pi)</b></p>

<p style="margin-left:22%;">Native video output on the
Raspberry Pi using the MMAL API.</p>

<p style="margin-left:22%; margin-top: 1em">This is
deprecated. Use <b>--vo=gpu</b> instead, which is the
default and provides the same functionality. The <b>rpi</b>
VO will be removed in mpv 0.23.0. Its functionality was
folded into --vo=gpu, which now uses RPI hardware decoding
by treating it as a hardware overlay (without applying GL
filtering). Also to be changed in 0.23.0: the --fs flag will
be reset to &quot;no&quot; by default (like on the other
platforms).</p>

<p style="margin-left:22%; margin-top: 1em">The following
deprecated global options are supported by this video
output: <b><br>
--rpi-display=&lt;number&gt;</b></p>

<p style="margin-left:32%;">Select the display number on
which the video overlay should be shown (default: 0).</p>


<p style="margin-left:22%;"><b>--rpi-layer=&lt;number&gt;</b></p>

<p style="margin-left:32%;">Select the dispmanx layer on
which the video overlay should be shown (default: -10). Note
that mpv will also use the 2 layers above the selected
layer, to handle the window background and OSD. Actual video
rendering will happen on the layer above the selected
layer.</p>


<p style="margin-left:22%;"><b>--rpi-background=&lt;yes|no&gt;</b></p>

<p style="margin-left:32%;">Whether to render a black
background behind the video (default: no). Normally it's
better to kill the console framebuffer instead, which gives
better performance.</p>


<p style="margin-left:22%;"><b>--rpi-osd=&lt;yes|no&gt;</b></p>

<p style="margin-left:32%;">Enabled by default. If disabled
with <b>no</b>, no OSD layer is created. This also means
there will be no subtitles rendered.</p>

<p style="margin-left:11%;"><b>drm (Direct Rendering
Manager)</b></p>

<p style="margin-left:22%;">Video output driver using
Kernel Mode Setting / Direct Rendering Manager. Should be
used when one doesn't want to install full-blown graphical
environment (e.g. no X). Does not support hardware
acceleration (if you need this, check the <b>drm</b> backend
for <b>gpu</b> VO).</p>

<p style="margin-left:22%; margin-top: 1em">Since mpv
0.30.0, you may need to use <b>--profile=sw-fast</b> to get
decent performance.</p>

<p style="margin-left:22%; margin-top: 1em">The following
global options are supported by this video output: <b><br>
--drm-connector=[&lt;gpu_number&gt;.]&lt;name&gt;</b></p>

<p style="margin-left:32%;">Select the connector to use
(usually this is a monitor.) If <b>&lt;name&gt;</b> is empty
or <b>auto</b>, mpv renders the output on the first
available connector. Use <b>--drm-connector=help</b> to get
a list of available connectors. When using multiple graphic
cards, use the <b>&lt;gpu_number&gt;</b> argument to
disambiguate. (default: empty)</p>


<p style="margin-left:22%;"><b>--drm-mode=&lt;preferred|highest|N|WxH[@R]&gt;</b></p>

<p style="margin-left:32%;">Mode to use (resolution and
frame rate). Possible values: <b><br>
preferred</b></p>

<p style="margin-left:43%;">Use the preferred mode for the
screen on the selected connector. (default)</p>

<p style="margin-left:32%;"><b>highest</b></p>

<p style="margin-left:43%;">Use the mode with the highest
resolution available on the selected connector.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="32%"></td>
<td width="2%">


<p><b>N</b></p></td>
<td width="9%"></td>
<td width="32%">


<p>Select mode by index.</p></td>
<td width="25%">
</td></tr>
</table>

<p style="margin-left:32%;"><b>WxH[@R]</b></p>

<p style="margin-left:43%;">Specify mode by width, height,
and optionally refresh rate. In case several modes match,
selects the mode that comes first in the EDID list of
modes.</p>

<p style="margin-left:32%; margin-top: 1em">Use
<b>--drm-mode=help</b> to get a list of available modes for
all active connectors.</p>


<p style="margin-left:22%;"><b>--drm-atomic=&lt;no|auto&gt;</b></p>

<p style="margin-left:32%;">Toggle use of atomic
modesetting. Mostly useful for debugging.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="32%"></td>
<td width="6%">


<p><b>no</b></p></td>
<td width="5%"></td>
<td width="57%">


<p>Use legacy modesetting.</p></td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="6%">


<p><b>auto</b></p></td>
<td width="5%"></td>
<td width="57%">


<p>Use atomic modesetting, falling back to legacy
modesetting if not available. (default)</p></td></tr>
</table>

<p style="margin-left:32%; margin-top: 1em">Note: Only
affects <b>gpu-context=drm</b>. <b>vo=drm</b> supports
legacy modesetting only.</p>


<p style="margin-left:22%;"><b>--drm-draw-plane=&lt;primary|overlay|N&gt;</b></p>

<p style="margin-left:32%;">Select the DRM plane to which
video and OSD is drawn to, under normal circumstances. The
plane can be specified as <b>primary</b>, which will pick
the first applicable primary plane; <b>overlay</b>, which
will pick the first applicable overlay plane; or by index.
The index is zero based, and related to the CRTC. (default:
primary)</p>

<p style="margin-left:32%; margin-top: 1em">When using this
option with the drmprime-drm hwdec interop, only the OSD is
rendered to this plane.</p>


<p style="margin-left:22%;"><b>--drm-drmprime-video-plane=&lt;primary|overlay|N&gt;</b></p>

<p style="margin-left:32%;">Select the DRM plane to use for
video with the drmprime-drm hwdec interop (used by e.g. the
rkmpp hwdec on RockChip SoCs, and v4l2 hwdec:s on various
other SoC:s). The plane is unused otherwise. This option
accepts the same values as <b>--drm-draw-plane</b>.
(default: overlay)</p>

<p style="margin-left:32%; margin-top: 1em">To be able to
successfully play 4K video on various SoCs you might need to
set <b>--drm-draw-plane=overlay
--drm-drmprime-video-plane=primary</b> and setting
<b>--drm-draw-surface-size=1920x1080</b>, to render the OSD
at a lower resolution (the video when handled by the hwdec
will be on the drmprime-video plane and at full 4K
resolution)</p>


<p style="margin-left:22%;"><b>--drm-format=&lt;xrgb8888|xrgb2101010&gt;</b></p>

<p style="margin-left:32%;">Select the DRM format to use
(default: xrgb8888). This allows you to choose the bit depth
of the DRM mode. xrgb8888 is your usual 24 bit per pixel/8
bits per channel packed RGB format with 8 bits of padding.
xrgb2101010 is a packed 30 bits per pixel/10 bits per
channel packed RGB format with 2 bits of padding.</p>

<p style="margin-left:32%; margin-top: 1em">There are cases
when xrgb2101010 will work with the <b>drm</b> VO, but not
with the <b>drm</b> backend for the <b>gpu</b> VO. This is
because with the <b>gpu</b> VO, in addition to requiring
support in your DRM driver, requires support for xrgb2101010
in your EGL driver</p>


<p style="margin-left:22%;"><b>--drm-draw-surface-size=&lt;[WxH]&gt;</b></p>

<p style="margin-left:32%;">Sets the size of the surface
used on the draw plane. The surface will then be upscaled to
the current screen resolution. This option can be useful
when used together with the drmprime-drm hwdec interop at
high resolutions, as it allows scaling the draw plane (which
in this case only handles the OSD) down to a size the GPU
can handle.</p>

<p style="margin-left:32%; margin-top: 1em">When used
without the drmprime-drm hwdec interop this option will just
cause the video to get rendered at a different resolution
and then scaled to screen size.</p>

<p style="margin-left:32%; margin-top: 1em">Note: this
option is only available with DRM atomic support. (default:
display resolution)</p>

<p style="margin-left:11%;"><b>mediacodec_embed
(Android)</b></p>

<p style="margin-left:22%;">Renders
<b>IMGFMT_MEDIACODEC</b> frames directly to an
<b>android.view.Surface</b>. Requires
<b>--hwdec=mediacodec</b> for hardware decoding, along with
<b>--vo=mediacodec_embed</b> and
<b>--wid=(intptr_t)(*android.view.Surface)</b>.</p>

<p style="margin-left:22%; margin-top: 1em">Since this
video output driver uses native decoding and rendering
routines, many of mpv's features (subtitle rendering,
OSD/OSC, video filters, etc) are not available with this
driver.</p>

<p style="margin-left:22%; margin-top: 1em">To use hardware
decoding with <b>--vo=gpu</b> instead, use
<b>--hwdec=mediacodec-copy</b> along with
<b>--gpu-context=android</b>.</p>

<p style="margin-left:11%;"><b>wlshm (Wayland only)</b></p>

<p style="margin-left:22%;">Shared memory video output
driver without hardware acceleration that works whenever
Wayland is present.</p>

<p style="margin-left:22%; margin-top: 1em">Since mpv
0.30.0, you may need to use <b>--profile=sw-fast</b> to get
decent performance.</p>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">This is a fallback only, and
should not be normally used.</p>

<h2>AUDIO FILTERS
<a name="AUDIO FILTERS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Audio filters
allow you to modify the audio stream and its properties. The
syntax is: <b><br>
--af=...</b></p>

<p style="margin-left:22%;">Setup a chain of audio filters.
See <b>--vf</b> (<i>VIDEO FILTERS</i>) for the full
syntax.</p>


<p style="margin-left:11%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:15%;">To get a full list of available
audio filters, see <b>--af=help</b>.</p>

<p style="margin-left:15%; margin-top: 1em">Also, keep in
mind that most actual filters are available via the
<b>lavfi</b> wrapper, which gives you access to most of
libavfilter's filters. This includes all filters that have
been ported from MPlayer to libavfilter.</p>

<p style="margin-left:15%; margin-top: 1em">The <b>--vf</b>
description describes how libavfilter can be used and how to
workaround deprecated mpv filters.</p>

<p style="margin-left:11%; margin-top: 1em">See <b>--vf</b>
group of options for info on how <b>--af-defaults</b>,
<b>--af-add</b>, <b>--af-pre</b>, <b>--af-del</b>,
<b>--af-clr</b>, and possibly others work.</p>

<p style="margin-left:11%; margin-top: 1em">Available
filters are: <b><br>
lavcac3enc[=options]</b></p>

<p style="margin-left:22%;">Encode multi-channel audio to
AC-3 at runtime using libavcodec. Supports 16-bit
native-endian input format, maximum 6 channels. The output
is big-endian when outputting a raw AC-3 stream,
native-endian when outputting to S/PDIF. If the input sample
rate is not 48 kHz, 44.1 kHz or 32 kHz, it will be resampled
to 48 kHz. <b><br>
tospdif=&lt;yes|no&gt;</b></p>

<p style="margin-left:32%;">Output raw AC-3 stream if
<b>no</b>, output to S/PDIF for pass-through if <b>yes</b>
(default).</p>


<p style="margin-left:22%;"><b>bitrate=&lt;rate&gt;</b></p>

<p style="margin-left:32%;">The bitrate use for the AC-3
stream. Set it to 384 to get 384 kbps.</p>

<p style="margin-left:32%; margin-top: 1em">The default is
640. Some receivers might not be able to handle this.</p>

<p style="margin-left:32%; margin-top: 1em">Valid values:
32, 40, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256,
320, 384, 448, 512, 576, 640.</p>

<p style="margin-left:32%; margin-top: 1em">The special
value <b>auto</b> selects a default bitrate based on the
input channel number:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="32%"></td>
<td width="5%">


<p><b>1ch</b></p></td>
<td width="6%"></td>
<td width="5%">


<p>96</p></td>
<td width="52%">
</td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="5%">


<p><b>2ch</b></p></td>
<td width="6%"></td>
<td width="5%">


<p>192</p></td>
<td width="52%">
</td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="5%">


<p><b>3ch</b></p></td>
<td width="6%"></td>
<td width="5%">


<p>224</p></td>
<td width="52%">
</td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="5%">


<p><b>4ch</b></p></td>
<td width="6%"></td>
<td width="5%">


<p>384</p></td>
<td width="52%">
</td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="5%">


<p><b>5ch</b></p></td>
<td width="6%"></td>
<td width="5%">


<p>448</p></td>
<td width="52%">
</td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="5%">


<p><b>6ch</b></p></td>
<td width="6%"></td>
<td width="5%">


<p>448</p></td>
<td width="52%">
</td></tr>
</table>

<p style="margin-left:22%;"><b>minch=&lt;n&gt;</b></p>

<p style="margin-left:32%;">If the input channel number is
less than <b>&lt;minch&gt;</b>, the filter will detach
itself (default: 3).</p>


<p style="margin-left:22%;"><b>encoder=&lt;name&gt;</b></p>

<p style="margin-left:32%;">Select the libavcodec encoder
used. Currently, this should be an AC-3 encoder, and using
another codec will fail horribly.</p>


<p style="margin-left:11%;"><b>format=format:srate:channels:out-srate:out-channels</b></p>

<p style="margin-left:22%;">Does not do any format
conversion itself. Rather, it may cause the filter system to
insert necessary conversion filters before or after this
filter if needed. It is primarily useful for controlling the
audio format going into other filters. To specify the format
for audio output, see <b>--audio-format</b>,
<b>--audio-samplerate</b>, and <b>--audio-channels</b>. This
filter is able to force a particular format, whereas
<b>--audio-*</b> may be overridden by the ao based on output
compatibility.</p>

<p style="margin-left:22%; margin-top: 1em">All parameters
are optional. The first 3 parameters restrict what the
filter accepts as input. They will therefore cause
conversion filters to be inserted before this one. The
<b>out-</b> parameters tell the filters or audio outputs
following this filter how to interpret the data without
actually doing a conversion. Setting these will probably
just break things unless you really know you want this for
some reason, such as testing or dealing with broken media.
<b><br>
&lt;format&gt;</b></p>

<p style="margin-left:32%;">Force conversion to this
format. Use <b>--af=format=format=help</b> to get a list of
valid formats.</p>

<p style="margin-left:22%;"><b>&lt;srate&gt;</b></p>

<p style="margin-left:32%;">Force conversion to a specific
sample rate. The rate is an integer, 48000 for example.</p>

<p style="margin-left:22%;"><b>&lt;channels&gt;</b></p>

<p style="margin-left:32%;">Force mixing to a specific
channel layout. See <b>--audio-channels</b> option for
possible values.</p>


<p style="margin-left:22%; margin-top: 1em"><b>&lt;out-srate&gt;</b></p>


<p style="margin-left:22%; margin-top: 1em"><b>&lt;out-channels&gt;</b></p>

<p style="margin-left:22%; margin-top: 1em"><i>NOTE</i>:
this filter used to be named <b>force</b>. The old
<b>format</b> filter used to do conversion itself, unlike
this one which lets the filter system handle the
conversion.</p>


<p style="margin-left:11%;"><b>scaletempo[=option1:option2:...]</b></p>

<p style="margin-left:22%;">Scales audio tempo without
altering pitch, optionally synced to playback speed
(default).</p>

<p style="margin-left:22%; margin-top: 1em">This works by
playing 'stride' ms of audio at normal speed then consuming
'stride*scale' ms of input audio. It pieces the strides
together by blending 'overlap'% of stride with audio
following the previous stride. It optionally performs a
short statistical analysis on the next 'search' ms of audio
to determine the best overlap position. <b><br>
scale=&lt;amount&gt;</b></p>

<p style="margin-left:32%;">Nominal amount to scale tempo.
Scales this amount in addition to speed. (default: 1.0)</p>


<p style="margin-left:22%;"><b>stride=&lt;amount&gt;</b></p>

<p style="margin-left:32%;">Length in milliseconds to
output each stride. Too high of a value will cause
noticeable skips at high scale amounts and an echo at low
scale amounts. Very low values will alter pitch. Increasing
improves performance. (default: 60)</p>


<p style="margin-left:22%;"><b>overlap=&lt;percent&gt;</b></p>

<p style="margin-left:32%;">Percentage of stride to
overlap. Decreasing improves performance. (default: .20)</p>


<p style="margin-left:22%;"><b>search=&lt;amount&gt;</b></p>

<p style="margin-left:32%;">Length in milliseconds to
search for best overlap position. Decreasing improves
performance greatly. On slow systems, you will probably want
to set this very low. (default: 14)</p>


<p style="margin-left:22%;"><b>speed=&lt;tempo|pitch|both|none&gt;</b></p>

<p style="margin-left:32%;">Set response to speed
change.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="32%"></td>
<td width="8%">


<p><b>tempo</b></p></td>
<td width="3%"></td>
<td width="57%">


<p>Scale tempo in sync with speed (default).</p></td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="8%">


<p><b>pitch</b></p></td>
<td width="3%"></td>
<td width="57%">


<p>Reverses effect of filter. Scales pitch without altering
tempo. Add this to your <b>input.conf</b> to step by musical
semi-tones:</p> </td></tr>
</table>

<pre style="margin-left:48%; margin-top: 1em">[ multiply speed 0.9438743126816935
] multiply speed 1.059463094352953</pre>



<p style="margin-left:43%; margin-top: 1em"><b>WARNING:</b></p>

<p style="margin-left:48%;">Loses sync with video.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="32%"></td>
<td width="6%">


<p style="margin-top: 1em"><b>both</b></p></td>
<td width="5%"></td>
<td width="42%">


<p style="margin-top: 1em">Scale both tempo and pitch.</p></td>
<td width="15%">
</td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="6%">


<p><b>none</b></p></td>
<td width="5%"></td>
<td width="42%">


<p>Ignore speed changes.</p></td>
<td width="15%">
</td></tr>
</table>

<p style="margin-left:26%;">Examples <b><br>
mpv --af=scaletempo --speed=1.2 media.ogg</b></p>

<p style="margin-left:37%;">Would play media at 1.2x normal
speed, with audio at normal pitch. Changing playback speed
would change audio tempo to match.</p>

<p style="margin-left:26%;"><b>mpv
--af=scaletempo=scale=1.2:speed=none --speed=1.2 <br>
media.ogg</b></p>

<p style="margin-left:37%;">Would play media at 1.2x normal
speed, with audio at normal pitch, but changing playback
speed would have no effect on audio tempo.</p>

<p style="margin-left:26%;"><b>mpv
--af=scaletempo=stride=30:overlap=.50:search=10
media.ogg</b></p>

<p style="margin-left:37%;">Would tweak the quality and
performance parameters.</p>

<p style="margin-left:26%;"><b>mpv
--af=scaletempo=scale=1.2:speed=pitch audio.ogg</b></p>

<p style="margin-left:37%;">Would play media at 1.2x normal
speed, with audio at normal pitch. Changing playback speed
would change pitch, leaving audio tempo at 1.2x.</p>

<p style="margin-left:11%;"><b>rubberband</b></p>

<p style="margin-left:22%;">High quality pitch correction
with librubberband. This can be used in place of
<b>scaletempo</b>, and will be used to adjust audio pitch
when playing at speed different from normal. It can also be
used to adjust audio pitch without changing playback speed.
<b><br>
&lt;pitch-scale&gt;</b></p>

<p style="margin-left:32%;">Sets the pitch scaling factor.
Frequencies are multiplied by this value.</p>

<p style="margin-left:22%; margin-top: 1em">This filter has
a number of additional sub-options. You can list them with
<b>mpv --af=rubberband=help</b>. This will also show the
default values for each option. The options are not
documented here, because they are merely passed to
librubberband. Look at the librubberband documentation to
learn what each option does:
<i>http://breakfastquay.com/rubberband/code-doc/classRubberBand_1_1RubberBandStretcher.html</i>
(The mapping of the mpv rubberband filter sub-option names
and values to those of librubberband follows a simple
pattern: <b>&quot;Option&quot; + Name + Value</b>.)</p>

<p style="margin-left:22%; margin-top: 1em">This filter
supports the following <b>af-command</b> commands: <b><br>
set-pitch</b></p>

<p style="margin-left:32%;">Set the
<b>&lt;pitch-scale&gt;</b> argument dynamically. This can be
used to change the playback pitch at runtime. Note that
speed is controlled using the standard <b>speed</b>
property, not <b>af-command</b>.</p>

<p style="margin-left:22%;"><b>multiply-pitch
&lt;factor&gt;</b></p>

<p style="margin-left:32%;">Multiply the current value of
<b>&lt;pitch-scale&gt;</b> dynamically. For example: 0.5 to
go down by an octave, 1.5 to go up by a perfect fifth. If
you want to go up or down by semi-tones, use
1.059463094352953 and 0.9438743126816935</p>

<p style="margin-left:11%;"><b>lavfi=graph</b></p>

<p style="margin-left:22%;">Filter audio using FFmpeg's
libavfilter. <b><br>
&lt;graph&gt;</b></p>

<p style="margin-left:32%;">Libavfilter graph. See
<b>lavfi</b> video filter for details - the graph syntax is
the same.</p>


<p style="margin-left:32%; margin-top: 1em"><b>WARNING:</b></p>

<p style="margin-left:37%;">Don't forget to quote
libavfilter graphs as described in the lavfi video filter
section.</p>

<p style="margin-left:22%;"><b>o=&lt;string&gt;</b></p>

<p style="margin-left:32%;">AVOptions.</p>


<p style="margin-left:22%;"><b>fix-pts=&lt;yes|no&gt;</b></p>

<p style="margin-left:32%;">Determine PTS based on sample
count (default: no). If this is enabled, the player won't
rely on libavfilter passing through PTS accurately. Instead,
it pass a sample count as PTS to libavfilter, and compute
the PTS used by mpv based on that and the input PTS. This
helps with filters which output a recomputed PTS instead of
the original PTS (including filters which require the PTS to
start at 0). mpv normally expects filters to not touch the
PTS (or only to the extent of changing frame boundaries), so
this is not the default, but it will be needed to use broken
filters. In practice, these broken filters will either cause
slow A/V desync over time (with some files), or break
playback completely if you seek or start playback from the
middle of a file.</p>

<h2>VIDEO FILTERS
<a name="VIDEO FILTERS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Video filters
allow you to modify the video stream and its properties. All
of the information described in this section applies to
audio filters as well (generally using the prefix
<b>--af</b> instead of <b>--vf</b>).</p>

<p style="margin-left:11%; margin-top: 1em">The exact
syntax is: <b><br>

--vf=&lt;filter1[=parameter1:parameter2:...],filter2,...&gt;</b></p>

<p style="margin-left:22%;">Setup a chain of video filters.
This consists on the filter name, and an option list of
parameters after <b>=</b>. The parameters are separated by
<b>:</b> (not <b>,</b>, as that starts a new filter
entry).</p>

<p style="margin-left:22%; margin-top: 1em">Before the
filter name, a label can be specified with <b>@name:</b>,
where name is an arbitrary user-given name, which identifies
the filter. This is only needed if you want to toggle the
filter at runtime.</p>

<p style="margin-left:22%; margin-top: 1em">A <b>!</b>
before the filter name means the filter is disabled by
default. It will be skipped on filter creation. This is also
useful for runtime filter toggling.</p>

<p style="margin-left:22%; margin-top: 1em">See the
<b>vf</b> command (and <b>toggle</b> sub-command) for
further explanations and examples.</p>

<p style="margin-left:22%; margin-top: 1em">The general
filter entry syntax is:</p>


<p style="margin-left:26%;"><b>[&quot;@&quot;&lt;label-name&gt;&quot;:&quot;]
[&quot;!&quot;] &lt;filter-name&gt; [ &quot;=&quot;
&lt;filter-parameter-list&gt; ]</b></p>

<p style="margin-left:22%; margin-top: 1em">or for the
special &quot;toggle&quot; syntax (see <b>vf</b>
command):</p>


<p style="margin-left:26%;"><b>&quot;@&quot;&lt;label-name&gt;</b></p>

<p style="margin-left:22%; margin-top: 1em">and the
<b>filter-parameter-list</b>:</p>

<p style="margin-left:26%;"><b>&lt;filter-parameter&gt; |
&lt;filter-parameter&gt; &quot;,&quot;
&lt;filter-parameter-list&gt;</b></p>

<p style="margin-left:22%; margin-top: 1em">and
<b>filter-parameter</b>:</p>

<p style="margin-left:26%;"><b>( &lt;param-name&gt;
&quot;=&quot; &lt;param-value&gt; ) |
&lt;param-value&gt;</b></p>


<p style="margin-left:22%; margin-top: 1em"><b>param-value</b>
can further be quoted in <b>[</b> / <b>]</b> in case the
value contains characters like <b>,</b> or <b>=</b>. This is
used in particular with the <b>lavfi</b> filter, which uses
a very similar syntax as mpv (MPlayer historically) to
specify filters and their parameters.</p>

<p style="margin-left:11%; margin-top: 1em">Filters can be
manipulated at run time. You can use <b>@</b> labels as
described above in combination with the <b>vf</b> command
(see <i>COMMAND INTERFACE</i>) to get more control over
this. Initially disabled filters with <b>!</b> are useful
for this as well.</p>

<p style="margin-left:11%; margin-top: 1em">You can also
set defaults for each filter. The defaults are applied
before the normal filter parameters. This is deprecated and
never worked for the libavfilter bridge. <b><br>

--vf-defaults=&lt;filter1[=parameter1:parameter2:...],filter2,...&gt;</b></p>

<p style="margin-left:22%;">Set defaults for each filter.
(Deprecated. <b>--af-defaults</b> is deprecated as
well.)</p>


<p style="margin-left:11%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:15%;">To get a full list of available
video filters, see <b>--vf=help</b> and
<i>http://ffmpeg.org/ffmpeg-filters.html</i> .</p>

<p style="margin-left:15%; margin-top: 1em">Also, keep in
mind that most actual filters are available via the
<b>lavfi</b> wrapper, which gives you access to most of
libavfilter's filters. This includes all filters that have
been ported from MPlayer to libavfilter.</p>

<p style="margin-left:15%; margin-top: 1em">Most builtin
filters are deprecated in some ways, unless they're only
available in mpv (such as filters which deal with mpv
specifics, or which are implemented in mpv only).</p>

<p style="margin-left:15%; margin-top: 1em">If a filter is
not builtin, the <b>lavfi-bridge</b> will be automatically
tried. This bridge does not support help output, and does
not verify parameters before the filter is actually used.
Although the mpv syntax is rather similar to libavfilter's,
it's not the same. (Which means not everything accepted by
vf_lavfi's <b>graph</b> option will be accepted by
<b>--vf</b>.)</p>

<p style="margin-left:15%; margin-top: 1em">You can also
prefix the filter name with <b>lavfi-</b> to force the
wrapper. This is helpful if the filter name collides with a
deprecated mpv builtin filter. For example
<b>--vf=lavfi-scale=args</b> would use libavfilter's
<b>scale</b> filter over mpv's deprecated builtin one.</p>

<p style="margin-left:11%; margin-top: 1em">Video filters
are managed in lists. There are a few commands to manage the
filter list. <b><br>
--vf-append=filter</b></p>

<p style="margin-left:22%;">Appends the filter given as
arguments to the filter list.</p>

<p style="margin-left:11%;"><b>--vf-add=filter</b></p>

<p style="margin-left:22%;">Appends the filter given as
arguments to the filter list. (Passing multiple filters is
currently still possible, but deprecated.)</p>

<p style="margin-left:11%;"><b>--vf-pre=filter</b></p>

<p style="margin-left:22%;">Prepends the filters given as
arguments to the filter list. (Passing multiple filters is
currently still possible, but deprecated.)</p>

<p style="margin-left:11%;"><b>--vf-remove=filter</b></p>

<p style="margin-left:22%;">Deletes the filter from the
list. The filter can be either given the way it was added
(filter name and its full argument list), or by label
(prefixed with <b>@</b>). Matching of filters works as
follows: if either of the compared filters has a label set,
only the labels are compared. If none of the filters have a
label, the filter name, arguments, and argument order are
compared. (Passing multiple filters is currently still
possible, but deprecated.)</p>

<p style="margin-left:11%;"><b>-vf-toggle=filter</b></p>

<p style="margin-left:22%;">Add the given filter to the
list if it was not present yet, or remove it from the list
if it was present. Matching of filters works as described in
<b>--vf-remove</b>.</p>

<p style="margin-left:11%;"><b>--vf-del=filter</b></p>

<p style="margin-left:22%;">Sort of like
<b>--vf-remove</b>, but also accepts an index number. Index
numbers start at 0, negative numbers address the end of the
list (-1 is the last). Deprecated.</p>

<p style="margin-left:11%;"><b>--vf-clr</b></p>

<p style="margin-left:22%;">Completely empties the filter
list.</p>

<p style="margin-left:11%; margin-top: 1em">With filters
that support it, you can access parameters by their name.
<b><br>
--vf=&lt;filter&gt;=help</b></p>

<p style="margin-left:22%;">Prints the parameter names and
parameter value ranges for a particular filter.</p>

<p style="margin-left:11%; margin-top: 1em">Available
mpv-only filters are: <b><br>

format=fmt=&lt;value&gt;:colormatrix=&lt;value&gt;:...</b></p>

<p style="margin-left:22%;">Applies video parameter
overrides, with optional conversion. By default, this
overrides the video's parameters without conversion (except
for the <b>fmt</b> parameter), but can be made to perform an
appropriate conversion with <b>convert=yes</b> for
parameters for which conversion is supported.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>&lt;fmt&gt;</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>Image format name, e.g. rgb15, bgr24, 420p, etc.
(default: don't change).</p></td></tr>
</table>

<p style="margin-left:32%; margin-top: 1em">This filter
always performs conversion to the given format.</p>


<p style="margin-left:32%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:37%;">For a list of available
formats, use <b>--vf=format=fmt=help</b>.</p>


<p style="margin-left:22%;"><b>&lt;convert=yes|no&gt;</b></p>

<p style="margin-left:32%;">Force conversion of color
parameters (default: no).</p>

<p style="margin-left:32%; margin-top: 1em">If this is
disabled (the default), the only conversion that is possibly
performed is format conversion if <b>&lt;fmt&gt;</b> is set.
All other parameters (like <b>&lt;colormatrix&gt;</b>) are
forced without conversion. This mode is typically useful
when files have been incorrectly tagged.</p>

<p style="margin-left:32%; margin-top: 1em">If this is
enabled, libswscale or zimg is used if any of the parameters
mismatch. zimg is used of the input/output image formats are
supported by mpv's zimg wrapper, and if
<b>--sws-allow-zimg=yes</b> is used. Both libraries may not
support all kinds of conversions. This typically results in
silent incorrect conversion. zimg has in many cases a better
chance of performing the conversion correctly.</p>

<p style="margin-left:32%; margin-top: 1em">In both cases,
the color parameters are set on the output stage of the
image format conversion (if <b>fmt</b> was set). The
difference is that with <b>convert=no</b>, the color
parameters are not passed on to the converter.</p>

<p style="margin-left:32%; margin-top: 1em">If input and
output video parameters are the same, conversion is always
skipped.</p>

<p style="margin-left:37%;">Examples <b><br>
mpv test.mkv --vf=format:colormatrix=ycgco</b></p>

<p style="margin-left:48%;">Results in incorrect colors (if
test.mkv was tagged correctly).</p>

<p style="margin-left:37%;"><b>mpv test.mkv
--vf=format:colormatrix=ycgco:convert=yes <br>
--sws-allow-zimg</b></p>

<p style="margin-left:48%;">Results in true conversion to
<b>ycgco</b>, assuming the renderer supports it
(<b>--vo=gpu</b> normally does). You can add <b>--vo=xv</b>
to force a VO which definitely does not support it, which
should show incorrect colors as confirmation.</p>

<p style="margin-left:48%; margin-top: 1em">Using
<b>--sws-allow-zimg=no</b> (or disabling zimg at build time)
will use libswscale, which cannot perform this conversion as
of this writing.</p>

<p style="margin-left:22%;"><b>&lt;colormatrix&gt;</b></p>

<p style="margin-left:32%;">Controls the YUV to RGB color
space conversion when playing video. There are various
standards. Normally, BT.601 should be used for SD video, and
BT.709 for HD video. (This is done by default.) Using
incorrect color space results in slightly under or over
saturated and shifted colors.</p>

<p style="margin-left:32%; margin-top: 1em">These options
are not always supported. Different video outputs provide
varying degrees of support. The <b>gpu</b> and <b>vdpau</b>
video output drivers usually offer full support. The
<b>xv</b> output can set the color space if the system video
driver supports it, but not input and output levels. The
<b>scale</b> video filter can configure color space and
input levels, but only if the output format is RGB (if the
video output driver supports RGB output, you can force this
with <b>-vf scale,format=rgba</b>).</p>

<p style="margin-left:32%; margin-top: 1em">If this option
is set to <b>auto</b> (which is the default), the video's
color space flag will be used. If that flag is unset, the
color space will be selected automatically. This is done
using a simple heuristic that attempts to distinguish SD and
HD video. If the video is larger than 1279x576 pixels,
BT.709 (HD) will be used; otherwise BT.601 (SD) is
selected.</p>

<p style="margin-left:32%; margin-top: 1em">Available color
spaces are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="32%"></td>
<td width="10%">


<p><b>auto</b></p></td>
<td width="1%"></td>
<td width="45%">


<p>automatic selection (default)</p></td>
<td width="12%">
</td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="10%">


<p><b>bt.601</b></p></td>
<td width="1%"></td>
<td width="45%">


<p>ITU-R BT.601 (SD)</p></td>
<td width="12%">
</td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="10%">


<p><b>bt.709</b></p></td>
<td width="1%"></td>
<td width="45%">


<p>ITU-R BT.709 (HD)</p></td>
<td width="12%">
</td></tr>
</table>

<p style="margin-left:32%;"><b>bt.2020-ncl</b></p>

<p style="margin-left:43%;">ITU-R BT.2020 non-constant
luminance system</p>

<p style="margin-left:32%;"><b>bt.2020-cl</b></p>

<p style="margin-left:43%;">ITU-R BT.2020 constant
luminance system</p>

<p style="margin-left:32%;"><b>smpte-240m</b></p>

<p style="margin-left:43%;">SMPTE-240M</p>

<p style="margin-left:22%;"><b>&lt;colorlevels&gt;</b></p>

<p style="margin-left:32%;">YUV color levels used with YUV
to RGB conversion. This option is only necessary when
playing broken files which do not follow standard color
levels or which are flagged wrong. If the video does not
specify its color range, it is assumed to be limited
range.</p>

<p style="margin-left:32%; margin-top: 1em">The same
limitations as with <b>&lt;colormatrix&gt;</b> apply.</p>

<p style="margin-left:32%; margin-top: 1em">Available color
ranges are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="32%"></td>
<td width="6%">


<p><b>auto</b></p></td>
<td width="5%"></td>
<td width="57%">


<p>automatic selection (normally limited range)
(default)</p> </td></tr>
</table>

<p style="margin-left:32%;"><b>limited</b></p>

<p style="margin-left:43%;">limited range (16-235 for luma,
16-240 for chroma)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="32%"></td>
<td width="6%">


<p><b>full</b></p></td>
<td width="5%"></td>
<td width="57%">


<p>full range (0-255 for both luma and chroma)</p></td></tr>
</table>

<p style="margin-left:22%;"><b>&lt;primaries&gt;</b></p>

<p style="margin-left:32%;">RGB primaries the source file
was encoded with. Normally this should be set in the file
header, but when playing broken or mistagged files this can
be used to override the setting.</p>

<p style="margin-left:32%; margin-top: 1em">This option
only affects video output drivers that perform color
management, for example <b>gpu</b> with the
<b>target-prim</b> or <b>icc-profile</b> suboptions set.</p>

<p style="margin-left:32%; margin-top: 1em">If this option
is set to <b>auto</b> (which is the default), the video's
primaries flag will be used. If that flag is unset, the
color space will be selected automatically, using the
following heuristics: If the <b>&lt;colormatrix&gt;</b> is
set or determined as BT.2020 or BT.709, the corresponding
primaries are used. Otherwise, if the video height is
exactly 576 (PAL), BT.601-625 is used. If it's exactly 480
or 486 (NTSC), BT.601-525 is used. If the video resolution
is anything else, BT.709 is used.</p>

<p style="margin-left:32%; margin-top: 1em">Available
primaries are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="32%"></td>
<td width="6%">


<p><b>auto</b></p></td>
<td width="5%"></td>
<td width="45%">


<p>automatic selection (default)</p></td>
<td width="12%">
</td></tr>
</table>

<p style="margin-left:32%;"><b>bt.601-525</b></p>

<p style="margin-left:43%;">ITU-R BT.601 (SD) 525-line
systems (NTSC, SMPTE-C)</p>

<p style="margin-left:32%;"><b>bt.601-625</b></p>

<p style="margin-left:43%;">ITU-R BT.601 (SD) 625-line
systems (PAL, SECAM)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="32%"></td>
<td width="10%">


<p><b>bt.709</b></p></td>
<td width="1%"></td>
<td width="57%">


<p>ITU-R BT.709 (HD) (same primaries as sRGB)</p></td></tr>
</table>

<p style="margin-left:32%;"><b>bt.2020</b></p>

<p style="margin-left:43%;">ITU-R BT.2020 (UHD)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="32%"></td>
<td width="8%">


<p><b>apple</b></p></td>
<td width="3%"></td>
<td width="25%">


<p>Apple RGB</p></td>
<td width="32%">
</td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="8%">


<p><b>adobe</b></p></td>
<td width="3%"></td>
<td width="25%">


<p>Adobe RGB (1998)</p></td>
<td width="32%">
</td></tr>
</table>

<p style="margin-left:32%;"><b>prophoto</b></p>

<p style="margin-left:43%;">ProPhoto RGB (ROMM)</p>

<p style="margin-left:32%;"><b>cie1931</b></p>

<p style="margin-left:43%;">CIE 1931 RGB</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="32%"></td>
<td width="10%">


<p><b>dci-p3</b></p></td>
<td width="1%"></td>
<td width="35%">


<p>DCI-P3 (Digital Cinema)</p></td>
<td width="22%">
</td></tr>
</table>

<p style="margin-left:32%;"><b>v-gamut</b></p>

<p style="margin-left:43%;">Panasonic V-Gamut primaries</p>

<p style="margin-left:22%;"><b>&lt;gamma&gt;</b></p>

<p style="margin-left:32%;">Gamma function the source file
was encoded with. Normally this should be set in the file
header, but when playing broken or mistagged files this can
be used to override the setting.</p>

<p style="margin-left:32%; margin-top: 1em">This option
only affects video output drivers that perform color
management.</p>

<p style="margin-left:32%; margin-top: 1em">If this option
is set to <b>auto</b> (which is the default), the gamma will
be set to BT.1886 for YCbCr content, sRGB for RGB content
and Linear for XYZ content.</p>

<p style="margin-left:32%; margin-top: 1em">Available gamma
functions are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="32%"></td>
<td width="6%">


<p><b>auto</b></p></td>
<td width="5%"></td>
<td width="45%">


<p>automatic selection (default)</p></td>
<td width="12%">
</td></tr>
</table>

<p style="margin-left:32%;"><b>bt.1886</b></p>

<p style="margin-left:43%;">ITU-R BT.1886 (EOTF
corresponding to BT.601/BT.709/BT.2020)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="32%"></td>
<td width="10%">


<p><b>srgb</b></p></td>
<td width="1%"></td>
<td width="31%">


<p>IEC 61966-2-4 (sRGB)</p></td>
<td width="26%">
</td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="10%">


<p><b>linear</b></p></td>
<td width="1%"></td>
<td width="31%">


<p>Linear light</p></td>
<td width="26%">
</td></tr>
</table>

<p style="margin-left:32%;"><b>gamma1.8</b></p>

<p style="margin-left:43%;">Pure power curve (gamma
1.8)</p>

<p style="margin-left:32%;"><b>gamma2.0</b></p>

<p style="margin-left:43%;">Pure power curve (gamma
2.0)</p>

<p style="margin-left:32%;"><b>gamma2.2</b></p>

<p style="margin-left:43%;">Pure power curve (gamma
2.2)</p>

<p style="margin-left:32%;"><b>gamma2.4</b></p>

<p style="margin-left:43%;">Pure power curve (gamma
2.4)</p>

<p style="margin-left:32%;"><b>gamma2.6</b></p>

<p style="margin-left:43%;">Pure power curve (gamma
2.6)</p>

<p style="margin-left:32%;"><b>gamma2.8</b></p>

<p style="margin-left:43%;">Pure power curve (gamma
2.8)</p>

<p style="margin-left:32%;"><b>prophoto</b></p>

<p style="margin-left:43%;">ProPhoto RGB (ROMM) curve</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="32%"></td>
<td width="10%">


<p><b>pq</b></p></td>
<td width="1%"></td>
<td width="57%">


<p>ITU-R BT.2100 PQ (Perceptual quantizer) curve</p></td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="10%">


<p><b>hlg</b></p></td>
<td width="1%"></td>
<td width="57%">


<p>ITU-R BT.2100 HLG (Hybrid Log-gamma) curve</p></td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="10%">


<p><b>v-log</b></p></td>
<td width="1%"></td>
<td width="57%">


<p>Panasonic V-Log transfer curve</p></td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="10%">


<p><b>s-log1</b></p></td>
<td width="1%"></td>
<td width="57%">


<p>Sony S-Log1 transfer curve</p></td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="10%">


<p><b>s-log2</b></p></td>
<td width="1%"></td>
<td width="57%">


<p>Sony S-Log2 transfer curve</p></td></tr>
</table>

<p style="margin-left:22%;"><b>&lt;sig-peak&gt;</b></p>

<p style="margin-left:32%;">Reference peak illumination for
the video file, relative to the signal's reference white
level. This is mostly interesting for HDR, but it can also
be used tone map SDR content to simulate a different
exposure. Normally inferred from tags such as MaxCLL or
mastering metadata.</p>

<p style="margin-left:32%; margin-top: 1em">The default of
0.0 will default to the source's nominal peak luminance.</p>

<p style="margin-left:22%;"><b>&lt;light&gt;</b></p>

<p style="margin-left:37%;">Light type of the scene. This
is mostly correctly inferred based on the gamma function,
but it can be useful to override this when viewing raw
camera footage (e.g. V-Log), which is normally
scene-referred instead of display-referred.</p>

<p style="margin-left:37%; margin-top: 1em">Available light
types are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="32%"></td>
<td width="6%">


<p><b>auto</b></p></td>
<td width="5%"></td>
<td width="45%">


<p>Automatic selection (default)</p></td>
<td width="12%">
</td></tr>
</table>

<p style="margin-left:32%;"><b>display</b></p>

<p style="margin-left:43%;">Display-referred light (most
content)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="32%"></td>
<td width="5%">


<p><b>hlg</b></p></td>
<td width="6%"></td>
<td width="57%">


<p>Scene-referred using the HLG OOTF (e.g. HLG content)</p></td></tr>
</table>

<p style="margin-left:32%;"><b>709-1886</b></p>

<p style="margin-left:43%;">Scene-referred using the
BT709+BT1886 interaction</p>

<p style="margin-left:32%;"><b>gamma1.2</b></p>

<p style="margin-left:43%;">Scene-referred using a pure
power OOTF (gamma=1.2)</p>

<p style="margin-left:22%;"><b>&lt;stereo-in&gt;</b></p>

<p style="margin-left:32%;">Set the stereo mode the video
is assumed to be encoded in. Use <b>--vf
format:stereo-in=help</b> to list all available modes. Check
with the <b>stereo3d</b> filter documentation to see what
the names mean.</p>

<p style="margin-left:22%;"><b>&lt;stereo-out&gt;</b></p>

<p style="margin-left:32%;">Set the stereo mode the video
should be displayed as. Takes the same values as the
<b>stereo-in</b> option.</p>

<p style="margin-left:22%;"><b>&lt;rotate&gt;</b></p>

<p style="margin-left:32%;">Set the rotation the video is
assumed to be encoded with in degrees. The special value
<b>-1</b> uses the input format.</p>

<p style="margin-left:22%;"><b>&lt;dw&gt;,
&lt;dh&gt;</b></p>

<p style="margin-left:32%;">Set the display size. Note that
setting the display size such that the video is scaled in
both directions instead of just changing the aspect ratio is
an implementation detail, and might change later.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>&lt;dar&gt;</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>Set the display aspect ratio of the video frame. This is
a float, but values such as <b>[16:9]</b> can be passed too
(<b>[...]</b> for quoting to prevent the option parser from
interpreting the <b>:</b> character).</p></td></tr>
</table>


<p style="margin-left:11%;"><b>lavfi=graph[:sws-flags[:o=opts]]</b></p>

<p style="margin-left:22%;">Filter video using FFmpeg's
libavfilter. <b><br>
&lt;graph&gt;</b></p>

<p style="margin-left:32%;">The libavfilter graph string.
The filter must have a single video input pad and a single
video output pad.</p>

<p style="margin-left:32%; margin-top: 1em">See
<i>https://ffmpeg.org/ffmpeg-filters.html</i> for syntax and
available filters.</p>


<p style="margin-left:32%; margin-top: 1em"><b>WARNING:</b></p>

<p style="margin-left:37%;">If you want to use the full
filter syntax with this option, you have to quote the filter
graph in order to prevent mpv's syntax and the filter graph
syntax from clashing. To prevent a quoting and escaping
mess, consider using <b>--lavfi-complex</b> if you know
which video track you want to use from the input file.
(There is only one video track for nearly all video files
anyway.) <br>
Examples <b><br>
--vf=lavfi=[gradfun=20:30,vflip]</b></p>

<p style="margin-left:48%;"><b>gradfun</b> filter with
nonsense parameters, followed by a <b>vflip</b> filter.
(This demonstrates how libavfilter takes a graph and not
just a single filter.) The filter graph string is quoted
with <b>[</b> and <b>]</b>. This requires no additional
quoting or escaping with some shells (like bash), while
others (like zsh) require additional <b>&quot;</b> quotes
around the option string.</p>


<p style="margin-left:37%;"><b>'--vf=lavfi=&quot;gradfun=20:30,vflip&quot;'</b></p>

<p style="margin-left:48%;">Same as before, but uses
quoting that should be safe with all shells. The outer
<b>'</b> quotes make sure that the shell does not remove the
<b>&quot;</b> quotes needed by mpv.</p>


<p style="margin-left:37%;"><b>'--vf=lavfi=graph=&quot;gradfun=radius=30:strength=20,vflip&quot;'</b></p>

<p style="margin-left:48%;">Same as before, but uses named
parameters for everything.</p>

<p style="margin-left:22%;"><b>&lt;sws-flags&gt;</b></p>

<p style="margin-left:32%;">If libavfilter inserts filters
for pixel format conversion, this option gives the flags
which should be passed to libswscale. This option is numeric
and takes a bit-wise combination of <b>SWS_</b> flags.</p>

<p style="margin-left:32%; margin-top: 1em">See
<b>http://git.videolan.org/?p=ffmpeg.git;a=blob;f=libswscale/swscale.h</b>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="4%">


<p><b>&lt;o&gt;</b></p></td>
<td width="6%"></td>
<td width="68%">


<p>Set AVFilterGraph options. These should be documented by
FFmpeg.</p> </td></tr>
</table>

<p style="margin-left:37%;">Example <b><br>

'--vf=lavfi=yadif:o=&quot;threads=2,thread_type=slice&quot;'</b></p>

<p style="margin-left:48%;">forces a specific threading
configuration.</p>


<p style="margin-left:11%;"><b>sub=[=bottom-margin:top-margin]</b></p>

<p style="margin-left:22%;">Moves subtitle rendering to an
arbitrary point in the filter chain, or force subtitle
rendering in the video filter as opposed to using video
output OSD support. <b><br>
&lt;bottom-margin&gt;</b></p>

<p style="margin-left:32%;">Adds a black band at the bottom
of the frame. The SSA/ASS renderer can place subtitles there
(with <b>--sub-use-margins</b>).</p>

<p style="margin-left:22%;"><b>&lt;top-margin&gt;</b></p>

<p style="margin-left:32%;">Black band on the top for
toptitles (with <b>--sub-use-margins</b>).</p>

<p style="margin-left:26%;">Examples <b><br>
--vf=sub,eq</b></p>

<p style="margin-left:37%;">Moves sub rendering before the
eq filter. This will put both subtitle colors and video
under the influence of the video equalizer settings.</p>


<p style="margin-left:11%;"><b>vapoursynth=file:buffered-frames:concurrent-frames</b></p>

<p style="margin-left:22%;">Loads a VapourSynth filter
script. This is intended for streamed processing: mpv
actually provides a source filter, instead of using a native
VapourSynth video source. The mpv source will answer frame
requests only within a small window of frames (the size of
this window is controlled with the <b>buffered-frames</b>
parameter), and requests outside of that will return errors.
As such, you can't use the full power of VapourSynth, but
you can use certain filters.</p>


<p style="margin-left:22%; margin-top: 1em"><b>WARNING:</b></p>

<p style="margin-left:26%;">Do not use this filter, unless
you have expert knowledge in VapourSynth, and know how to
fix bugs in the mpv VapourSynth wrapper code.</p>

<p style="margin-left:22%; margin-top: 1em">If you just
want to play video generated by VapourSynth (i.e. using a
native VapourSynth video source), it's better to use
<b>vspipe</b> and a pipe or FIFO to feed the video to mpv.
The same applies if the filter script requires random frame
access (see <b>buffered-frames</b> parameter).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p><b>file</b></p></td>
<td width="4%"></td>
<td width="68%">


<p>Filename of the script source. Currently, this is always
a python script (<b>.vpy</b> in VapourSynth convention).</p></td></tr>
</table>

<p style="margin-left:32%; margin-top: 1em">The variable
<b>video_in</b> is set to the mpv video source, and it is
expected that the script reads video from it. (Otherwise,
mpv will decode no video, and the video packet queue will
overflow, eventually leading to only audio playing, or
worse.)</p>

<p style="margin-left:32%; margin-top: 1em">The filter
graph created by the script is also expected to pass through
timestamps using the <b>_DurationNum</b> and
<b>_DurationDen</b> frame properties.</p>

<p style="margin-left:32%; margin-top: 1em">See the end of
the option list for a full list of script variables defined
by mpv.</p>

<p style="margin-left:37%;">Example:</p>

<pre style="margin-left:43%; margin-top: 1em">import vapoursynth as vs
core = vs.get_core()
core.std.AddBorders(video_in, 10, 10, 20, 20).set_output()</pre>



<p style="margin-left:32%; margin-top: 1em"><b>WARNING:</b></p>

<p style="margin-left:37%;">The script will be reloaded on
every seek. This is done to reset the filter properly on
discontinuities.</p>

<p style="margin-left:22%;"><b>buffered-frames</b></p>

<p style="margin-left:32%;">Maximum number of decoded video
frames that should be buffered before the filter (default:
4). This specifies the maximum number of frames the script
can request in backward direction.</p>

<p style="margin-left:32%; margin-top: 1em">E.g. if
<b>buffered-frames=5</b>, and the script just requested
frame 15, it can still request frame 10, but frame 9 is not
available anymore. If it requests frame 30, mpv will decode
15 more frames, and keep only frames 25-30.</p>

<p style="margin-left:32%; margin-top: 1em">The only reason
why this buffer exists is to serve the random access
requests the VapourSynth filter can make.</p>

<p style="margin-left:32%; margin-top: 1em">The VapourSynth
API has a <b>getFrameAsync</b> function, which takes an
absolute frame number. Source filters must respond to all
requests. For example, a source filter can request frame
2432, and then frame 3. Source filters typically implement
this by pre-indexing the entire file.</p>

<p style="margin-left:32%; margin-top: 1em">mpv on the
other hand is stream oriented, and does not allow filters to
seek. (And it would not make sense to allow it, because it
would ruin performance.) Filters get frames sequentially in
playback direction, and cannot request them out of
order.</p>

<p style="margin-left:32%; margin-top: 1em">To compensate
for this mismatch, mpv allows the filter to access frames
within a certain window. <b>buffered-frames</b> controls the
size of this window. Most VapourSynth filters happen to work
with this, because mpv requests frames sequentially
increasing from it, and most filters only require frames
&quot;close&quot; to the requested frame.</p>

<p style="margin-left:32%; margin-top: 1em">If the filter
requests a frame that has a higher frame number than the
highest buffered frame, new frames will be decoded until the
requested frame number is reached. Excessive frames will be
flushed out in a FIFO manner (there are only at most
<b>buffered-frames</b> in this buffer).</p>

<p style="margin-left:32%; margin-top: 1em">If the filter
requests a frame that has a lower frame number than the
lowest buffered frame, the request cannot be satisfied, and
an error is returned to the filter. This kind of error is
not supposed to happen in a &quot;proper&quot; VapourSynth
environment. What exactly happens depends on the filters
involved.</p>

<p style="margin-left:32%; margin-top: 1em">Increasing this
buffer will not improve performance. Rather, it will waste
memory, and slow down seeks (when enough frames to fill the
buffer need to be decoded at once). It is only needed to
prevent the error described in the previous paragraph.</p>

<p style="margin-left:32%; margin-top: 1em">How many frames
a filter requires depends on filter implementation details,
and mpv has no way of knowing. A scale filter might need
only 1 frame, an interpolation filter may require a small
number of frames, and the <b>Reverse</b> filter will require
an infinite number of frames.</p>

<p style="margin-left:32%; margin-top: 1em">If you want
reliable operation to the full extend VapourSynth is
capable, use <b>vspipe</b>.</p>

<p style="margin-left:32%; margin-top: 1em">The actual
number of buffered frames also depends on the value of the
<b>concurrent-frames</b> option. Currently, both option
values are multiplied to get the final buffer size.</p>

<p style="margin-left:22%;"><b>concurrent-frames</b></p>

<p style="margin-left:32%;">Number of frames that should be
requested in parallel. The level of concurrency depends on
the filter and how quickly mpv can decode video to feed the
filter. This value should probably be proportional to the
number of cores on your machine. Most time, making it higher
than the number of cores can actually make it slower.</p>

<p style="margin-left:32%; margin-top: 1em">Technically,
mpv will call the VapourSynth <b>getFrameAsync</b> function
in a loop, until there are <b>concurrent-frames</b> frames
that have not been returned by the filter yet. This also
assumes that the rest of the mpv filter chain reads the
output of the <b>vapoursynth</b> filter quickly enough. (For
example, if you pause the player, filtering will stop very
soon, because the filtered frames are waiting in a
queue.)</p>

<p style="margin-left:32%; margin-top: 1em">Actual
concurrency depends on many other factors.</p>

<p style="margin-left:32%; margin-top: 1em">By default,
this uses the special value <b>auto</b>, which sets the
option to the number of detected logical CPU cores.</p>

<p style="margin-left:22%; margin-top: 1em">The following
<b>.vpy</b> script variables are defined by mpv: <b><br>
video_in</b></p>

<p style="margin-left:32%;">The mpv video source as
vapoursynth clip. Note that this has an incorrect (very
high) length set, which confuses many filters. This is
necessary, because the true number of frames is unknown. You
can use the <b>Trim</b> filter on the clip to reduce the
length.</p>

<p style="margin-left:22%;"><b>video_in_dw,
video_in_dh</b></p>

<p style="margin-left:32%;">Display size of the video. Can
be different from video size if the video does not use
square pixels (e.g. DVD).</p>

<p style="margin-left:22%;"><b>container_fps</b></p>

<p style="margin-left:32%;">FPS value as reported by file
headers. This value can be wrong or completely broken (e.g.
0 or NaN). Even if the value is correct, if another filter
changes the real FPS (by dropping or inserting frames), the
value of this variable will not be useful. Note that the
<b>--fps</b> command line option overrides this value.</p>

<p style="margin-left:32%; margin-top: 1em">Useful for some
filters which insist on having a FPS.</p>

<p style="margin-left:22%;"><b>display_fps</b></p>

<p style="margin-left:32%;">Refresh rate of the current
display. Note that this value can be 0.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>vavpp</b></p></td>
<td width="4%"></td>
<td width="78%">


<p>VA-API video post processing. Requires the system to
support VA-API, i.e. Linux/BSD only. Works with
<b>--vo=vaapi</b> and <b>--vo=gpu</b> only. Currently
deinterlaces. This filter is automatically inserted if
deinterlacing is requested (either using the <b>d</b> key,
by default mapped to the command <b>cycle deinterlace</b>,
or the <b>--deinterlace</b> option).</p></td></tr>
</table>


<p style="margin-left:22%;"><b>deint=&lt;method&gt;</b></p>

<p style="margin-left:32%;">Select the deinterlacing
algorithm.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="32%"></td>
<td width="6%">


<p><b>no</b></p></td>
<td width="5%"></td>
<td width="57%">


<p>Don't perform deinterlacing.</p></td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="6%">


<p><b>auto</b></p></td>
<td width="5%"></td>
<td width="57%">


<p>Select the best quality deinterlacing algorithm
(default). This goes by the order of the options as
documented, with <b>motion-compensated</b> being considered
best quality.</p></td></tr>
</table>

<p style="margin-left:32%;"><b>first-field</b></p>

<p style="margin-left:43%;">Show only first field.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="32%"></td>
<td width="5%">


<p><b>bob</b></p></td>
<td width="6%"></td>
<td width="28%">


<p>bob deinterlacing.</p></td>
<td width="29%">
</td></tr>
</table>

<p style="margin-left:32%;"><b>weave, motion-adaptive,
motion-compensated</b></p>

<p style="margin-left:43%;">Advanced deinterlacing
algorithms. Whether these actually work depends on the GPU
hardware, the GPU drivers, driver bugs, and mpv bugs.</p>


<p style="margin-left:22%;"><b>&lt;interlaced-only&gt;</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="32%"></td>
<td width="5%">


<p><b>no</b></p></td>
<td width="6%"></td>
<td width="57%">


<p>Deinterlace all frames (default).</p></td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="5%">


<p><b>yes</b></p></td>
<td width="6%"></td>
<td width="57%">


<p>Only deinterlace frames marked as interlaced.</p></td></tr>
</table>


<p style="margin-left:22%;"><b>reversal-bug=&lt;yes|no&gt;</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="32%"></td>
<td width="5%">


<p><b>no</b></p></td>
<td width="6%"></td>
<td width="57%">


<p>Use the API as it was interpreted by older Mesa drivers.
While this interpretation was more obvious and inuitive, it
was apparently wrong, and not shared by Intel driver
developers.</p> </td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="5%">


<p><b>yes</b></p></td>
<td width="6%"></td>
<td width="57%">


<p>Use Intel interpretation of surface forward and
backwards references (default). This is what Intel drivers
and newer Mesa drivers expect. Matters only for the advanced
deinterlacing algorithms.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>vdpaupp</b></p>

<p style="margin-left:22%;">VDPAU video post processing.
Works with <b>--vo=vdpau</b> and <b>--vo=gpu</b> only. This
filter is automatically inserted if deinterlacing is
requested (either using the <b>d</b> key, by default mapped
to the command <b>cycle deinterlace</b>, or the
<b>--deinterlace</b> option). When enabling deinterlacing,
it is always preferred over software deinterlacer filters if
the <b>vdpau</b> VO is used, and also if <b>gpu</b> is used
and hardware decoding was activated at least once (i.e.
vdpau was loaded). <b><br>
sharpen=&lt;-1-1&gt;</b></p>

<p style="margin-left:32%;">For positive values, apply a
sharpening algorithm to the video, for negative values a
blurring algorithm (default: 0).</p>

<p style="margin-left:22%;"><b>denoise=&lt;0-1&gt;</b></p>

<p style="margin-left:32%;">Apply a noise reduction
algorithm to the video (default: 0; no noise reduction).</p>


<p style="margin-left:22%;"><b>deint=&lt;yes|no&gt;</b></p>

<p style="margin-left:32%;">Whether deinterlacing is
enabled (default: no). If enabled, it will use the mode
selected with <b>deint-mode</b>.</p>


<p style="margin-left:22%;"><b>deint-mode=&lt;first-field|bob|temporal|temporal-spatial&gt;</b></p>

<p style="margin-left:32%;">Select deinterlacing mode
(default: temporal).</p>

<p style="margin-left:32%; margin-top: 1em">Note that
there's currently a mechanism that allows the <b>vdpau</b>
VO to change the <b>deint-mode</b> of auto-inserted
<b>vdpaupp</b> filters. To avoid confusion, it's recommended
not to use the <b>--vo=vdpau</b> suboptions related to
filtering. <b><br>
first-field</b></p>

<p style="margin-left:43%;">Show only first field.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="32%"></td>
<td width="5%">


<p><b>bob</b></p></td>
<td width="6%"></td>
<td width="28%">


<p>Bob deinterlacing.</p></td>
<td width="29%">
</td></tr>
</table>

<p style="margin-left:32%;"><b>temporal</b></p>

<p style="margin-left:43%;">Motion-adaptive temporal
deinterlacing. May lead to A/V desync with slow video
hardware and/or high resolution.</p>

<p style="margin-left:32%;"><b>temporal-spatial</b></p>

<p style="margin-left:43%;">Motion-adaptive temporal
deinterlacing with edge-guided spatial interpolation. Needs
fast video hardware.</p>

<p style="margin-left:22%;"><b>chroma-deint</b></p>

<p style="margin-left:32%;">Makes temporal deinterlacers
operate both on luma and chroma (default). Use
no-chroma-deint to solely use luma and speed up advanced
deinterlacing. Useful with slow video memory.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>pullup</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>Try to apply inverse telecine, needs motion adaptive
temporal deinterlacing.</p></td></tr>
</table>


<p style="margin-left:22%;"><b>interlaced-only=&lt;yes|no&gt;</b></p>

<p style="margin-left:32%;">If <b>yes</b>, only deinterlace
frames marked as interlaced (default: no).</p>


<p style="margin-left:22%;"><b>hqscaling=&lt;0-9&gt;</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="32%"></td>
<td width="5%">


<p><b>0</b></p></td>
<td width="6%"></td>
<td width="57%">


<p>Use default VDPAU scaling (default).</p></td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="5%">


<p><b>1-9</b></p></td>
<td width="6%"></td>
<td width="57%">


<p>Apply high quality VDPAU scaling (needs capable
hardware).</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>d3d11vpp</b></p>

<p style="margin-left:22%;">Direct3D 11 video post
processing. Currently requires D3D11 hardware decoding for
use. <b><br>
deint=&lt;yes|no&gt;</b></p>

<p style="margin-left:32%;">Whether deinterlacing is
enabled (default: no).</p>


<p style="margin-left:22%;"><b>interlaced-only=&lt;yes|no&gt;</b></p>

<p style="margin-left:32%;">If <b>yes</b>, only deinterlace
frames marked as interlaced (default: no).</p>


<p style="margin-left:22%;"><b>mode=&lt;blend|bob|adaptive|mocomp|ivctc|none&gt;</b></p>

<p style="margin-left:32%;">Tries to select a video
processor with the given processing capability. If a video
processor supports multiple capabilities, it is not clear
which algorithm is actually selected. <b>none</b> always
falls back. On most if not all hardware, this option will
probably do nothing, because a video processor usually
supports all modes or none.</p>

<p style="margin-left:11%;"><b>fingerprint=...</b></p>

<p style="margin-left:22%;">Compute video frame
fingerprints and provide them as metadata. Actually, it
currently barely deserved to be called <b>fingerprint</b>,
because it does not compute &quot;proper&quot; fingerprints,
only tiny downscaled images (but which can be used to
compute image hashes or for similarity matching).</p>

<p style="margin-left:22%; margin-top: 1em">The main
purpose of this filter is to support the
<b>skip-logo.lua</b> script. If this script is dropped, or
mpv ever gains a way to load user-defined filters (other
than VapourSynth), this filter will be removed. Due to the
&quot;special&quot; nature of this filter, it will be
removed without warning.</p>

<p style="margin-left:22%; margin-top: 1em">The intended
way to read from the filter is using <b>vf-metadata</b>
(also see <b>clear-on-query</b> filter parameter). The
property will return a list of key/value pairs as
follows:</p>

<pre style="margin-left:26%; margin-top: 1em">fp0.pts = 1.2345
fp0.hex = 1234abcdef...bcde
fp1.pts = 1.4567
fp1.hex = abcdef1234...6789
...
fpN.pts = ...
fpN.hex = ...
type = gray-hex-16x16</pre>


<p style="margin-left:22%; margin-top: 1em">Each
<b>fp&lt;N&gt;</b> entry is for a frame. The <b>pts</b>
entry specifies the timestamp of the frame (within the
filter chain; in simple cases this is the same as the
display timestamp). The <b>hex</b> field is the hex encoded
fingerprint, whose size and meaning depend on the
<b>type</b> filter option. The <b>type</b> field has the
same value as the option the filter was created with.</p>

<p style="margin-left:22%; margin-top: 1em">This returns
the frames that were filtered since the last query of the
property. If <b>clear-on-query=no</b> was set, a query
doesn't reset the list of frames. In both cases, a maximum
of 10 frames is returned. If there are more frames, the
oldest frames are discarded. Frames are returned in filter
order.</p>

<p style="margin-left:22%; margin-top: 1em">(This doesn't
return a structured list for the per-frame details because
the internals of the <b>vf-metadata</b> mechanism suck. The
returned format may change in the future.)</p>

<p style="margin-left:22%; margin-top: 1em">This filter
uses zimg for speed and profit. However, it will fallback to
libswscale in a number of situations: lesser pixel formats,
unaligned data pointers or strides, or if zimg fails to
initialize for unknown reasons. In these cases, the filter
will use more CPU. Also, it will output different
fingerprints, because libswscale cannot perform the full
range expansion we normally request from zimg. As a
consequence, the filter may be slower and not work correctly
in random situations. <b><br>
type=...</b></p>

<p style="margin-left:32%;">What fingerprint to compute.
Available types are: <b><br>
gray-hex-8x8</b></p>

<p style="margin-left:43%;">grayscale, 8 bit, 8x8 size</p>

<p style="margin-left:32%;"><b>gray-hex-16x16</b></p>

<p style="margin-left:43%;">grayscale, 8 bit, 16x16 size
(default)</p>

<p style="margin-left:32%; margin-top: 1em">Both types
simply remove all colors, downscale the image, concatenate
all pixel values to a byte array, and convert the array to a
hex string.</p>


<p style="margin-left:22%;"><b>clear-on-query=yes|no</b></p>

<p style="margin-left:32%;">Clear the list of frame
fingerprints if the <b>vf-metadata</b> property for this
filter is queried (default: yes). This requires some care by
the user. Some types of accesses might query the filter
multiple times, which leads to lost frames.</p>

<p style="margin-left:22%;"><b>print=yes|no</b></p>

<p style="margin-left:32%;">Print computed fingerprints the
the terminal (default: no). This is mostly for testing and
such. Scripts should use <b>vf-metadata</b> to read
information from this filter instead.</p>

<p style="margin-left:11%;"><b>gpu=...</b></p>

<p style="margin-left:22%;">Convert video to RGB using the
OpenGL renderer normally used with <b>--vo=gpu</b>. This
requires that the EGL implementation supports off-screen
rendering on the default display. (This is the case with
Mesa.)</p>

<p style="margin-left:22%; margin-top: 1em">Sub-options:
<b><br>
w=&lt;pixels&gt;, h=&lt;pixels&gt;</b></p>

<p style="margin-left:32%;">Size of the output in pixels
(default: 0). If not positive, this will use the size of the
first filtered input frame.</p>


<p style="margin-left:22%; margin-top: 1em"><b>WARNING:</b></p>

<p style="margin-left:26%;">This is highly experimental.
Performance is bad, and it will not work everywhere in the
first place. Some features are not supported.</p>


<p style="margin-left:22%; margin-top: 1em"><b>WARNING:</b></p>

<p style="margin-left:26%;">This does not do OSD rendering.
If you see OSD, then it has been rendered by the VO backend.
(Subtitles are rendered by the <b>gpu</b> filter, if
possible.)</p>


<p style="margin-left:22%; margin-top: 1em"><b>WARNING:</b></p>

<p style="margin-left:26%;">If you use this with encoding
mode, keep in mind that encoding mode will convert the RGB
filter's output back to yuv420p in software, using the
configured software scaler. Using <b>zimg</b> might improve
this, but in any case it might go against your goals when
using this filter.</p>


<p style="margin-left:22%; margin-top: 1em"><b>WARNING:</b></p>

<p style="margin-left:26%;">Do not use this with
<b>--vo=gpu</b>. It will apply filtering twice, since most
<b>--vo=gpu</b> options are unconditionally applied to the
<b>gpu</b> filter. There is no mechanism in mpv to prevent
this.</p>

<h2>ENCODING
<a name="ENCODING"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">You can encode
files from one format/codec to another using this facility.
<b><br>
--o=&lt;filename&gt;</b></p>

<p style="margin-left:22%;">Enables encoding mode and
specifies the output file name.</p>

<p style="margin-left:11%;"><b>--of=&lt;format&gt;</b></p>

<p style="margin-left:22%;">Specifies the output format
(overrides autodetection by the file name extension of the
file specified by <b>-o</b>). See <b>--of=help</b> for a
full list of supported formats.</p>


<p style="margin-left:11%;"><b>--ofopts=&lt;options&gt;</b></p>

<p style="margin-left:22%;">Specifies the output format
options for libavformat. See <b>--ofopts=help</b> for a full
list of supported options.</p>

<p style="margin-left:22%; margin-top: 1em">This is a
key/value list option. See <i>List Options</i> for details.
<b><br>
--ofopts-add=&lt;option&gt;</b></p>

<p style="margin-left:32%;">Appends the option given as an
argument to the options list. (Passing multiple options is
currently still possible, but deprecated.)</p>


<p style="margin-left:22%;"><b>--ofopts=&quot;&quot;</b></p>

<p style="margin-left:32%;">Completely empties the options
list.</p>

<p style="margin-left:11%;"><b>--oac=&lt;codec&gt;</b></p>

<p style="margin-left:22%;">Specifies the output audio
codec. See <b>--oac=help</b> for a full list of supported
codecs.</p>


<p style="margin-left:11%;"><b>--oaoffset=&lt;value&gt;</b></p>

<p style="margin-left:22%;">Shifts audio data by the given
time (in seconds) by adding/removing samples at the start.
Deprecated.</p>


<p style="margin-left:11%;"><b>--oacopts=&lt;options&gt;</b></p>

<p style="margin-left:22%;">Specifies the output audio
codec options for libavcodec. See <b>--oacopts=help</b> for
a full list of supported options.</p>

<p style="margin-left:26%;">Example <b><br>
--oac=libmp3lame --oacopts=b=128000</b></p>

<p style="margin-left:37%;">selects 128 kbps MP3
encoding.</p>

<p style="margin-left:22%; margin-top: 1em">This is a
key/value list option. See <i>List Options</i> for details.
<b><br>
--oacopts-add=&lt;option&gt;</b></p>

<p style="margin-left:32%;">Appends the option given as an
argument to the options list. (Passing multiple options is
currently still possible, but deprecated.)</p>


<p style="margin-left:22%;"><b>--oacopts=&quot;&quot;</b></p>

<p style="margin-left:32%;">Completely empties the options
list.</p>

<p style="margin-left:11%;"><b>--oafirst</b></p>

<p style="margin-left:22%;">Force the audio stream to
become the first stream in the output. By default, the order
is unspecified. Deprecated.</p>

<p style="margin-left:11%;"><b>--ovc=&lt;codec&gt;</b></p>

<p style="margin-left:22%;">Specifies the output video
codec. See <b>--ovc=help</b> for a full list of supported
codecs.</p>


<p style="margin-left:11%;"><b>--ovoffset=&lt;value&gt;</b></p>

<p style="margin-left:22%;">Shifts video data by the given
time (in seconds) by shifting the pts values.
Deprecated.</p>


<p style="margin-left:11%;"><b>--ovcopts=&lt;options&gt;</b></p>

<p style="margin-left:22%;">Specifies the output video
codec options for libavcodec. See --ovcopts=help for a full
list of supported options.</p>

<p style="margin-left:26%;">Examples <b><br>
&quot;--ovc=mpeg4 --ovcopts=qscale=5&quot;</b></p>

<p style="margin-left:37%;">selects constant quantizer
scale 5 for MPEG-4 encoding.</p>

<p style="margin-left:26%;"><b>&quot;--ovc=libx264
--ovcopts=crf=23&quot;</b></p>

<p style="margin-left:37%;">selects VBR quality factor 23
for H.264 encoding.</p>

<p style="margin-left:22%; margin-top: 1em">This is a
key/value list option. See <i>List Options</i> for details.
<b><br>
--ovcopts-add=&lt;option&gt;</b></p>

<p style="margin-left:32%;">Appends the option given as an
argument to the options list. (Passing multiple options is
currently still possible, but deprecated.)</p>


<p style="margin-left:22%;"><b>--ovcopts=&quot;&quot;</b></p>

<p style="margin-left:32%;">Completely empties the options
list.</p>

<p style="margin-left:11%;"><b>--ovfirst</b></p>

<p style="margin-left:22%;">Force the video stream to
become the first stream in the output. By default, the order
is unspecified. Deprecated.</p>

<p style="margin-left:11%;"><b>--orawts</b></p>

<p style="margin-left:22%;">Copies input pts to the output
video (not supported by some output container formats, e.g.
AVI). In this mode, discontinuities are not fixed and all
pts are passed through as-is. Never seek backwards or use
multiple input files in this mode!</p>

<p style="margin-left:11%;"><b>--no-ocopy-metadata</b></p>

<p style="margin-left:22%;">Turns off copying of metadata
from input files to output files when encoding (which is
enabled by default).</p>


<p style="margin-left:11%;"><b>--oset-metadata=&lt;metadata-tag[,metadata-tag,...]&gt;</b></p>

<p style="margin-left:22%;">Specifies metadata to include
in the output file. Supported keys vary between output
formats. For example, Matroska (MKV) and FLAC allow almost
arbitrary keys, while support in MP4 and MP3 is more
limited.</p>

<p style="margin-left:22%; margin-top: 1em">This is a
key/value list option. See <i>List Options</i> for
details.</p>

<p style="margin-left:26%;">Example <b><br>
--oset-metadata=title= Output
title&quot;,comment=&quot;Another tag&quot;&quot;</b></p>

<p style="margin-left:37%;">adds a title and a comment to
the output file.</p>


<p style="margin-left:11%;"><b>--oremove-metadata=&lt;metadata-tag[,metadata-tag,...]&gt;</b></p>

<p style="margin-left:22%;">Specifies metadata to exclude
from the output file when copying from the input file.</p>

<p style="margin-left:22%; margin-top: 1em">This is a
string list option. See <i>List Options</i> for details.</p>

<p style="margin-left:26%;">Example <b><br>
--oremove-metadata=comment,genre</b></p>

<p style="margin-left:37%;">excludes copying of the the
comment and genre tags to the output file.</p>

<h2>COMMAND INTERFACE
<a name="COMMAND INTERFACE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The mpv core
can be controlled with commands and properties. A number of
ways to interact with the player use them: key bindings
(<b>input.conf</b>), OSD (showing information with
properties), JSON IPC, the client API (<b>libmpv</b>), and
the classic slave mode.</p>


<p style="margin-left:11%; margin-top: 1em"><b>input.conf</b>
<br>
The input.conf file consists of a list of key bindings, for
example:</p>

<pre style="margin-left:15%; margin-top: 1em">s screenshot      # take a screenshot with the s key
LEFT seek 15      # map the left-arrow key to seeking forward by 15 seconds</pre>


<p style="margin-left:11%; margin-top: 1em">Each line maps
a key to an input command. Keys are specified with their
literal value (upper case if combined with <b>Shift</b>), or
a name for special keys. For example, <b>a</b> maps to the
<b>a</b> key without shift, and <b>A</b> maps to <b>a</b>
with shift.</p>

<p style="margin-left:11%; margin-top: 1em">The file is
located in the mpv configuration directory (normally at
<b>~/.config/mpv/input.conf</b> depending on platform). The
default bindings are defined here:</p>

<pre style="margin-left:15%; margin-top: 1em">https://github.com/mpv-player/mpv/blob/master/etc/input.conf</pre>


<p style="margin-left:11%; margin-top: 1em">A list of
special keys can be obtained with</p>

<p style="margin-left:15%;"><b>mpv --input-keylist</b></p>

<p style="margin-left:11%; margin-top: 1em">In general,
keys can be combined with <b>Shift</b>, <b>Ctrl</b> and
<b>Alt</b>:</p>

<pre style="margin-left:15%; margin-top: 1em">ctrl+q quit</pre>


<p style="margin-left:11%; margin-top: 1em"><b>mpv</b> can
be started in input test mode, which displays key bindings
and the commands they're bound to on the OSD, instead of
executing the commands:</p>

<pre style="margin-left:15%; margin-top: 1em">mpv --input-test --force-window --idle</pre>


<p style="margin-left:11%; margin-top: 1em">(Only closing
the window will make <b>mpv</b> exit, pressing normal keys
will merely display the binding, even if mapped to
quit.)</p>

<p style="margin-left:11%; margin-top: 1em">Also see <i>Key
names</i>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>input.conf
syntax <br>
[Shift+][Ctrl+][Alt+][Meta+]&lt;key&gt; [{&lt;section&gt;}]
&lt;command&gt; ( ; &lt;command&gt; )*</b></p>

<p style="margin-left:11%; margin-top: 1em">Note that by
default, the right Alt key can be used to create special
characters, and thus does not register as a modifier. The
option <b>--no-input-right-alt-gr</b> changes this
behavior.</p>

<p style="margin-left:11%; margin-top: 1em">Newlines always
start a new binding. <b>#</b> starts a comment (outside of
quoted string arguments). To bind commands to the <b>#</b>
key, <b>SHARP</b> can be used.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&lt;key&gt;</b>
is either the literal character the key produces (ASCII or
Unicode character), or a symbolic name (as printed by
<b>--input-keylist</b>).</p>


<p style="margin-left:11%; margin-top: 1em"><b>&lt;section&gt;</b>
(braced with <b>{</b> and <b>}</b>) is the input section for
this command.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&lt;command&gt;</b>
is the command itself. It consists of the command name and
multiple (or none) commands, all separated by whitespace.
String arguments need to be quoted with <b>&quot;</b>.
Details see <b>Flat command syntax</b>.</p>

<p style="margin-left:11%; margin-top: 1em">You can bind
multiple commands to one key. For example: <br>
a show-text &quot;command 1&quot; ; show-text &quot;command
2&quot;</p>

<p style="margin-left:11%; margin-top: 1em">It's also
possible to bind a command to a sequence of keys: <br>
a-b-c show-text &quot;command run after a, b, c have been
pressed&quot;</p>

<p style="margin-left:11%; margin-top: 1em">(This is not
shown in the general command syntax.)</p>

<p style="margin-left:11%; margin-top: 1em">If <b>a</b> or
<b>a-b</b> or <b>b</b> are already bound, this will run the
first command that matches, and the multi-key command will
never be called. Intermediate keys can be remapped to
<b>ignore</b> in order to avoid this issue. The maximum
number of (non-modifier) keys for combinations is currently
4.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Key
names</b> <br>
All mouse and keyboard input is to converted to mpv-specific
key names. Key names are either special symbolic identifiers
representing a physical key, or a text key names, which are
unicode code points encoded as UTF-8. These are what
keyboard input would normally produce, for example <b>a</b>
for the A key. As a consequence, mpv uses input translated
by the current OS keyboard layout, rather than physical scan
codes.</p>

<p style="margin-left:11%; margin-top: 1em">Currently there
is the hardcoded assumption that every text key can be
represented as a single unicode code point (in NFKC
form).</p>

<p style="margin-left:11%; margin-top: 1em">All key names
can be combined with the modifiers <b>Shift</b>,
<b>Ctrl</b>, <b>Alt</b>, <b>Meta</b>. They must be prefixed
to the actual key name, where each modifier is followed by a
<b>+</b> (for example <b>ctrl+q</b>).</p>

<p style="margin-left:11%; margin-top: 1em">Symbolic key
names and modifier names are case-insensitive. Unicode key
names are case-sensitive because input bindings typically
respect the shift key.</p>

<p style="margin-left:11%; margin-top: 1em">Another type of
key names are hexadecimal key names, that serve as fallback
for special keys that are neither unicode, nor have a
special mpv defined name. They will break as soon as mpv
adds proper names for them, but can enable you to use a key
at all if that does not happen.</p>

<p style="margin-left:11%; margin-top: 1em">All symbolic
names are listed by <b>--input-keylist</b>.
<b>--input-test</b> is a special mode that prints all input
on the OSD.</p>

<p style="margin-left:11%; margin-top: 1em">Comments on
some symbolic names:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>KP*</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>Keypad names. Behavior varies by backend (whether they
implement this, and on how they treat numlock), but
typically, mpv tries to map keys on the keypad to separate
names, even if they produce the same text as normal
keys.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>MOUSE_BTN*, MBTN*</b></p>

<p style="margin-left:22%;">Various mouse buttons.</p>

<p style="margin-left:22%; margin-top: 1em">Depending on
backend, the mouse wheel might also be represented as a
button. In addition, <b>MOUSE_BTN3</b> to <b>MOUSE_BTN6</b>
are deprecated aliases for <b>WHEEL_UP</b>,
<b>WHEEL_DOWN</b>, <b>WHEEL_LEFT</b>,
<b>WHEEL_RIGHT</b>.</p>

<p style="margin-left:22%; margin-top: 1em"><b>MBTN*</b>
are aliases for <b>MOUSE_BTN*</b>.</p>

<p style="margin-left:11%;"><b>WHEEL_*</b></p>

<p style="margin-left:22%;">Mouse wheels (typically).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>AXIS_*</b></p></td>
<td width="2%"></td>
<td width="47%">


<p>Deprecated aliases for <b>WHEEL_*</b>.</p></td>
<td width="31%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>*_DBL</b></p></td>
<td width="2%"></td>
<td width="47%">


<p>Mouse button double clicks.</p></td>
<td width="31%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>MOUSE_MOVE, MOUSE_ENTER,
MOUSE_LEAVE</b></p>

<p style="margin-left:22%;">Emitted by mouse move events.
Enter/leave happens when the mouse enters or leave the mpv
window (or the current mouse region, using the deprecated
mouse region input section mechanism).</p>

<p style="margin-left:11%;"><b>CLOSE_WIN</b></p>

<p style="margin-left:22%;">Pseudo key emitted when closing
the mpv window using the OS window manager (for example, by
clicking the close button in the window title bar).</p>

<p style="margin-left:11%;"><b>GAMEPAD_*</b></p>

<p style="margin-left:22%;">Keys emitted by the SDL gamepad
backend.</p>

<p style="margin-left:11%;"><b>UNMAPPED</b></p>

<p style="margin-left:22%;">Pseudo-key that matches any
unmapped key. (You should probably avoid this if possible,
because it might change behavior or get removed in the
future.)</p>

<p style="margin-left:11%;"><b>ANY_UNICODE</b></p>

<p style="margin-left:22%;">Pseudo-key that matches any key
that produces text. (You should probably avoid this if
possible, because it might change behavior or get removed in
the future.)</p>

<p style="margin-left:11%; margin-top: 1em"><b>Flat command
syntax</b> <br>
This is the syntax used in input.conf, and referred to
&quot;input.conf syntax&quot; in a number of other
places.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&lt;command&gt;
::= [&lt;prefixes&gt;] &lt;command_name&gt;
(&lt;argument&gt;)* &lt;argument&gt; ::= (&lt;string&gt; |
&quot; &lt;quoted_string&gt; &quot; )</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>command_name</b>
is an unquoted string with the command name itself. See
<i>List of Input Commands</i> for a list.</p>

<p style="margin-left:11%; margin-top: 1em">Arguments are
separated by whitespace. This applies even to string
arguments. For this reason, string arguments should be
quoted with <b>&quot;</b>. If a string argument contains
spaces or certain special characters, quoting and possibly
escaping is mandatory, or the command cannot be parsed
correctly.</p>

<p style="margin-left:11%; margin-top: 1em">Inside quotes,
C-style escaping can be used. JSON escapes according to RFC
8259, minus surrogate pair escapes, should be a safe subset
that can be used.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Commands
specified as arrays</b> <br>
This applies to certain APIs, such as <b>mp.commandv()</b>
or <b>mp.command_native()</b> (with array parameters) in Lua
scripting, or <b>mpv_command()</b> or
<b>mpv_command_node()</b> (with MPV_FORMAT_NODE_ARRAY) in
the C libmpv client API.</p>

<p style="margin-left:11%; margin-top: 1em">The command as
well as all arguments are passed as a single array. Similar
to the <i>Flat command syntax</i>, you can first pass
prefixes as strings (each as separate array item), then the
command name as string, and then each argument as string or
a native value.</p>

<p style="margin-left:11%; margin-top: 1em">Since these
APIs pass arguments as separate strings or native values,
they do not expect quotes, and do support escaping.
Technically, there is the input.conf parser, which first
splits the command string into arguments, and then invokes
argument parsers for each argument. The input.conf parser
normally handles quotes and escaping. The array command APIs
mentioned above pass strings directly to the argument
parsers, or can sidestep them by the ability to pass
non-string values.</p>

<p style="margin-left:11%; margin-top: 1em">Sometimes
commands have string arguments, that in turn are actually
parsed by other components (e.g. filter strings with <b>vf
add</b>) - in these cases, you you would have to
double-escape in input.conf, but not with the array
APIs.</p>

<p style="margin-left:11%; margin-top: 1em">For complex
commands, consider using <i>Named arguments</i> instead,
which should give slightly more compatibility. Some commands
do not support named arguments and inherently take an array,
though.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Named
arguments</b> <br>
This applies to certain APIs, such as
<b>mp.command_native()</b> (with tables that have string
keys) in Lua scripting, or <b>mpv_command_node()</b> (with
MPV_FORMAT_NODE_MAP) in the C libmpv client API.</p>

<p style="margin-left:11%; margin-top: 1em">Like with array
commands, quoting and escaping is inherently not needed in
the normal case.</p>

<p style="margin-left:11%; margin-top: 1em">The name of
each command is defined in each command description in the
<i>List of Input Commands</i>. <b>--input-cmdlist</b> also
lists them.</p>

<p style="margin-left:11%; margin-top: 1em">Some commands
do not support named arguments (e.g. <b>run</b> command).
You need to use APIs that pass arguments as arrays.</p>

<p style="margin-left:11%; margin-top: 1em">Named arguments
are not supported in the &quot;flat&quot; input.conf syntax,
which means you cannot use them for key bindings in
input.conf at all.</p>

<p style="margin-left:11%; margin-top: 1em"><b>List of
Input Commands</b> <br>
Commands with parameters have the parameter name enclosed in
<b>&lt;</b> / <b>&gt;</b>. Don't add those to the actual
command. Optional arguments are enclosed in <b>[</b> /
<b>]</b>. If you don't pass them, they will be set to a
default value.</p>

<p style="margin-left:11%; margin-top: 1em">Remember to
quote string arguments in input.conf (see <i>Flat command
syntax</i>).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>ignore</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Use this to &quot;block&quot; keys that should be
unbound, and do nothing. Useful for disabling default
bindings, without disabling all bindings with
<b>--no-input-default-bindings</b>.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>seek &lt;target&gt;
[&lt;flags&gt;]</b></p>

<p style="margin-left:22%;">Change the playback position.
By default, seeks by a relative amount of seconds.</p>

<p style="margin-left:22%; margin-top: 1em">The second
argument consists of flags controlling the seek mode:
<b><br>
relative (default)</b></p>

<p style="margin-left:32%;">Seek relative to current
position (a negative value seeks backwards).</p>

<p style="margin-left:22%;"><b>absolute</b></p>

<p style="margin-left:32%;">Seek to a given time (a
negative value starts from the end of the file).</p>

<p style="margin-left:22%;"><b>absolute-percent</b></p>

<p style="margin-left:32%;">Seek to a given percent
position.</p>

<p style="margin-left:22%;"><b>relative-percent</b></p>

<p style="margin-left:32%;">Seek relative to current
position in percent.</p>

<p style="margin-left:22%;"><b>keyframes</b></p>

<p style="margin-left:32%;">Always restart playback at
keyframe boundaries (fast).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>exact</b></p></td>
<td width="3%"></td>
<td width="62%">


<p>Always do exact/hr/precise seeks (slow).</p></td>
<td width="6%">
</td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">Multiple flags
can be combined, e.g.: <b>absolute+keyframes</b>.</p>

<p style="margin-left:22%; margin-top: 1em">By default,
<b>keyframes</b> is used for <b>relative</b>,
<b>relative-percent</b>, and <b>absolute-percent</b> seeks,
while <b>exact</b> is used for <b>absolute</b> seeks.</p>

<p style="margin-left:22%; margin-top: 1em">Before mpv 0.9,
the <b>keyframes</b> and <b>exact</b> flags had to be passed
as 3rd parameter (essentially using a space instead of
<b>+</b>). The 3rd parameter is still parsed, but is
considered deprecated.</p>

<p style="margin-left:11%;"><b>revert-seek
[&lt;flags&gt;]</b></p>

<p style="margin-left:22%;">Undoes the <b>seek</b> command,
and some other commands that seek (but not necessarily all
of them). Calling this command once will jump to the
playback position before the seek. Calling it a second time
undoes the <b>revert-seek</b> command itself. This only
works within a single file.</p>

<p style="margin-left:22%; margin-top: 1em">The first
argument is optional, and can change the behavior:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p><b>mark</b></p></td>
<td width="4%"></td>
<td width="68%">


<p>Mark the current time position. The next normal
<b>revert-seek</b> command will seek back to this point, no
matter how many seeks happened since last time.</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">Using it
without any arguments gives you the default behavior.</p>

<p style="margin-left:11%;"><b>frame-step</b></p>

<p style="margin-left:22%;">Play one frame, then pause.
Does nothing with audio-only playback.</p>

<p style="margin-left:11%;"><b>frame-back-step</b></p>

<p style="margin-left:22%;">Go back by one frame, then
pause. Note that this can be very slow (it tries to be
precise, not fast), and sometimes fails to behave as
expected. How well this works depends on whether precise
seeking works correctly (e.g. see the
<b>--hr-seek-demuxer-offset</b> option). Video filters or
other video post-processing that modifies timing of frames
(e.g. deinterlacing) should usually work, but might make
backstepping silently behave incorrectly in corner cases.
Using <b>--hr-seek-framedrop=no</b> should help, although it
might make precise seeking slower.</p>

<p style="margin-left:22%; margin-top: 1em">This does not
work with audio-only playback.</p>

<p style="margin-left:11%;"><b>set &lt;name&gt;
&lt;value&gt;</b></p>

<p style="margin-left:22%;">Set the given property or
option to the given value.</p>

<p style="margin-left:11%;"><b>add &lt;name&gt;
[&lt;value&gt;]</b></p>

<p style="margin-left:22%;">Add the given value to the
property or option. On overflow or underflow, clamp the
property to the maximum. If <b>&lt;value&gt;</b> is omitted,
assume <b>1</b>.</p>

<p style="margin-left:11%;"><b>cycle &lt;name&gt;
[&lt;value&gt;]</b></p>

<p style="margin-left:22%;">Cycle the given property or
option. The second argument can be <b>up</b> or <b>down</b>
to set the cycle direction. On overflow, set the property
back to the minimum, on underflow set it to the maximum. If
<b>up</b> or <b>down</b> is omitted, assume <b>up</b>.</p>

<p style="margin-left:11%;"><b>multiply &lt;name&gt;
&lt;value&gt;</b></p>

<p style="margin-left:22%;">Similar to <b>add</b>, but
multiplies the property or option with the numeric
value.</p>

<p style="margin-left:11%;"><b>screenshot
&lt;flags&gt;</b></p>

<p style="margin-left:22%;">Take a screenshot.</p>

<p style="margin-left:22%; margin-top: 1em">Multiple flags
are available (some can be combined with <b>+</b>): <b><br>
&lt;subtitles&gt; (default)</b></p>

<p style="margin-left:32%;">Save the video image, in its
original resolution, and with subtitles. Some video outputs
may still include the OSD in the output under certain
circumstances.</p>

<p style="margin-left:22%;"><b>&lt;video&gt;</b></p>

<p style="margin-left:32%;">Like <b>subtitles</b>, but
typically without OSD or subtitles. The exact behavior
depends on the selected video output.</p>

<p style="margin-left:22%;"><b>&lt;window&gt;</b></p>

<p style="margin-left:32%;">Save the contents of the mpv
window. Typically scaled, with OSD and subtitles. The exact
behavior depends on the selected video output, and if no
support is available, this will act like <b>video</b>.</p>

<p style="margin-left:22%;"><b>&lt;each-frame&gt;</b></p>

<p style="margin-left:32%;">Take a screenshot each frame.
Issue this command again to stop taking screenshots. Note
that you should disable frame-dropping when using this mode
- or you might receive duplicate images in cases when a
frame was dropped. This flag can be combined with the other
flags, e.g. <b>video+each-frame</b>.</p>

<p style="margin-left:22%; margin-top: 1em">Older mpv
versions required passing <b>single</b> and
<b>each-frame</b> as second argument (and did not have
flags). This syntax is still understood, but deprecated and
might be removed in the future.</p>

<p style="margin-left:22%; margin-top: 1em">If you combine
this command with another one using <b>;</b>, you can use
the <b>async</b> flag to make encoding/writing the image
file asynchronous. For normal standalone commands, this is
always asynchronous, and the flag has no effect. (This
behavior changed with mpv 0.29.0.)</p>

<p style="margin-left:11%;"><b>screenshot-to-file
&lt;filename&gt; &lt;flags&gt;</b></p>

<p style="margin-left:22%;">Take a screenshot and save it
to a given file. The format of the file will be guessed by
the extension (and <b>--screenshot-format</b> is ignored -
the behavior when the extension is missing or unknown is
arbitrary).</p>

<p style="margin-left:22%; margin-top: 1em">The second
argument is like the first argument to <b>screenshot</b> and
supports <b>subtitles</b>, <b>video</b>, <b>window</b>.</p>

<p style="margin-left:22%; margin-top: 1em">If the file
already exists, it's overwritten.</p>

<p style="margin-left:22%; margin-top: 1em">Like all input
command parameters, the filename is subject to property
expansion as described in <i>Property Expansion</i>.</p>

<p style="margin-left:11%;"><b>playlist-next
&lt;flags&gt;</b></p>

<p style="margin-left:22%;">Go to the next entry on the
playlist.</p>

<p style="margin-left:22%; margin-top: 1em">First argument:
<b><br>
weak (default)</b></p>

<p style="margin-left:32%;">If the last file on the
playlist is currently played, do nothing.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>force</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>Terminate playback if there are no more files on the
playlist.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>playlist-prev
&lt;flags&gt;</b></p>

<p style="margin-left:22%;">Go to the previous entry on the
playlist.</p>

<p style="margin-left:22%; margin-top: 1em">First argument:
<b><br>
weak (default)</b></p>

<p style="margin-left:32%;">If the first file on the
playlist is currently played, do nothing.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>force</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>Terminate playback if the first file is being
played.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>loadfile &lt;url&gt;
[&lt;flags&gt; [&lt;options&gt;]]</b></p>

<p style="margin-left:22%;">Load the given file or URL and
play it.</p>

<p style="margin-left:22%; margin-top: 1em">Second
argument: <b><br>
&lt;replace&gt; (default)</b></p>

<p style="margin-left:32%;">Stop playback of the current
file, and play the new file immediately.</p>

<p style="margin-left:22%;"><b>&lt;append&gt;</b></p>

<p style="margin-left:32%;">Append the file to the
playlist.</p>

<p style="margin-left:22%;"><b>&lt;append-play&gt;</b></p>

<p style="margin-left:32%;">Append the file, and if nothing
is currently playing, start playback. (Always starts with
the added file, even if the playlist was not empty before
running this command.)</p>

<p style="margin-left:22%; margin-top: 1em">The third
argument is a list of options and values which should be set
while the file is playing. It is of the form
<b>opt1=value1,opt2=value2,..</b>. Not all options can be
changed this way. Some options require a restart of the
player.</p>

<p style="margin-left:11%;"><b>loadlist &lt;url&gt;
[&lt;flags&gt;]</b></p>

<p style="margin-left:22%;">Load the given playlist file or
URL (like <b>--playlist</b>).</p>

<p style="margin-left:22%; margin-top: 1em">Second
argument: <b><br>
&lt;replace&gt; (default)</b></p>

<p style="margin-left:32%;">Stop playback and replace the
internal playlist with the new one.</p>

<p style="margin-left:22%;"><b>&lt;append&gt;</b></p>

<p style="margin-left:32%;">Append the new playlist at the
end of the current internal playlist.</p>

<p style="margin-left:11%;"><b>playlist-clear</b></p>

<p style="margin-left:22%;">Clear the playlist, except the
currently played file.</p>

<p style="margin-left:11%;"><b>playlist-remove
&lt;index&gt;</b></p>

<p style="margin-left:22%;">Remove the playlist entry at
the given index. Index values start counting with 0. The
special value <b>current</b> removes the current entry. Note
that removing the current entry also stops playback and
starts playing the next entry.</p>

<p style="margin-left:11%;"><b>playlist-move &lt;index1&gt;
&lt;index2&gt;</b></p>

<p style="margin-left:22%;">Move the playlist entry at
index1, so that it takes the place of the entry index2.
(Paradoxically, the moved playlist entry will not have the
index value index2 after moving if index1 was lower than
index2, because index2 refers to the target entry, not the
index the entry will have after moving.)</p>

<p style="margin-left:11%;"><b>playlist-shuffle</b></p>

<p style="margin-left:22%;">Shuffle the playlist. This is
similar to what is done on start if the <b>--shuffle</b>
option is used.</p>

<p style="margin-left:11%;"><b>playlist-unshuffle</b></p>

<p style="margin-left:22%;">Attempt to revert the previous
<b>playlist-shuffle</b> command. This works only once
(multiple successive <b>playlist-unshuffle</b> commands do
nothing). May not work correctly if new recursive playlists
have been opened since a <b>playlist-shuffle</b>
command.</p>

<p style="margin-left:11%;"><b>run &lt;command&gt;
[&lt;arg1&gt; [&lt;arg2&gt; [...]]]</b></p>

<p style="margin-left:22%;">Run the given command. Unlike
in MPlayer/mplayer2 and earlier versions of mpv (0.2.x and
older), this doesn't call the shell. Instead, the command is
run directly, with each argument passed separately. Each
argument is expanded like in <i>Property Expansion</i>.</p>

<p style="margin-left:22%; margin-top: 1em">This command
has a variable number of arguments, and cannot be used with
named arguments.</p>

<p style="margin-left:22%; margin-top: 1em">The program is
run in a detached way. mpv doesn't wait until the command is
completed, but continues playback right after spawning
it.</p>

<p style="margin-left:22%; margin-top: 1em">To get the old
behavior, use <b>/bin/sh</b> and <b>-c</b> as the first two
arguments.</p>

<p style="margin-left:26%;">Example</p>

<p style="margin-left:37%; margin-top: 1em"><b>run
&quot;/bin/sh&quot; &quot;-c&quot; &quot;echo ${title} &gt;
/tmp/playing&quot;</b></p>

<p style="margin-left:37%; margin-top: 1em">This is not a
particularly good example, because it doesn't handle
escaping, and a specially prepared file might allow an
attacker to execute arbitrary shell commands. It is
recommended to write a small shell script, and call that
with <b>run</b>.</p>

<p style="margin-left:11%;"><b>subprocess</b></p>

<p style="margin-left:22%;">Similar to <b>run</b>, but
gives more control about process execution to the caller,
and does does not detach the process.</p>

<p style="margin-left:22%; margin-top: 1em">You can avoid
blocking until the process terminates by running this
command asynchronously. (For example
<b>mp.command_native_async()</b> in Lua scripting.)</p>

<p style="margin-left:22%; margin-top: 1em">This has the
following named arguments. The order of them is not
guaranteed, so you should always call them with named
arguments, see <i>Named arguments</i>. <b><br>
args (MPV_FORMAT_NODE_ARRAY[MPV_FORMAT_STRING])</b></p>

<p style="margin-left:32%;">Array of strings with the
command as first argument, and subsequent command line
arguments following. This is just like the <b>run</b>
command argument list.</p>

<p style="margin-left:32%; margin-top: 1em">The first array
entry is either an absolute path to the executable, or a
filename with no path components, in which case the
<b>PATH</b> environment variable. On Unix, this is
equivalent to <b>posix_spawnp</b> and <b>execvp</b>
behavior.</p>

<p style="margin-left:22%;"><b>playback_only
(MPV_FORMAT_FLAG)</b></p>

<p style="margin-left:32%;">Boolean indicating whether the
process should be killed when playback terminates (optional,
default: yes). If enabled, stopping playback will
automatically kill the process, and you can't start it
outside of playback.</p>

<p style="margin-left:22%;"><b>capture_size
(MPV_FORMAT_INT64)</b></p>

<p style="margin-left:32%;">Integer setting the maximum
number of stdout plus stderr bytes that can be captured
(optional, default: 64MB). If the number of bytes exceeds
this, capturing is stopped. The limit is per captured
stream.</p>

<p style="margin-left:22%;"><b>capture_stdout
(MPV_FORMAT_FLAG)</b></p>

<p style="margin-left:32%;">Capture all data the process
outputs to stdout and return it once the process ends
(optional, default: no).</p>

<p style="margin-left:22%;"><b>capture_stderr
(MPV_FORMAT_FLAG)</b></p>

<p style="margin-left:32%;">Same as <b>capture_stdout</b>,
but for stderr.</p>

<p style="margin-left:22%; margin-top: 1em">The command
returns the following result (as
<b>MPV_FORMAT_NODE_MAP</b>): <b><br>
status (MPV_FORMAT_INT64)</b></p>

<p style="margin-left:32%;">The raw exit status of the
process. It will be negative on error. The meaning of
negative values is undefined, other than meaning error (and
does not necessarily correspond to OS low level exit status
values).</p>

<p style="margin-left:32%; margin-top: 1em">On Windows, it
can happen that a negative return value is returned even if
the process exits gracefully, because the win32 <b>UINT</b>
exit code is assigned to an <b>int</b> variable before being
set as <b>int64_t</b> field in the result map. This might be
fixed later.</p>

<p style="margin-left:22%;"><b>stdout
(MPV_FORMAT_BYTE_ARRAY)</b></p>

<p style="margin-left:32%;">Captured stdout stream, limited
to <b>capture_size</b>.</p>

<p style="margin-left:22%;"><b>stderr
(MPV_FORMAT_BYTE_ARRAY)</b></p>

<p style="margin-left:32%;">Same as <b>stdout</b>, but for
stderr.</p>

<p style="margin-left:22%;"><b>error_string
(MPV_FORMAT_STRING)</b></p>

<p style="margin-left:32%;">Empty string if the process
exited gracefully. The string <b>killed</b> if the process
was terminated in an unusual way. The string <b>init</b> if
the process could not be started.</p>

<p style="margin-left:32%; margin-top: 1em">On Windows,
<b>killed</b> is only returned when the process has been
killed by mpv as a result of <b>playback_only</b> being set
to <b>yes</b>.</p>

<p style="margin-left:22%;"><b>killed_by_us
(MPV_FORMAT_FLAG)</b></p>

<p style="margin-left:32%;">Set to <b>yes</b> if the
process has been killed by mpv, for example as a result of
<b>playback_only</b> being set to <b>yes</b>, aborting the
command (e.g. by <b>mp.abort_async_command()</b>), or if the
player is about to exit.</p>

<p style="margin-left:22%; margin-top: 1em">Note that the
command itself will always return success as long as the
parameters are correct. Whether the process could be spawned
or whether it was somehow killed or returned an error status
has to be queried from the result value.</p>

<p style="margin-left:22%; margin-top: 1em">This command
can be asynchronously aborted via API.</p>

<p style="margin-left:22%; margin-top: 1em">In all cases,
the subprocess will be terminated on player exit. Also see
<i>Asynchronous command details</i>. Only the <b>run</b>
command can start processes in a truly detached way.</p>

<p style="margin-left:26%;">Warning</p>

<p style="margin-left:37%; margin-top: 1em">Don't forget to
set the <b>playback_only</b> field if you want the command
run while the player is in idle mode, or if you don't want
that end of playback kills the command.</p>

<p style="margin-left:11%;"><b>quit [&lt;code&gt;]</b></p>

<p style="margin-left:22%;">Exit the player. If an argument
is given, it's used as process exit code.</p>

<p style="margin-left:11%;"><b>quit-watch-later
[&lt;code&gt;]</b></p>

<p style="margin-left:22%;">Exit player, and store current
playback position. Playing that file later will seek to the
previous position on start. The (optional) argument is
exactly as in the <b>quit</b> command.</p>

<p style="margin-left:11%;"><b>sub-add &lt;url&gt;
[&lt;flags&gt; [&lt;title&gt; [&lt;lang&gt;]]]</b></p>

<p style="margin-left:22%;">Load the given subtitle file or
stream. By default, it is selected as current subtitle after
loading.</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>flags</b> argument is one of the following values:</p>


<p style="margin-left:22%; margin-top: 1em">&lt;select&gt;</p>

<p style="margin-left:26%;">Select the subtitle immediately
(default).</p>


<p style="margin-left:22%; margin-top: 1em">&lt;auto&gt;</p>

<p style="margin-left:26%;">Don't select the subtitle. (Or
in some special situations, let the default stream selection
mechanism decide.)</p>


<p style="margin-left:22%; margin-top: 1em">&lt;cached&gt;</p>

<p style="margin-left:26%;">Select the subtitle. If a
subtitle with the same filename was already added, that one
is selected, instead of loading a duplicate entry. (In this
case, title/language are ignored, and if the was changed
since it was loaded, these changes won't be reflected.)</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>title</b> argument sets the track title in the UI.</p>

<p style="margin-left:22%; margin-top: 1em">The <b>lang</b>
argument sets the track language, and can also influence
stream selection with <b>flags</b> set to <b>auto</b>.</p>

<p style="margin-left:11%;"><b>sub-remove
[&lt;id&gt;]</b></p>

<p style="margin-left:22%;">Remove the given subtitle
track. If the <b>id</b> argument is missing, remove the
current track. (Works on external subtitle files only.)</p>

<p style="margin-left:11%;"><b>sub-reload
[&lt;id&gt;]</b></p>

<p style="margin-left:22%;">Reload the given subtitle
tracks. If the <b>id</b> argument is missing, reload the
current track. (Works on external subtitle files only.)</p>

<p style="margin-left:22%; margin-top: 1em">This works by
unloading and re-adding the subtitle track.</p>

<p style="margin-left:11%;"><b>sub-step
&lt;skip&gt;</b></p>

<p style="margin-left:22%;">Change subtitle timing such,
that the subtitle event after the next <b>&lt;skip&gt;</b>
subtitle events is displayed. <b>&lt;skip&gt;</b> can be
negative to step backwards.</p>

<p style="margin-left:11%;"><b>sub-seek
&lt;skip&gt;</b></p>

<p style="margin-left:22%;">Seek to the next (skip set to
1) or the previous (skip set to -1) subtitle. This is
similar to <b>sub-step</b>, except that it seeks video and
audio instead of adjusting the subtitle delay.</p>

<p style="margin-left:22%; margin-top: 1em">For embedded
subtitles (like with Matroska), this works only with
subtitle events that have already been displayed, or are
within a short prefetch range.</p>

<p style="margin-left:11%;"><b>print-text
&lt;text&gt;</b></p>

<p style="margin-left:22%;">Print text to stdout. The
string can contain properties (see <i>Property
Expansion</i>). Take care to put the argument in quotes.</p>

<p style="margin-left:11%;"><b>show-text &lt;text&gt;
[&lt;duration&gt;|-1 [&lt;level&gt;]]</b></p>

<p style="margin-left:22%;">Show text on the OSD. The
string can contain properties, which are expanded as
described in <i>Property Expansion</i>. This can be used to
show playback time, filename, and so on. <b><br>
&lt;duration&gt;</b></p>

<p style="margin-left:32%;">The time in ms to show the
message for. By default, it uses the same value as
<b>--osd-duration</b>.</p>

<p style="margin-left:22%;"><b>&lt;level&gt;</b></p>

<p style="margin-left:32%;">The minimum OSD level to show
the text at (see <b>--osd-level</b>).</p>

<p style="margin-left:11%;"><b>expand-text
&lt;string&gt;</b></p>

<p style="margin-left:22%;">Property-expand the argument
and return the expanded string. This can be used only
through the client API or from a script using
<b>mp.command_native</b>. (see <i>Property
Expansion</i>).</p>

<p style="margin-left:11%;"><b>expand-path
&lt;string&gt;</b></p>

<p style="margin-left:22%;">Expand a path's double-tilde
placeholders into a platform-specific path. As
<b>expand-text</b>, this can only be used through the client
API or from a script using <b>mp.command_native</b>.</p>

<p style="margin-left:26%;">Example</p>


<p style="margin-left:37%; margin-top: 1em"><b>mp.osd_message(mp.command_native({&quot;expand-path&quot;,
&quot;~~home/&quot;}))</b></p>

<p style="margin-left:37%; margin-top: 1em">This line of
Lua would show the location of the user's mpv configuration
directory on the OSD.</p>

<p style="margin-left:11%;"><b>show-progress</b></p>

<p style="margin-left:22%;">Show the progress bar, the
elapsed time and the total duration of the file on the
OSD.</p>


<p style="margin-left:11%;"><b>write-watch-later-config</b></p>

<p style="margin-left:22%;">Write the resume config file
that the <b>quit-watch-later</b> command writes, but
continue playback normally.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>stop</b></p></td>
<td width="5%"></td>
<td width="78%">


<p>Stop playback and clear playlist. With default settings,
this is essentially like <b>quit</b>. Useful for the client
API: playback can be stopped without terminating the
player.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>mouse &lt;x&gt; &lt;y&gt;
[&lt;button&gt; [&lt;mode&gt;]]</b></p>

<p style="margin-left:22%;">Send a mouse event with given
coordinate (<b>&lt;x&gt;</b>, <b>&lt;y&gt;</b>).</p>

<p style="margin-left:22%; margin-top: 1em">Second
argument: <b><br>
&lt;button&gt;</b></p>

<p style="margin-left:32%;">The button number of clicked
mouse button. This should be one of 0-19. If
<b>&lt;button&gt;</b> is omitted, only the position will be
updated.</p>

<p style="margin-left:22%; margin-top: 1em">Third argument:
<b><br>
&lt;single&gt; (default)</b></p>

<p style="margin-left:32%;">The mouse event represents
regular single click.</p>

<p style="margin-left:22%;"><b>&lt;double&gt;</b></p>

<p style="margin-left:32%;">The mouse event represents
double-click.</p>

<p style="margin-left:11%;"><b>keypress
&lt;name&gt;</b></p>

<p style="margin-left:22%;">Send a key event through mpv's
input handler, triggering whatever behavior is configured to
that key. <b>name</b> uses the <b>input.conf</b> naming
scheme for keys and modifiers. Useful for the client API:
key events can be sent to libmpv to handle internally.</p>

<p style="margin-left:11%;"><b>keydown &lt;name&gt;</b></p>

<p style="margin-left:22%;">Similar to <b>keypress</b>, but
sets the <b>KEYDOWN</b> flag so that if the key is bound to
a repeatable command, it will be run repeatedly with mpv's
key repeat timing until the <b>keyup</b> command is
called.</p>

<p style="margin-left:11%;"><b>keyup [&lt;name&gt;]</b></p>

<p style="margin-left:22%;">Set the <b>KEYUP</b> flag,
stopping any repeated behavior that had been triggered.
<b>name</b> is optional. If <b>name</b> is not given or is
an empty string, <b>KEYUP</b> will be set on all keys.
Otherwise, <b>KEYUP</b> will only be set on the key
specified by <b>name</b>.</p>

<p style="margin-left:11%;"><b>keybind &lt;name&gt;
&lt;command&gt;</b></p>

<p style="margin-left:22%;">Binds a key to an input
command. <b>command</b> must be a complete command
containing all the desired arguments and flags. Both
<b>name</b> and <b>command</b> use the <b>input.conf</b>
naming scheme. This is primarily useful for the client
API.</p>

<p style="margin-left:11%;"><b>audio-add &lt;url&gt;
[&lt;flags&gt; [&lt;title&gt; [&lt;lang&gt;]]]</b></p>

<p style="margin-left:22%;">Load the given audio file. See
<b>sub-add</b> command.</p>

<p style="margin-left:11%;"><b>audio-remove
[&lt;id&gt;]</b></p>

<p style="margin-left:22%;">Remove the given audio track.
See <b>sub-remove</b> command.</p>

<p style="margin-left:11%;"><b>audio-reload
[&lt;id&gt;]</b></p>

<p style="margin-left:22%;">Reload the given audio tracks.
See <b>sub-reload</b> command.</p>

<p style="margin-left:11%;"><b>video-add &lt;url&gt;
[&lt;flags&gt; [&lt;title&gt; [&lt;lang&gt;]]]</b></p>

<p style="margin-left:22%;">Load the given video file. See
<b>sub-add</b> command.</p>

<p style="margin-left:11%;"><b>video-remove
[&lt;id&gt;]</b></p>

<p style="margin-left:22%;">Remove the given video track.
See <b>sub-remove</b> command.</p>

<p style="margin-left:11%;"><b>video-reload
[&lt;id&gt;]</b></p>

<p style="margin-left:22%;">Reload the given video tracks.
See <b>sub-reload</b> command.</p>

<p style="margin-left:11%;"><b>rescan-external-files
[&lt;mode&gt;]</b></p>

<p style="margin-left:22%;">Rescan external files according
to the current <b>--sub-auto</b> and
<b>--audio-file-auto</b> settings. This can be used to
auto-load external files <i>after</i> the file was
loaded.</p>

<p style="margin-left:22%; margin-top: 1em">The <b>mode</b>
argument is one of the following: <b><br>
&lt;reselect&gt; (default)</b></p>

<p style="margin-left:32%;">Select the default audio and
subtitle streams, which typically selects external files
with the highest preference. (The implementation is not
perfect, and could be improved on request.)</p>


<p style="margin-left:22%;"><b>&lt;keep-selection&gt;</b></p>

<p style="margin-left:32%;">Do not change current track
selections.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Input
Commands that are Possibly Subject to Change <br>
af &lt;operation&gt; &lt;value&gt;</b></p>

<p style="margin-left:22%;">Change audio filter chain. See
<b>vf</b> command.</p>

<p style="margin-left:11%;"><b>vf &lt;operation&gt;
&lt;value&gt;</b></p>

<p style="margin-left:22%;">Change video filter chain.</p>

<p style="margin-left:22%; margin-top: 1em">The semantics
are exactly the same as with option parsing (see <i>VIDEO
FILTERS</i>). As such the text below is a redundant and
incomplete summary.</p>

<p style="margin-left:22%; margin-top: 1em">The first
argument decides what happens:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>&lt;set&gt;</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>Overwrite the previous filter chain with the new
one.</p> </td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>&lt;add&gt;</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>Append the new filter chain to the previous one.</p></td></tr>
</table>

<p style="margin-left:22%;"><b>&lt;toggle&gt;</b></p>

<p style="margin-left:32%;">Check if the given filter (with
the exact parameters) is already in the video chain. If yes,
remove the filter. If no, add the filter. (If several
filters are passed to the command, this is done for each
filter.)</p>

<p style="margin-left:32%; margin-top: 1em">A special
variant is combining this with labels, and using
<b>@name</b> without filter name and parameters as filter
entry. This toggles the enable/disable flag.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>&lt;del&gt;</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>Remove the given filters from the video chain. Unlike in
the other cases, the second parameter is a comma separated
list of filter names or integer indexes. <b>0</b> would
denote the first filter. Negative indexes start from the
last filter, and <b>-1</b> denotes the last filter.
Deprecated.</p> </td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>&lt;clr&gt;</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>Remove all filters. Note that like the other
sub-commands, this does not control automatically inserted
filters.</p> </td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">The argument is
always needed. E.g. in case of <b>clr</b> use <b>vf clr
&quot;&quot;</b>.</p>

<p style="margin-left:22%; margin-top: 1em">You can assign
labels to filter by prefixing them with <b>@name:</b> (where
<b>name</b> is a user-chosen arbitrary identifier). Labels
can be used to refer to filters by name in all of the filter
chain modification commands. For <b>add</b>, using an
already used label will replace the existing filter.</p>

<p style="margin-left:22%; margin-top: 1em">The <b>vf</b>
command shows the list of requested filters on the OSD after
changing the filter chain. This is roughly equivalent to
<b>show-text ${vf}</b>. Note that auto-inserted filters for
format conversion are not shown on the list, only what was
requested by the user.</p>

<p style="margin-left:22%; margin-top: 1em">Normally, the
commands will check whether the video chain is recreated
successfully, and will undo the operation on failure. If the
command is run before video is configured (can happen if the
command is run immediately after opening a file and before a
video frame is decoded), this check can't be run. Then it
can happen that creating the video chain fails.</p>

<p style="margin-left:26%;">Example for input.conf</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="71%">


<p><b>a vf set flip</b> turn video upside-down on the
<b>a</b> key</p></td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="71%">


<p><b>b vf set &quot;&quot;</b> remove all video filters on
<b>b</b></p> </td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="71%">


<p><b>c vf toggle gradfun</b> toggle debanding on
<b>c</b></p> </td></tr>
</table>

<p style="margin-left:26%;">Example how to toggle disabled
filters at runtime</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="71%">


<p>Add something like <b>vf-add=@deband:!gradfun</b> to
<b>mpv.conf</b>. The <b>@deband:</b> is the label, an
arbitrary, user-given name for this filter entry. The
<b>!</b> before the filter name disables the filter by
default. Everything after this is the normal filter name and
possibly filter parameters, like in the normal <b>--vf</b>
syntax.</p> </td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="71%">


<p>Add <b>a vf toggle @deband</b> to <b>input.conf</b>.
This toggles the &quot;disabled&quot; flag for the filter
with the label <b>deband</b> when the <b>a</b> key is
hit.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>cycle-values
[&lt;&quot;!reverse&quot;&gt;] &lt;property&gt;
&lt;value1&gt; [&lt;value2&gt; [...]]</b></p>

<p style="margin-left:22%;">Cycle through a list of values.
Each invocation of the command will set the given property
to the next value in the list. The command will use the
current value of the property/option, and use it to
determine the current position in the list of values. Once
it has found it, it will set the next value in the list
(wrapping around to the first item if needed).</p>

<p style="margin-left:22%; margin-top: 1em">This command
has a variable number of arguments, and cannot be used with
named arguments.</p>

<p style="margin-left:22%; margin-top: 1em">The special
argument <b>!reverse</b> can be used to cycle the value list
in reverse. The only advantage is that you don't need to
reverse the value list yourself when adding a second key
binding for cycling backwards.</p>

<p style="margin-left:11%;"><b>enable-section &lt;name&gt;
[&lt;flags&gt;]</b></p>

<p style="margin-left:22%;">This command is deprecated,
except for mpv-internal uses.</p>

<p style="margin-left:22%; margin-top: 1em">Enable all key
bindings in the named input section.</p>

<p style="margin-left:22%; margin-top: 1em">The enabled
input sections form a stack. Bindings in sections on the top
of the stack are preferred to lower sections. This command
puts the section on top of the stack. If the section was
already on the stack, it is implicitly removed beforehand.
(A section cannot be on the stack more than once.)</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>flags</b> parameter can be a combination (separated by
<b>+</b>) of the following flags: <b><br>
&lt;exclusive&gt;</b></p>

<p style="margin-left:32%;">All sections enabled before the
newly enabled section are disabled. They will be re-enabled
as soon as all exclusive sections above them are removed. In
other words, the new section shadows all previous
sections.</p>


<p style="margin-left:22%;"><b>&lt;allow-hide-cursor&gt;</b></p>

<p style="margin-left:32%;">This feature can't be used
through the public API.</p>


<p style="margin-left:22%;"><b>&lt;allow-vo-dragging&gt;</b></p>

<p style="margin-left:32%;">Same.</p>

<p style="margin-left:11%;"><b>disable-section
&lt;name&gt;</b></p>

<p style="margin-left:22%;">This command is deprecated,
except for mpv-internal uses.</p>

<p style="margin-left:22%; margin-top: 1em">Disable the
named input section. Undoes <b>enable-section</b>.</p>

<p style="margin-left:11%;"><b>define-section &lt;name&gt;
&lt;contents&gt; [&lt;flags&gt;]</b></p>

<p style="margin-left:22%;">This command is deprecated,
except for mpv-internal uses.</p>

<p style="margin-left:22%; margin-top: 1em">Create a named
input section, or replace the contents of an already
existing input section. The <b>contents</b> parameter uses
the same syntax as the <b>input.conf</b> file (except that
using the section syntax in it is not allowed), including
the need to separate bindings with a newline character.</p>

<p style="margin-left:22%; margin-top: 1em">If the
<b>contents</b> parameter is an empty string, the section is
removed.</p>

<p style="margin-left:22%; margin-top: 1em">The section
with the name <b>default</b> is the normal input
section.</p>

<p style="margin-left:22%; margin-top: 1em">In general,
input sections have to be enabled with the
<b>enable-section</b> command, or they are ignored.</p>

<p style="margin-left:22%; margin-top: 1em">The last
parameter has the following meaning: <b><br>
&lt;default&gt; (also used if parameter omitted)</b></p>

<p style="margin-left:32%;">Use a key binding defined by
this section only if the user hasn't already bound this key
to a command.</p>

<p style="margin-left:22%;"><b>&lt;force&gt;</b></p>

<p style="margin-left:32%;">Always bind a key. (The input
section that was made active most recently wins if there are
ambiguities.)</p>

<p style="margin-left:22%; margin-top: 1em">This command
can be used to dispatch arbitrary keys to a script or a
client API user. If the input section defines
<b>script-binding</b> commands, it is also possible to get
separate events on key up/down, and relatively detailed
information about the key state. The special key name
<b>unmapped</b> can be used to match any unmapped key.</p>

<p style="margin-left:11%;"><b>overlay-add &lt;id&gt;
&lt;x&gt; &lt;y&gt; &lt;file&gt; &lt;offset&gt; &lt;fmt&gt;
&lt;w&gt; &lt;h&gt; &lt;stride&gt;</b></p>

<p style="margin-left:22%;">Add an OSD overlay sourced from
raw data. This might be useful for scripts and applications
controlling mpv, and which want to display things on top of
the video window.</p>

<p style="margin-left:22%; margin-top: 1em">Overlays are
usually displayed in screen resolution, but with some VOs,
the resolution is reduced to that of the video's. You can
read the <b>osd-width</b> and <b>osd-height</b> properties.
At least with <b>--vo-xv</b> and anamorphic video (such as
DVD), <b>osd-par</b> should be read as well, and the overlay
should be aspect-compensated.</p>

<p style="margin-left:22%; margin-top: 1em">This has the
following named arguments. The order of them is not
guaranteed, so you should always call them with named
arguments, see <i>Named arguments</i>.</p>

<p style="margin-left:22%; margin-top: 1em"><b>id</b> is an
integer between 0 and 63 identifying the overlay element.
The ID can be used to add multiple overlay parts, update a
part by using this command with an already existing ID, or
to remove a part with <b>overlay-remove</b>. Using a
previously unused ID will add a new overlay, while reusing
an ID will update it.</p>

<p style="margin-left:22%; margin-top: 1em"><b>x</b> and
<b>y</b> specify the position where the OSD should be
displayed.</p>

<p style="margin-left:22%; margin-top: 1em"><b>file</b>
specifies the file the raw image data is read from. It can
be either a numeric UNIX file descriptor prefixed with
<b>@</b> (e.g. <b>@4</b>), or a filename. The file will be
mapped into memory with <b>mmap()</b>, copied, and unmapped
before the command returns (changed in mpv 0.18.1).</p>

<p style="margin-left:22%; margin-top: 1em">It is also
possible to pass a raw memory address for use as bitmap
memory by passing a memory address as integer prefixed with
an <b>&amp;</b> character. Passing the wrong thing here will
crash the player. This mode might be useful for use with
libmpv. The <b>offset</b> parameter is simply added to the
memory address (since mpv 0.8.0, ignored before).</p>

<p style="margin-left:22%; margin-top: 1em"><b>offset</b>
is the byte offset of the first pixel in the source file.
(The current implementation always mmap's the whole file
from position 0 to the end of the image, so large offsets
should be avoided. Before mpv 0.8.0, the offset was actually
passed directly to <b>mmap</b>, but it was changed to make
using it easier.)</p>

<p style="margin-left:22%; margin-top: 1em"><b>fmt</b> is a
string identifying the image format. Currently, only
<b>bgra</b> is defined. This format has 4 bytes per pixels,
with 8 bits per component. The least significant 8 bits are
blue, and the most significant 8 bits are alpha (in little
endian, the components are B-G-R-A, with B as first byte).
This uses premultiplied alpha: every color component is
already multiplied with the alpha component. This means the
numeric value of each component is equal to or smaller than
the alpha component. (Violating this rule will lead to
different results with different VOs: numeric overflows
resulting from blending broken alpha values is considered
something that shouldn't happen, and consequently
implementations don't ensure that you get predictable
behavior in this case.)</p>

<p style="margin-left:22%; margin-top: 1em"><b>w</b>,
<b>h</b>, and <b>stride</b> specify the size of the overlay.
<b>w</b> is the visible width of the overlay, while
<b>stride</b> gives the width in bytes in memory. In the
simple case, and with the <b>bgra</b> format,
<b>stride==4*w</b>. In general, the total amount of memory
accessed is <b>stride * h</b>. (Technically, the minimum
size would be <b>stride * (h - 1) + w * 4</b>, but for
simplicity, the player will access all <b>stride * h</b>
bytes.)</p>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">Before mpv 0.18.1, you had to
do manual &quot;double buffering&quot; when updating an
overlay by replacing it with a different memory buffer.
Since mpv 0.18.1, the memory is simply copied and doesn't
reference any of the memory indicated by the command's
arguments after the commend returns. If you want to use this
command before mpv 0.18.1, reads the old docs to see how to
handle this correctly.</p>

<p style="margin-left:11%;"><b>overlay-remove
&lt;id&gt;</b></p>

<p style="margin-left:22%;">Remove an overlay added with
<b>overlay-add</b> and the same ID. Does nothing if no
overlay with this ID exists.</p>

<p style="margin-left:11%;"><b>osd-overlay</b></p>

<p style="margin-left:22%;">Add/update/remove an OSD
overlay.</p>

<p style="margin-left:22%; margin-top: 1em">(Although this
sounds similar to <b>overlay-add</b>, <b>osd-overlay</b> is
for text overlays, while <b>overlay-add</b> is for bitmaps.
Maybe <b>overlay-add</b> will be merged into
<b>osd-overlay</b> to remove this oddity.)</p>

<p style="margin-left:22%; margin-top: 1em">You can use
this to add text overlays in ASS format. ASS has advanced
positioning and rendering tags, which can be used to render
almost any kind of vector graphics.</p>

<p style="margin-left:22%; margin-top: 1em">This command
accepts the following parameters:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p><b>id</b></p></td>
<td width="7%"></td>
<td width="68%">


<p>Arbitrary integer that identifies the overlay. Multiple
overlays can be added by calling this command with different
<b>id</b> parameters. Calling this command with the same
<b>id</b> replaces the previously set overlay.</p></td></tr>
</table>

<p style="margin-left:32%; margin-top: 1em">There is a
separate namespace for each libmpv client (i.e. IPC
connection, script), so IDs can be made up and assigned by
the API user without conflicting with other API users.</p>

<p style="margin-left:32%; margin-top: 1em">If the libmpv
client is destroyed, all overlays associated with it are
also deleted. In particular, connecting via
<b>--input-ipc-server</b>, adding an overlay, and
disconnecting will remove the overlay immediately again.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p style="margin-top: 1em"><b>format</b></p></td>
<td width="1%"></td>
<td width="68%">


<p style="margin-top: 1em">String that gives the type of
the overlay. Accepts the following values:</p></td></tr>
</table>

<p style="margin-left:32%;"><b>ass-events</b></p>

<p style="margin-left:43%;">The <b>data</b> parameter is a
string. The string is split on the newline character. Every
line is turned into the <b>Text</b> part of a
<b>Dialogue</b> ASS event. Timing is unused (but behavior of
timing dependent ASS tags may change in future mpv
versions).</p>

<p style="margin-left:43%; margin-top: 1em">Note that it's
better to put multiple lines into <b>data</b>, instead of
adding multiple OSD overlays.</p>

<p style="margin-left:43%; margin-top: 1em">This provides 2
ASS <b>Styles</b>. <b>OSD</b> contains the text style as
defined by the current <b>--osd-...</b> options.
<b>Default</b> is similar, and contains style that
<b>OSD</b> would have if all options were set to the
default.</p>

<p style="margin-left:43%; margin-top: 1em">In addition,
the <b>res_x</b> and <b>res_y</b> options specify the value
of the ASS <b>PlayResX</b> and <b>PlayResY</b> header
fields. If <b>res_y</b> is set to 0, <b>PlayResY</b> is
initialized to an arbitrary default value (but note that the
default for this command is 720, not 0). If <b>res_x</b> is
set to 0, <b>PlayResX</b> is set based on <b>res_y</b> such
that a virtual ASS pixel has a square pixel aspect
ratio.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="16%">


<p><b>none</b></p></td>
<td width="5%"></td>
<td width="57%">


<p>Special value that causes the overlay to be removed.
Most parameters other than <b>id</b> and <b>format</b> are
mostly ignored.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="16%">


<p><b>data</b></p></td>
<td width="5%"></td>
<td width="57%">
</td></tr>
</table>

<p style="margin-left:32%; margin-top: 1em">String defining
the overlay contents according to the <b>format</b>
parameter.</p>

<p style="margin-left:22%;"><b>res_x, res_y</b></p>

<p style="margin-left:32%;">Used if <b>format</b> is set to
<b>ass-events</b> (see description there). Optional,
defaults to 0/720.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p><b>z</b></p></td>
<td width="9%"></td>
<td width="68%">


<p>The Z order of the overlay. Optional, defaults to 0.</p></td></tr>
</table>

<p style="margin-left:32%; margin-top: 1em">Note that Z
order between different overlays of different formats is
static, and cannot be changed (currently, this means that
bitmap overlays added by <b>overlay-add</b> are always on
top of the ASS overlays added by <b>osd-overlay</b>). In
addition, the builtin OSD components are always below any of
the custom OSD. (This includes subtitles of any kind as well
as text rendered by <b>show-text</b>.)</p>

<p style="margin-left:32%; margin-top: 1em">It's possible
that future mpv versions will randomly change how Z order
between different OSD formats and builtin OSD is
handled.</p>

<p style="margin-left:22%; margin-top: 1em">Note: always
use named arguments (<b>mpv_command_node()</b>). Scripts
should use the <b>mp.create_osd_overlay()</b> helper instead
of invoking this command directly.</p>

<p style="margin-left:11%;"><b>script-message [&lt;arg1&gt;
[&lt;arg2&gt; [...]]]</b></p>

<p style="margin-left:22%;">Send a message to all clients,
and pass it the following list of arguments. What this
message means, how many arguments it takes, and what the
arguments mean is fully up to the receiver and the sender.
Every client receives the message, so be careful about name
clashes (or use <b>script-message-to</b>).</p>

<p style="margin-left:22%; margin-top: 1em">This command
has a variable number of arguments, and cannot be used with
named arguments.</p>

<p style="margin-left:11%;"><b>script-message-to
&lt;target&gt; [&lt;arg1&gt; [&lt;arg2&gt; [...]]]</b></p>

<p style="margin-left:22%;">Same as <b>script-message</b>,
but send it only to the client named <b>&lt;target&gt;</b>.
Each client (scripts etc.) has a unique name. For example,
Lua scripts can get their name via
<b>mp.get_script_name()</b>.</p>

<p style="margin-left:22%; margin-top: 1em">This command
has a variable number of arguments, and cannot be used with
named arguments.</p>

<p style="margin-left:11%;"><b>script-binding
&lt;name&gt;</b></p>

<p style="margin-left:22%;">Invoke a script-provided key
binding. This can be used to remap key bindings provided by
external Lua scripts.</p>

<p style="margin-left:22%; margin-top: 1em">The argument is
the name of the binding.</p>

<p style="margin-left:22%; margin-top: 1em">It can
optionally be prefixed with the name of the script, using
<b>/</b> as separator, e.g. <b>script-binding
scriptname/bindingname</b>.</p>

<p style="margin-left:22%; margin-top: 1em">For
completeness, here is how this command works internally. The
details could change any time. On any matching key event,
<b>script-message-to</b> or <b>script-message</b> is called
(depending on whether the script name is included), with the
following arguments:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p>1.</p></td>
<td width="1%"></td>
<td width="74%">


<p>The string <b>key-binding</b>.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p>2.</p></td>
<td width="1%"></td>
<td width="74%">


<p>The name of the binding (as established above).</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p>3.</p></td>
<td width="1%"></td>
<td width="74%">


<p>The key state as string (see below).</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p>4.</p></td>
<td width="1%"></td>
<td width="74%">


<p>The key name (since mpv 0.15.0).</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p>5.</p></td>
<td width="1%"></td>
<td width="74%">


<p>The text the key would produce, or empty string if not
applicable.</p> </td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">The 5th
argument is only set if no modifiers are present (using the
shift key with a letter is normally not emitted as having a
modifier, and results in upper case text instead, but some
backends may mess up).</p>

<p style="margin-left:22%; margin-top: 1em">The key state
consists of 2 characters:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p style="margin-top: 1em">1.</p></td>
<td width="1%"></td>
<td width="74%">


<p style="margin-top: 1em">One of <b>d</b> (key was pressed
down), <b>u</b> (was released), <b>r</b> (key is still down,
and was repeated; only if key repeat is enabled for this
binding), <b>p</b> (key was pressed; happens if up/down
can't be tracked).</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p>2.</p></td>
<td width="1%"></td>
<td width="74%">


<p>Whether the event originates from the mouse, either
<b>m</b> (mouse button) or <b>-</b> (something else).</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">Future versions
can add more arguments and more key state characters to
support more input peculiarities.</p>

<p style="margin-left:11%;"><b>ab-loop</b></p>

<p style="margin-left:22%;">Cycle through A-B loop states.
The first command will set the <b>A</b> point (the
<b>ab-loop-a</b> property); the second the <b>B</b> point,
and the third will clear both points.</p>

<p style="margin-left:11%;"><b>drop-buffers</b></p>

<p style="margin-left:22%;">Drop audio/video/demuxer
buffers, and restart from fresh. Might help with unseekable
streams that are going out of sync. This command might be
changed or removed in the future.</p>

<p style="margin-left:11%;"><b>screenshot-raw
[&lt;flags&gt;]</b></p>

<p style="margin-left:22%;">Return a screenshot in memory.
This can be used only through the client API. The
MPV_FORMAT_NODE_MAP returned by this command has the
<b>w</b>, <b>h</b>, <b>stride</b> fields set to obvious
contents. The <b>format</b> field is set to <b>bgr0</b> by
default. This format is organized as <b>B8G8R8X8</b> (where
<b>B</b> is the LSB). The contents of the padding <b>X</b>
are undefined. The <b>data</b> field is of type
MPV_FORMAT_BYTE_ARRAY with the actual image data. The image
is freed as soon as the result mpv_node is freed. As usual
with client API semantics, you are not allowed to write to
the image data.</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>stride</b> is the number of bytes from a pixel at <b>(x0,
y0)</b> to the pixel at <b>(x0, y0 + 1)</b>. This can be
larger than <b>w * 4</b> if the image was cropped, or if
there is padding. This number can be negative as well. You
access a pixel with <b>byte_index = y * stride + x * 4</b>
(assuming the <b>bgr0</b> format).</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>flags</b> argument is like the first argument to
<b>screenshot</b> and supports <b>subtitles</b>,
<b>video</b>, <b>window</b>.</p>

<p style="margin-left:11%;"><b>vf-command &lt;label&gt;
&lt;command&gt; &lt;argument&gt;</b></p>

<p style="margin-left:22%;">Send a command to the filter
with the given <b>&lt;label&gt;</b>. Use <b>all</b> to send
it to all filters at once. The command and argument string
is filter specific. Currently, this only works with the
<b>lavfi</b> filter - see the libavfilter documentation for
which commands a filter supports.</p>

<p style="margin-left:22%; margin-top: 1em">Note that the
<b>&lt;label&gt;</b> is a mpv filter label, not a
libavfilter filter name.</p>

<p style="margin-left:11%;"><b>af-command &lt;label&gt;
&lt;command&gt; &lt;argument&gt;</b></p>

<p style="margin-left:22%;">Same as <b>vf-command</b>, but
for audio filters.</p>

<p style="margin-left:11%;"><b>apply-profile
&lt;name&gt;</b></p>

<p style="margin-left:22%;">Apply the contents of a named
profile. This is like using <b>profile=name</b> in a config
file, except you can map it to a key binding to change it at
runtime.</p>

<p style="margin-left:22%; margin-top: 1em">There is no
such thing as &quot;unapplying&quot; a profile - applying a
profile merely sets all option values listed within the
profile.</p>

<p style="margin-left:11%;"><b>load-script
&lt;filename&gt;</b></p>

<p style="margin-left:22%;">Load a script, similar to the
<b>--script</b> option. Whether this waits for the script to
finish initialization or not changed multiple times, and the
future behavior is left undefined.</p>

<p style="margin-left:11%;"><b>change-list &lt;name&gt;
&lt;operation&gt; &lt;value&gt;</b></p>

<p style="margin-left:22%;">This command changes list
options as described in <i>List Options</i>. The
<b>&lt;name&gt;</b> parameter is the normal option name,
while <b>&lt;operation&gt;</b> is the suffix or action used
on the option.</p>

<p style="margin-left:22%; margin-top: 1em">Some operations
take no value, but the command still requires the value
parameter. In these cases, the value must be an empty
string.</p>

<p style="margin-left:26%;">Example</p>

<p style="margin-left:37%; margin-top: 1em"><b>change-list
glsl-shaders append file.glsl</b></p>

<p style="margin-left:37%; margin-top: 1em">Add a filename
to the <b>glsl-shaders</b> list. The command line equivalent
is <b>--glsl-shaders-append=file.glsl</b> or alternatively
<b>--glsl-shader=file.glsl</b>.</p>

<p style="margin-left:11%;"><b>dump-cache &lt;start&gt;
&lt;end&gt; &lt;filename&gt;</b></p>

<p style="margin-left:22%;">Dump the current cache to the
given filename. The <b>&lt;filename&gt;</b> file is
overwritten if it already exists. <b>&lt;start&gt;</b> and
<b>&lt;end&gt;</b> give the time range of what to dump. If
no data is cached at the given time range, nothing may be
dumped (creating a file with no packets).</p>

<p style="margin-left:22%; margin-top: 1em">Dumping a
larger part of the cache will freeze the player. No effort
was made to fix this, as this feature was meant mostly for
creating small excerpts.</p>

<p style="margin-left:22%; margin-top: 1em">See
<b>--stream-record</b> for various caveats that mostly apply
to this command too, as both use the same underlying code
for writing the output file.</p>

<p style="margin-left:22%; margin-top: 1em">If
<b>&lt;filename&gt;</b> is an empty string, an ongoing
<b>dump-cache</b> is stopped.</p>

<p style="margin-left:22%; margin-top: 1em">If
<b>&lt;end&gt;</b> is <b>no</b>, then continuous dumping is
enabled. Then, after dumping the existing parts of the
cache, anything read from network is appended to the cache
as well. This behaves similar to <b>--stream-record</b>
(although it does not conflict with that option, and they
can be both active at the same time).</p>

<p style="margin-left:22%; margin-top: 1em">If the
<b>&lt;end&gt;</b> time is after the cache, the command will
_not_ wait and write newly received data to it.</p>

<p style="margin-left:22%; margin-top: 1em">The end of the
resulting file may be slightly damaged or incomplete at the
end. (Not enough effort was made to ensure that the end
lines up properly.)</p>

<p style="margin-left:22%; margin-top: 1em">Note that this
command will finish only once dumping ends. That means it
works similar to the <b>screenshot</b> command, just that it
can block much longer. If continuous dumping is used, the
command will not finish until playback is stopped, an error
happens, another <b>dump-cache</b> command is run, or an API
like <b>mp.abort_async_command</b> was called to explicitly
stop the command. See <i>Synchronous vs.
Asynchronous</i>.</p>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">This was mostly created for
network streams. For local files, there may be much better
methods to create excerpts and such. There are tons of much
more user-friendly Lua scripts, that will reencode parts of
a file by spawning a separate instance of <b>ffmpeg</b>.
With network streams, this is not that easily possible, as
the stream would have to be downloaded again. Even if
<b>--stream-record</b> is used to record the stream to the
local filesystem, there may be problems, because the
recorded file is still written to.</p>

<p style="margin-left:22%; margin-top: 1em">This command is
experimental, and all details about it may change in the
future.</p>

<p style="margin-left:11%;"><b>ab-loop-dump-cache
&lt;filename&gt;</b></p>

<p style="margin-left:22%;">Essentially calls
<b>dump-cache</b> with the current AB-loop points as
arguments. Like <b>dump-cache</b>, this will overwrite the
file at <b>&lt;filename&gt;</b>. Likewise, if the B point is
set to <b>no</b>, it will enter continuous dumping after the
existing cache was dumped.</p>

<p style="margin-left:22%; margin-top: 1em">The author
reserves the right to remove this command if enough
motivation is found to move this functionality to a trivial
Lua script.</p>

<p style="margin-left:11%;"><b>ab-loop-align-cache</b></p>

<p style="margin-left:22%;">Re-adjust the A/B loop points
to the start and end within the cache the
<b>ab-loop-dump-cache</b> command will (probably) dump.
Basically, it aligns the times on keyframes. The guess might
be off especially at the end (due to granularity issues due
to remuxing). If the cache shrinks in the meantime, the
points set by the command will not be the effective
parameters either.</p>

<p style="margin-left:22%; margin-top: 1em">This command
has an even more uncertain future than
<b>ab-loop-dump-cache</b> and might disappear without
replacement if the author decides it's useless.</p>

<p style="margin-left:11%; margin-top: 1em">Undocumented
commands: <b>ao-reload</b> (experimental/internal).</p>

<p style="margin-left:11%; margin-top: 1em"><b>Hooks</b>
<br>
Hooks are synchronous events between player core and a
script or similar. This applies to client API (including the
Lua scripting interface). Normally, events are supposed to
be asynchronous, and the hook API provides an awkward and
obscure way to handle events that require stricter
coordination. There are no API stability guarantees made.
Not following the protocol exactly can make the player
freeze randomly. Basically, nobody should use this API.</p>

<p style="margin-left:11%; margin-top: 1em">The C API is
described in the header files. The Lua API is described in
the Lua section.</p>

<p style="margin-left:11%; margin-top: 1em">The following
hooks are currently defined: <b><br>
on_load</b></p>

<p style="margin-left:22%;">Called when a file is to be
opened, before anything is actually done. For example, you
could read and write the <b>stream-open-filename</b>
property to redirect an URL to something else (consider
support for streaming sites which rarely give the user a
direct media URL), or you could set per-file options with by
setting the property <b>file-local-options/&lt;option
name&gt;</b>. The player will wait until all hooks are
run.</p>

<p style="margin-left:11%;"><b>on_load_fail</b></p>

<p style="margin-left:22%;">Called after after a file has
been opened, but failed to. This can be used to provide a
fallback in case native demuxers failed to recognize the
file, instead of always running before the native demuxers
like <b>on_load</b>. Demux will only be retried if
<b>stream-open-filename</b> was changed.</p>

<p style="margin-left:11%;"><b>on_preloaded</b></p>

<p style="margin-left:22%;">Called after a file has been
opened, and before tracks are selected and decoders are
created. This has some usefulness if an API users wants to
select tracks manually, based on the set of available
tracks. It's also useful to initialize
<b>--lavfi-complex</b> in a specific way by API, without
having to &quot;probe&quot; the available streams at
first.</p>

<p style="margin-left:22%; margin-top: 1em">Note that this
does not yet apply default track selection. Which operations
exactly can be done and not be done, and what information is
available and what is not yet available yet, is all subject
to change.</p>

<p style="margin-left:11%;"><b>on_unload</b></p>

<p style="margin-left:22%;">Run before closing a file, and
before actually uninitializing everything. It's not possible
to resume playback in this state.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Legacy hook
API <br>
WARNING:</b></p>

<p style="margin-left:15%;">The legacy API is deprecated
and will be removed soon.</p>

<p style="margin-left:11%; margin-top: 1em">There are two
special commands involved. Also, the client must listen for
client messages (<b>MPV_EVENT_CLIENT_MESSAGE</b> in the C
API). <b><br>
hook-add &lt;hook-name&gt; &lt;id&gt;
&lt;priority&gt;</b></p>

<p style="margin-left:22%;">Subscribe to the hook
identified by the first argument (basically, the name of
event). The <b>id</b> argument is an arbitrary integer
chosen by the user. <b>priority</b> is used to sort all hook
handlers globally across all clients. Each client can
register multiple hook handlers (even for the same
hook-name). Once the hook is registered, it cannot be
unregistered.</p>

<p style="margin-left:22%; margin-top: 1em">When a specific
event happens, all registered handlers are run serially.
This uses a protocol every client has to follow explicitly.
When a hook handler is run, a client message
(<b>MPV_EVENT_CLIENT_MESSAGE</b>) is sent to the client
which registered the hook. This message has the following
arguments:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p>1.</p></td>
<td width="1%"></td>
<td width="74%">


<p>the string <b>hook_run</b></p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p>2.</p></td>
<td width="1%"></td>
<td width="74%">


<p>the <b>id</b> argument the hook was registered with as
string (this can be used to correctly handle multiple hooks
registered by the same client, as long as the <b>id</b>
argument is unique in the client)</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="3%">


<p>3.</p></td>
<td width="1%"></td>
<td width="74%">


<p>something undefined, used by the hook mechanism to track
hook execution</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">Upon receiving
this message, the client can handle the event. While doing
this, the player core will still react to requests, but
playback will typically be stopped.</p>

<p style="margin-left:22%; margin-top: 1em">When the client
is done, it must continue the core's hook execution by
running the <b>hook-ack</b> command.</p>

<p style="margin-left:11%;"><b>hook-ack
&lt;string&gt;</b></p>

<p style="margin-left:22%;">Run the next hook in the global
chain of hooks. The argument is the 3rd argument of the
client message that starts hook execution for the current
client.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Input
Command Prefixes</b> <br>
These prefixes are placed between key name and the actual
command. Multiple prefixes can be specified. They are
separated by whitespace. <b><br>
osd-auto</b></p>

<p style="margin-left:22%;">Use the default behavior for
this command. This is the default for <b>input.conf</b>
commands. Some libmpv/scripting/IPC APIs do not use this as
default, but use <b>no-osd</b> instead.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>no-osd</b></p></td>
<td width="2%"></td>
<td width="55%">


<p>Do not use any OSD for this command.</p></td>
<td width="23%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>osd-bar</b></p>

<p style="margin-left:22%;">If possible, show a bar with
this command. Seek commands will show the progress bar,
property changing commands may show the newly set value.</p>

<p style="margin-left:11%;"><b>osd-msg</b></p>

<p style="margin-left:22%;">If possible, show an OSD
message with this command. Seek command show the current
playback time, property changing commands show the newly set
value as text.</p>

<p style="margin-left:11%;"><b>osd-msg-bar</b></p>

<p style="margin-left:22%;">Combine osd-bar and
osd-msg.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>raw</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>Do not expand properties in string arguments. (Like
<b>&quot;${property-name}&quot;</b>.) This is the default
for some libmpv/scripting/IPC APIs.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>expand-properties</b></p>

<p style="margin-left:22%;">All string arguments are
expanded as described in <i>Property Expansion</i>. This is
the default for <b>input.conf</b> commands.</p>

<p style="margin-left:11%;"><b>repeatable</b></p>

<p style="margin-left:22%;">For some commands, keeping a
key pressed doesn't run the command repeatedly. This prefix
forces enabling key repeat in any case.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>async</b></p></td>
<td width="4%"></td>
<td width="78%">


<p>Allow asynchronous execution (if possible). Note that
only a few commands will support this (usually this is
explicitly documented). Some commands are asynchronous by
default (or rather, their effects might manifest after
completion of the command). The semantics of this flag might
change in the future. Set it only if you don't rely on the
effects of this command being fully realized when it
returns. See <i>Synchronous vs. Asynchronous</i>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>sync</b></p></td>
<td width="4%"></td>
<td width="78%">


<p>Allow synchronous execution (if possible). Normally, all
commands are synchronous by default, but some are
asynchronous by default for compatibility with older
behavior.</p> </td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">All of the osd
prefixes are still overridden by the global
<b>--osd-level</b> settings.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Synchronous
vs. Asynchronous</b> <br>
The <b>async</b> and <b>sync</b> prefix matter only for how
the issuer of the command waits on the completion of the
command. Normally it does not affect how the command behaves
by itself. There are the following cases:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p style="margin-top: 1em">Normal input.conf commands are
always run asynchronously. Slow running commands are queued
up or run in parallel.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p>&quot;Multi&quot; input.conf commands (1 key binding,
concatenated with <b>;</b>) will be executed in order,
except for commands that are async (either prefixed with
<b>async</b>, or async by default for some commands). The
async commands are run in a detached manner, possibly in
parallel to the remaining sync commands in the list.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p>Normal Lua and libmpv commands (e.g.
<b>mpv_command()</b>) are run in a blocking manner, unless
the <b>async</b> prefix is used, or the command is async by
default. This means in the sync case the caller will block,
even if the core continues playback. Async mode runs the
command in a detached manner.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p>Async libmpv command API (e.g.
<b>mpv_command_async()</b>) never blocks the caller, and
always notify their completion with a message. The
<b>sync</b> and <b>async</b> prefixes make no
difference.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p>Lua also provides APIs for running async commands, which
behave similar to the C counterparts.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p>In all cases, async mode can still run commands in a
synchronous manner, even in detached mode. This can for
example happen in cases when a command does not have an
asynchronous implementation. The async libmpv API still
never blocks the caller in these cases.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Before mpv
0.29.0, the <b>async</b> prefix was only used by screenshot
commands, and made them run the file saving code in a
detached manner. This is the default now, and <b>async</b>
changes behavior only in the ways mentioned above.</p>

<p style="margin-left:11%; margin-top: 1em">Currently the
following commands have different waiting characteristics
with sync vs. async: sub-add, audio-add, sub-reload,
audio-reload, rescan-external-files, screenshot,
screenshot-to-file, dump-cache, ab-loop-dump-cache.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Asynchronous
command details</b> <br>
On the API level, every asynchronous command is bound to the
context which started it. For example, an asynchronous
command started by <b>mpv_command_async</b> is bound to the
<b>mpv_handle</b> passed to the function. Only this
<b>mpv_handle</b> receives the completion notification
(<b>MPV_EVENT_COMMAND_REPLY</b>), and only this handle can
abort a still running command directly. If the
<b>mpv_handle</b> is destroyed, any still running async.
commands started by it are terminated.</p>

<p style="margin-left:11%; margin-top: 1em">The scripting
APIs and JSON IPC give each script/connection its own
implicit <b>mpv_handle</b>.</p>

<p style="margin-left:11%; margin-top: 1em">If the player
is closed, the core may abort all pending async. commands on
its own (like a forced <b>mpv_abort_async_command()</b> call
for each pending command on behalf of the API user). This
happens at the same time <b>MPV_EVENT_SHUTDOWN</b> is sent,
and there is no way to prevent this.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Input
Sections</b> <br>
Input sections group a set of bindings, and enable or
disable them at once. In <b>input.conf</b>, each key binding
is assigned to an input section, rather than actually having
explicit text sections.</p>

<p style="margin-left:11%; margin-top: 1em">See also:
<b>enable-section</b> and <b>disable-section</b>
commands.</p>

<p style="margin-left:11%; margin-top: 1em">Predefined
bindings: <b><br>
default</b></p>

<p style="margin-left:22%;">Bindings without input section
are implicitly assigned to this section. It is enabled by
default during normal playback.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>encode</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Section which is active in encoding mode. It is enabled
exclusively, so that bindings in the <b>default</b> sections
are ignored.</p></td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><b>Properties</b>
<br>
Properties are used to set mpv options during runtime, or to
query arbitrary information. They can be manipulated with
the <b>set</b>/<b>add</b>/<b>cycle</b> commands, and
retrieved with <b>show-text</b>, or anything else that uses
property expansion. (See <i>Property Expansion</i>.)</p>

<p style="margin-left:11%; margin-top: 1em">The property
name is annotated with RW to indicate whether the property
is generally writable.</p>

<p style="margin-left:11%; margin-top: 1em">If an option is
referenced, the property will normally take/return exactly
the same values as the option. In these cases, properties
are merely a way to change an option at runtime.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Property
list <br>
NOTE:</b></p>

<p style="margin-left:15%;">Most options can be set as
runtime via properties as well. Just remove the leading
<b>--</b> from the option name. These are not documented.
Only properties which do not exist as option with the same
name, or which have very different behavior from the options
are documented below.</p>

<p style="margin-left:11%;"><b>audio-speed-correction,
video-speed-correction</b></p>

<p style="margin-left:22%;">Factor multiplied with
<b>speed</b> at which the player attempts to play the file.
Usually it's exactly 1. (Display sync mode will make this
useful.)</p>

<p style="margin-left:22%; margin-top: 1em">OSD formatting
will display it in the form of <b>+1.23456%</b>, with the
number being <b>(raw - 1) * 100</b> for the given raw
property value.</p>

<p style="margin-left:11%;"><b>display-sync-active</b></p>

<p style="margin-left:22%;">Return whether
<b>--video-sync=display</b> is actually active.</p>

<p style="margin-left:11%;"><b>filename</b></p>

<p style="margin-left:22%;">Currently played file, with
path stripped. If this is an URL, try to undo percent
encoding as well. (The result is not necessarily correct,
but looks better for display purposes. Use the <b>path</b>
property to get an unmodified filename.)</p>

<p style="margin-left:22%; margin-top: 1em">This has a
sub-property: <b><br>
filename/no-ext</b></p>

<p style="margin-left:32%;">Like the <b>filename</b>
property, but if the text contains a <b>.</b>, strip all
text after the last <b>.</b>. Usually this removes the file
extension.</p>

<p style="margin-left:11%;"><b>file-size</b></p>

<p style="margin-left:22%;">Length in bytes of the source
file/stream. (This is the same as <b>${stream-end}</b>. For
segmented/multi-part files, this will return the size of the
main or manifest file, whatever it is.)</p>


<p style="margin-left:11%;"><b>estimated-frame-count</b></p>

<p style="margin-left:22%;">Total number of frames in
current file.</p>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">This is only an estimate. (It's
computed from two unreliable quantities: fps and stream
length.)</p>


<p style="margin-left:11%;"><b>estimated-frame-number</b></p>

<p style="margin-left:22%;">Number of current frame in
current stream.</p>


<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b></p>

<p style="margin-left:26%;">This is only an estimate. (It's
computed from two unreliable quantities: fps and possibly
rounded timestamps.)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>path</b></p></td>
<td width="5%"></td>
<td width="78%">


<p>Full path of the currently played file. Usually this is
exactly the same string you pass on the mpv command line or
the <b>loadfile</b> command, even if it's a relative path.
If you expect an absolute path, you will have to determine
it yourself, for example by using the
<b>working-directory</b> property.</p></td></tr>
</table>


<p style="margin-left:11%;"><b>stream-open-filename</b></p>

<p style="margin-left:22%;">The full path to the currently
played media. This is different only from <b>path</b> in
special cases. In particular, if <b>--ytdl=yes</b> is used,
and the URL is detected by <b>youtube-dl</b>, then the
script will set this property to the actual media URL. This
property should be set only during the <b>on_load</b> or
<b>on_load_fail</b> hooks, otherwise it will have no effect
(or may do something implementation defined in the future).
The property is reset if playback of the current media
ends.</p>

<p style="margin-left:11%;"><b>media-title</b></p>

<p style="margin-left:22%;">If the currently played file
has a <b>title</b> tag, use that.</p>

<p style="margin-left:22%; margin-top: 1em">Otherwise,
return the <b>filename</b> property.</p>

<p style="margin-left:11%;"><b>file-format</b></p>

<p style="margin-left:22%;">Symbolic name of the file
format. In some cases, this is a comma-separated list of
format names, e.g. mp4 is <b>mov,mp4,m4a,3gp,3g2,mj2</b>
(the list may grow in the future for any format).</p>

<p style="margin-left:11%;"><b>current-demuxer</b></p>

<p style="margin-left:22%;">Name of the current demuxer.
(This is useless.)</p>

<p style="margin-left:22%; margin-top: 1em">(Renamed from
<b>demuxer</b>.)</p>

<p style="margin-left:11%;"><b>stream-path</b></p>

<p style="margin-left:22%;">Filename (full path) of the
stream layer filename. (This is probably useless and is
almost never different from <b>path</b>.)</p>

<p style="margin-left:11%;"><b>stream-pos</b></p>

<p style="margin-left:22%;">Raw byte position in source
stream. Technically, this returns the position of the most
recent packet passed to a decoder.</p>

<p style="margin-left:11%;"><b>stream-end</b></p>

<p style="margin-left:22%;">Raw end position in bytes in
source stream.</p>

<p style="margin-left:11%;"><b>duration</b></p>

<p style="margin-left:22%;">Duration of the current file in
seconds. If the duration is unknown, the property is
unavailable. Note that the file duration is not always
exactly known, so this is an estimate.</p>

<p style="margin-left:22%; margin-top: 1em">This replaces
the <b>length</b> property, which was deprecated after the
mpv 0.9 release. (The semantics are the same.)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>avsync</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Last A/V synchronization difference. Unavailable if
audio or video is disabled.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>total-avsync-change</b></p>

<p style="margin-left:22%;">Total A-V sync correction done.
Unavailable if audio or video is disabled.</p>


<p style="margin-left:11%;"><b>decoder-frame-drop-count</b></p>

<p style="margin-left:22%;">Video frames dropped by
decoder, because video is too far behind audio (when using
<b>--framedrop=decoder</b>). Sometimes, this may be
incremented in other situations, e.g. when video packets are
damaged, or the decoder doesn't follow the usual rules.
Unavailable if video is disabled.</p>


<p style="margin-left:22%; margin-top: 1em"><b>drop-frame-count</b>
is a deprecated alias.</p>

<p style="margin-left:11%;"><b>frame-drop-count</b></p>

<p style="margin-left:22%;">Frames dropped by VO (when
using <b>--framedrop=vo</b>).</p>


<p style="margin-left:22%; margin-top: 1em"><b>vo-drop-frame-count</b>
is a deprecated alias.</p>


<p style="margin-left:11%;"><b>mistimed-frame-count</b></p>

<p style="margin-left:22%;">Number of video frames that
were not timed correctly in display-sync mode for the sake
of keeping A/V sync. This does not include external
circumstances, such as video rendering being too slow or the
graphics driver somehow skipping a vsync. It does not
include rounding errors either (which can happen especially
with bad source timestamps). For example, using the
<b>display-desync</b> mode should never change this value
from 0.</p>

<p style="margin-left:11%;"><b>vsync-ratio</b></p>

<p style="margin-left:22%;">For how many vsyncs a frame is
displayed on average. This is available if display-sync is
active only. For 30 FPS video on a 60 Hz screen, this will
be 2. This is the moving average of what actually has been
scheduled, so 24 FPS on 60 Hz will never remain exactly on
2.5, but jitter depending on the last frame displayed.</p>


<p style="margin-left:11%;"><b>vo-delayed-frame-count</b></p>

<p style="margin-left:22%;">Estimated number of frames
delayed due to external circumstances in display-sync mode.
Note that in general, mpv has to guess that this is
happening, and the guess can be inaccurate.</p>

<p style="margin-left:11%;"><b>percent-pos (RW)</b></p>

<p style="margin-left:22%;">Position in current file
(0-100). The advantage over using this instead of
calculating it out of other properties is that it properly
falls back to estimating the playback position from the byte
position, if the file duration is not known.</p>

<p style="margin-left:11%;"><b>time-pos (RW)</b></p>

<p style="margin-left:22%;">Position in current file in
seconds.</p>

<p style="margin-left:11%;"><b>time-start</b></p>

<p style="margin-left:22%;">Deprecated. Always returns 0.
Before mpv 0.14, this used to return the start time of the
file (could affect e.g. transport streams). See
<b>--rebase-start-time</b> option.</p>

<p style="margin-left:11%;"><b>time-remaining</b></p>

<p style="margin-left:22%;">Remaining length of the file in
seconds. Note that the file duration is not always exactly
known, so this is an estimate.</p>

<p style="margin-left:11%;"><b>audio-pts (R)</b></p>

<p style="margin-left:22%;">Current audio playback position
in current file in seconds. Unlike time-pos, this updates
more often than once per frame. For audio-only files, it is
mostly equivalent to time-pos, while for video-only files
this property is not available.</p>

<p style="margin-left:11%;"><b>playtime-remaining</b></p>

<p style="margin-left:22%;"><b>time-remaining</b> scaled by
the current <b>speed</b>.</p>

<p style="margin-left:11%;"><b>playback-time (RW)</b></p>

<p style="margin-left:22%;">Position in current file in
seconds. Unlike <b>time-pos</b>, the time is clamped to the
range of the file. (Inaccurate file durations etc. could
make it go out of range. Useful on attempts to seek outside
of the file, as the seek target time is considered the
current position during seeking.)</p>

<p style="margin-left:11%;"><b>chapter (RW)</b></p>

<p style="margin-left:22%;">Current chapter number. The
number of the first chapter is 0.</p>

<p style="margin-left:11%;"><b>edition (RW)</b></p>

<p style="margin-left:22%;">Current MKV edition number.
Setting this property to a different value will restart
playback. The number of the first edition is 0.</p>

<p style="margin-left:22%; margin-top: 1em">Before mpv
0.31.0, this showed the actual edition selected at runtime,
if you didn't set the option or property manually. With mpv
0.31.0 and later, this strictly returns the user-set option
or property value, and the <b>current-edition</b> property
was added to return the runtime selected edition (this
matters with <b>--edition=auto</b>, the default).</p>

<p style="margin-left:11%;"><b>current-edition</b></p>

<p style="margin-left:22%;">Currently selected edition.
This property is unavailable if no file is loaded, or the
file has no editions. (Matroska files make a difference
between having no editions and a single edition, which will
be reflected by the property, although in practice it does
not matter.)</p>

<p style="margin-left:11%;"><b>chapters</b></p>

<p style="margin-left:22%;">Number of chapters.</p>

<p style="margin-left:11%;"><b>editions</b></p>

<p style="margin-left:22%;">Number of MKV editions.</p>

<p style="margin-left:11%;"><b>edition-list</b></p>

<p style="margin-left:22%;">List of editions, current entry
marked. Currently, the raw property value is useless.</p>

<p style="margin-left:22%; margin-top: 1em">This has a
number of sub-properties. Replace <b>N</b> with the 0-based
edition index. <b><br>
edition-list/count</b></p>

<p style="margin-left:32%;">Number of editions. If there
are no editions, this can be 0 or 1 (1 if there's a useless
dummy edition).</p>

<p style="margin-left:22%;"><b>edition-list/N/id</b></p>

<p style="margin-left:32%;">Edition ID as integer. Use this
to set the <b>edition</b> property. Currently, this is the
same as the edition index.</p>


<p style="margin-left:22%;"><b>edition-list/N/default</b></p>

<p style="margin-left:32%;"><b>yes</b> if this is the
default edition, <b>no</b> otherwise.</p>


<p style="margin-left:22%;"><b>edition-list/N/title</b></p>

<p style="margin-left:32%;">Edition title as stored in the
file. Not always available.</p>

<p style="margin-left:22%; margin-top: 1em">When querying
the property with the client API using
<b>MPV_FORMAT_NODE</b>, or with Lua
<b>mp.get_property_native</b>, this will return a mpv_node
with the following contents:</p>

<pre style="margin-left:26%; margin-top: 1em">MPV_FORMAT_NODE_ARRAY
    MPV_FORMAT_NODE_MAP (for each edition)
        &quot;id&quot;                MPV_FORMAT_INT64
        &quot;title&quot;             MPV_FORMAT_STRING
        &quot;default&quot;           MPV_FORMAT_FLAG</pre>


<p style="margin-left:11%;"><b>metadata</b></p>

<p style="margin-left:22%;">Metadata key/value pairs.</p>

<p style="margin-left:22%; margin-top: 1em">If the property
is accessed with Lua's <b>mp.get_property_native</b>, this
returns a table with metadata keys mapping to metadata
values. If it is accessed with the client API, this returns
a <b>MPV_FORMAT_NODE_MAP</b>, with tag keys mapping to tag
values.</p>

<p style="margin-left:22%; margin-top: 1em">For OSD, it
returns a formatted list. Trying to retrieve this property
as a raw string doesn't work.</p>

<p style="margin-left:22%; margin-top: 1em">This has a
number of sub-properties: <b><br>
metadata/by-key/&lt;key&gt;</b></p>

<p style="margin-left:32%;">Value of metadata entry
<b>&lt;key&gt;</b>.</p>

<p style="margin-left:22%;"><b>metadata/list/count</b></p>

<p style="margin-left:32%;">Number of metadata entries.</p>

<p style="margin-left:22%;"><b>metadata/list/N/key</b></p>

<p style="margin-left:32%;">Key name of the Nth metadata
entry. (The first entry is <b>0</b>).</p>


<p style="margin-left:22%;"><b>metadata/list/N/value</b></p>

<p style="margin-left:32%;">Value of the Nth metadata
entry.</p>


<p style="margin-left:22%;"><b>metadata/&lt;key&gt;</b></p>

<p style="margin-left:32%;">Old version of
<b>metadata/by-key/&lt;key&gt;</b>. Use is discouraged,
because the metadata key string could conflict with other
sub-properties.</p>

<p style="margin-left:22%; margin-top: 1em">The layout of
this property might be subject to change. Suggestions are
welcome how exactly this property should work.</p>

<p style="margin-left:22%; margin-top: 1em">When querying
the property with the client API using
<b>MPV_FORMAT_NODE</b>, or with Lua
<b>mp.get_property_native</b>, this will return a mpv_node
with the following contents:</p>

<pre style="margin-left:26%; margin-top: 1em">MPV_FORMAT_NODE_MAP
    (key and string value for each metadata entry)</pre>


<p style="margin-left:11%;"><b>filtered-metadata</b></p>

<p style="margin-left:22%;">Like <b>metadata</b>, but
includes only fields listed in the <b>--display-tags</b>
option. This is the same set of tags that is printed to the
terminal.</p>

<p style="margin-left:11%;"><b>chapter-metadata</b></p>

<p style="margin-left:22%;">Metadata of current chapter.
Works similar to <b>metadata</b> property. It also allows
the same access methods (using sub-properties).</p>

<p style="margin-left:22%; margin-top: 1em">Per-chapter
metadata is very rare. Usually, only the chapter name
(<b>title</b>) is set.</p>

<p style="margin-left:22%; margin-top: 1em">For accessing
other information, like chapter start, see the
<b>chapter-list</b> property.</p>


<p style="margin-left:11%;"><b>vf-metadata/&lt;filter-label&gt;</b></p>

<p style="margin-left:22%;">Metadata added by video
filters. Accessed by the filter label, which, if not
explicitly specified using the <b>@filter-label:</b> syntax,
will be <b>&lt;filter-name&gt;NN</b>.</p>

<p style="margin-left:22%; margin-top: 1em">Works similar
to <b>metadata</b> property. It allows the same access
methods (using sub-properties).</p>

<p style="margin-left:22%; margin-top: 1em">An example of
this kind of metadata are the cropping parameters added by
<b>--vf=lavfi=cropdetect</b>.</p>


<p style="margin-left:11%;"><b>af-metadata/&lt;filter-label&gt;</b></p>

<p style="margin-left:22%;">Equivalent to
<b>vf-metadata/&lt;filter-label&gt;</b>, but for audio
filters.</p>

<p style="margin-left:11%;"><b>idle-active</b></p>

<p style="margin-left:22%;">Return <b>yes</b> if no file is
loaded, but the player is staying around because of the
<b>--idle</b> option.</p>

<p style="margin-left:22%; margin-top: 1em">(Renamed from
<b>idle</b>.)</p>

<p style="margin-left:11%;"><b>core-idle</b></p>

<p style="margin-left:22%;">Return <b>yes</b> if the
playback core is paused, otherwise <b>no</b>. This can be
different <b>pause</b> in special situations, such as when
the player pauses itself due to low network cache.</p>

<p style="margin-left:22%; margin-top: 1em">This also
returns <b>yes</b> if playback is restarting or if nothing
is playing at all. In other words, it's only <b>no</b> if
there's actually video playing. (Behavior since mpv
0.7.0.)</p>

<p style="margin-left:11%;"><b>cache-speed (R)</b></p>

<p style="margin-left:22%;">Current I/O read speed between
the cache and the lower layer (like network). This gives the
number bytes per seconds over a 1 second window (using the
type <b>MPV_FORMAT_INT64</b> for the client API).</p>


<p style="margin-left:11%;"><b>demuxer-cache-duration</b></p>

<p style="margin-left:22%;">Approximate duration of video
buffered in the demuxer, in seconds. The guess is very
unreliable, and often the property will not be available at
all, even if data is buffered.</p>

<p style="margin-left:11%;"><b>demuxer-cache-time</b></p>

<p style="margin-left:22%;">Approximate time of video
buffered in the demuxer, in seconds. Same as
<b>demuxer-cache-duration</b> but returns the last timestamp
of buffered data in demuxer.</p>

<p style="margin-left:11%;"><b>demuxer-cache-idle</b></p>

<p style="margin-left:22%;">Returns <b>yes</b> if the
demuxer is idle, which means the demuxer cache is filled to
the requested amount, and is currently not reading more
data.</p>

<p style="margin-left:11%;"><b>demuxer-cache-state</b></p>

<p style="margin-left:22%;">Various undocumented or
half-documented things.</p>

<p style="margin-left:22%; margin-top: 1em">Each entry in
<b>seekable-ranges</b> represents a region in the demuxer
cache that can be seeked to. If there are multiple demuxers
active, this only returns information about the
&quot;main&quot; demuxer, but might be changed in future to
return unified information about all demuxers. The ranges
are in arbitrary order. Often, ranges will overlap for a
bit, before being joined. In broken corner cases, ranges may
overlap all over the place.</p>

<p style="margin-left:22%; margin-top: 1em">The end of a
seek range is usually smaller than the value returned by the
<b>demuxer-cache-time</b> property, because that property
returns the guessed buffering amount, while the seek ranges
represent the buffered data that can actually be used for
cached seeking.</p>


<p style="margin-left:22%; margin-top: 1em"><b>bof-cached</b>
indicates whether the seek range with the lowest timestamp
points to the beginning of the stream (BOF). This implies
you cannot seek before this position at all.
<b>eof-cached</b> indicates whether the seek range with the
highest timestamp points to the end of the stream (EOF). If
both <b>bof-cached</b> and <b>eof-cached</b> are set to
<b>yes</b>, and there's only 1 cache range, the entire
stream is cached.</p>


<p style="margin-left:22%; margin-top: 1em"><b>fw-bytes</b>
is the number of bytes of packets buffered in the range
starting from the current decoding position. This is a rough
estimate (may not account correctly for various overhead),
and stops at the demuxer position (it ignores seek ranges
after it).</p>


<p style="margin-left:22%; margin-top: 1em"><b>file-cache-bytes</b>
is the number of bytes stored in the file cache. This
includes all overhead, and possibly unused data (like pruned
data). This member is missing if the file cache is not
active.</p>

<p style="margin-left:22%; margin-top: 1em">When querying
the property with the client API using
<b>MPV_FORMAT_NODE</b>, or with Lua
<b>mp.get_property_native</b>, this will return a mpv_node
with the following contents:</p>

<pre style="margin-left:26%; margin-top: 1em">MPV_FORMAT_NODE_MAP
    &quot;seekable-ranges&quot;   MPV_FORMAT_NODE_ARRAY
        MPV_FORMAT_NODE_MAP
            &quot;start&quot;             MPV_FORMAT_DOUBLE
            &quot;end&quot;               MPV_FORMAT_DOUBLE
    &quot;bof-cached&quot;        MPV_FORMAT_FLAG
    &quot;eof-cached&quot;        MPV_FORMAT_FLAG
    &quot;fw-bytes&quot;          MPV_FORMAT_INT64
    &quot;file-cache-bytes&quot;  MPV_FORMAT_INT64</pre>


<p style="margin-left:22%; margin-top: 1em">Other fields
(might be changed or removed in the future):</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="4%">


<p><b>eof</b></p></td>
<td width="6%"></td>
<td width="68%">


<p>True if the reader thread has hit the end of the
file.</p> </td></tr>
</table>

<p style="margin-left:22%;"><b>underrun</b></p>

<p style="margin-left:32%;">True if the reader thread could
not satisfy a decoder's request for a new packet.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p><b>idle</b></p></td>
<td width="4%"></td>
<td width="68%">


<p>True if the thread is currently not reading.</p></td></tr>
</table>

<p style="margin-left:22%;"><b>total-bytes</b></p>

<p style="margin-left:32%;">Sum of packet bytes (plus some
overhead estimation) of the entire packet queue, including
cached seekable ranges.</p>

<p style="margin-left:11%;"><b>demuxer-via-network</b></p>

<p style="margin-left:22%;">Returns <b>yes</b> if the
stream demuxed via the main demuxer is most likely played
via network. What constitutes &quot;network&quot; is not
always clear, might be used for other types of untrusted
streams, could be wrong in certain cases, and its definition
might be changing. Also, external files (like separate audio
files or streams) do not influence the value of this
property (currently).</p>

<p style="margin-left:11%;"><b>demuxer-start-time
(R)</b></p>

<p style="margin-left:22%;">Returns the start time reported
by the demuxer in fractional seconds.</p>

<p style="margin-left:11%;"><b>paused-for-cache</b></p>

<p style="margin-left:22%;">Returns <b>yes</b> when
playback is paused because of waiting for the cache.</p>


<p style="margin-left:11%;"><b>cache-buffering-state</b></p>

<p style="margin-left:22%;">Return the percentage (0-100)
of the cache fill status until the player will unpause
(related to <b>paused-for-cache</b>).</p>

<p style="margin-left:11%;"><b>eof-reached</b></p>

<p style="margin-left:22%;">Returns <b>yes</b> if end of
playback was reached, <b>no</b> otherwise. Note that this is
usually interesting only if <b>--keep-open</b> is enabled,
since otherwise the player will immediately play the next
file (or exit or enter idle mode), and in these cases the
<b>eof-reached</b> property will logically be cleared
immediately after it's set.</p>

<p style="margin-left:11%;"><b>seeking</b></p>

<p style="margin-left:22%;">Returns <b>yes</b> if the
player is currently seeking, or otherwise trying to restart
playback. (It's possible that it returns <b>yes</b> while a
file is loaded. This is because the same underlying code is
used for seeking and resyncing.)</p>

<p style="margin-left:11%;"><b>mixer-active</b></p>

<p style="margin-left:22%;">Return <b>yes</b> if the audio
mixer is active, <b>no</b> otherwise.</p>

<p style="margin-left:22%; margin-top: 1em">This option is
relatively useless. Before mpv 0.18.1, it could be used to
infer behavior of the <b>volume</b> property.</p>

<p style="margin-left:11%;"><b>ao-volume (RW)</b></p>

<p style="margin-left:22%;">System volume. This property is
available only if mpv audio output is currently active, and
only if the underlying implementation supports volume
control. What this option does depends on the API. For
example, on ALSA this usually changes system-wide audio,
while with PulseAudio this controls per-application
volume.</p>

<p style="margin-left:11%;"><b>ao-mute (RW)</b></p>

<p style="margin-left:22%;">Similar to <b>ao-volume</b>,
but controls the mute state. May be unimplemented even if
<b>ao-volume</b> works.</p>

<p style="margin-left:11%;"><b>audio-codec</b></p>

<p style="margin-left:22%;">Audio codec selected for
decoding.</p>

<p style="margin-left:11%;"><b>audio-codec-name</b></p>

<p style="margin-left:22%;">Audio codec.</p>

<p style="margin-left:11%;"><b>audio-params</b></p>

<p style="margin-left:22%;">Audio format as output by the
audio decoder. This has a number of sub-properties: <b><br>
audio-params/format</b></p>

<p style="margin-left:32%;">The sample format as string.
This uses the same names as used in other places of mpv.</p>


<p style="margin-left:22%;"><b>audio-params/samplerate</b></p>

<p style="margin-left:32%;">Samplerate.</p>


<p style="margin-left:22%;"><b>audio-params/channels</b></p>

<p style="margin-left:32%;">The channel layout as a string.
This is similar to what the <b>--audio-channels</b>
accepts.</p>


<p style="margin-left:22%;"><b>audio-params/hr-channels</b></p>

<p style="margin-left:32%;">As <b>channels</b>, but instead
of the possibly cryptic actual layout sent to the audio
device, return a hopefully more human readable form.
(Usually only <b>audio-out-params/hr-channels</b> makes
sense.)</p>


<p style="margin-left:22%;"><b>audio-params/channel-count</b></p>

<p style="margin-left:32%;">Number of audio channels. This
is redundant to the <b>channels</b> field described
above.</p>

<p style="margin-left:22%; margin-top: 1em">When querying
the property with the client API using
<b>MPV_FORMAT_NODE</b>, or with Lua
<b>mp.get_property_native</b>, this will return a mpv_node
with the following contents:</p>

<pre style="margin-left:26%; margin-top: 1em">MPV_FORMAT_NODE_MAP
    &quot;format&quot;            MPV_FORMAT_STRING
    &quot;samplerate&quot;        MPV_FORMAT_INT64
    &quot;channels&quot;          MPV_FORMAT_STRING
    &quot;channel-count&quot;     MPV_FORMAT_INT64
    &quot;hr-channels&quot;       MPV_FORMAT_STRING</pre>


<p style="margin-left:11%;"><b>audio-out-params</b></p>

<p style="margin-left:22%;">Same as <b>audio-params</b>,
but the format of the data written to the audio API.</p>

<p style="margin-left:11%;"><b>colormatrix (R)</b></p>

<p style="margin-left:22%;">Redirects to
<b>video-params/colormatrix</b>. This parameter (as well as
similar ones) can be overridden with the <b>format</b> video
filter.</p>

<p style="margin-left:11%;"><b>colormatrix-input-range
(R)</b></p>

<p style="margin-left:22%;">See <b>colormatrix</b>.</p>

<p style="margin-left:11%;"><b>colormatrix-primaries
(R)</b></p>

<p style="margin-left:22%;">See <b>colormatrix</b>.</p>

<p style="margin-left:11%;"><b>hwdec (RW)</b></p>

<p style="margin-left:22%;">Reflects the <b>--hwdec</b>
option.</p>

<p style="margin-left:22%; margin-top: 1em">Writing to it
may change the currently used hardware decoder, if possible.
(Internally, the player may reinitialize the decoder, and
will perform a seek to refresh the video properly.) You can
watch the other hwdec properties to see whether this was
successful.</p>

<p style="margin-left:22%; margin-top: 1em">Unlike in mpv
0.9.x and before, this does not return the currently active
hardware decoder. Since mpv 0.18.0, <b>hwdec-current</b> is
available for this purpose.</p>

<p style="margin-left:11%;"><b>hwdec-current</b></p>

<p style="margin-left:22%;">Return the current hardware
decoding in use. If decoding is active, return one of the
values used by the <b>hwdec</b> option/property. <b>no</b>
indicates software decoding. If no decoder is loaded, the
property is unavailable.</p>

<p style="margin-left:11%;"><b>hwdec-interop</b></p>

<p style="margin-left:22%;">This returns the currently
loaded hardware decoding/output interop driver. This is
known only once the VO has opened (and possibly later). With
some VOs (like <b>gpu</b>), this might be never known in
advance, but only when the decoder attempted to create the
hw decoder successfully. (Using <b>--gpu-hwdec-interop</b>
can load it eagerly.) If there are multiple drivers loaded,
they will be separated by <b>,</b>.</p>

<p style="margin-left:22%; margin-top: 1em">If no VO is
active or no interop driver is known, this property is
unavailable.</p>

<p style="margin-left:22%; margin-top: 1em">This does not
necessarily use the same values as <b>hwdec</b>. There can
be multiple interop drivers for the same hardware decoder,
depending on platform and VO.</p>

<p style="margin-left:11%;"><b>video-format</b></p>

<p style="margin-left:22%;">Video format as string.</p>

<p style="margin-left:11%;"><b>video-codec</b></p>

<p style="margin-left:22%;">Video codec selected for
decoding.</p>

<p style="margin-left:11%;"><b>width, height</b></p>

<p style="margin-left:22%;">Video size. This uses the size
of the video as decoded, or if no video frame has been
decoded yet, the (possibly incorrect) container indicated
size.</p>

<p style="margin-left:11%;"><b>video-params</b></p>

<p style="margin-left:22%;">Video parameters, as output by
the decoder (with overrides like aspect etc. applied). This
has a number of sub-properties: <b><br>
video-params/pixelformat</b></p>

<p style="margin-left:32%;">The pixel format as string.
This uses the same names as used in other places of mpv.</p>


<p style="margin-left:22%;"><b>video-params/average-bpp</b></p>

<p style="margin-left:32%;">Average bits-per-pixel as
integer. Subsampled planar formats use a different
resolution, which is the reason this value can sometimes be
odd or confusing. Can be unavailable with some formats.</p>


<p style="margin-left:22%;"><b>video-params/plane-depth</b></p>

<p style="margin-left:32%;">Bit depth for each color
component as integer. This is only exposed for planar or
single-component formats, and is unavailable for other
formats.</p>

<p style="margin-left:22%;"><b>video-params/w,
video-params/h</b></p>

<p style="margin-left:32%;">Video size as integers, with no
aspect correction applied.</p>

<p style="margin-left:22%;"><b>video-params/dw,
video-params/dh</b></p>

<p style="margin-left:32%;">Video size as integers, scaled
for correct aspect ratio.</p>

<p style="margin-left:22%;"><b>video-params/aspect</b></p>

<p style="margin-left:32%;">Display aspect ratio as
float.</p>

<p style="margin-left:22%;"><b>video-params/par</b></p>

<p style="margin-left:32%;">Pixel aspect ratio.</p>


<p style="margin-left:22%;"><b>video-params/colormatrix</b></p>

<p style="margin-left:32%;">The colormatrix in use as
string. (Exact values subject to change.)</p>


<p style="margin-left:22%;"><b>video-params/colorlevels</b></p>

<p style="margin-left:32%;">The colorlevels as string.
(Exact values subject to change.)</p>


<p style="margin-left:22%;"><b>video-params/primaries</b></p>

<p style="margin-left:32%;">The primaries in use as string.
(Exact values subject to change.)</p>

<p style="margin-left:22%;"><b>video-params/gamma</b></p>

<p style="margin-left:32%;">The gamma function in use as
string. (Exact values subject to change.)</p>


<p style="margin-left:22%;"><b>video-params/sig-peak</b></p>

<p style="margin-left:32%;">The video file's tagged signal
peak as float.</p>

<p style="margin-left:22%;"><b>video-params/light</b></p>

<p style="margin-left:32%;">The light type in use as a
string. (Exact values subject to change.)</p>


<p style="margin-left:22%;"><b>video-params/chroma-location</b></p>

<p style="margin-left:32%;">Chroma location as string.
(Exact values subject to change.)</p>

<p style="margin-left:22%;"><b>video-params/rotate</b></p>

<p style="margin-left:32%;">Intended display rotation in
degrees (clockwise).</p>


<p style="margin-left:22%;"><b>video-params/stereo-in</b></p>

<p style="margin-left:32%;">Source file stereo 3D mode.
(See the <b>format</b> video filter's <b>stereo-in</b>
option.)</p>

<p style="margin-left:22%; margin-top: 1em">When querying
the property with the client API using
<b>MPV_FORMAT_NODE</b>, or with Lua
<b>mp.get_property_native</b>, this will return a mpv_node
with the following contents:</p>

<pre style="margin-left:26%; margin-top: 1em">MPV_FORMAT_NODE_MAP
    &quot;pixelformat&quot;       MPV_FORMAT_STRING
    &quot;w&quot;                 MPV_FORMAT_INT64
    &quot;h&quot;                 MPV_FORMAT_INT64
    &quot;dw&quot;                MPV_FORMAT_INT64
    &quot;dh&quot;                MPV_FORMAT_INT64
    &quot;aspect&quot;            MPV_FORMAT_DOUBLE
    &quot;par&quot;               MPV_FORMAT_DOUBLE
    &quot;colormatrix&quot;       MPV_FORMAT_STRING
    &quot;colorlevels&quot;       MPV_FORMAT_STRING
    &quot;primaries&quot;         MPV_FORMAT_STRING
    &quot;gamma&quot;             MPV_FORMAT_STRING
    &quot;sig-peak&quot;          MPV_FORMAT_DOUBLE
    &quot;light&quot;             MPV_FORMAT_STRING
    &quot;chroma-location&quot;   MPV_FORMAT_STRING
    &quot;rotate&quot;            MPV_FORMAT_INT64
    &quot;stereo-in&quot;         MPV_FORMAT_STRING</pre>


<p style="margin-left:11%;"><b>dwidth, dheight</b></p>

<p style="margin-left:22%;">Video display size. This is the
video size after filters and aspect scaling have been
applied. The actual video window size can still be different
from this, e.g. if the user resized the video window
manually.</p>

<p style="margin-left:22%; margin-top: 1em">These have the
same values as <b>video-out-params/dw</b> and
<b>video-out-params/dh</b>.</p>

<p style="margin-left:11%;"><b>video-dec-params</b></p>

<p style="margin-left:22%;">Exactly like
<b>video-params</b>, but no overrides applied.</p>

<p style="margin-left:11%;"><b>video-out-params</b></p>

<p style="margin-left:22%;">Same as <b>video-params</b>,
but after video filters have been applied. If there are no
video filters in use, this will contain the same values as
<b>video-params</b>. Note that this is still not necessarily
what the video window uses, since the user can change the
window size, and all real VOs do their own scaling
independently from the filter chain.</p>

<p style="margin-left:22%; margin-top: 1em">Has the same
sub-properties as <b>video-params</b>.</p>

<p style="margin-left:11%;"><b>video-frame-info</b></p>

<p style="margin-left:22%;">Approximate information of the
current frame. Note that if any of these are used on OSD,
the information might be off by a few frames due to OSD
redrawing and frame display being somewhat disconnected, and
you might have to pause and force a redraw.</p>


<p style="margin-left:22%; margin-top: 1em">Sub-properties:</p>


<pre style="margin-left:26%; margin-top: 1em">video-frame-info/picture-type
video-frame-info/interlaced
video-frame-info/tff
video-frame-info/repeat</pre>


<p style="margin-left:11%;"><b>container-fps</b></p>

<p style="margin-left:22%;">Container FPS. This can easily
contain bogus values. For videos that use modern container
formats or video codecs, this will often be incorrect.</p>

<p style="margin-left:22%; margin-top: 1em">(Renamed from
<b>fps</b>.)</p>

<p style="margin-left:11%;"><b>estimated-vf-fps</b></p>

<p style="margin-left:22%;">Estimated/measured FPS of the
video filter chain output. (If no filters are used, this
corresponds to decoder output.) This uses the average of the
10 past frame durations to calculate the FPS. It will be
inaccurate if frame-dropping is involved (such as when
framedrop is explicitly enabled, or after precise seeking).
Files with imprecise timestamps (such as Matroska) might
lead to unstable results.</p>

<p style="margin-left:11%;"><b>window-scale (RW)</b></p>

<p style="margin-left:22%;">Window size multiplier. Setting
this will resize the video window to the values contained in
<b>dwidth</b> and <b>dheight</b> multiplied with the value
set with this property. Setting <b>1</b> will resize to
original video size (or to be exact, the size the video
filters output). <b>2</b> will set the double size,
<b>0.5</b> halves the size.</p>

<p style="margin-left:22%; margin-top: 1em">See
<b>current-window-scale</b> for the value derived from the
actual window size.</p>

<p style="margin-left:22%; margin-top: 1em">Since mpv
0.31.0, this always returns the previously set value (or the
default value), instead of the value implied by the actual
window size. Before mpv 0.31.0, this returned what
<b>current-window-scale</b> returns now, after the window
was created.</p>


<p style="margin-left:11%;"><b>current-window-scale</b></p>

<p style="margin-left:22%;">The <b>window-scale</b> value
calculated from the current window size. This has the same
value as <b>window-scale</b> if the window size was not
changed since setting the option, and the window size was
not restricted in other ways. The property is unavailable if
no video is active.</p>

<p style="margin-left:11%;"><b>display-names</b></p>

<p style="margin-left:22%;">Names of the displays that the
mpv window covers. On X11, these are the xrandr names
(LVDS1, HDMI1, DP1, VGA1, etc.). On Windows, these are the
GDI names (\.DISPLAY1, \.DISPLAY2, etc.) and the first
display in the list will be the one that Windows considers
associated with the window (as determined by the
MonitorFromWindow API.) On macOS these are the Display
Product Names as used in the System Information and only one
display name is returned since a window can only be on one
screen.</p>

<p style="margin-left:11%;"><b>display-fps</b></p>

<p style="margin-left:22%;">The refresh rate of the current
display. Currently, this is the lowest FPS of any display
covered by the video, as retrieved by the underlying system
APIs (e.g. xrandr on X11). It is not the measured FPS. It's
not necessarily available on all platforms. Note that any of
the listed facts may change any time without a warning.</p>

<p style="margin-left:22%; margin-top: 1em">Writing to this
property is deprecated. It has the same effect as writing to
<b>override-display-fps</b>. Since mpv 0.31.0, this property
is unavailable if no display FPS was reported (e.g. if no
video is active), while in older versions, it returned the
<b>--display-fps</b> option value.</p>


<p style="margin-left:11%;"><b>estimated-display-fps</b></p>

<p style="margin-left:22%;">Only available if display-sync
mode (as selected by <b>--video-sync</b>) is active. Returns
the actual rate at which display refreshes seem to occur,
measured by system time.</p>

<p style="margin-left:11%;"><b>vsync-jitter</b></p>

<p style="margin-left:22%;">Estimated deviation factor of
the vsync duration.</p>

<p style="margin-left:11%;"><b>display-hidpi-scale</b></p>

<p style="margin-left:22%;">The HiDPI scale factor as
reported by the windowing backend. If no VO is active, or if
the VO does not report a value, this property is
unavailable. It may be saner to report an absolute DPI,
however, this is the way HiDPI support is implemented on
most OS APIs. See also <b>--hidpi-window-scale</b>.</p>

<p style="margin-left:11%;"><b>video-aspect (RW)</b></p>

<p style="margin-left:22%;">Deprecated. This is tied to
<b>--video-aspect-override</b>, but always reports the
current video aspect if video is active.</p>

<p style="margin-left:22%; margin-top: 1em">The read and
write components of this option can be split up into
<b>video-params/aspect</b> and <b>video-aspect-override</b>
respectively.</p>

<p style="margin-left:11%;"><b>osd-width,
osd-height</b></p>

<p style="margin-left:22%;">Last known OSD width (can be
0). This is needed if you want to use the <b>overlay-add</b>
command. It gives you the actual OSD size, which can be
different from the window size in some cases.</p>

<p style="margin-left:22%; margin-top: 1em">Alias to
<b>osd-dimensions/w</b> and <b>osd-dimensions/h</b>.</p>

<p style="margin-left:11%;"><b>osd-par</b></p>

<p style="margin-left:22%;">Last known OSD display pixel
aspect (can be 0).</p>

<p style="margin-left:22%; margin-top: 1em">Alias to
<b>osd-dimensions/osd-par</b>.</p>

<p style="margin-left:11%;"><b>osd-dimensions</b></p>

<p style="margin-left:22%;">Last known OSD dimensions.</p>

<p style="margin-left:22%; margin-top: 1em">Has the
following sub-properties (which can be read as
<b>MPV_FORMAT_NODE</b> or Lua table with
<b>mp.get_property_native</b>):</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>w</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>Size of the VO window in OSD render units (usually
pixels, but may be scaled pixels with VOs like
<b>xv</b>).</p> </td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>h</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>Size of the VO window in OSD render units,</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>par</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>Pixel aspect ratio of the OSD (usually 1).</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>aspect</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>Display aspect ratio of the VO window. (Computing from
the properties above.)</p></td></tr>
</table>

<p style="margin-left:22%;"><b>mt, mb, ml, mr</b></p>

<p style="margin-left:32%;">OSD to video margins (top,
bottom, left, right). This describes the area into which the
video is rendered.</p>

<p style="margin-left:22%; margin-top: 1em">Any of these
properties may be unavailable or set to dummy values if the
VO window is not created or visible.</p>

<p style="margin-left:11%;"><b>sub-text</b></p>

<p style="margin-left:22%;">Return the current subtitle
text regardless of sub visibility. Formatting is stripped.
If the subtitle is not text-based (i.e. DVD/BD subtitles),
an empty string is returned.</p>

<p style="margin-left:22%; margin-top: 1em">This property
is experimental and might be removed in the future.</p>

<p style="margin-left:11%;"><b>sub-start</b></p>

<p style="margin-left:22%;">Return the current subtitle
start time (in seconds). If there's multiple current
subtitles, returns the first start time. If no current
subtitle is present null is returned instead.</p>

<p style="margin-left:11%;"><b>sub-end</b></p>

<p style="margin-left:22%;">Return the current subtitle
start time (in seconds). If there's multiple current
subtitles, return the last end time. If no current subtitle
is present, or if it's present but has unknown or incorrect
duration, null is returned instead.</p>

<p style="margin-left:11%;"><b>playlist-pos (RW)</b></p>

<p style="margin-left:22%;">Current position on playlist.
The first entry is on position 0. Writing to the property
will restart playback at the written entry.</p>

<p style="margin-left:11%;"><b>playlist-pos-1 (RW)</b></p>

<p style="margin-left:22%;">Same as <b>playlist-pos</b>,
but 1-based.</p>

<p style="margin-left:11%;"><b>playlist-count</b></p>

<p style="margin-left:22%;">Number of total playlist
entries.</p>

<p style="margin-left:11%;"><b>playlist</b></p>

<p style="margin-left:22%;">Playlist, current entry marked.
Currently, the raw property value is useless.</p>

<p style="margin-left:22%; margin-top: 1em">This has a
number of sub-properties. Replace <b>N</b> with the 0-based
playlist entry index. <b><br>
playlist/count</b></p>

<p style="margin-left:32%;">Number of playlist entries
(same as <b>playlist-count</b>).</p>

<p style="margin-left:22%;"><b>playlist/N/filename</b></p>

<p style="margin-left:32%;">Filename of the Nth entry.</p>

<p style="margin-left:22%;"><b>playlist/N/current,
playlist/N/playing</b></p>

<p style="margin-left:32%;"><b>yes</b> if this entry is
currently playing (or being loaded). Unavailable or
<b>no</b> otherwise. When changing files, <b>current</b> and
<b>playing</b> can be different, because the currently
playing file hasn't been unloaded yet; in this case,
<b>current</b> refers to the new selection. (Since mpv
0.7.0.)</p>

<p style="margin-left:22%;"><b>playlist/N/title</b></p>

<p style="margin-left:32%;">Name of the Nth entry. Only
available if the playlist file contains such fields, and
only if mpv's parser supports it for the given playlist
format.</p>

<p style="margin-left:22%; margin-top: 1em">When querying
the property with the client API using
<b>MPV_FORMAT_NODE</b>, or with Lua
<b>mp.get_property_native</b>, this will return a mpv_node
with the following contents:</p>

<pre style="margin-left:26%; margin-top: 1em">MPV_FORMAT_NODE_ARRAY
    MPV_FORMAT_NODE_MAP (for each playlist entry)
        &quot;filename&quot;  MPV_FORMAT_STRING
        &quot;current&quot;   MPV_FORMAT_FLAG (might be missing; since mpv 0.7.0)
        &quot;playing&quot;   MPV_FORMAT_FLAG (same)
        &quot;title&quot;     MPV_FORMAT_STRING (optional)</pre>


<p style="margin-left:11%;"><b>track-list</b></p>

<p style="margin-left:22%;">List of audio/video/sub tracks,
current entry marked. Currently, the raw property value is
useless.</p>

<p style="margin-left:22%; margin-top: 1em">This has a
number of sub-properties. Replace <b>N</b> with the 0-based
track index. <b><br>
track-list/count</b></p>

<p style="margin-left:32%;">Total number of tracks.</p>

<p style="margin-left:22%;"><b>track-list/N/id</b></p>

<p style="margin-left:32%;">The ID as it's used for
<b>-sid</b>/<b>--aid</b>/<b>--vid</b>. This is unique within
tracks of the same type (sub/audio/video), but otherwise
not.</p>

<p style="margin-left:22%;"><b>track-list/N/type</b></p>

<p style="margin-left:32%;">String describing the media
type. One of <b>audio</b>, <b>video</b>, <b>sub</b>.</p>

<p style="margin-left:22%;"><b>track-list/N/src-id</b></p>

<p style="margin-left:32%;">Track ID as used in the source
file. Not always available. (It is missing if the format has
no native ID, if the track is a pseudo-track that does not
exist in this way in the actual file, or if the format is
handled by libavformat, and the format was not whitelisted
as having track IDs.)</p>

<p style="margin-left:22%;"><b>track-list/N/title</b></p>

<p style="margin-left:32%;">Track title as it is stored in
the file. Not always available.</p>

<p style="margin-left:22%;"><b>track-list/N/lang</b></p>

<p style="margin-left:32%;">Track language as identified by
the file. Not always available.</p>


<p style="margin-left:22%;"><b>track-list/N/albumart</b></p>

<p style="margin-left:32%;"><b>yes</b> if this is a video
track that consists of a single picture, <b>no</b> or
unavailable otherwise. This is used for video tracks that
are really attached pictures in audio files.</p>


<p style="margin-left:22%;"><b>track-list/N/default</b></p>

<p style="margin-left:32%;"><b>yes</b> if the track has the
default flag set in the file, <b>no</b> otherwise.</p>

<p style="margin-left:22%;"><b>track-list/N/forced</b></p>

<p style="margin-left:32%;"><b>yes</b> if the track has the
forced flag set in the file, <b>no</b> otherwise.</p>

<p style="margin-left:22%;"><b>track-list/N/codec</b></p>

<p style="margin-left:32%;">The codec name used by this
track, for example <b>h264</b>. Unavailable in some rare
cases.</p>


<p style="margin-left:22%;"><b>track-list/N/external</b></p>

<p style="margin-left:32%;"><b>yes</b> if the track is an
external file, <b>no</b> otherwise. This is set for separate
subtitle files.</p>


<p style="margin-left:22%;"><b>track-list/N/external-filename</b></p>

<p style="margin-left:32%;">The filename if the track is
from an external file, unavailable otherwise.</p>


<p style="margin-left:22%;"><b>track-list/N/selected</b></p>

<p style="margin-left:32%;"><b>yes</b> if the track is
currently decoded, <b>no</b> otherwise.</p>


<p style="margin-left:22%;"><b>track-list/N/ff-index</b></p>

<p style="margin-left:32%;">The stream index as usually
used by the FFmpeg utilities. Note that this can be
potentially wrong if a demuxer other than libavformat
(<b>--demuxer=lavf</b>) is used. For mkv files, the index
will usually match even if the default (builtin) demuxer is
used, but there is no hard guarantee.</p>


<p style="margin-left:22%;"><b>track-list/N/decoder-desc</b></p>

<p style="margin-left:32%;">If this track is being decoded,
the human-readable decoder name,</p>

<p style="margin-left:22%;"><b>track-list/N/demux-w,
track-list/N/demux-h</b></p>

<p style="margin-left:32%;">Video size hint as indicated by
the container. (Not always accurate.)</p>


<p style="margin-left:22%;"><b>track-list/N/demux-channel-count</b></p>

<p style="margin-left:32%;">Number of audio channels as
indicated by the container. (Not always accurate - in
particular, the track could be decoded as a different number
of channels.)</p>


<p style="margin-left:22%;"><b>track-list/N/demux-channels</b></p>

<p style="margin-left:32%;">Channel layout as indicated by
the container. (Not always accurate.)</p>


<p style="margin-left:22%;"><b>track-list/N/demux-samplerate</b></p>

<p style="margin-left:32%;">Audio sample rate as indicated
by the container. (Not always accurate.)</p>


<p style="margin-left:22%;"><b>track-list/N/demux-fps</b></p>

<p style="margin-left:32%;">Video FPS as indicated by the
container. (Not always accurate.)</p>


<p style="margin-left:22%;"><b>track-list/N/demux-bitrate</b></p>

<p style="margin-left:32%;">Audio average bitrate, in bits
per second. (Not always accurate.)</p>


<p style="margin-left:22%;"><b>track-list/N/demux-rotation</b></p>

<p style="margin-left:32%;">Video clockwise rotation
metadata, in degrees.</p>


<p style="margin-left:22%;"><b>track-list/N/demux-par</b></p>

<p style="margin-left:32%;">Pixel aspect ratio.</p>

<p style="margin-left:22%;"><b>track-list/N/audio-channels
(deprecated)</b></p>

<p style="margin-left:32%;">Deprecated alias for
<b>track-list/N/demux-channel-count</b>.</p>


<p style="margin-left:22%;"><b>track-list/N/replaygain-track-peak,
<br>
track-list/N/replaygain-track-gain</b></p>

<p style="margin-left:32%;">Per-track replaygain values.
Only available for audio tracks with corresponding
information stored in the source file.</p>


<p style="margin-left:22%;"><b>track-list/N/replaygain-album-peak,
<br>
track-list/N/replaygain-album-gain</b></p>

<p style="margin-left:32%;">Per-album replaygain values. If
the file has per-track but no per-album information, the
per-album values will be copied from the per-track values
currently. It's possible that future mpv versions will make
these properties unavailable instead in this case.</p>

<p style="margin-left:22%; margin-top: 1em">When querying
the property with the client API using
<b>MPV_FORMAT_NODE</b>, or with Lua
<b>mp.get_property_native</b>, this will return a mpv_node
with the following contents:</p>

<pre style="margin-left:26%; margin-top: 1em">MPV_FORMAT_NODE_ARRAY
    MPV_FORMAT_NODE_MAP (for each track)
        &quot;id&quot;                MPV_FORMAT_INT64
        &quot;type&quot;              MPV_FORMAT_STRING
        &quot;src-id&quot;            MPV_FORMAT_INT64
        &quot;title&quot;             MPV_FORMAT_STRING
        &quot;lang&quot;              MPV_FORMAT_STRING
        &quot;albumart&quot;          MPV_FORMAT_FLAG
        &quot;default&quot;           MPV_FORMAT_FLAG
        &quot;forced&quot;            MPV_FORMAT_FLAG
        &quot;selected&quot;          MPV_FORMAT_FLAG
        &quot;external&quot;          MPV_FORMAT_FLAG
        &quot;external-filename&quot; MPV_FORMAT_STRING
        &quot;codec&quot;             MPV_FORMAT_STRING
        &quot;ff-index&quot;          MPV_FORMAT_INT64
        &quot;decoder-desc&quot;      MPV_FORMAT_STRING
        &quot;demux-w&quot;           MPV_FORMAT_INT64
        &quot;demux-h&quot;           MPV_FORMAT_INT64
        &quot;demux-channel-count&quot; MPV_FORMAT_INT64
        &quot;demux-channels&quot;    MPV_FORMAT_STRING
        &quot;demux-samplerate&quot;  MPV_FORMAT_INT64
        &quot;demux-fps&quot;         MPV_FORMAT_DOUBLE
        &quot;demux-bitrate&quot;     MPV_FORMAT_INT64
        &quot;demux-rotation&quot;    MPV_FORMAT_INT64
        &quot;demux-par&quot;         MPV_FORMAT_DOUBLE
        &quot;audio-channels&quot;    MPV_FORMAT_INT64
        &quot;replaygain-track-peak&quot; MPV_FORMAT_DOUBLE
        &quot;replaygain-track-gain&quot; MPV_FORMAT_DOUBLE
        &quot;replaygain-album-peak&quot; MPV_FORMAT_DOUBLE
        &quot;replaygain-album-gain&quot; MPV_FORMAT_DOUBLE</pre>


<p style="margin-left:11%;"><b>chapter-list</b></p>

<p style="margin-left:22%;">List of chapters, current entry
marked. Currently, the raw property value is useless.</p>

<p style="margin-left:22%; margin-top: 1em">This has a
number of sub-properties. Replace <b>N</b> with the 0-based
chapter index. <b><br>
chapter-list/count</b></p>

<p style="margin-left:32%;">Number of chapters.</p>


<p style="margin-left:22%;"><b>chapter-list/N/title</b></p>

<p style="margin-left:32%;">Chapter title as stored in the
file. Not always available.</p>

<p style="margin-left:22%;"><b>chapter-list/N/time</b></p>

<p style="margin-left:32%;">Chapter start time in seconds
as float.</p>

<p style="margin-left:22%; margin-top: 1em">When querying
the property with the client API using
<b>MPV_FORMAT_NODE</b>, or with Lua
<b>mp.get_property_native</b>, this will return a mpv_node
with the following contents:</p>

<pre style="margin-left:26%; margin-top: 1em">MPV_FORMAT_NODE_ARRAY
    MPV_FORMAT_NODE_MAP (for each chapter)
        &quot;title&quot; MPV_FORMAT_STRING
        &quot;time&quot;  MPV_FORMAT_DOUBLE</pre>


<p style="margin-left:11%;"><b>af, vf (RW)</b></p>

<p style="margin-left:22%;">See <b>--vf</b>/<b>--af</b> and
the <b>vf</b>/<b>af</b> command.</p>

<p style="margin-left:22%; margin-top: 1em">When querying
the property with the client API using
<b>MPV_FORMAT_NODE</b>, or with Lua
<b>mp.get_property_native</b>, this will return a mpv_node
with the following contents:</p>

<pre style="margin-left:26%; margin-top: 1em">MPV_FORMAT_NODE_ARRAY
    MPV_FORMAT_NODE_MAP (for each filter entry)
        &quot;name&quot;      MPV_FORMAT_STRING
        &quot;label&quot;     MPV_FORMAT_STRING [optional]
        &quot;enabled&quot;   MPV_FORMAT_FLAG [optional]
        &quot;params&quot;    MPV_FORMAT_NODE_MAP [optional]
            &quot;key&quot;   MPV_FORMAT_STRING
            &quot;value&quot; MPV_FORMAT_STRING</pre>


<p style="margin-left:22%; margin-top: 1em">It's also
possible to write the property using this format.</p>

<p style="margin-left:11%;"><b>seekable</b></p>

<p style="margin-left:22%;">Return whether it's generally
possible to seek in the current file.</p>

<p style="margin-left:11%;"><b>partially-seekable</b></p>

<p style="margin-left:22%;">Return <b>yes</b> if the
current file is considered seekable, but only because the
cache is active. This means small relative seeks may be
fine, but larger seeks may fail anyway. Whether a seek will
succeed or not is generally not known in advance.</p>

<p style="margin-left:22%; margin-top: 1em">If this
property returns true, <b>seekable</b> will also return
true.</p>

<p style="margin-left:11%;"><b>playback-abort</b></p>

<p style="margin-left:22%;">Return whether playback is
stopped or is to be stopped. (Useful in obscure situations
like during <b>on_load</b> hook processing, when the user
can stop playback, but the script has to explicitly end
processing.)</p>

<p style="margin-left:11%;"><b>cursor-autohide (RW)</b></p>

<p style="margin-left:22%;">See <b>--cursor-autohide</b>.
Setting this to a new value will always update the cursor,
and reset the internal timer.</p>

<p style="margin-left:11%;"><b>osd-sym-cc</b></p>

<p style="margin-left:22%;">Inserts the current OSD symbol
as opaque OSD control code (cc). This makes sense only with
the <b>show-text</b> command or options which set OSD
messages. The control code is implementation specific and is
useless for anything else.</p>

<p style="margin-left:11%;"><b>osd-ass-cc</b></p>

<p style="margin-left:22%;"><b>${osd-ass-cc/0}</b> disables
escaping ASS sequences of text in OSD,
<b>${osd-ass-cc/1}</b> enables it again. By default, ASS
sequences are escaped to avoid accidental formatting, and
this property can disable this behavior. Note that the
properties return an opaque OSD control code, which only
makes sense for the <b>show-text</b> command or options
which set OSD messages.</p>

<p style="margin-left:26%;">Example</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="71%">


<p><b>--osd-status-msg='This is ${osd-ass-cc/0}{\\b1}bold
text'</b></p> </td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="71%">


<p><b>show-text &quot;This is ${osd-ass-cc/0}{\b1}bold
text&quot;</b></p> </td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">Any ASS
override tags as understood by libass can be used.</p>

<p style="margin-left:22%; margin-top: 1em">Note that you
need to escape the <b>\</b> character, because the string is
processed for C escape sequences before passing it to the
OSD code.</p>

<p style="margin-left:22%; margin-top: 1em">A list of tags
can be found here:
<i>http://docs.aegisub.org/latest/ASS_Tags/</i></p>

<p style="margin-left:11%;"><b>vo-configured</b></p>

<p style="margin-left:22%;">Return whether the VO is
configured right now. Usually this corresponds to whether
the video window is visible. If the <b>--force-window</b>
option is used, this is usually always returns
<b>yes</b>.</p>

<p style="margin-left:11%;"><b>vo-passes</b></p>

<p style="margin-left:22%;">Contains introspection about
the VO's active render passes and their execution times. Not
implemented by all VOs.</p>

<p style="margin-left:22%; margin-top: 1em">This is further
subdivided into two frame types, <b>vo-passes/fresh</b> for
fresh frames (which have to be uploaded, scaled, etc.) and
<b>vo-passes/redraw</b> for redrawn frames (which only have
to be re-painted). The number of passes for any given
subtype can change from frame to frame, and should not be
relied upon.</p>

<p style="margin-left:22%; margin-top: 1em">Each frame type
has a number of further sub-properties. Replace <b>TYPE</b>
with the frame type, <b>N</b> with the 0-based pass index,
and <b>M</b> with the 0-based sample index. <b><br>
vo-passes/TYPE/count</b></p>

<p style="margin-left:32%;">Number of passes.</p>


<p style="margin-left:22%;"><b>vo-passes/TYPE/N/desc</b></p>

<p style="margin-left:32%;">Human-friendy description of
the pass.</p>


<p style="margin-left:22%;"><b>vo-passes/TYPE/N/last</b></p>

<p style="margin-left:32%;">Last measured execution time,
in nanoseconds.</p>


<p style="margin-left:22%;"><b>vo-passes/TYPE/N/avg</b></p>

<p style="margin-left:32%;">Average execution time of this
pass, in nanoseconds. The exact timeframe varies, but it
should generally be a handful of seconds.</p>


<p style="margin-left:22%;"><b>vo-passes/TYPE/N/peak</b></p>

<p style="margin-left:32%;">The peak execution time
(highest value) within this averaging range, in
nanoseconds.</p>


<p style="margin-left:22%;"><b>vo-passes/TYPE/N/count</b></p>

<p style="margin-left:32%;">The number of samples for this
pass.</p>


<p style="margin-left:22%;"><b>vo-passes/TYPE/N/samples/M</b></p>

<p style="margin-left:32%;">The raw execution time of a
specific sample for this pass, in nanoseconds.</p>

<p style="margin-left:22%; margin-top: 1em">When querying
the property with the client API using
<b>MPV_FORMAT_NODE</b>, or with Lua
<b>mp.get_property_native</b>, this will return a mpv_node
with the following contents:</p>

<pre style="margin-left:26%; margin-top: 1em">MPV_FORMAT_NODE_MAP
&quot;TYPE&quot; MPV_FORMAT_NODE_ARRAY
    MPV_FORMAT_NODE_MAP
        &quot;desc&quot;    MPV_FORMAT_STRING
        &quot;last&quot;    MPV_FORMAT_INT64
        &quot;avg&quot;     MPV_FORMAT_INT64
        &quot;peak&quot;    MPV_FORMAT_INT64
        &quot;count&quot;   MPV_FORMAT_INT64
        &quot;samples&quot; MPV_FORMAT_NODE_ARRAY
             MP_FORMAT_INT64</pre>


<p style="margin-left:22%; margin-top: 1em">Note that
directly accessing this structure via subkeys is not
supported, the only access is through aforementioned
<b>MPV_FORMAT_NODE</b>.</p>

<p style="margin-left:11%;"><b>video-bitrate,
audio-bitrate, sub-bitrate</b></p>

<p style="margin-left:22%;">Bitrate values calculated on
the packet level. This works by dividing the bit size of all
packets between two keyframes by their presentation
timestamp distance. (This uses the timestamps are stored in
the file, so e.g. playback speed does not influence the
returned values.) In particular, the video bitrate will
update only per keyframe, and show the &quot;past&quot;
bitrate. To make the property more UI friendly, updates to
these properties are throttled in a certain way.</p>

<p style="margin-left:22%; margin-top: 1em">The unit is
bits per second. OSD formatting turns these values in
kilobits (or megabits, if appropriate), which can be
prevented by using the raw property value, e.g. with
<b>${=video-bitrate}</b>.</p>

<p style="margin-left:22%; margin-top: 1em">Note that the
accuracy of these properties is influenced by a few factors.
If the underlying demuxer rewrites the packets on demuxing
(done for some file formats), the bitrate might be slightly
off. If timestamps are bad or jittery (like in Matroska),
even constant bitrate streams might show fluctuating
bitrate.</p>

<p style="margin-left:22%; margin-top: 1em">How exactly
these values are calculated might change in the future.</p>

<p style="margin-left:22%; margin-top: 1em">In earlier
versions of mpv, these properties returned a static (but
bad) guess using a completely different method.</p>

<p style="margin-left:11%;"><b>packet-video-bitrate,
packet-audio-bitrate, packet-sub-bitrate</b></p>

<p style="margin-left:22%;">Old and deprecated properties
for <b>video-bitrate</b>, <b>audio-bitrate</b>,
<b>sub-bitrate</b>. They behave exactly the same, but return
a value in kilobits. Also, they don't have any OSD
formatting, though the same can be achieved with e.g.
<b>${=video-bitrate}</b>.</p>

<p style="margin-left:22%; margin-top: 1em">These
properties shouldn't be used anymore.</p>

<p style="margin-left:11%;"><b>audio-device-list</b></p>

<p style="margin-left:22%;">Return the list of discovered
audio devices. This is mostly for use with the client API,
and reflects what <b>--audio-device=help</b> with the
command line player returns.</p>

<p style="margin-left:22%; margin-top: 1em">When querying
the property with the client API using
<b>MPV_FORMAT_NODE</b>, or with Lua
<b>mp.get_property_native</b>, this will return a mpv_node
with the following contents:</p>

<pre style="margin-left:26%; margin-top: 1em">MPV_FORMAT_NODE_ARRAY
    MPV_FORMAT_NODE_MAP (for each device entry)
        &quot;name&quot;          MPV_FORMAT_STRING
        &quot;description&quot;   MPV_FORMAT_STRING</pre>


<p style="margin-left:22%; margin-top: 1em">The <b>name</b>
is what is to be passed to the <b>--audio-device</b> option
(and often a rather cryptic audio API-specific ID), while
<b>description</b> is human readable free form text. The
description is set to the device name (minus mpv-specific
<b>&lt;driver&gt;/</b> prefix) if no description is
available or the description would have been an empty
string.</p>

<p style="margin-left:22%; margin-top: 1em">The special
entry with the name set to <b>auto</b> selects the default
audio output driver and the default device.</p>

<p style="margin-left:22%; margin-top: 1em">The property
can be watched with the property observation mechanism in
the client API and in Lua scripts. (Technically, change
notification is enabled the first time this property is
read.)</p>

<p style="margin-left:11%;"><b>audio-device (RW)</b></p>

<p style="margin-left:22%;">Set the audio device. This
directly reads/writes the <b>--audio-device</b> option, but
on write accesses, the audio output will be scheduled for
reloading.</p>

<p style="margin-left:22%; margin-top: 1em">Writing this
property while no audio output is active will not
automatically enable audio. (This is also true in the case
when audio was disabled due to reinitialization failure
after a previous write access to <b>audio-device</b>.)</p>

<p style="margin-left:22%; margin-top: 1em">This property
also doesn't tell you which audio device is actually in
use.</p>

<p style="margin-left:22%; margin-top: 1em">How these
details are handled may change in the future.</p>

<p style="margin-left:11%;"><b>current-vo</b></p>

<p style="margin-left:22%;">Current video output driver
(name as used with <b>--vo</b>).</p>

<p style="margin-left:11%;"><b>current-ao</b></p>

<p style="margin-left:22%;">Current audio output driver
(name as used with <b>--ao</b>).</p>

<p style="margin-left:11%;"><b>shared-script-properties
(RW)</b></p>

<p style="margin-left:22%;">This is a key/value map of
arbitrary strings shared between scripts for general use.
The player itself does not use any data in it (although some
builtin scripts may). The property is not preserved across
player restarts.</p>

<p style="margin-left:22%; margin-top: 1em">This is very
primitive, inefficient, and annoying to use. It's a
makeshift solution which could go away any time (for
example, when a better solution becomes available). This is
also why this property has an annoying name. You should
avoid using it, unless you absolutely have to.</p>

<p style="margin-left:22%; margin-top: 1em">Lua scripting
has helpers starting with
<b>utils.shared_script_property_</b>. They are undocumented
because you should not use this property. If you still think
you must, you should use the helpers instead of the property
directly.</p>

<p style="margin-left:22%; margin-top: 1em">You are
supposed to use the <b>change-list</b> command to modify the
contents. Reading, modifying, and writing the property
manually could data loss if two scripts update different
keys at the same time due to lack of synchronization. The
Lua helpers take care of this.</p>

<p style="margin-left:22%; margin-top: 1em">(There is no
way to ensure synchronization if two scripts try to update
the same key at the same time.)</p>

<p style="margin-left:11%;"><b>working-directory</b></p>

<p style="margin-left:22%;">Return the working directory of
the mpv process. Can be useful for JSON IPC users, because
the command line player usually works with relative
paths.</p>

<p style="margin-left:11%;"><b>protocol-list</b></p>

<p style="margin-left:22%;">List of protocol prefixes
potentially recognized by the player. They are returned
without trailing <b>://</b> suffix (which is still always
required). In some cases, the protocol will not actually be
supported (consider <b>https</b> if ffmpeg is not compiled
with TLS support).</p>

<p style="margin-left:11%;"><b>decoder-list</b></p>

<p style="margin-left:22%;">List of decoders supported.
This lists decoders which can be passed to <b>--vd</b> and
<b>--ad</b>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>codec</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>Canonical codec name, which identifies the format the
decoder can handle.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>driver</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>The name of the decoder itself. Often, this is the same
as <b>codec</b>. Sometimes it can be different. It is used
to distinguish multiple decoders for the same codec.</p></td></tr>
</table>

<p style="margin-left:22%;"><b>description</b></p>

<p style="margin-left:32%;">Human readable description of
the decoder and codec.</p>

<p style="margin-left:22%; margin-top: 1em">When querying
the property with the client API using
<b>MPV_FORMAT_NODE</b>, or with Lua
<b>mp.get_property_native</b>, this will return a mpv_node
with the following contents:</p>

<pre style="margin-left:26%; margin-top: 1em">MPV_FORMAT_NODE_ARRAY
    MPV_FORMAT_NODE_MAP (for each decoder entry)
        &quot;codec&quot;         MPV_FORMAT_STRING
        &quot;driver&quot;        MPV_FORMAT_STRING
        &quot;description&quot;   MPV_FORMAT_STRING</pre>


<p style="margin-left:11%;"><b>encoder-list</b></p>

<p style="margin-left:22%;">List of libavcodec encoders.
This has the same format as <b>decoder-list</b>. The encoder
names (<b>driver</b> entries) can be passed to <b>--ovc</b>
and <b>--oac</b> (without the <b>lavc:</b> prefix required
by <b>--vd</b> and <b>--ad</b>).</p>

<p style="margin-left:11%;"><b>demuxer-lavf-list</b></p>

<p style="margin-left:22%;">List of available libavformat
demuxers' names. This can be used to check for support for a
specific format or use with
<b>--demuxer-lavf-format</b>.</p>

<p style="margin-left:11%;"><b>mpv-version</b></p>

<p style="margin-left:22%;">Return the mpv
version/copyright string. Depending on how the binary was
built, it might contain either a release version, or just a
git hash.</p>

<p style="margin-left:11%;"><b>mpv-configuration</b></p>

<p style="margin-left:22%;">Return the configuration
arguments which were passed to the build system (typically
the way <b>./waf configure ...</b> was invoked).</p>

<p style="margin-left:11%;"><b>ffmpeg-version</b></p>

<p style="margin-left:22%;">Return the contents of the
<b>av_version_info()</b> API call. This is a string which
identifies the build in some way, either through a release
version number, or a git hash. This applies to Libav as well
(the property is still named the same.) This property is
unavailable if mpv is linked against older FFmpeg and Libav
versions.</p>

<p style="margin-left:11%;"><b>options/&lt;name&gt;
(RW)</b></p>

<p style="margin-left:22%;">Read-only access to value of
option <b>--&lt;name&gt;</b>. Most options can be changed at
runtime by writing to this property. Note that many options
require reloading the file for changes to take effect. If
there is an equivalent property, prefer setting the property
instead.</p>

<p style="margin-left:22%; margin-top: 1em">There shouldn't
be any reason to access <b>options/&lt;name&gt;</b> instead
of <b>&lt;name&gt;</b>, except in situations in which the
properties have different behavior or conflicting
semantics.</p>


<p style="margin-left:11%;"><b>file-local-options/&lt;name&gt;</b></p>

<p style="margin-left:22%;">Similar to
<b>options/&lt;name&gt;</b>, but when setting an option
through this property, the option is reset to its old value
once the current file has stopped playing. Trying to write
an option while no file is playing (or is being loaded)
results in an error.</p>

<p style="margin-left:22%; margin-top: 1em">(Note that if
an option is marked as file-local, even <b>options/</b> will
access the local value, and the <b>old</b> value, which will
be restored on end of playback, cannot be read or written
until end of playback.)</p>


<p style="margin-left:11%;"><b>option-info/&lt;name&gt;</b></p>

<p style="margin-left:22%;">Additional per-option
information.</p>

<p style="margin-left:22%; margin-top: 1em">This has a
number of sub-properties. Replace <b>&lt;name&gt;</b> with
the name of a top-level option. No guarantee of stability is
given to any of these sub-properties - they may change
radically in the feature. <b><br>
option-info/&lt;name&gt;/name</b></p>

<p style="margin-left:32%;">Returns the name of the
option.</p>


<p style="margin-left:22%;"><b>option-info/&lt;name&gt;/type</b></p>

<p style="margin-left:32%;">Return the name of the option
type, like <b>String</b> or <b>Integer</b>. For many complex
types, this isn't very accurate.</p>


<p style="margin-left:22%;"><b>option-info/&lt;name&gt;/set-from-commandline</b></p>

<p style="margin-left:32%;">Return <b>yes</b> if the option
was set from the mpv command line, <b>no</b> otherwise. What
this is set to if the option is e.g. changed at runtime is
left undefined (meaning it could change in the future).</p>


<p style="margin-left:22%;"><b>option-info/&lt;name&gt;/set-locally</b></p>

<p style="margin-left:32%;">Return <b>yes</b> if the option
was set per-file. This is the case with automatically loaded
profiles, file-dir configs, and other cases. It means the
option value will be restored to the value before playback
start when playback ends.</p>


<p style="margin-left:22%;"><b>option-info/&lt;name&gt;/default-value</b></p>

<p style="margin-left:32%;">The default value of the
option. May not always be available.</p>


<p style="margin-left:22%;"><b>option-info/&lt;name&gt;/min,
option-info/&lt;name&gt;/max</b></p>

<p style="margin-left:32%;">Integer minimum and maximum
values allowed for the option. Only available if the options
are numeric, and the minimum/maximum has been set
internally. It's also possible that only one of these is
set.</p>


<p style="margin-left:22%;"><b>option-info/&lt;name&gt;/choices</b></p>

<p style="margin-left:32%;">If the option is a choice
option, the possible choices. Choices that are integers may
or may not be included (they can be implied by <b>min</b>
and <b>max</b>). Note that options which behave like choice
options, but are not actual choice options internally, may
not have this info available.</p>

<p style="margin-left:11%;"><b>property-list</b></p>

<p style="margin-left:22%;">Return the list of top-level
properties.</p>

<p style="margin-left:11%;"><b>profile-list</b></p>

<p style="margin-left:22%;">Return the list of profiles and
their contents. This is highly implementation-specific, and
may change any time. Currently, it returns an array of
options for each profile. Each option has a name and a
value, with the value currently always being a string. Note
that the options array is not a map, as order matters and
duplicate entries are possible. Recursive profiles are not
expanded, and show up as special <b>profile</b> options.</p>

<p style="margin-left:11%;"><b>command-list</b></p>

<p style="margin-left:22%;">Return the list of input
commands. This returns an array of maps, where each map node
represents a command. This map currently only has a single
entry: <b>name</b> for the name of the command. (This
property is supposed to be a replacement for
<b>--input-cmdlist</b>. The option dumps some more
information, but it's a valid feature request to extend this
property if needed.)</p>

<p style="margin-left:11%;"><b>input-bindings</b></p>

<p style="margin-left:22%;">Return list of current input
key bindings. This returns an array of maps, where each map
node represents a binding for a single key/command. This map
has the following entries:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="4%">


<p><b>key</b></p></td>
<td width="6%"></td>
<td width="68%">


<p>The key name. This is normalized and may look slightly
different from how it was specified in the source (e.g. in
input.conf).</p> </td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="4%">


<p><b>cmd</b></p></td>
<td width="6%"></td>
<td width="68%">


<p>The command mapped to the key. (Currently, this is
exactly the same string as specified in the source, other
than stripping whitespace and comments. It's possible that
it will be normalized in the future.)</p></td></tr>
</table>

<p style="margin-left:22%;"><b>is_weak</b></p>

<p style="margin-left:32%;">If set to true, any existing
and active user bindings will take priority.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>owner</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>If this entry exists, the name of the script (or
similar) which added this binding.</p></td></tr>
</table>

<p style="margin-left:22%;"><b>section</b></p>

<p style="margin-left:32%;">Name of the section this
binding is part of. This is a rarely used mechanism. This
entry may be removed or change meaning in the future.</p>

<p style="margin-left:22%;"><b>priority</b></p>

<p style="margin-left:32%;">A number. Bindings with a
higher value are preferred over bindings with a lower value.
If the value is negative, this binding is inactive and will
not be triggered by input. Note that mpv does not use this
value internally, and matching of bindings may work slightly
differently in some cases. In addition, this value is
dynamic and can change around at runtime.</p>

<p style="margin-left:22%;"><b>comment</b></p>

<p style="margin-left:32%;">If available, the comment
following the command on the same line. (For example, the
input.conf entry <b>f cycle bla # toggle bla</b> would
result in an entry with <b>comment = &quot;toggle bla&quot;,
cmd = &quot;cycle bla&quot;</b>.)</p>

<p style="margin-left:22%; margin-top: 1em">This property
is read-only, and change notification is not supported.
Currently, there is no mechanism to change key bindings at
runtime, other than scripts adding or removing their own
bindings.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Inconsistencies
between options and properties</b> <br>
You can access (almost) all options as properties, though
there are some caveats with some properties (due to
historical reasons): <b><br>
vid, aid, sid</b></p>

<p style="margin-left:22%;">While playback is active, these
result the actually active tracks. For example, if you set
<b>aid=5</b>, and the currently played file contains no
audio track with ID 5, the <b>aid</b> property will return
<b>no</b>.</p>

<p style="margin-left:22%; margin-top: 1em">Before mpv
0.31.0, you could set existing tracks at runtime only.</p>

<p style="margin-left:11%;"><b>display-fps</b></p>

<p style="margin-left:22%;">This inconsistent behavior is
deprecated. Post-deprecation, the reported value and the
option value are cleanly separated
(<b>override-display-fps</b> for the option value).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>vf, af</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>If you set the properties during playback, and the
filter chain fails to reinitialize, the option will be set,
but the runtime filter chain does not change. On the other
hand, the next video to be played will fail, because the
initial filter chain cannot be created.</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">This behavior
changed in mpv 0.31.0. Before this, the new value was
rejected <i>iff</i> video (for <b>vf</b>) or audio (for
<b>af</b>) was active. If playback was not active, the
behavior was the same as the current behavior.</p>

<p style="margin-left:11%;"><b>playlist</b></p>

<p style="margin-left:22%;">The property is read-only and
returns the current internal playlist. The option is for
loading playlist during command line parsing. For client API
uses, you should use the <b>loadlist</b> command
instead.</p>

<p style="margin-left:11%;"><b>profile, include</b></p>

<p style="margin-left:22%;">These are write-only, and will
perform actions as they are written to, exactly as if they
were used on the mpv CLI commandline. Their only use is when
using libmpv before <b>mpv_initialize()</b>, which in turn
is probably only useful in encoding mode. Normal libmpv
users should use other mechanisms, such as the
<b>apply-profile</b> command, and the
<b>mpv_load_config_file</b> API function. Avoid these
properties.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Property
Expansion</b> <br>
All string arguments to input commands as well as certain
options (like <b>--term-playing-msg</b>) are subject to
property expansion. Note that property expansion does not
work in places where e.g. numeric parameters are expected.
(For example, the <b>add</b> command does not do property
expansion. The <b>set</b> command is an exception and not a
general rule.)</p>

<p style="margin-left:15%;">Example for input.conf <b><br>
i show-text Filename: ${filename}</b></p>

<p style="margin-left:26%;">shows the filename of the
current file when pressing the <b>i</b> key</p>

<p style="margin-left:11%; margin-top: 1em">Within
<b>input.conf</b>, property expansion can be inhibited by
putting the <b>raw</b> prefix in front of commands.</p>

<p style="margin-left:11%; margin-top: 1em">The following
expansions are supported: <b><br>
${NAME}</b></p>

<p style="margin-left:22%;">Expands to the value of the
property <b>NAME</b>. If retrieving the property fails,
expand to an error string. (Use <b>${NAME:}</b> with a
trailing <b>:</b> to expand to an empty string instead.) If
<b>NAME</b> is prefixed with <b>=</b>, expand to the raw
value of the property (see section below).</p>

<p style="margin-left:11%;"><b>${NAME:STR}</b></p>

<p style="margin-left:22%;">Expands to the value of the
property <b>NAME</b>, or <b>STR</b> if the property cannot
be retrieved. <b>STR</b> is expanded recursively.</p>

<p style="margin-left:11%;"><b>${?NAME:STR}</b></p>

<p style="margin-left:22%;">Expands to <b>STR</b>
(recursively) if the property <b>NAME</b> is available.</p>

<p style="margin-left:11%;"><b>${!NAME:STR}</b></p>

<p style="margin-left:22%;">Expands to <b>STR</b>
(recursively) if the property <b>NAME</b> cannot be
retrieved.</p>

<p style="margin-left:11%;"><b>${?NAME==VALUE:STR}</b></p>

<p style="margin-left:22%;">Expands to <b>STR</b>
(recursively) if the property <b>NAME</b> expands to a
string equal to <b>VALUE</b>. You can prefix <b>NAME</b>
with <b>=</b> in order to compare the raw value of a
property (see section below). If the property is
unavailable, or other errors happen when retrieving it, the
value is never considered equal. Note that <b>VALUE</b>
can't contain any of the characters <b>:</b> or <b>}</b>.
Also, it is possible that escaping with <b>&quot;</b> or
<b>%</b> might be added in the future, should the need
arise.</p>

<p style="margin-left:11%;"><b>${!NAME==VALUE:STR}</b></p>

<p style="margin-left:22%;">Same as with the <b>?</b>
variant, but <b>STR</b> is expanded if the value is not
equal. (Using the same semantics as with <b>?</b>.)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>$$</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Expands to <b>$</b>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>$}</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Expands to <b>}</b>. (To produce this character inside
recursive expansion.)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>$&gt;</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Disable property expansion and special handling of
<b>$</b> for the rest of the string.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">In places where
property expansion is allowed, C-style escapes are often
accepted as well. Example:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td>
<td width="2%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="1%"></td>
<td width="47%">


<p style="margin-top: 1em"><b>\n</b> becomes a newline
character</p> </td>
<td width="35%">
</td></tr>
<tr valign="top" align="left">
<td width="15%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="47%">


<p><b>\\</b> expands to <b>\</b></p></td>
<td width="35%">
</td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>Raw and
Formatted Properties</b> <br>
Normally, properties are formatted as human-readable text,
meant to be displayed on OSD or on the terminal. It is
possible to retrieve an unformatted (raw) value from a
property by prefixing its name with <b>=</b>. These raw
values can be parsed by other programs and follow the same
conventions as the options associated with the
properties.</p>

<p style="margin-left:15%;">Examples</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="82%">


<p><b>${time-pos}</b> expands to <b>00:14:23</b> (if
playback position is at 14 minutes 23 seconds)</p></td></tr>
<tr valign="top" align="left">
<td width="15%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="82%">


<p><b>${=time-pos}</b> expands to <b>863.4</b> (same time,
plus 400 milliseconds - milliseconds are normally not shown
in the formatted case)</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Sometimes, the
difference in amount of information carried by raw and
formatted property values can be rather big. In some cases,
raw values have more information, like higher precision than
seconds with <b>time-pos</b>. Sometimes it is the other way
around, e.g. <b>aid</b> shows track title and language in
the formatted case, but only the track number if it is
raw.</p>

<h2>ON SCREEN CONTROLLER
<a name="ON SCREEN CONTROLLER"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The On Screen
Controller (short: OSC) is a minimal GUI integrated with mpv
to offer basic mouse-controllability. It is intended to make
interaction easier for new users and to enable precise and
direct seeking.</p>

<p style="margin-left:11%; margin-top: 1em">The OSC is
enabled by default if mpv was compiled with Lua support. It
can be disabled entirely using the <b>--osc=no</b>
option.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Using the
OSC</b> <br>
By default, the OSC will show up whenever the mouse is moved
inside the player window and will hide if the mouse is not
moved outside the OSC for 0.5 seconds or if the mouse leaves
the window.</p>

<p style="margin-left:11%; margin-top: 1em"><b>The
Interface</b></p>

<pre style="margin-left:15%;">+---------+----------+------------------------------------------+----------+
| pl prev | pl next  |  title                                   |    cache |
+------+--+---+------+---------+-----------+------+-------+-----+-----+----+
| play | skip | skip | time    |  seekbar  | time | audio | sub | vol | fs |
|      | back | frwd | elapsed |           | left |       |     |     |    |
+------+------+------+---------+-----------+------+-------+-----+-----+----+</pre>


<p style="margin-left:11%;"><b>pl prev</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>pl
next</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p style="margin-top: 1em"><b>title</b></p></td>
<td width="4%"></td>
<td width="78%">


<p style="margin-top: 1em">Displays current media-title,
filename, or custom title</p></td></tr>
</table>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p style="margin-top: 1em"><b>cache</b></p></td>
<td width="4%"></td>
<td width="47%">


<p style="margin-top: 1em">Shows current cache fill
status</p> </td>
<td width="31%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>play</b></p></td>
<td width="4%"></td>
<td width="47%"></td>
<td width="31%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>skip back</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>skip
frwd</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>time
elapsed</b></p>

<p style="margin-left:22%;">Shows current playback position
timestamp</p>


<p style="margin-left:11%; margin-top: 1em"><b>seekbar</b></p>

<p style="margin-left:22%;">Indicates current playback
position and position of chapters</p>

<p style="margin-left:11%; margin-top: 1em"><b>time
left</b></p>

<p style="margin-left:22%;">Shows remaining playback time
timestamp</p>

<p style="margin-left:11%; margin-top: 1em"><b>audio and
sub</b></p>

<p style="margin-left:22%;">Displays selected track and
amount of available tracks</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p style="margin-top: 1em"><b>vol</b></p></td>
<td width="85%">
</td></tr>
</table>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>fs</b></p></td>
<td width="86%">
</td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>Key
Bindings</b> <br>
These key bindings are active by default if nothing else is
already bound to these keys. In case of collision, the
function needs to be bound to a different key. See the
<i>Script Commands</i> section.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Configuration</b>
<br>
The OSC offers limited configuration through a config file
<b>script-opts/osc.conf</b> placed in mpv's user dir and
through the <b>--script-opts</b> command-line option.
Options provided through the command-line will override
those from the config file.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Config
Syntax</b> <br>
The config file must exactly follow the following
syntax:</p>

<pre style="margin-left:15%; margin-top: 1em"># this is a comment
optionA=value1
optionB=value2</pre>


<p style="margin-left:11%; margin-top: 1em"><b>#</b> can
only be used at the beginning of a line and there may be no
spaces around the <b>=</b> or anywhere else.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Command-line
Syntax</b> <br>
To avoid collisions with other scripts, all options need to
be prefixed with <b>osc-</b>.</p>

<p style="margin-left:11%; margin-top: 1em">Example:</p>

<pre style="margin-left:15%; margin-top: 1em">--script-opts=osc-optionA=value1,osc-optionB=value2</pre>



<p style="margin-left:11%; margin-top: 1em"><b>Configurable
Options</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p style="margin-top: 1em"><b>layout</b></p></td>
<td width="2%"></td>
<td width="27%">


<p style="margin-top: 1em">Default: bottombar</p></td>
<td width="51%">
</td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">The layout for
the OSC. Currently available are: box, slimbox, bottombar
and topbar. Default pre-0.21.0 was 'box'.</p>

<p style="margin-left:11%;"><b>seekbarstyle</b></p>

<p style="margin-left:22%;">Default: bar</p>

<p style="margin-left:22%; margin-top: 1em">Sets the style
of the playback position marker and overall shape of the
seekbar: <b>bar</b>, <b>diamond</b> or <b>knob</b>.</p>

<p style="margin-left:11%;"><b>seekbarhandlesize</b></p>

<p style="margin-left:22%;">Default: 0.6</p>

<p style="margin-left:22%; margin-top: 1em">Size ratio of
the seek handle if <b>seekbarstyle</b> is set to
<b>dimaond</b> or <b>knob</b>. This is relative to the full
height of the seekbar.</p>

<p style="margin-left:11%;"><b>seekbarkeyframes</b></p>

<p style="margin-left:22%;">Default: yes</p>

<p style="margin-left:22%; margin-top: 1em">Controls the
mode used to seek when dragging the seekbar. By default,
keyframes are used. If set to false, exact seeking on mouse
drags will be used instead. Keyframes are preferred, but
exact seeks may be useful in cases where keyframes cannot be
found. Note that using exact seeks can potentially make
mouse dragging much slower.</p>

<p style="margin-left:11%;"><b>seekrangestyle</b></p>

<p style="margin-left:22%;">Default: inverted</p>

<p style="margin-left:22%; margin-top: 1em">Display
seekable ranges on the seekbar. <b>bar</b> shows them on the
full height of the bar, <b>line</b> as a thick line and
<b>inverted</b> as a thin line that is inverted over
playback position markers. <b>none</b> will hide them.
Additionally, <b>slider</b> will show a permanent handle
inside the seekbar with cached ranges marked inside. Note
that these will look differently based on the seekbarstyle
option. Also, <b>slider</b> does not work with
<b>seekbarstyle</b> set to <b>bar</b>.</p>

<p style="margin-left:11%;"><b>seekrangeseparate</b></p>

<p style="margin-left:22%;">Default: yes</p>

<p style="margin-left:22%; margin-top: 1em">Controls
whether to show line-style seekable ranges on top of the
seekbar or separately if <b>seekbarstyle</b> is set to
<b>bar</b>.</p>

<p style="margin-left:11%;"><b>seekrangealpha</b></p>

<p style="margin-left:22%;">Default: 200</p>

<p style="margin-left:22%; margin-top: 1em">Alpha of the
seekable ranges, 0 (opaque) to 255 (fully transparent).</p>

<p style="margin-left:11%;"><b>deadzonesize</b></p>

<p style="margin-left:22%;">Default: 0.5</p>

<p style="margin-left:22%; margin-top: 1em">Size of the
deadzone. The deadzone is an area that makes the mouse act
like leaving the window. Movement there won't make the OSC
show up and it will hide immediately if the mouse enters it.
The deadzone starts at the window border opposite to the OSC
and the size controls how much of the window it will span.
Values between 0.0 and 1.0, where 0 means the OSC will
always popup with mouse movement in the window, and 1 means
the OSC will only show up when the mouse hovers it. Default
pre-0.21.0 was 0.</p>

<p style="margin-left:11%;"><b>minmousemove</b></p>

<p style="margin-left:22%;">Default: 0</p>

<p style="margin-left:22%; margin-top: 1em">Minimum amount
of pixels the mouse has to move between ticks to make the
OSC show up. Default pre-0.21.0 was 3.</p>

<p style="margin-left:11%;"><b>showwindowed</b></p>

<p style="margin-left:22%;">Default: yes</p>

<p style="margin-left:22%; margin-top: 1em">Enable the OSC
when windowed</p>

<p style="margin-left:11%;"><b>showfullscreen</b></p>

<p style="margin-left:22%;">Default: yes</p>

<p style="margin-left:22%; margin-top: 1em">Enable the OSC
when fullscreen</p>

<p style="margin-left:11%;"><b>scalewindowed</b></p>

<p style="margin-left:22%;">Default: 1.0</p>

<p style="margin-left:22%; margin-top: 1em">Scale factor of
the OSC when windowed.</p>

<p style="margin-left:11%;"><b>scalefullscreen</b></p>

<p style="margin-left:22%;">Default: 1.0</p>

<p style="margin-left:22%; margin-top: 1em">Scale factor of
the OSC when fullscreen</p>

<p style="margin-left:11%;"><b>scaleforcedwindow</b></p>

<p style="margin-left:22%;">Default: 2.0</p>

<p style="margin-left:22%; margin-top: 1em">Scale factor of
the OSC when rendered on a forced (dummy) window</p>

<p style="margin-left:11%;"><b>vidscale</b></p>

<p style="margin-left:22%;">Default: yes</p>

<p style="margin-left:22%; margin-top: 1em">Scale the OSC
with the video <b>no</b> tries to keep the OSC size constant
as much as the window size allows</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>valign</b></p></td>
<td width="2%"></td>
<td width="18%">


<p>Default: 0.8</p></td>
<td width="60%">
</td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">Vertical
alignment, -1 (top) to 1 (bottom)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p style="margin-top: 1em"><b>halign</b></p></td>
<td width="2%"></td>
<td width="18%">


<p style="margin-top: 1em">Default: 0.0</p></td>
<td width="60%">
</td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">Horizontal
alignment, -1 (left) to 1 (right)</p>

<p style="margin-left:11%;"><b>barmargin</b></p>

<p style="margin-left:22%;">Default: 0</p>

<p style="margin-left:22%; margin-top: 1em">Margin from
bottom (bottombar) or top (topbar), in pixels</p>

<p style="margin-left:11%;"><b>boxalpha</b></p>

<p style="margin-left:22%;">Default: 80</p>

<p style="margin-left:22%; margin-top: 1em">Alpha of the
background box, 0 (opaque) to 255 (fully transparent)</p>

<p style="margin-left:11%;"><b>hidetimeout</b></p>

<p style="margin-left:22%;">Default: 500</p>

<p style="margin-left:22%; margin-top: 1em">Duration in ms
until the OSC hides if no mouse movement, must not be
negative</p>

<p style="margin-left:11%;"><b>fadeduration</b></p>

<p style="margin-left:22%;">Default: 200</p>

<p style="margin-left:22%; margin-top: 1em">Duration of
fade out in ms, 0 = no fade</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>title</b></p></td>
<td width="4%"></td>
<td width="35%">


<p>Default: ${media-title}</p></td>
<td width="43%">
</td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">String that
supports property expansion that will be displayed as OSC
title. ASS tags are escaped, and newlines and trailing
slashes are stripped.</p>

<p style="margin-left:11%;"><b>tooltipborder</b></p>

<p style="margin-left:22%;">Default: 1</p>

<p style="margin-left:22%; margin-top: 1em">Size of the
tooltip outline when using bottombar or topbar layouts</p>

<p style="margin-left:11%;"><b>timetotal</b></p>

<p style="margin-left:22%;">Default: no</p>

<p style="margin-left:22%; margin-top: 1em">Show total time
instead of time remaining</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>timems</b></p></td>
<td width="2%"></td>
<td width="16%">


<p>Default: no</p></td>
<td width="62%">
</td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">Display
timecodes with milliseconds</p>

<p style="margin-left:11%;"><b>visibility</b></p>

<p style="margin-left:22%;">Default: auto (auto hide/show
on mouse move)</p>

<p style="margin-left:22%; margin-top: 1em">Also supports
<b>never</b> and <b>always</b></p>

<p style="margin-left:11%;"><b>boxmaxchars</b></p>

<p style="margin-left:22%;">Default: 80</p>

<p style="margin-left:22%; margin-top: 1em">Max chars for
the osc title at the box layout. mpv does not measure the
text width on screen and so it needs to limit it by number
of chars. The default is conservative to allow wide fonts to
be used without overflow. However, with many common fonts a
bigger number can be used. YMMV.</p>

<p style="margin-left:11%;"><b>boxvideo</b></p>

<p style="margin-left:22%;">Default: no</p>

<p style="margin-left:22%; margin-top: 1em">Whether to
overlay the osc over the video (<b>no</b>), or to box the
video within the areas not covered by the osc (<b>yes</b>).
If this option is set, the osc may overwrite the
<b>--video-margin-ratio-*</b> options, even if the user has
set them. (It will not overwrite them if all of them are set
to default values.)</p>

<p style="margin-left:22%; margin-top: 1em">Currently, this
is supported for the <b>bottombar</b> and <b>topbar</b>
layout only. The other layouts do not change if this option
is set. Separately, if window controls are present (see
below), they will be affected regardless of which osc layout
is in use.</p>

<p style="margin-left:22%; margin-top: 1em">The border is
static and appears even if the OSC is configured to appear
only on mouse interaction. If the OSC is invisible, the
border is simply filled with the background color (black by
default).</p>

<p style="margin-left:22%; margin-top: 1em">This currently
still makes the OSC overlap with subtitles (if the
<b>--sub-use-margins</b> option is set to <b>yes</b>, the
default). This may be fixed later.</p>

<p style="margin-left:22%; margin-top: 1em">This does not
work correctly with video outputs like <b>--vo=xv</b>, which
render OSD into the unscaled video.</p>

<p style="margin-left:11%;"><b>windowcontrols</b></p>

<p style="margin-left:22%;">Default: auto (Show window
controls if there is no window border)</p>

<p style="margin-left:22%; margin-top: 1em">Whether to show
window management controls over the video, and if so, which
side of the window to place them. This may be desirable when
the window has no decorations, either because they have been
explicitly disabled (<b>border=no</b>) or because the
current platform doesn't support them (eg: gnome-shell with
wayland).</p>

<p style="margin-left:22%; margin-top: 1em">The set of
window controls is fixed, offering <b>minimize</b>,
<b>maximize</b>, and <b>quit</b>. Not all platforms
implement <b>minimize</b> and <b>maximize</b>, but
<b>quit</b> will always work.</p>


<p style="margin-left:11%;"><b>windowcontrols_alignment</b></p>

<p style="margin-left:22%;">Default: right</p>

<p style="margin-left:22%; margin-top: 1em">If window
controls are shown, indicates which side should they be
aligned to.</p>

<p style="margin-left:22%; margin-top: 1em">Supports
<b>left</b> and <b>right</b> which will place the controls
on those respective sides.</p>

<p style="margin-left:11%;"><b>greenandgrumpy</b></p>

<p style="margin-left:22%;">Default: no</p>

<p style="margin-left:22%; margin-top: 1em">Set to
<b>yes</b> to reduce festivity (i.e. disable santa hat in
December.)</p>

<p style="margin-left:11%; margin-top: 1em"><b>Script
Commands</b> <br>
The OSC script listens to certain script commands. These
commands can bound in <b>input.conf</b>, or sent by other
scripts. <b><br>
osc-message</b></p>

<p style="margin-left:22%;">Show a message on screen using
the OSC. First argument is the message, second the duration
in seconds.</p>

<p style="margin-left:11%;"><b>osc-visibility</b></p>

<p style="margin-left:22%;">Controls visibility mode
<b>never</b> / <b>auto</b> (on mouse move) / <b>always</b>
and also <b>cycle</b> to cycle between the modes</p>

<p style="margin-left:11%; margin-top: 1em">Example</p>

<p style="margin-left:11%; margin-top: 1em">You could put
this into <b>input.conf</b> to hide the OSC with the
<b>a</b> key and to set auto mode (the default) with
<b>b</b>:</p>

<pre style="margin-left:15%; margin-top: 1em">a script-message osc-visibility never
b script-message osc-visibility auto</pre>


<p style="margin-left:11%;"><b>osc-playlist,
osc-chapterlist, osc-tracklist</b></p>

<p style="margin-left:22%;">Shows a limited view of the
respective type of list using the OSC. First argument is
duration in seconds.</p>

<h2>STATS
<a name="STATS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This builtin
script displays information and statistics for the currently
played file. It is enabled by default if mpv was compiled
with Lua support. It can be disabled entirely using the
<b>--load-stats-overlay=no</b> option.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Usage</b>
<br>
The following key bindings are active by default unless
something else is already bound to them:</p>

<p style="margin-left:11%; margin-top: 1em">While the stats
are visible on screen the following key bindings are active,
regardless of existing bindings. They allow you to switch
between <i>pages</i> of stats:</p>

<p style="margin-left:11%; margin-top: 1em"><b>Font</b>
<br>
For optimal visual experience, a font with support for many
font weights and monospaced digits is recommended. By
default, the open source font <i>Source Sans Pro</i> is
used.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Configuration</b>
<br>
This script can be customized through a config file
<b>script-opts/stats.conf</b> placed in mpv's user directory
and through the <b>--script-opts</b> command-line option.
The configuration syntax is described in <i>ON SCREEN
CONTROLLER</i>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Configurable
Options <br>
key_oneshot</b></p>

<p style="margin-left:22%;">Default: i</p>

<p style="margin-left:11%;"><b>key_toggle</b></p>

<p style="margin-left:22%;">Default: I</p>

<p style="margin-left:22%; margin-top: 1em">Key bindings to
display stats.</p>

<p style="margin-left:11%;"><b>key_page_1</b></p>

<p style="margin-left:22%;">Default: 1</p>

<p style="margin-left:11%;"><b>key_page_2</b></p>

<p style="margin-left:22%;">Default: 2</p>

<p style="margin-left:11%;"><b>key_page_3</b></p>

<p style="margin-left:22%;">Default: 3</p>

<p style="margin-left:22%; margin-top: 1em">Key bindings
for page switching while stats are displayed.</p>

<p style="margin-left:11%;"><b>duration</b></p>

<p style="margin-left:22%;">Default: 4</p>

<p style="margin-left:22%; margin-top: 1em">How long the
stats are shown in seconds (oneshot).</p>

<p style="margin-left:11%;"><b>redraw_delay</b></p>

<p style="margin-left:22%;">Default: 1</p>

<p style="margin-left:22%; margin-top: 1em">How long it
takes to refresh the displayed stats in seconds
(toggling).</p>

<p style="margin-left:11%;"><b>persistent_overlay</b></p>

<p style="margin-left:22%;">Default: no</p>

<p style="margin-left:22%; margin-top: 1em">When <i>no</i>,
other scripts printing text to the screen can overwrite the
displayed stats. When <i>yes</i>, displayed stats are
persistently shown for the respective duration. This can
result in overlapping text when multiple scripts decide to
print text at the same time.</p>

<p style="margin-left:11%;"><b>plot_perfdata</b></p>

<p style="margin-left:22%;">Default: yes</p>

<p style="margin-left:22%; margin-top: 1em">Show graphs for
performance data (page 2).</p>

<p style="margin-left:11%;"><b>plot_vsync_ratio</b></p>

<p style="margin-left:22%;">Default: yes</p>

<p style="margin-left:11%;"><b>plot_vsync_jitter</b></p>

<p style="margin-left:22%;">Default: yes</p>

<p style="margin-left:22%; margin-top: 1em">Show graphs for
vsync and jitter values (page 1). Only when toggled.</p>

<p style="margin-left:11%;"><b>flush_graph_data</b></p>

<p style="margin-left:22%;">Default: yes</p>

<p style="margin-left:22%; margin-top: 1em">Clear data
buffers used for drawing graphs when toggling.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>font</b></p></td>
<td width="5%"></td>
<td width="36%">


<p>Default: Source Sans Pro</p></td>
<td width="42%">
</td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">Font name.
Should support as many font weights as possible for optimal
visual experience.</p>

<p style="margin-left:11%;"><b>font_mono</b></p>

<p style="margin-left:22%;">Default: Source Sans Pro</p>

<p style="margin-left:22%; margin-top: 1em">Font name for
parts where monospaced characters are necessary to align
text. Currently, monospaced digits are sufficient.</p>

<p style="margin-left:11%;"><b>font_size</b></p>

<p style="margin-left:22%;">Default: 8</p>

<p style="margin-left:22%; margin-top: 1em">Font size used
to render text.</p>

<p style="margin-left:11%;"><b>font_color</b></p>

<p style="margin-left:22%;">Default: FFFFFF</p>

<p style="margin-left:22%; margin-top: 1em">Font color.</p>

<p style="margin-left:11%;"><b>border_size</b></p>

<p style="margin-left:22%;">Default: 0.8</p>

<p style="margin-left:22%; margin-top: 1em">Size of border
drawn around the font.</p>

<p style="margin-left:11%;"><b>border_color</b></p>

<p style="margin-left:22%;">Default: 262626</p>

<p style="margin-left:22%; margin-top: 1em">Color of drawn
border.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>alpha</b></p></td>
<td width="4%"></td>
<td width="16%">


<p>Default: 11</p></td>
<td width="62%">
</td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">Transparency
for drawn text.</p>


<p style="margin-left:11%;"><b>plot_bg_border_color</b></p>

<p style="margin-left:22%;">Default: 0000FF</p>

<p style="margin-left:22%; margin-top: 1em">Border color
used for drawing graphs.</p>

<p style="margin-left:11%;"><b>plot_bg_color</b></p>

<p style="margin-left:22%;">Default: 262626</p>

<p style="margin-left:22%; margin-top: 1em">Background
color used for drawing graphs.</p>

<p style="margin-left:11%;"><b>plot_color</b></p>

<p style="margin-left:22%;">Default: FFFFFF</p>

<p style="margin-left:22%; margin-top: 1em">Color used for
drawing graphs.</p>

<p style="margin-left:11%; margin-top: 1em">Note: colors
are given as hexadecimal values and use ASS tag order:
BBGGRR (blue green red).</p>

<p style="margin-left:11%; margin-top: 1em"><b>Different
key bindings</b> <br>
A different key binding can be defined with the
aforementioned options <b>key_oneshot</b> and
<b>key_toggle</b> but also with commands in
<b>input.conf</b>, for example:</p>

<pre style="margin-left:15%; margin-top: 1em">e script-binding stats/display-stats
E script-binding stats/display-stats-toggle</pre>


<p style="margin-left:11%; margin-top: 1em">Using
<b>input.conf</b>, it is also possible to directly display a
certain page:</p>

<pre style="margin-left:15%; margin-top: 1em">i script-binding stats/display-page-1
e script-binding stats/display-page-2</pre>


<h2>CONSOLE
<a name="CONSOLE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The console is
a REPL for mpv input commands. It is displayed on the video
window. It also shows log messages. It can be disabled
entirely using the <b>--load-osd-console=no</b> option.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Keybindings</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>`</b></p></td>
<td width="4%"></td>
<td width="33%">


<p>Show the console.</p></td>
<td width="45%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>ESC</b></p></td>
<td width="4%"></td>
<td width="33%">


<p>Hide the console.</p></td>
<td width="45%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>ENTER</b></p></td>
<td width="4%"></td>
<td width="33%">


<p>Run the typed command.</p></td>
<td width="45%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>Shift+ENTER</b></p>

<p style="margin-left:22%;">Type a literal newline
character.</p>

<p style="margin-left:11%;"><b>Ctrl+LEFT and
Ctrl+RIGHT</b></p>

<p style="margin-left:22%;">Move cursor to previous/next
word.</p>

<p style="margin-left:11%;"><b>UP and DOWN</b></p>

<p style="margin-left:22%;">Navigate command history.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>PGUP</b></p></td>
<td width="2%"></td>
<td width="60%">


<p>Go to the first command in the history.</p></td>
<td width="18%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>PGDN</b></p></td>
<td width="2%"></td>
<td width="60%">


<p>Stop navigating command history.</p></td>
<td width="18%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>INSERT</b></p></td>
<td width="2%"></td>
<td width="60%">


<p>Toggle insert mode.</p></td>
<td width="18%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>Shift+INSERT</b></p>

<p style="margin-left:22%;">Paste text (uses the primary
selection on X11.)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>TAB</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Complete the command or property name at the cursor.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>Ctrl+C</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Clear current line.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>Ctrl+K.</b></p>

<p style="margin-left:22%;">Delete text from the cursor to
the end of the line.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>Ctrl+L</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Clear all log messages from the console.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>Ctrl+U</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Delete text from the cursor to the beginning of the
line.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>Ctrl+V</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Paste text (uses the clipboard on X11.)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>Ctrl+W</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Delete text from the cursor to the beginning of the
current word.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>Commands
<br>
script-message-to console type &lt;text&gt;</b></p>

<p style="margin-left:22%;">Show the console and pre-fill
it with the provided text.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Known
issues</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p>Pasting text is slow on Windows</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p>Non-ASCII keyboard input has restrictions</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p>The cursor keys move between Unicode code-points, not
grapheme clusters</p></td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><b>Configuration</b>
<br>
This script can be customized through a config file
<b>script-opts/console.conf</b> placed in mpv's user
directory and through the <b>--script-opts</b> command-line
option. The configuration syntax is described in <i>ON
SCREEN CONTROLLER</i>.</p>

<p style="margin-left:11%; margin-top: 1em">Key bindings
can be changed in a standard way, see for example stats.lua
documentation.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Configurable
Options</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p style="margin-top: 1em"><b>scale</b></p></td>
<td width="4%"></td>
<td width="15%">


<p style="margin-top: 1em">Default: 1</p></td>
<td width="63%">
</td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">All drawing is
scaled by this value, including the text borders and the
cursor.</p>

<p style="margin-left:22%; margin-top: 1em">If the VO
backend in use has HiDPI scale reporting implemented, the
option value is scaled with the reported HiDPI scale.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p style="margin-top: 1em"><b>font</b></p></td>
<td width="5%"></td>
<td width="78%">


<p style="margin-top: 1em">Default: unset (picks a
hardcoded font depending on detected platform)</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">Set the font
used for the REPL and the console. This probably doesn't
have to be a monospaced font.</p>

<p style="margin-left:11%;"><b>font_size</b></p>

<p style="margin-left:22%;">Default: 16</p>

<p style="margin-left:22%; margin-top: 1em">Set the font
size used for the REPL and the console. This will be
multiplied by &quot;scale.&quot;</p>

<h2>LUA SCRIPTING
<a name="LUA SCRIPTING"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">mpv can load
Lua scripts. Scripts passed to the <b>--script</b> option,
or found in the <b>scripts</b> subdirectory of the mpv
configuration directory (usually
<b>~/.config/mpv/scripts/</b>) will be loaded on program
start. mpv also appends the <b>scripts</b> subdirectory to
the end of Lua's path so you can import scripts from there
too. Since it's added to the end, don't name scripts you
want to import the same as Lua libraries because they will
be overshadowed by them.</p>

<p style="margin-left:11%; margin-top: 1em">mpv provides
the built-in module <b>mp</b>, which contains functions to
send commands to the mpv core and to retrieve information
about playback state, user settings, file information, and
so on.</p>

<p style="margin-left:11%; margin-top: 1em">These scripts
can be used to control mpv in a similar way to slave mode.
Technically, the Lua code uses the client API
internally.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Example</b>
<br>
A script which leaves fullscreen mode when the player is
paused:</p>

<pre style="margin-left:15%; margin-top: 1em">function on_pause_change(name, value)
    if value == true then
        mp.set_property(&quot;fullscreen&quot;, &quot;no&quot;)
    end
end
mp.observe_property(&quot;pause&quot;, &quot;bool&quot;, on_pause_change)</pre>


<p style="margin-left:11%; margin-top: 1em"><b>Details on
the script initialization and lifecycle</b> <br>
Your script will be loaded by the player at program start
from the <b>scripts</b> configuration subdirectory, or from
a path specified with the <b>--script</b> option. Some
scripts are loaded internally (like <b>--osc</b>). Each
script runs in its own thread. Your script is first run
&quot;as is&quot;, and once that is done, the event loop is
entered. This event loop will dispatch events received by
mpv and call your own event handlers which you have
registered with <b>mp.register_event</b>, or timers added
with <b>mp.add_timeout</b> or similar. Note that since the
script starts execution concurrently with player
initialization, some properties may not be populated with
meaningful values until the relevant subsystems have
initialized.</p>

<p style="margin-left:11%; margin-top: 1em">When the player
quits, all scripts will be asked to terminate. This happens
via a <b>shutdown</b> event, which by default will make the
event loop return. If your script got into an endless loop,
mpv will probably behave fine during playback, but it won't
terminate when quitting, because it's waiting on your
script.</p>

<p style="margin-left:11%; margin-top: 1em">Internally, the
C code will call the Lua function <b>mp_event_loop</b> after
loading a Lua script. This function is normally defined by
the default prelude loaded before your script (see
<b>player/lua/defaults.lua</b> in the mpv sources). The
event loop will wait for events and dispatch events
registered with <b>mp.register_event</b>. It will also
handle timers added with <b>mp.add_timeout</b> and similar
(by waiting with a timeout).</p>

<p style="margin-left:11%; margin-top: 1em">Since mpv
0.6.0, the player will wait until the script is fully loaded
before continuing normal operation. The player considers a
script as fully loaded as soon as it starts waiting for mpv
events (or it exits). In practice this means the player will
more or less hang until the script returns from the main
chunk (and <b>mp_event_loop</b> is called), or the script
calls <b>mp_event_loop</b> or <b>mp.dispatch_events</b>
directly. This is done to make it possible for a script to
fully setup event handlers etc. before playback actually
starts. In older mpv versions, this happened asynchronously.
With mpv 0.29.0, this changes slightly, and it merely waits
for scripts to be loaded in this manner before starting
playback as part of the player initialization phase. Scripts
run though initialization in parallel. This might change
again.</p>

<p style="margin-left:11%; margin-top: 1em"><b>mp
functions</b> <br>
The <b>mp</b> module is preloaded, although it can be loaded
manually with <b>require 'mp'</b>. It provides the core
client API. <b><br>
mp.command(string)</b></p>

<p style="margin-left:22%;">Run the given command. This is
similar to the commands used in input.conf. See <i>List of
Input Commands</i>.</p>

<p style="margin-left:22%; margin-top: 1em">By default,
this will show something on the OSD (depending on the
command), as if it was used in <b>input.conf</b>. See
<i>Input Command Prefixes</i> how to influence OSD usage per
command.</p>

<p style="margin-left:22%; margin-top: 1em">Returns
<b>true</b> on success, or <b>nil, error</b> on error.</p>

<p style="margin-left:11%;"><b>mp.commandv(arg1, arg2,
...)</b></p>

<p style="margin-left:22%;">Similar to <b>mp.command</b>,
but pass each command argument as separate parameter. This
has the advantage that you don't have to care about quoting
and escaping in some cases.</p>

<p style="margin-left:22%; margin-top: 1em">Example:</p>

<pre style="margin-left:26%; margin-top: 1em">mp.command(&quot;loadfile &quot; .. filename .. &quot; append&quot;)
mp.commandv(&quot;loadfile&quot;, filename, &quot;append&quot;)</pre>


<p style="margin-left:22%; margin-top: 1em">These two
commands are equivalent, except that the first version
breaks if the filename contains spaces or certain special
characters.</p>

<p style="margin-left:22%; margin-top: 1em">Note that
properties are <i>not</i> expanded. You can use either
<b>mp.command</b>, the <b>expand-properties</b> prefix, or
the <b>mp.get_property</b> family of functions.</p>

<p style="margin-left:22%; margin-top: 1em">Unlike
<b>mp.command</b>, this will not use OSD by default either
(except for some OSD-specific commands).</p>

<p style="margin-left:11%;"><b>mp.command_native(table
[,def])</b></p>

<p style="margin-left:22%;">Similar to <b>mp.commandv</b>,
but pass the argument list as table. This has the advantage
that in at least some cases, arguments can be passed as
native types. It also allows you to use named argument.</p>

<p style="margin-left:22%; margin-top: 1em">If the table is
an array, each array item is like an argument in
<b>mp.commandv()</b> (but can be a native type instead of a
string).</p>

<p style="margin-left:22%; margin-top: 1em">If the table
contains string keys, it's interpreted as command with named
arguments. This requires at least an entry with the key
<b>name</b> to be present, which must be a string, and
contains the command name. The special entry <b>_flags</b>
is optional, and if present, must be an array of <i>Input
Command Prefixes</i> to apply. All other entries are
interpreted as arguments.</p>

<p style="margin-left:22%; margin-top: 1em">Returns a
result table on success (usually empty), or <b>def,
error</b> on error. <b>def</b> is the second parameter
provided to the function, and is nil if it's missing.</p>


<p style="margin-left:11%;"><b>mp.command_native_async(table
[,fn])</b></p>

<p style="margin-left:22%;">Like
<b>mp.command_native()</b>, but the command is ran
asynchronously (as far as possible), and upon completion, fn
is called. fn has two arguments: <b>fn(success, result,
error)</b>. <b>success</b> is always a Boolean and is true
if the command was successful, otherwise false. The second
parameter is the result value (can be nil) in case of
success, nil otherwise (as returned by
<b>mp.command_native()</b>). The third parameter is the
error string in case of an error, nil otherwise.</p>

<p style="margin-left:22%; margin-top: 1em">Returns a table
with undefined contents, which can be used as argument for
<b>mp.abort_async_command</b>.</p>

<p style="margin-left:22%; margin-top: 1em">If starting the
command failed for some reason, <b>nil, error</b> is
returned, and <b>fn</b> is called indicating failure, using
the same error value.</p>


<p style="margin-left:11%;"><b>mp.abort_async_command(t)</b></p>

<p style="margin-left:22%;">Abort a
<b>mp.command_native_async</b> call. The argument is the
return value of that command (which starts asynchronous
execution of the command). Whether this works and how long
it takes depends on the command and the situation. The abort
call itself is asynchronous. Does not return anything.</p>

<p style="margin-left:11%;"><b>mp.get_property(name
[,def])</b></p>

<p style="margin-left:22%;">Return the value of the given
property as string. These are the same properties as used in
input.conf. See <i>Properties</i> for a list of properties.
The returned string is formatted similar to <b>${=name}</b>
(see <i>Property Expansion</i>).</p>

<p style="margin-left:22%; margin-top: 1em">Returns the
string on success, or <b>def, error</b> on error. <b>def</b>
is the second parameter provided to the function, and is nil
if it's missing.</p>

<p style="margin-left:11%;"><b>mp.get_property_osd(name
[,def])</b></p>

<p style="margin-left:22%;">Similar to
<b>mp.get_property</b>, but return the property value
formatted for OSD. This is the same string as printed with
<b>${name}</b> when used in input.conf.</p>

<p style="margin-left:22%; margin-top: 1em">Returns the
string on success, or <b>def, error</b> on error. <b>def</b>
is the second parameter provided to the function, and is an
empty string if it's missing. Unlike <b>get_property()</b>,
assigning the return value to a variable will always result
in a string.</p>

<p style="margin-left:11%;"><b>mp.get_property_bool(name
[,def])</b></p>

<p style="margin-left:22%;">Similar to
<b>mp.get_property</b>, but return the property value as
Boolean.</p>

<p style="margin-left:22%; margin-top: 1em">Returns a
Boolean on success, or <b>def, error</b> on error.</p>

<p style="margin-left:11%;"><b>mp.get_property_number(name
[,def])</b></p>

<p style="margin-left:22%;">Similar to
<b>mp.get_property</b>, but return the property value as
number.</p>

<p style="margin-left:22%; margin-top: 1em">Note that while
Lua does not distinguish between integers and floats, mpv
internals do. This function simply request a double float
from mpv, and mpv will usually convert integer property
values to float.</p>

<p style="margin-left:22%; margin-top: 1em">Returns a
number on success, or <b>def, error</b> on error.</p>

<p style="margin-left:11%;"><b>mp.get_property_native(name
[,def])</b></p>

<p style="margin-left:22%;">Similar to
<b>mp.get_property</b>, but return the property value using
the best Lua type for the property. Most time, this will
return a string, Boolean, or number. Some properties (for
example <b>chapter-list</b>) are returned as tables.</p>

<p style="margin-left:22%; margin-top: 1em">Returns a value
on success, or <b>def, error</b> on error. Note that
<b>nil</b> might be a possible, valid value too in some
corner cases.</p>

<p style="margin-left:11%;"><b>mp.set_property(name,
value)</b></p>

<p style="margin-left:22%;">Set the given property to the
given string value. See <b>mp.get_property</b> and
<i>Properties</i> for more information about properties.</p>

<p style="margin-left:22%; margin-top: 1em">Returns true on
success, or <b>nil, error</b> on error.</p>

<p style="margin-left:11%;"><b>mp.set_property_bool(name,
value)</b></p>

<p style="margin-left:22%;">Similar to
<b>mp.set_property</b>, but set the given property to the
given Boolean value.</p>


<p style="margin-left:11%;"><b>mp.set_property_number(name,
value)</b></p>

<p style="margin-left:22%;">Similar to
<b>mp.set_property</b>, but set the given property to the
given numeric value.</p>

<p style="margin-left:22%; margin-top: 1em">Note that while
Lua does not distinguish between integers and floats, mpv
internals do. This function will test whether the number can
be represented as integer, and if so, it will pass an
integer value to mpv, otherwise a double float.</p>


<p style="margin-left:11%;"><b>mp.set_property_native(name,
value)</b></p>

<p style="margin-left:22%;">Similar to
<b>mp.set_property</b>, but set the given property using its
native type.</p>

<p style="margin-left:22%; margin-top: 1em">Since there are
several data types which cannot represented natively in Lua,
this might not always work as expected. For example, while
the Lua wrapper can do some guesswork to decide whether a
Lua table is an array or a map, this would fail with empty
tables. Also, there are not many properties for which it
makes sense to use this, instead of <b>set_property</b>,
<b>set_property_bool</b>, <b>set_property_number</b>. For
these reasons, this function should probably be avoided for
now, except for properties that use tables natively.</p>

<p style="margin-left:11%;"><b>mp.get_time()</b></p>

<p style="margin-left:22%;">Return the current mpv internal
time in seconds as a number. This is basically the system
time, with an arbitrary offset.</p>

<p style="margin-left:11%;"><b>mp.add_key_binding(key,
name|fn [,fn [,flags]])</b></p>

<p style="margin-left:22%;">Register callback to be run on
a key binding. The binding will be mapped to the given
<b>key</b>, which is a string describing the physical key.
This uses the same key names as in input.conf, and also
allows combinations (e.g. <b>ctrl+a</b>). If the key is
empty or <b>nil</b>, no physical key is registered, but the
user still can create own bindings (see below).</p>

<p style="margin-left:22%; margin-top: 1em">After calling
this function, key presses will cause the function <b>fn</b>
to be called (unless the user remapped the key with another
binding).</p>

<p style="margin-left:22%; margin-top: 1em">The <b>name</b>
argument should be a short symbolic string. It allows the
user to remap the key binding via input.conf using the
<b>script-message</b> command, and the name of the key
binding (see below for an example). The name should be
unique across other bindings in the same script - if not,
the previous binding with the same name will be overwritten.
You can omit the name, in which case a random name is
generated internally. (Omitting works as follows: either
pass <b>nil</b> for <b>name</b>, or pass the <b>fn</b>
argument in place of the name. The latter is not recommended
and is handled for compatibility only.)</p>

<p style="margin-left:22%; margin-top: 1em">The last
argument is used for optional flags. This is a table, which
can have the following entries:</p>

<p style="margin-left:26%;"><b>repeatable</b></p>

<p style="margin-left:37%;">If set to <b>true</b>, enables
key repeat for this specific binding.</p>

<p style="margin-left:26%;"><b>complex</b></p>

<p style="margin-left:37%;">If set to <b>true</b>, then
<b>fn</b> is called on both key up and down events (as well
as key repeat, if enabled), with the first argument being a
table. This table has the following entries (and may contain
undocumented ones):</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="37%"></td>
<td width="8%">


<p><b>event</b></p></td>
<td width="3%"></td>
<td width="52%">


<p>Set to one of the strings <b>down</b>, <b>repeat</b>,
<b>up</b> or <b>press</b> (the latter if key up/down can't
be tracked).</p></td></tr>
</table>

<p style="margin-left:37%;"><b>is_mouse</b></p>

<p style="margin-left:48%;">Boolean Whether the event was
caused by a mouse button.</p>

<p style="margin-left:37%;"><b>key_name</b></p>

<p style="margin-left:48%;">The name of they key that
triggered this, or <b>nil</b> if invoked artificially. If
the key name is unknown, it's an empty string.</p>

<p style="margin-left:37%;"><b>key_text</b></p>

<p style="margin-left:48%;">Text if triggered by a text
key, otherwise <b>nil</b>. See description of
<b>script-binding</b> command for details (this field is
equivalent to the 5th argument).</p>

<p style="margin-left:22%; margin-top: 1em">Internally, key
bindings are dispatched via the <b>script-message-to</b> or
<b>script-binding</b> input commands and
<b>mp.register_script_message</b>.</p>

<p style="margin-left:22%; margin-top: 1em">Trying to map
multiple commands to a key will essentially prefer a random
binding, while the other bindings are not called. It is
guaranteed that user defined bindings in the central
input.conf are preferred over bindings added with this
function (but see <b>mp.add_forced_key_binding</b>).</p>

<p style="margin-left:22%; margin-top: 1em">Example:</p>

<pre style="margin-left:26%; margin-top: 1em">function something_handler()
    print(&quot;the key was pressed&quot;)
end
mp.add_key_binding(&quot;x&quot;, &quot;something&quot;, something_handler)</pre>


<p style="margin-left:22%; margin-top: 1em">This will print
the message <b>the key was pressed</b> when <b>x</b> was
pressed.</p>

<p style="margin-left:22%; margin-top: 1em">The user can
remap these key bindings. Then the user has to put the
following into their input.conf to remap the command to the
<b>y</b> key:</p>

<pre style="margin-left:26%; margin-top: 1em">y script-binding something</pre>


<p style="margin-left:22%; margin-top: 1em">This will print
the message when the key <b>y</b> is pressed. (<b>x</b> will
still work, unless the user remaps it.)</p>

<p style="margin-left:22%; margin-top: 1em">You can also
explicitly send a message to a named script only. Assume the
above script was using the filename
<b>fooscript.lua</b>:</p>

<pre style="margin-left:26%; margin-top: 1em">y script-binding fooscript/something</pre>



<p style="margin-left:11%;"><b>mp.add_forced_key_binding(...)</b></p>

<p style="margin-left:22%;">This works almost the same as
<b>mp.add_key_binding</b>, but registers the key binding in
a way that will overwrite the user's custom bindings in
their input.conf. (<b>mp.add_key_binding</b> overwrites
default key bindings only, but not those by the user's
input.conf.)</p>


<p style="margin-left:11%;"><b>mp.remove_key_binding(name)</b></p>

<p style="margin-left:22%;">Remove a key binding added with
<b>mp.add_key_binding</b> or
<b>mp.add_forced_key_binding</b>. Use the same name as you
used when adding the bindings. It's not possible to remove
bindings for which you omitted the name.</p>

<p style="margin-left:11%;"><b>mp.register_event(name,
fn)</b></p>

<p style="margin-left:22%;">Call a specific function when
an event happens. The event name is a string, and the
function fn is a Lua function value.</p>

<p style="margin-left:22%; margin-top: 1em">Some events
have associated data. This is put into a Lua table and
passed as argument to fn. The Lua table by default contains
a <b>name</b> field, which is a string containing the event
name. If the event has an error associated, the <b>error</b>
field is set to a string describing the error, on success
it's not set.</p>

<p style="margin-left:22%; margin-top: 1em">If multiple
functions are registered for the same event, they are run in
registration order, which the first registered function
running before all the other ones.</p>

<p style="margin-left:22%; margin-top: 1em">Returns true if
such an event exists, false otherwise.</p>

<p style="margin-left:22%; margin-top: 1em">See
<i>Events</i> and <i>List of events</i> for details.</p>


<p style="margin-left:11%;"><b>mp.unregister_event(fn)</b></p>

<p style="margin-left:22%;">Undo <b>mp.register_event(...,
fn)</b>. This removes all event handlers that are equal to
the <b>fn</b> parameter. This uses normal Lua <b>==</b>
comparison, so be careful when dealing with closures.</p>

<p style="margin-left:11%;"><b>mp.observe_property(name,
type, fn)</b></p>

<p style="margin-left:22%;">Watch a property for changes.
If the property <b>name</b> is changed, then the function
<b>fn(name)</b> will be called. <b>type</b> can be
<b>nil</b>, or be set to one of <b>none</b>, <b>native</b>,
<b>bool</b>, <b>string</b>, or <b>number</b>. <b>none</b> is
the same as <b>nil</b>. For all other values, the new value
of the property will be passed as second argument to
<b>fn</b>, using <b>mp.get_property_&lt;type&gt;</b> to
retrieve it. This means if <b>type</b> is for example
<b>string</b>, <b>fn</b> is roughly called as in <b>fn(name,
mp.get_property_string(name))</b>.</p>

<p style="margin-left:22%; margin-top: 1em">If possible,
change events are coalesced. If a property is changed a
bunch of times in a row, only the last change triggers the
change function. (The exact behavior depends on timing and
other things.)</p>

<p style="margin-left:22%; margin-top: 1em">If a property
is unavailable, or on error, the value argument to <b>fn</b>
is <b>nil</b>. (The <b>observe_property()</b> call always
succeeds, even if a property does not exist.)</p>

<p style="margin-left:22%; margin-top: 1em">In some cases
the function is not called even if the property changes.
This depends on the property, and it's a valid feature
request to ask for better update handling of a specific
property.</p>

<p style="margin-left:22%; margin-top: 1em">If the
<b>type</b> is <b>none</b> or <b>nil</b>, sporadic property
change events are possible. This means the change function
<b>fn</b> can be called even if the property doesn't
actually change.</p>

<p style="margin-left:22%; margin-top: 1em">You always get
an initial change notification. This is meant to initialize
the user's state to the current value of the property.</p>


<p style="margin-left:11%;"><b>mp.unobserve_property(fn)</b></p>

<p style="margin-left:22%;">Undo
<b>mp.observe_property(..., fn)</b>. This removes all
property handlers that are equal to the <b>fn</b> parameter.
This uses normal Lua <b>==</b> comparison, so be careful
when dealing with closures.</p>

<p style="margin-left:11%;"><b>mp.add_timeout(seconds,
fn)</b></p>

<p style="margin-left:22%;">Call the given function fn when
the given number of seconds has elapsed. Note that the
number of seconds can be fractional. For now, the timer's
resolution may be as low as 50 ms, although this will be
improved in the future.</p>

<p style="margin-left:22%; margin-top: 1em">This is a
one-shot timer: it will be removed when it's fired.</p>

<p style="margin-left:22%; margin-top: 1em">Returns a timer
object. See <b>mp.add_periodic_timer</b> for details.</p>


<p style="margin-left:11%;"><b>mp.add_periodic_timer(seconds,
fn)</b></p>

<p style="margin-left:22%;">Call the given function
periodically. This is like <b>mp.add_timeout</b>, but the
timer is re-added after the function fn is run. <b><br>
Returns a timer object. The timer object provides the
following <br>
methods:</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="32%"></td>
<td width="10%">


<p><b>stop()</b></p></td>
<td width="1%"></td>
<td width="57%">


<p>Disable the timer. Does nothing if the timer is already
disabled. This will remember the current elapsed time when
stopping, so that <b>resume()</b> essentially unpauses the
timer.</p> </td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="10%">


<p><b>kill()</b></p></td>
<td width="1%"></td>
<td width="57%">


<p>Disable the timer. Resets the elapsed time.
<b>resume()</b> will restart the timer.</p></td></tr>
</table>

<p style="margin-left:32%;"><b>resume()</b></p>

<p style="margin-left:43%;">Restart the timer. If the timer
was disabled with <b>stop()</b>, this will resume at the
time it was stopped. If the timer was disabled with
<b>kill()</b>, or if it's a previously fired one-shot timer
(added with <b>add_timeout()</b>), this starts the timer
from the beginning, using the initially configured
timeout.</p>

<p style="margin-left:32%;"><b>is_enabled()</b></p>

<p style="margin-left:43%;">Whether the timer is currently
enabled or was previously disabled (e.g. by <b>stop()</b> or
<b>kill()</b>).</p>

<p style="margin-left:32%;"><b>timeout (RW)</b></p>

<p style="margin-left:43%;">This field contains the current
timeout period. This value is not updated as time
progresses. It's only used to calculate when the timer
should fire next when the timer expires.</p>

<p style="margin-left:43%; margin-top: 1em">If you write
this, you can call <b>t:kill() ; t:resume()</b> to reset the
current timeout to the new one. (<b>t:stop()</b> won't use
the new timeout.)</p>

<p style="margin-left:32%;"><b>oneshot (RW)</b></p>

<p style="margin-left:43%;">Whether the timer is periodic
(<b>false</b>) or fires just once (<b>true</b>). This value
is used when the timer expires (but before the timer
callback function fn is run).</p>

<p style="margin-left:22%; margin-top: 1em">Note that these
are methods, and you have to call them using <b>:</b>
instead of <b>.</b> (Refer to
<i>http://www.lua.org/manual/5.2/manual.html#3.4.9</i>
.)</p>

<p style="margin-left:22%; margin-top: 1em">Example:</p>

<pre style="margin-left:26%; margin-top: 1em">seconds = 0
timer = mp.add_periodic_timer(1, function()
    print(&quot;called every second&quot;)
    # stop it after 10 seconds
    seconds = seconds + 1
    if seconds &gt;= 10 then
        timer:kill()
    end
end)</pre>


<p style="margin-left:11%;"><b>mp.get_opt(key)</b></p>

<p style="margin-left:22%;">Return a setting from the
<b>--script-opts</b> option. It's up to the user and the
script how this mechanism is used. Currently, all scripts
can access this equally, so you should be careful about
collisions.</p>


<p style="margin-left:11%;"><b>mp.get_script_name()</b></p>

<p style="margin-left:22%;">Return the name of the current
script. The name is usually made of the filename of the
script, with directory and file extension removed. If there
are several scripts which would have the same name, it's
made unique by appending a number.</p>

<p style="margin-left:26%;">Example</p>

<p style="margin-left:37%; margin-top: 1em">The script
<b>/path/to/fooscript.lua</b> becomes <b>fooscript</b>.</p>

<p style="margin-left:11%;"><b>mp.osd_message(text
[,duration])</b></p>

<p style="margin-left:22%;">Show an OSD message on the
screen. <b>duration</b> is in seconds, and is optional (uses
<b>--osd-duration</b> by default).</p>

<p style="margin-left:11%; margin-top: 1em"><b>Advanced mp
functions</b> <br>
These also live in the <b>mp</b> module, but are documented
separately as they are useful only in special situations.
<b><br>
mp.suspend()</b></p>

<p style="margin-left:22%;">This function has been
deprecated in mpv 0.21.0 and does nothing starting with mpv
0.23.0 (no replacement).</p>

<p style="margin-left:11%;"><b>mp.resume()</b></p>

<p style="margin-left:22%;">This function has been
deprecated in mpv 0.21.0 and does nothing starting with mpv
0.23.0 (no replacement).</p>

<p style="margin-left:11%;"><b>mp.resume_all()</b></p>

<p style="margin-left:22%;">This function has been
deprecated in mpv 0.21.0 and does nothing starting with mpv
0.23.0 (no replacement).</p>


<p style="margin-left:11%;"><b>mp.get_wakeup_pipe()</b></p>

<p style="margin-left:22%;">Calls
<b>mpv_get_wakeup_pipe()</b> and returns the read end of the
wakeup pipe. This is deprecated, but still works. (See
<b>client.h</b> for details.)</p>


<p style="margin-left:11%;"><b>mp.get_next_timeout()</b></p>

<p style="margin-left:22%;">Return the relative time in
seconds when the next timer (<b>mp.add_timeout</b> and
similar) expires. If there is no timer, return
<b>nil</b>.</p>


<p style="margin-left:11%;"><b>mp.dispatch_events([allow_wait])</b></p>

<p style="margin-left:22%;">This can be used to run custom
event loops. If you want to have direct control what the Lua
script does (instead of being called by the default event
loop), you can set the global variable <b>mp_event_loop</b>
to your own function running the event loop. From your event
loop, you should call <b>mp.dispatch_events()</b> to dequeue
and dispatch mpv events.</p>

<p style="margin-left:22%; margin-top: 1em">If the
<b>allow_wait</b> parameter is set to <b>true</b>, the
function will block until the next event is received or the
next timer expires. Otherwise (and this is the default
behavior), it returns as soon as the event loop is emptied.
It's strongly recommended to use
<b>mp.get_next_timeout()</b> and <b>mp.get_wakeup_pipe()</b>
if you're interested in properly working notification of new
events and working timers.</p>


<p style="margin-left:11%;"><b>mp.register_idle(fn)</b></p>

<p style="margin-left:22%;">Register an event loop idle
handler. Idle handlers are called before the script goes to
sleep after handling all new events. This can be used for
example to delay processing of property change events: if
you're observing multiple properties at once, you might not
want to act on each property change, but only when all
change notifications have been received.</p>


<p style="margin-left:11%;"><b>mp.unregister_idle(fn)</b></p>

<p style="margin-left:22%;">Undo
<b>mp.register_idle(fn)</b>. This removes all idle handlers
that are equal to the <b>fn</b> parameter. This uses normal
Lua <b>==</b> comparison, so be careful when dealing with
closures.</p>


<p style="margin-left:11%;"><b>mp.enable_messages(level)</b></p>

<p style="margin-left:22%;">Set the minimum log level of
which mpv message output to receive. These messages are
normally printed to the terminal. By calling this function,
you can set the minimum log level of messages which should
be received with the <b>log-message</b> event. See the
description of this event for details. The level is a
string, see <b>msg.log</b> for allowed log levels.</p>


<p style="margin-left:11%;"><b>mp.register_script_message(name,
fn)</b></p>

<p style="margin-left:22%;">This is a helper to dispatch
<b>script-message</b> or <b>script-message-to</b>
invocations to Lua functions. <b>fn</b> is called if
<b>script-message</b> or <b>script-message-to</b> (with this
script as destination) is run with <b>name</b> as first
parameter. The other parameters are passed to <b>fn</b>. If
a message with the given name is already registered, it's
overwritten.</p>

<p style="margin-left:22%; margin-top: 1em">Used by
<b>mp.add_key_binding</b>, so be careful about name
collisions.</p>


<p style="margin-left:11%;"><b>mp.unregister_script_message(name)</b></p>

<p style="margin-left:22%;">Undo a previous registration
with <b>mp.register_script_message</b>. Does nothing if the
<b>name</b> wasn't registered.</p>


<p style="margin-left:11%;"><b>mp.create_osd_overlay(format)</b></p>

<p style="margin-left:22%;">Create an OSD overlay. This is
a very thin wrapper around the <b>osd-overlay</b> command.
The function returns a table, which mostly contains fields
that will be passed to <b>osd-overlay</b>. The <b>format</b>
parameter is used to initialize the <b>format</b> field. The
<b>data</b> field contains the text to be used as overlay.
For details, see the <b>osd-overlay</b> command.</p>

<p style="margin-left:22%; margin-top: 1em">In addition, it
provides the following methods: <b><br>
update()</b></p>

<p style="margin-left:32%;">Commit the OSD overlay to the
screen, or in other words, run the <b>osd-overlay</b>
command with the current fields of the overlay table.</p>

<p style="margin-left:22%;"><b>remove()</b></p>

<p style="margin-left:32%;">Remove the overlay from the
screen. A <b>update()</b> call will add it again.</p>

<p style="margin-left:22%; margin-top: 1em">Example:</p>

<pre style="margin-left:26%; margin-top: 1em">ov = mp.create_osd_overlay(&quot;ass-events&quot;)
ov.data = &quot;{\\an5}{\\b1}hello world!&quot;
ov:update()</pre>


<p style="margin-left:22%; margin-top: 1em">The advantage
of using this wrapper (as opposed to running
<b>osd-overlay</b> directly) is that the <b>id</b> field is
allocated automatically.</p>

<p style="margin-left:11%;"><b>mp.get_osd_size()</b></p>

<p style="margin-left:22%;">Returns a tuple of
<b>osd_width, osd_height, osd_par</b>. The first two give
the size of the OSD in pixels (for video ouputs like
<b>--vo=xv</b>, this may be &quot;scaled&quot; pixels). The
third is the display pixel aspect ratio.</p>

<p style="margin-left:22%; margin-top: 1em">May return
invalid/nonsense values if OSD is not initialized yet.</p>

<p style="margin-left:11%; margin-top: 1em"><b>mp.msg
functions</b> <br>
This module allows outputting messages to the terminal, and
can be loaded with <b>require 'mp.msg'</b>. <b><br>
msg.log(level, ...)</b></p>

<p style="margin-left:22%;">The level parameter is the
message priority. It's a string and one of <b>fatal</b>,
<b>error</b>, <b>warn</b>, <b>info</b>, <b>v</b>,
<b>debug</b>, <b>trace</b>. The user's settings will
determine which of these messages will be visible. Normally,
all messages are visible, except <b>v</b>, <b>debug</b> and
<b>trace</b>.</p>

<p style="margin-left:22%; margin-top: 1em">The parameters
after that are all converted to strings. Spaces are inserted
to separate multiple parameters.</p>

<p style="margin-left:22%; margin-top: 1em">You don't need
to add newlines.</p>

<p style="margin-left:11%;"><b>msg.fatal(...),
msg.error(...), msg.warn(...), msg.info(...), <br>
msg.verbose(...), msg.debug(...), msg.trace(...)</b></p>

<p style="margin-left:22%;">All of these are shortcuts and
equivalent to the corresponding <b>msg.log(level, ...)</b>
call.</p>

<p style="margin-left:11%; margin-top: 1em"><b>mp.options
functions</b> <br>
mpv comes with a built-in module to manage options from
config-files and the command-line. All you have to do is to
supply a table with default options to the read_options
function. The function will overwrite the default values
with values found in the config-file and the command-line
(in that order). <b><br>
options.read_options(table [, identifier [,
on_update]])</b></p>

<p style="margin-left:22%;">A <b>table</b> with key-value
pairs. The type of the default values is important for
converting the values read from the config file or
command-line back. Do not use <b>nil</b> as a default
value!</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>identifier</b> is used to identify the config-file and
the command-line options. These needs to unique to avoid
collisions with other scripts. Defaults to
<b>mp.get_script_name()</b> if the parameter is <b>nil</b>
or missing.</p>

<p style="margin-left:22%; margin-top: 1em">The
<b>on_update</b> parameter enables run-time updates of all
matching option values via the <b>script-opts</b>
option/property. If any of the matching options changes, the
values in the <b>table</b> (which was originally passed to
the function) are changed, and <b>on_update(list)</b> is
called. <b>list</b> is a table where each updated option has
a <b>list[option_name] = true</b> entry. There is no initial
<b>on_update()</b> call. This never re-reads the config
file. <b>script-opts</b> is always applied on the original
config file, ignoring previous <b>script-opts</b> values
(for example, if an option is removed from
<b>script-opts</b> at runtime, the option will have the
value in the config file). <b>table</b> entries are only
written for option values whose values effectively change
(this is important if the script changes <b>table</b>
entries independently).</p>

<p style="margin-left:11%; margin-top: 1em">Example
implementation:</p>

<pre style="margin-left:15%; margin-top: 1em">require 'mp.options'
local options = {
    optionA = &quot;defaultvalueA&quot;,
    optionB = -0.5,
    optionC = true,
}
read_options(options, &quot;myscript&quot;)
print(options.optionA)</pre>


<p style="margin-left:11%; margin-top: 1em">The config file
will be stored in <b>script-opts/identifier.conf</b> in
mpv's user folder. Comment lines can be started with # and
stray spaces are not removed. Boolean values will be
represented with yes/no.</p>

<p style="margin-left:11%; margin-top: 1em">Example
config:</p>

<pre style="margin-left:15%; margin-top: 1em"># comment
optionA=Hello World
optionB=9999
optionC=no</pre>


<p style="margin-left:11%; margin-top: 1em">Command-line
options are read from the <b>--script-opts</b> parameter. To
avoid collisions, all keys have to be prefixed with
<b>identifier-</b>.</p>

<p style="margin-left:11%; margin-top: 1em">Example
command-line:</p>

<pre style="margin-left:15%; margin-top: 1em">--script-opts=myscript-optionA=TEST,myscript-optionB=0,myscript-optionC=yes</pre>


<p style="margin-left:11%; margin-top: 1em"><b>mp.utils
functions</b> <br>
This built-in module provides generic helper functions for
Lua, and have strictly speaking nothing to do with mpv or
video/audio playback. They are provided for convenience.
Most compensate for Lua's scarce standard library.</p>

<p style="margin-left:11%; margin-top: 1em">Be warned that
any of these functions might disappear any time. They are
not strictly part of the guaranteed API. <b><br>
utils.getcwd()</b></p>

<p style="margin-left:22%;">Returns the directory that mpv
was launched from. On error, <b>nil, error</b> is
returned.</p>

<p style="margin-left:11%;"><b>utils.readdir(path [,
filter])</b></p>

<p style="margin-left:22%;">Enumerate all entries at the
given path on the filesystem, and return them as array. Each
entry is a directory entry (without the path). The list is
unsorted (in whatever order the operating system returns
it).</p>

<p style="margin-left:22%; margin-top: 1em">If the
<b>filter</b> argument is given, it must be one of the
following strings:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="9%">


<p><b>files</b></p></td>
<td width="2%"></td>
<td width="63%">


<p>List regular files only. This excludes directories,
special files (like UNIX device files or FIFOs), and dead
symlinks. It includes UNIX symlinks to regular files.</p></td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="9%">


<p><b>dirs</b></p></td>
<td width="2%"></td>
<td width="63%">


<p>List directories only, or symlinks to directories.
<b>.</b> and <b>..</b> are not included.</p></td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="9%">


<p><b>normal</b></p></td>
<td width="2%"></td>
<td width="63%">


<p>Include the results of both <b>files</b> and
<b>dirs</b>. (This is the default.)</p></td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="9%">


<p><b>all</b></p></td>
<td width="2%"></td>
<td width="63%">


<p>List all entries, even device files, dead symlinks,
FIFOs, and the <b>.</b> and <b>..</b> entries.</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">On error,
<b>nil, error</b> is returned.</p>


<p style="margin-left:11%;"><b>utils.file_info(path)</b></p>

<p style="margin-left:22%;">Stats the given path for
information and returns a table with the following
entries:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="8%">


<p><b>mode</b></p></td>
<td width="3%"></td>
<td width="63%">


<p>protection bits (on Windows, always 755 (octal) for
directories and 644 (octal) for files)</p></td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="8%">


<p><b>size</b></p></td>
<td width="3%"></td>
<td width="63%">


<p>size in bytes</p></td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="8%">


<p><b>atime</b></p></td>
<td width="3%"></td>
<td width="63%">


<p>time of last access</p></td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="8%">


<p><b>mtime</b></p></td>
<td width="3%"></td>
<td width="63%">


<p>time of last modification</p></td></tr>
<tr valign="top" align="left">
<td width="26%"></td>
<td width="8%">


<p><b>ctime</b></p></td>
<td width="3%"></td>
<td width="63%">


<p>time of last metadata change (Linux) / time of creation
(Windows)</p> </td></tr>
</table>

<p style="margin-left:26%;"><b>is_file</b></p>

<p style="margin-left:37%;">Whether <b>path</b> is a
regular file (boolean)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="9%">


<p><b>is_dir</b></p></td>
<td width="2%"></td>
<td width="57%">


<p>Whether <b>path</b> is a directory (boolean)</p></td>
<td width="6%">
</td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em"><b>mode</b> and
<b>size</b> are integers. Timestamps (<b>atime</b>,
<b>mtime</b> and <b>ctime</b>) are integer seconds since the
Unix epoch (Unix time). The booleans <b>is_file</b> and
<b>is_dir</b> are provided as a convenience; they can be and
are derived from <b>mode</b>.</p>

<p style="margin-left:22%; margin-top: 1em">On error (eg.
path does not exist), <b>nil, error</b> is returned.</p>


<p style="margin-left:11%;"><b>utils.split_path(path)</b></p>

<p style="margin-left:22%;">Split a path into directory
component and filename component, and return them. The first
return value is always the directory. The second return
value is the trailing part of the path, the directory
entry.</p>

<p style="margin-left:11%;"><b>utils.join_path(p1,
p2)</b></p>

<p style="margin-left:22%;">Return the concatenation of the
2 paths. Tries to be clever. For example, if <b>`p2</b> is
an absolute path, p2 is returned without change.</p>

<p style="margin-left:11%;"><b>utils.subprocess(t)</b></p>

<p style="margin-left:22%;">Runs an external process and
waits until it exits. Returns process status and the
captured output. This is a legacy wrapper around calling the
<b>subprocess</b> command with <b>mp.command_native</b>. It
does the following things:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="75%">


<p>copy the table <b>t</b></p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="75%">


<p>rename <b>cancellable</b> field to
<b>playback_only</b></p> </td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="75%">


<p>rename <b>max_size</b> to <b>capture_size</b></p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="75%">


<p>set <b>capture_stdout</b> field to <b>true</b> if
unset</p> </td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="75%">


<p>set <b>name</b> field to <b>subprocess</b></p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="75%">


<p>call <b>mp.command_native(copied_t)</b></p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="75%">


<p>if the command failed, create a dummy result table</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="75%">


<p>copy <b>error_string</b> to <b>error</b> field if the
string is non-empty</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="75%">


<p>return the result table</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">It is
recommended to use <b>mp.command_native</b> or
<b>mp.command_native_async</b> directly, instead of calling
this legacy wrapper. It is for compatibility only.</p>

<p style="margin-left:22%; margin-top: 1em">See the
<b>subprocess</b> documentation for semantics and further
parameters.</p>


<p style="margin-left:11%;"><b>utils.subprocess_detached(t)</b></p>

<p style="margin-left:22%;">Runs an external process and
detaches it from mpv's control.</p>

<p style="margin-left:22%; margin-top: 1em">The parameter
<b>t</b> is a table. The function reads the following
entries:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="26%"></td>
<td width="6%">


<p><b>args</b></p></td>
<td width="5%"></td>
<td width="63%">


<p>Array of strings of the same semantics as the
<b>args</b> used in the <b>subprocess</b> function.</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">The function
returns <b>nil</b>.</p>

<p style="margin-left:22%; margin-top: 1em">This is a
legacy wrapper around calling the <b>run</b> command with
<b>mp.commandv</b> and other functions.</p>

<p style="margin-left:11%;"><b>utils.getpid()</b></p>

<p style="margin-left:22%;">Returns the process ID of the
running mpv process. This can be used to identify the
calling mpv when launching (detached) subprocesses.</p>

<p style="margin-left:11%;"><b>utils.parse_json(str [,
trail])</b></p>

<p style="margin-left:22%;">Parses the given string
argument as JSON, and returns it as a Lua table. On error,
returns <b>nil, error</b>. (Currently, <b>error</b> is just
a string reading <b>error</b>, because there is no
fine-grained error reporting of any kind.)</p>

<p style="margin-left:22%; margin-top: 1em">The returned
value uses similar conventions as
<b>mp.get_property_native()</b> to distinguish empty objects
and arrays.</p>

<p style="margin-left:22%; margin-top: 1em">If the
<b>trail</b> parameter is <b>true</b> (or any value equal to
<b>true</b>), then trailing non-whitespace text is tolerated
by the function, and the trailing text is returned as 3rd
return value. (The 3rd return value is always there, but
with <b>trail</b> set, no error is raised.)</p>


<p style="margin-left:11%;"><b>utils.format_json(v)</b></p>

<p style="margin-left:22%;">Format the given Lua table (or
value) as a JSON string and return it. On error, returns
<b>nil, error</b>. (Errors usually only happen on value
types incompatible with JSON.)</p>

<p style="margin-left:22%; margin-top: 1em">The argument
value uses similar conventions as
<b>mp.set_property_native()</b> to distinguish empty objects
and arrays.</p>

<p style="margin-left:11%;"><b>utils.to_string(v)</b></p>

<p style="margin-left:22%;">Turn the given value into a
string. Formats tables and their contents. This doesn't do
anything special; it is only needed because Lua is
terrible.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Events</b>
<br>
Events are notifications from player core to scripts. You
can register an event handler with
<b>mp.register_event</b>.</p>

<p style="margin-left:11%; margin-top: 1em">Note that all
scripts (and other parts of the player) receive events
equally, and there's no such thing as blocking other scripts
from receiving events.</p>

<p style="margin-left:11%; margin-top: 1em">Example:</p>
<pre style="margin-left:15%; margin-top: 1em">function my_fn(event)
    print(&quot;start of playback!&quot;)
end

mp.register_event(&quot;file-loaded&quot;, my_fn)</pre>

<p style="margin-left:11%; margin-top: 1em"><b>List of
events <br>
start-file</b></p>

<p style="margin-left:22%;">Happens right before a new file
is loaded. When you receive this, the player is loading the
file (or possibly already done with it).</p>

<p style="margin-left:11%;"><b>end-file</b></p>

<p style="margin-left:22%;">Happens after a file was
unloaded. Typically, the player will load the next file
right away, or quit if this was the last file.</p>

<p style="margin-left:22%; margin-top: 1em">The event has
the <b>reason</b> field, which takes one of these
values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>eof</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>The file has ended. This can (but doesn't have to)
include incomplete files or broken network connections under
circumstances.</p> </td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>stop</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>Playback was ended by a command.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>quit</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>Playback was ended by sending the quit command.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="7%">


<p><b>error</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>An error happened. In this case, an <b>error</b> field
is present with the error string.</p></td></tr>
</table>

<p style="margin-left:22%;"><b>redirect</b></p>

<p style="margin-left:32%;">Happens with playlists and
similar. Details see <b>MPV_END_FILE_REASON_REDIRECT</b> in
the C API.</p>

<p style="margin-left:22%;"><b>unknown</b></p>

<p style="margin-left:32%;">Unknown. Normally doesn't
happen, unless the Lua API is out of sync with the C API.
(Likewise, it could happen that your script gets reason
strings that did not exist yet at the time your script was
written.)</p>

<p style="margin-left:11%;"><b>file-loaded</b></p>

<p style="margin-left:22%;">Happens after a file was loaded
and begins playback.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>seek</b></p></td>
<td width="5%"></td>
<td width="78%">


<p>Happens on seeking. (This might include cases when the
player seeks internally, even without user interaction. This
includes e.g. segment changes when playing ordered chapters
Matroska files.)</p></td></tr>
</table>

<p style="margin-left:11%;"><b>playback-restart</b></p>

<p style="margin-left:22%;">Start of playback after seek or
after file was loaded.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>idle</b></p></td>
<td width="5%"></td>
<td width="78%">


<p>Idle mode is entered. This happens when playback ended,
and the player was started with <b>--idle</b> or
<b>--force-window</b>. This mode is implicitly ended when
the <b>start-file</b> or <b>shutdown</b> events happen.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>tick</b></p></td>
<td width="5%"></td>
<td width="78%">


<p>Called after a video frame was displayed. This is a
hack, and you should avoid using it. Use timers instead and
maybe watch pausing/unpausing events to avoid wasting CPU
when the player is paused.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>shutdown</b></p>

<p style="margin-left:22%;">Sent when the player quits, and
the script should terminate. Normally handled automatically.
See <i>Details on the script initialization and
lifecycle</i>.</p>

<p style="margin-left:11%;"><b>log-message</b></p>

<p style="margin-left:22%;">Receives messages enabled with
<b>mp.enable_messages</b>. The message data is contained in
the table passed as first parameter to the event handler.
The table contains, in addition to the default event fields,
the following fields:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>prefix</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>The module prefix, identifies the sender of the message.
This is what the terminal player puts in front of the
message text when using the <b>--v</b> option, and is also
what is used for <b>--msg-level</b>.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>level</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>The log level as string. See <b>msg.log</b> for possible
log level names. Note that later versions of mpv might add
new levels or remove (undocumented) existing ones.</p></td></tr>
<tr valign="top" align="left">
<td width="22%"></td>
<td width="9%">


<p><b>text</b></p></td>
<td width="1%"></td>
<td width="68%">


<p>The log message. The text will end with a newline
character. Sometimes it can contain multiple lines.</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">Keep in mind
that these messages are meant to be hints for humans. You
should not parse them, and prefix/level/text of messages
might change any time.</p>

<p style="margin-left:11%;"><b>get-property-reply</b></p>

<p style="margin-left:22%;">Undocumented (not useful for
Lua scripts).</p>

<p style="margin-left:11%;"><b>set-property-reply</b></p>

<p style="margin-left:22%;">Undocumented (not useful for
Lua scripts).</p>

<p style="margin-left:11%;"><b>command-reply</b></p>

<p style="margin-left:22%;">Undocumented (not useful for
Lua scripts).</p>

<p style="margin-left:11%;"><b>client-message</b></p>

<p style="margin-left:22%;">Undocumented (used
internally).</p>

<p style="margin-left:11%;"><b>video-reconfig</b></p>

<p style="margin-left:22%;">Happens on video output or
filter reconfig.</p>

<p style="margin-left:11%;"><b>audio-reconfig</b></p>

<p style="margin-left:22%;">Happens on audio output or
filter reconfig.</p>

<p style="margin-left:11%; margin-top: 1em">The following
events also happen, but are deprecated:
<b>tracks-changed</b>, <b>track-switched</b>, <b>pause</b>,
<b>unpause</b>, <b>metadata-update</b>,
<b>chapter-change</b>. Use <b>mp.observe_property()</b>
instead.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Extras</b>
<br>
This documents experimental features, or features that are
&quot;too special&quot; to guarantee a stable interface.
<b><br>
mp.add_hook(type, priority, fn)</b></p>

<p style="margin-left:22%;">Add a hook callback for
<b>type</b> (a string identifying a certain kind of hook).
These hooks allow the player to call script functions and
wait for their result (normally, the Lua scripting interface
is asynchronous from the point of view of the player core).
<b>priority</b> is an arbitrary integer that allows ordering
among hooks of the same kind. Using the value 50 is
recommended as neutral default value. <b>fn</b> is the
function that will be called during execution of the
hook.</p>

<p style="margin-left:22%; margin-top: 1em">See
<i>Hooks</i> for currently existing hooks and what they do -
only the hook list is interesting; handling hook execution
is done by the Lua script function automatically.</p>

<h2>JAVASCRIPT
<a name="JAVASCRIPT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">JavaScript
support in mpv is near identical to its Lua support. Use
this section as reference on differences and availability of
APIs, but otherwise you should refer to the Lua
documentation for API details and general scripting in
mpv.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Example</b>
<br>
JavaScript code which leaves fullscreen mode when the player
is paused:</p>

<pre style="margin-left:15%; margin-top: 1em">function on_pause_change(name, value) {
    if (value == true)
        mp.set_property(&quot;fullscreen&quot;, &quot;no&quot;);
}
mp.observe_property(&quot;pause&quot;, &quot;bool&quot;, on_pause_change);</pre>



<p style="margin-left:11%; margin-top: 1em"><b>Similarities
with Lua</b> <br>
mpv tries to load a script file as JavaScript if it has a
<b>.js</b> extension, but otherwise, the documented Lua
options, script directories, loading, etc apply to
JavaScript files too.</p>

<p style="margin-left:11%; margin-top: 1em">Script
initialization and lifecycle is the same as with Lua, and
most of the Lua functions at the modules <b>mp</b>,
<b>mp.utils</b>, <b>mp.msg</b> and <b>mp.options</b> are
available to JavaScript with identical APIs - including
running commands, getting/setting properties, registering
events/key-bindings/hooks, etc.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Differences
from Lua</b> <br>
No need to load modules. <b>mp</b>, <b>mp.utils</b>,
<b>mp.msg</b> and <b>mp.options</b> are preloaded, and you
can use e.g. <b>var cwd = mp.utils.getcwd();</b> without
prior setup.</p>

<p style="margin-left:11%; margin-top: 1em">Errors are
slightly different. Where the Lua APIs return <b>nil</b> for
error, the JavaScript ones return <b>undefined</b>. Where
Lua returns <b>something, error</b> JavaScript returns only
<b>something</b> - and makes <b>error</b> available via
<b>mp.last_error()</b>. Note that only some of the functions
have this additional <b>error</b> value - typically the same
ones which have it in Lua.</p>

<p style="margin-left:11%; margin-top: 1em">Standard APIs
are preferred. For instance <b>setTimeout</b> and
<b>JSON.stringify</b> are available, but
<b>mp.add_timeout</b> and <b>mp.utils.format_json</b> are
not.</p>

<p style="margin-left:11%; margin-top: 1em">No standard
library. This means that interaction with anything outside
of mpv is limited to the available APIs, typically via
<b>mp.utils</b>. However, some file functions were added,
and CommonJS <b>require</b> is available too - where the
loaded modules have the same privileges as normal
scripts.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Language
features - ECMAScript 5</b> <br>
The scripting backend which mpv currently uses is MuJS - a
compatible minimal ES5 interpreter. As such,
<b>String.substring</b> is implemented for instance, while
the common but non-standard <b>String.substr</b> is not.
Please consult the MuJS pages on language features and
platform support - <i>http://mujs.com</i> .</p>

<p style="margin-left:11%; margin-top: 1em"><b>Unsupported
Lua APIs and their JS alternatives <br>
mp.add_timeout(seconds, fn)</b> JS: <b>id = setTimeout(fn,
ms)</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.add_periodic_timer(seconds,
fn)</b> JS: <b>id = setInterval(fn, ms)</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>utils.parse_json(str
[, trail])</b> JS: <b>JSON.parse(str)</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>utils.format_json(v)</b>
JS: <b>JSON.stringify(v)</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>utils.to_string(v)</b>
see <b>dump</b> below.</p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.suspend()</b>
JS: none (deprecated).</p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.resume()</b>
JS: none (deprecated).</p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.resume_all()</b>
JS: none (deprecated).</p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.get_next_timeout()</b>
see event loop below.</p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.dispatch_events([allow_wait])</b>
see event loop below.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Scripting
APIs - identical to Lua</b> <br>
(LE) - Last-Error, indicates that <b>mp.last_error()</b> can
be used after the call to test for success (empty string) or
failure (non empty reason string). Where the Lua APIs use
<b>nil</b> to indicate error, JS APIs use
<b>undefined</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.command(string)</b>
(LE)</p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.commandv(arg1,
arg2, ...)</b> (LE)</p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.command_native(table
[,def])</b> (LE)</p>

<p style="margin-left:11%; margin-top: 1em"><b>id =
mp.command_native_async(table [,fn])</b> (LE) Notes:
<b>id</b> is true-thy on success, <b>fn</b> is called always
a-sync, <b>error</b> is empty string on success.</p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.abort_async_command(id)</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.get_property(name
[,def])</b> (LE)</p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.get_property_osd(name
[,def])</b> (LE)</p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.get_property_bool(name
[,def])</b> (LE)</p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.get_property_number(name
[,def])</b> (LE)</p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.get_property_native(name
[,def])</b> (LE)</p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.set_property(name,
value)</b> (LE)</p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.set_property_bool(name,
value)</b> (LE)</p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.set_property_number(name,
value)</b> (LE)</p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.set_property_native(name,
value)</b> (LE)</p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.get_time()</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.add_key_binding(key,
name|fn [,fn [,flags]])</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.add_forced_key_binding(...)</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.remove_key_binding(name)</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.register_event(name,
fn)</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.unregister_event(fn)</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.observe_property(name,
type, fn)</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.unobserve_property(fn)</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.get_opt(key)</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.get_script_name()</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.osd_message(text
[,duration])</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.get_wakeup_pipe()</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.register_idle(fn)</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.unregister_idle(fn)</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.enable_messages(level)</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.register_script_message(name,
fn)</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.unregister_script_message(name)</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.create_osd_overlay(format)</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.get_osd_size()</b>
(returned object has properties: width, height, aspect)</p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.msg.log(level,
...)</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.msg.fatal(...)</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.msg.error(...)</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.msg.warn(...)</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.msg.info(...)</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.msg.verbose(...)</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.msg.debug(...)</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.msg.trace(...)</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.utils.getcwd()</b>
(LE)</p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.utils.readdir(path
[, filter])</b> (LE)</p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.utils.file_info(path)</b>
(LE)</p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.utils.split_path(path)</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.utils.join_path(p1,
p2)</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.utils.subprocess(t)</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.utils.subprocess_detached(t)</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.utils.getpid()</b>
(LE)</p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.add_hook(type,
priority, fn)</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.options.read_options(obj
[, identifier [, on_update]])</b> (types:
string/boolean/number)</p>

<p style="margin-left:11%; margin-top: 1em"><b>Additional
utilities <br>
mp.last_error()</b></p>

<p style="margin-left:22%;">If used after an API call which
updates last error, returns an empty string if the API call
succeeded, or a non-empty error reason string otherwise.</p>

<p style="margin-left:11%;"><b>Error.stack (string)</b></p>

<p style="margin-left:22%;">When using <b>try { ... }
catch(e) { ... }</b>, then <b>e.stack</b> is the stack trace
of the error - if it was created using the <b>Error(...)</b>
constructor.</p>

<p style="margin-left:11%;"><b>print (global)</b></p>

<p style="margin-left:22%;">A convenient alias to
<b>mp.msg.info</b>.</p>

<p style="margin-left:11%;"><b>dump (global)</b></p>

<p style="margin-left:22%;">Like <b>print</b> but also
expands objects and arrays recursively.</p>


<p style="margin-left:11%;"><b>mp.utils.getenv(name)</b></p>

<p style="margin-left:22%;">Returns the value of the host
environment variable <b>name</b>, or <b>undefined</b> if the
variable is not defined.</p>


<p style="margin-left:11%;"><b>mp.utils.get_user_path(path)</b></p>

<p style="margin-left:22%;">Expands (mpv) meta paths like
<b>~/x</b>, <b>~~/y</b>, <b>~~desktop/z</b> etc.
<b>read_file</b>, <b>write_file</b> and <b>require</b>
already use this internaly.</p>

<p style="margin-left:11%;"><b>mp.utils.read_file(fname
[,max])</b></p>

<p style="margin-left:22%;">Returns the content of file
<b>fname</b> as string. If <b>max</b> is provided and not
negative, limit the read to <b>max</b> bytes.</p>

<p style="margin-left:11%;"><b>mp.utils.write_file(fname,
str)</b></p>

<p style="margin-left:22%;">(Over)write file <b>fname</b>
with text content <b>str</b>. <b>fname</b> must be prefixed
with <b>file://</b> as simple protection against accidental
arguments switch, e.g.
<b>mp.utils.write_file(&quot;file://~/abc.txt&quot;,
&quot;hello world&quot;)</b>.</p>

<p style="margin-left:11%; margin-top: 1em">Note:
<b>read_file</b> and <b>write_file</b> throw on errors,
allow text content only. <b><br>
mp.get_time_ms()</b></p>

<p style="margin-left:22%;">Same as <b>mp.get_time()</b>
but in ms instead of seconds.</p>


<p style="margin-left:11%;"><b>mp.get_script_file()</b></p>

<p style="margin-left:22%;">Returns the file name of the
current script.</p>

<p style="margin-left:11%;"><b>exit() (global)</b></p>

<p style="margin-left:22%;">Make the script exit at the end
of the current event loop iteration. Note: please remove
added key bindings before calling <b>exit()</b>.</p>

<p style="margin-left:11%;"><b>mp.utils.compile_js(fname,
content_str)</b></p>

<p style="margin-left:22%;">Compiles the JS code
<b>content_str</b> as file name <b>fname</b> (without
loading anything from the filesystem), and returns it as a
function. Very similar to a <b>Function</b> constructor, but
shows at stack traces as <b>fname</b>.</p>

<p style="margin-left:11%;"><b>mp.module_paths</b></p>

<p style="margin-left:22%;">Global modules search paths
array for the <b>require</b> function (see below).</p>

<p style="margin-left:11%; margin-top: 1em"><b>Timers
(global)</b> <br>
The standard HTML/node.js timers are available:</p>

<p style="margin-left:11%; margin-top: 1em"><b>id =
setTimeout(fn [,duration [,arg1 [,arg2...]]])</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>id =
setTimeout(code_string [,duration])</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>clearTimeout(id)</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>id =
setInterval(fn [,duration [,arg1 [,arg2...]]])</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>id =
setInterval(code_string [,duration])</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>clearInterval(id)</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>setTimeout</b>
and <b>setInterval</b> return id, and later call <b>fn</b>
(or execute <b>code_string</b>) after <b>duration</b> ms.
Interval also repeat every <b>duration</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>duration</b>
has a minimum and default value of 0, <b>code_string</b> is
a plain string which is evaluated as JS code, and <b>[,arg1
[,arg2..]]</b> are used as arguments (if provided) when
calling back <b>fn</b>.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>clear...(id)</b> functions cancel timer <b>id</b>, and
are irreversible.</p>

<p style="margin-left:11%; margin-top: 1em">Note: timers
always call back asynchronously, e.g. <b>setTimeout(fn)</b>
will never call <b>fn</b> before returning. <b>fn</b> will
be called either at the end of this event loop iteration or
at a later event loop iteration. This is true also for
intervals - which also never call back twice at the same
event loop iteration.</p>

<p style="margin-left:11%; margin-top: 1em">Additionally,
timers are processed after the event queue is empty, so it's
valid to use <b>setTimeout(fn)</b> as a one-time idle
observer.</p>

<p style="margin-left:11%; margin-top: 1em"><b>CommonJS
modules and require(id)</b> <br>
CommonJS Modules are a standard system where scripts can
export common functions for use by other scripts.
Specifically, a module is a script which adds properties
(functions, etc) to its pre-existing <b>exports</b> object,
which another script can access with
<b>require(module-id)</b>. This runs the module and returns
its <b>exports</b> object. Further calls to <b>require</b>
for the same module will return its cached <b>exports</b>
object without running the module again.</p>

<p style="margin-left:11%; margin-top: 1em">Modules and
<b>require</b> are supported, standard compliant, and
generally similar to node.js. However, most node.js modules
won't run due to missing modules such as <b>fs</b>,
<b>process</b>, etc, but some node.js modules with minimal
dependencies do work. In general, this is for mpv modules
and not a node.js replacement.</p>

<p style="margin-left:11%; margin-top: 1em">A <b>.js</b>
file extension is always added to <b>id</b>, e.g.
<b>require(&quot;./foo&quot;)</b> will load the file
<b>./foo.js</b> and return its <b>exports</b> object.</p>

<p style="margin-left:11%; margin-top: 1em">An id is
relative (to the script which <b>require</b>'d it) if it
starts with <b>./</b> or <b>../</b>. Otherwise, it's
considered a &quot;top-level id&quot; (CommonJS term).</p>

<p style="margin-left:11%; margin-top: 1em">Top level id is
evaluated as absolute filesystem path if possible, e.g.
<b>/x/y</b> or <b>~/x</b>. Otherwise, it's considered a
global module id and searched at <b>scripts/modules.js/</b>
in mpv config dirs - in normal config search order. E.g.
<b>require(&quot;x&quot;)</b> is searched as file
<b>x.js</b> at those dirs, and id <b>foo/x</b> is searched
as file <b>x.js</b> inside dir <b>foo</b> at those dirs.</p>

<p style="margin-left:11%; margin-top: 1em">Search paths
for global module id's are at the array
<b>mp.module_paths</b>, which is searched in order.
Initially it contains one item: <b>~~/scripts/modules.js</b>
such that it behaves as described above. Modifying it will
affect future <b>require</b> calls with global module id's
which are not already loaded/cached.</p>

<p style="margin-left:11%; margin-top: 1em">No
<b>global</b> variable, but a module's <b>this</b> at its
top lexical scope is the global object - also in strict
mode. If you have a module which needs <b>global</b> as the
global object, you could do <b>this.global = this;</b>
before <b>require</b>.</p>

<p style="margin-left:11%; margin-top: 1em">Functions and
variables declared at a module don't pollute the global
object.</p>

<p style="margin-left:11%; margin-top: 1em"><b>The event
loop</b> <br>
The event loop poll/dispatch mpv events as long as the queue
is not empty, then processes the timers, then waits for the
next event, and repeats this forever.</p>

<p style="margin-left:11%; margin-top: 1em">You could put
this code at your script to replace the built-in event loop,
and also print every event which mpv sends to your
script:</p>

<pre style="margin-left:15%; margin-top: 1em">function mp_event_loop() {
    var wait = 0;
    do {
        var e = mp.wait_event(wait);
        dump(e);  // there could be a lot of prints...
        if (e.event != &quot;none&quot;) {
            mp.dispatch_event(e);
            wait = 0;
        } else {
            wait = mp.process_timers() / 1000;
            if (wait != 0) {
                mp.notify_idle_observers();
                wait = mp.peek_timers_wait() / 1000;
            }
        }
    } while (mp.keep_running);
}</pre>



<p style="margin-left:11%; margin-top: 1em"><b>mp_event_loop</b>
is a name which mpv tries to call after the script loads.
The internal implementation is similar to this (without
<b>dump</b> though..).</p>

<p style="margin-left:11%; margin-top: 1em"><b>e =
mp.wait_event(wait)</b> returns when the next mpv event
arrives, or after <b>wait</b> seconds if positive and no mpv
events arrived. <b>wait</b> value of 0 returns immediately
(with <b>e.event == &quot;none&quot;</b> if the queue is
empty).</p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.dispatch_event(e)</b>
calls back the handlers registered for <b>e.event</b>, if
there are such (event handlers, property observers, script
messages, etc).</p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.process_timers()</b>
calls back the already-added, non-canceled due timers, and
returns the duration in ms till the next due timer (possibly
0), or -1 if there are no pending timers. Must not be called
recursively.</p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.notify_idle_observers()</b>
calls back the idle observers, which we do when we're about
to sleep (wait != 0), but the observers may add timers or
take non-negligible duration to complete, so we re-calculate
<b>wait</b> afterwards.</p>


<p style="margin-left:11%; margin-top: 1em"><b>mp.peek_timers_wait()</b>
returns the same values as <b>mp.process_timers()</b> but
without doing anything. Invalid result if called from a
timer callback.</p>

<p style="margin-left:11%; margin-top: 1em">Note:
<b>exit()</b> is also registered for the <b>shutdown</b>
event, and its implementation is a simple <b>mp.keep_running
= false</b>.</p>

<h2>JSON IPC
<a name="JSON IPC"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">mpv can be
controlled by external programs using the JSON-based IPC
protocol. It can be enabled by specifying the path to a unix
socket or a named pipe using the option
<b>--input-ipc-server</b>. Clients can connect to this
socket and send commands to the player or receive events
from it.</p>


<p style="margin-left:11%; margin-top: 1em"><b>WARNING:</b></p>

<p style="margin-left:15%;">This is not intended to be a
secure network protocol. It is explicitly insecure: there is
no authentication, no encryption, and the commands
themselves are insecure too. For example, the <b>run</b>
command is exposed, which can run arbitrary system commands.
The use-case is controlling the player locally. This is not
different from the MPlayer slave protocol.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Socat
example</b> <br>
You can use the <b>socat</b> tool to send commands (and
receive replies) from the shell. Assuming mpv was started
with:</p>

<pre style="margin-left:15%; margin-top: 1em">mpv file.mkv --input-ipc-server=/tmp/mpvsocket</pre>


<p style="margin-left:11%; margin-top: 1em">Then you can
control it using socat:</p>

<pre style="margin-left:15%; margin-top: 1em">&gt; echo '{ &quot;command&quot;: [&quot;get_property&quot;, &quot;playback-time&quot;] }' | socat - /tmp/mpvsocket
{&quot;data&quot;:190.482000,&quot;error&quot;:&quot;success&quot;}</pre>


<p style="margin-left:11%; margin-top: 1em">In this case,
socat copies data between stdin/stdout and the mpv socket
connection.</p>

<p style="margin-left:11%; margin-top: 1em">See the
<b>--idle</b> option how to make mpv start without exiting
immediately or playing a file.</p>

<p style="margin-left:11%; margin-top: 1em">It's also
possible to send input.conf style text-only commands:</p>

<pre style="margin-left:15%; margin-top: 1em">&gt; echo 'show-text ${playback-time}' | socat - /tmp/mpvsocket</pre>


<p style="margin-left:11%; margin-top: 1em">But you won't
get a reply over the socket. (This particular command shows
the playback time on the player's OSD.)</p>

<p style="margin-left:11%; margin-top: 1em"><b>Command
Prompt example</b> <br>
Unfortunately, it's not as easy to test the IPC protocol on
Windows, since Windows ports of socat (in Cygwin and MSYS2)
don't understand named pipes. In the absence of a simple
tool to send and receive from bidirectional pipes, the
<b>echo</b> command can be used to send commands, but not
receive replies from the command prompt.</p>

<p style="margin-left:11%; margin-top: 1em">Assuming mpv
was started with:</p>

<pre style="margin-left:15%; margin-top: 1em">mpv file.mkv --input-ipc-server=\\.\pipe\mpvsocket</pre>


<p style="margin-left:11%; margin-top: 1em">You can send
commands from a command prompt:</p>

<pre style="margin-left:15%; margin-top: 1em">echo show-text ${playback-time} &gt;\\.\pipe\mpvsocket</pre>


<p style="margin-left:11%; margin-top: 1em">To be able to
simultaneously read and write from the IPC pipe, like on
Linux, it's necessary to write an external program that uses
overlapped file I/O (or some wrapper like .NET's
NamedPipeClientStream.)</p>


<p style="margin-left:11%; margin-top: 1em"><b>Protocol</b>
<br>
The protocol uses UTF-8-only JSON as defined by RFC-8259.
Unlike standard JSON, &quot;u&quot; escape sequences are not
allowed to construct surrogate pairs. To avoid getting
conflicts, encode all text characters including and above
codepoint U+0020 as UTF-8. mpv might output broken UTF-8 in
corner cases (see &quot;UTF-8&quot; section below).</p>

<p style="margin-left:11%; margin-top: 1em">Clients can
execute commands on the player by sending JSON messages of
the following form:</p>

<pre style="margin-left:15%; margin-top: 1em">{ &quot;command&quot;: [&quot;command_name&quot;, &quot;param1&quot;, &quot;param2&quot;, ...] }</pre>


<p style="margin-left:11%; margin-top: 1em">where
<b>command_name</b> is the name of the command to be
executed, followed by a list of parameters. Parameters must
be formatted as native JSON values (integers, strings,
booleans, ...). Every message <b>must</b> be terminated with
<b>\n</b>. Additionally, <b>\n</b> must not appear anywhere
inside the message. In practice this means that messages
should be minified before being sent to mpv.</p>

<p style="margin-left:11%; margin-top: 1em">mpv will then
send back a reply indicating whether the command was run
correctly, and an additional field holding the
command-specific return data (it can also be null).</p>

<pre style="margin-left:15%; margin-top: 1em">{ &quot;error&quot;: &quot;success&quot;, &quot;data&quot;: null }</pre>


<p style="margin-left:11%; margin-top: 1em">mpv will also
send events to clients with JSON messages of the following
form:</p>

<pre style="margin-left:15%; margin-top: 1em">{ &quot;event&quot;: &quot;event_name&quot; }</pre>


<p style="margin-left:11%; margin-top: 1em">where
<b>event_name</b> is the name of the event. Additional
event-specific fields can also be present. See <i>List of
events</i> for a list of all supported events.</p>

<p style="margin-left:11%; margin-top: 1em">Because events
can occur at any time, it may be difficult at times to
determine which response goes with which command. Commands
may optionally include a <b>request_id</b> which, if
provided in the command request, will be copied verbatim
into the response. mpv does not intrepret the
<b>request_id</b> in any way; it is solely for the use of
the requester. The only requirement is that the
<b>request_id</b> field must be an integer (a number without
fractional parts in the range <b>-2^63..2^63-1</b>). Using
other types is deprecated and will currently show a warning.
In the future, this will raise an error.</p>

<p style="margin-left:11%; margin-top: 1em">For example,
this request:</p>

<pre style="margin-left:15%; margin-top: 1em">{ &quot;command&quot;: [&quot;get_property&quot;, &quot;time-pos&quot;], &quot;request_id&quot;: 100 }</pre>


<p style="margin-left:11%; margin-top: 1em">Would generate
this response:</p>

<pre style="margin-left:15%; margin-top: 1em">{ &quot;error&quot;: &quot;success&quot;, &quot;data&quot;: 1.468135, &quot;request_id&quot;: 100 }</pre>


<p style="margin-left:11%; margin-top: 1em">If you don't
specify a <b>request_id</b>, command replies will set it to
0.</p>

<p style="margin-left:11%; margin-top: 1em">Commands may
run asynchronously in the future, instead of blocking the
socket until a reply is sent.</p>

<p style="margin-left:11%; margin-top: 1em">All commands,
replies, and events are separated from each other with a
line break character (<b>\n</b>).</p>

<p style="margin-left:11%; margin-top: 1em">If the first
character (after skipping whitespace) is not <b>{</b>, the
command will be interpreted as non-JSON text command, as
they are used in input.conf (or <b>mpv_command_string()</b>
in the client API). Additionally, lines starting with
<b>#</b> and empty lines are ignored.</p>

<p style="margin-left:11%; margin-top: 1em">Currently,
embedded 0 bytes terminate the current line, but you should
not rely on this.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Commands</b>
<br>
In addition to the commands described in <i>List of Input
Commands</i>, a few extra commands can also be used as part
of the protocol: <b><br>
client_name</b></p>

<p style="margin-left:22%;">Return the name of the client
as string. This is the string <b>ipc-N</b> with N being an
integer number.</p>

<p style="margin-left:11%;"><b>get_time_us</b></p>

<p style="margin-left:22%;">Return the current mpv internal
time in microseconds as a number. This is basically the
system time, with an arbitrary offset.</p>

<p style="margin-left:11%;"><b>get_property</b></p>

<p style="margin-left:22%;">Return the value of the given
property. The value will be sent in the data field of the
replay message.</p>

<p style="margin-left:22%; margin-top: 1em">Example:</p>

<pre style="margin-left:26%; margin-top: 1em">{ &quot;command&quot;: [&quot;get_property&quot;, &quot;volume&quot;] }
{ &quot;data&quot;: 50.0, &quot;error&quot;: &quot;success&quot; }</pre>


<p style="margin-left:11%;"><b>get_property_string</b></p>

<p style="margin-left:22%;">Like <b>get_property</b>, but
the resulting data will always be a string.</p>

<p style="margin-left:22%; margin-top: 1em">Example:</p>

<pre style="margin-left:26%; margin-top: 1em">{ &quot;command&quot;: [&quot;get_property_string&quot;, &quot;volume&quot;] }
{ &quot;data&quot;: &quot;50.000000&quot;, &quot;error&quot;: &quot;success&quot; }</pre>


<p style="margin-left:11%;"><b>set_property</b></p>

<p style="margin-left:22%;">Set the given property to the
given value. See <i>Properties</i> for more information
about properties.</p>

<p style="margin-left:22%; margin-top: 1em">Example:</p>

<pre style="margin-left:26%; margin-top: 1em">{ &quot;command&quot;: [&quot;set_property&quot;, &quot;pause&quot;, true] }
{ &quot;error&quot;: &quot;success&quot; }</pre>


<p style="margin-left:11%;"><b>set_property_string</b></p>

<p style="margin-left:22%;">Alias for <b>set_property</b>.
Both commands accept native values and strings.</p>

<p style="margin-left:11%;"><b>observe_property</b></p>

<p style="margin-left:22%;">Watch a property for changes.
If the given property is changed, then an event of type
<b>property-change</b> will be generated</p>

<p style="margin-left:22%; margin-top: 1em">Example:</p>

<pre style="margin-left:26%; margin-top: 1em">{ &quot;command&quot;: [&quot;observe_property&quot;, 1, &quot;volume&quot;] }
{ &quot;error&quot;: &quot;success&quot; }
{ &quot;event&quot;: &quot;property-change&quot;, &quot;id&quot;: 1, &quot;data&quot;: 52.0, &quot;name&quot;: &quot;volume&quot; }</pre>



<p style="margin-left:22%; margin-top: 1em"><b>WARNING:</b></p>

<p style="margin-left:26%;">If the connection is closed,
the IPC client is destroyed internally, and the observed
properties are unregistered. This happens for example when
sending commands to a socket with separate <b>socat</b>
invocations. This can make it seem like property observation
does not work. You must keep the IPC connection open to make
it work.</p>


<p style="margin-left:11%;"><b>observe_property_string</b></p>

<p style="margin-left:22%;">Like <b>observe_property</b>,
but the resulting data will always be a string.</p>

<p style="margin-left:22%; margin-top: 1em">Example:</p>

<pre style="margin-left:26%; margin-top: 1em">{ &quot;command&quot;: [&quot;observe_property_string&quot;, 1, &quot;volume&quot;] }
{ &quot;error&quot;: &quot;success&quot; }
{ &quot;event&quot;: &quot;property-change&quot;, &quot;id&quot;: 1, &quot;data&quot;: &quot;52.000000&quot;, &quot;name&quot;: &quot;volume&quot; }</pre>


<p style="margin-left:11%;"><b>unobserve_property</b></p>

<p style="margin-left:22%;">Undo <b>observe_property</b> or
<b>observe_property_string</b>. This requires the numeric id
passed to the observed command as argument.</p>

<p style="margin-left:22%; margin-top: 1em">Example:</p>

<pre style="margin-left:26%; margin-top: 1em">{ &quot;command&quot;: [&quot;unobserve_property&quot;, 1] }
{ &quot;error&quot;: &quot;success&quot; }</pre>



<p style="margin-left:11%;"><b>request_log_messages</b></p>

<p style="margin-left:22%;">Enable output of mpv log
messages. They will be received as events. The parameter to
this command is the log-level (see
<b>mpv_request_log_messages</b> C API function).</p>

<p style="margin-left:22%; margin-top: 1em">Log message
output is meant for humans only (mostly for debugging).
Attempting to retrieve information by parsing these messages
will just lead to breakages with future mpv releases.
Instead, make a feature request, and ask for a proper event
that returns the information you need.</p>

<p style="margin-left:11%;"><b>enable_event,
disable_event</b></p>

<p style="margin-left:22%;">Enables or disables the named
event. Mirrors the <b>mpv_request_event</b> C API function.
If the string <b>all</b> is used instead of an event name,
all events are enabled or disabled.</p>

<p style="margin-left:22%; margin-top: 1em">By default,
most events are enabled, and there is not much use for this
command.</p>

<p style="margin-left:11%;"><b>get_version</b></p>

<p style="margin-left:22%;">Returns the client API version
the C API of the remote mpv instance provides.</p>

<p style="margin-left:22%; margin-top: 1em">See also:
<b>DOCS/client-api-changes.rst</b>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>UTF-8</b>
<br>
Normally, all strings are in UTF-8. Sometimes it can happen
that strings are in some broken encoding (often happens with
file tags and such, and filenames on many Unixes are not
required to be in UTF-8 either). This means that mpv
sometimes sends invalid JSON. If that is a problem for the
client application's parser, it should filter the raw data
for invalid UTF-8 sequences and perform the desired
replacement, before feeding the data to its JSON parser.</p>

<p style="margin-left:11%; margin-top: 1em">mpv will not
attempt to construct invalid UTF-8 with broken &quot;u&quot;
escape sequences. This includes surrogate pairs.</p>

<p style="margin-left:11%; margin-top: 1em"><b>JSON
extensions</b> <br>
The following non-standard extensions are supported:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="82%">


<p>a list or object item can have a trailing
&quot;,&quot;</p> </td></tr>
<tr valign="top" align="left">
<td width="15%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="82%">


<p>object syntax accepts &quot;=&quot; in addition of
&quot;:&quot;</p> </td></tr>
<tr valign="top" align="left">
<td width="15%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="82%">


<p>object keys can be unquoted, if they start with a
character in &quot;A-Za-z_&quot; and contain only characters
in &quot;A-Za-z0-9_&quot;</p></td></tr>
<tr valign="top" align="left">
<td width="15%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="1%"></td>
<td width="82%">


<p>byte escapes with &quot;xAB&quot; are allowed (with AB
being a 2 digit hex number)</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Example:</p>

<pre style="margin-left:15%; margin-top: 1em">{ objkey = &quot;value\x0A&quot; }</pre>


<p style="margin-left:11%; margin-top: 1em">Is equivalent
to:</p>

<pre style="margin-left:15%; margin-top: 1em">{ &quot;objkey&quot;: &quot;value\n&quot; }</pre>


<h2>CHANGELOG
<a name="CHANGELOG"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">There is no
real changelog, but you can look at the following
things:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p style="margin-top: 1em">The release changelog, which
should contain most user-visible changes, including new
features and bug fixes:</p></td></tr>
</table>


<p style="margin-left:14%; margin-top: 1em"><i>https://github.com/mpv-player/mpv/releases</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p style="margin-top: 1em">The git log, which is the
&quot;real&quot; changelog</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p>The files <b>client-api-changes.rst</b> and
<b>interface-changes.rst</b> in the <b>DOCS</b> sub
directoryon the git repository, which document API and user
interface changes (the latter usually documents breaking
changes only, rather than additions).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p>The file <b>mplayer-changes.rst</b> in the <b>DOCS</b>
sub directory on the git repository, which used to be in
place of this section. It documents some changes that
happened since mplayer2 forked off MPlayer. (Not updated
anymore.)</p> </td></tr>
</table>

<h2>EMBEDDING INTO OTHER PROGRAMS (LIBMPV)
<a name="EMBEDDING INTO OTHER PROGRAMS (LIBMPV)"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">mpv can be
embedded into other programs as video/audio playback
backend. The recommended way to do so is using libmpv. See
<b>libmpv/client.h</b> in the mpv source code repository.
This provides a C API. Bindings for other languages might be
available (see wiki).</p>

<p style="margin-left:11%; margin-top: 1em">Since libmpv
merely allows access to underlying mechanisms that can
control mpv, further documentation is spread over a few
places:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="2%"></td>
<td width="86%">



<p style="margin-top: 1em"><i>https://github.com/mpv-player/mpv/blob/master/libmpv/client.h</i></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p><i>http://mpv.io/manual/master/#options</i></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="86%">



<p><i>http://mpv.io/manual/master/#list-of-input-commands</i></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="86%">


<p><i>http://mpv.io/manual/master/#properties</i></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="86%">



<p><i>https://github.com/mpv-player/mpv-examples/tree/master/libmpv</i></p> </td></tr>
</table>

<h2>C PLUGINS
<a name="C PLUGINS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">You can write C
plugins for mpv. These use the libmpv API, although they do
not use the libmpv library itself.</p>

<p style="margin-left:11%; margin-top: 1em">Currently, they
must be explicitly enabled at build time with
<b>--enable-cplugins</b>. They are available on Linux/BSD
platforms only.</p>

<p style="margin-left:11%; margin-top: 1em"><b>C plugins
location</b> <br>
C plugins are put into the mpv scripts directory in its
config directory (see the <i>FILES</i> section for details).
They must have a <b>.so</b> file extension. They can also be
explicitly loaded with the <b>--script</b> option.</p>

<p style="margin-left:11%; margin-top: 1em"><b>API</b> <br>
A C plugin must export the following function:</p>

<pre style="margin-left:15%; margin-top: 1em">int mpv_open_cplugin(mpv_handle *handle)</pre>


<p style="margin-left:11%; margin-top: 1em">The plugin
function will be called on loading time. This function does
not return as long as your plugin is loaded (it runs in its
own thread). The <b>handle</b> will be deallocated as soon
as the plugin function returns.</p>

<p style="margin-left:11%; margin-top: 1em">The return
value is interpreted as error status. A value of <b>0</b> is
interpreted as success, while <b>-1</b> signals an error. In
the latter case, the player prints an uninformative error
message that loading failed.</p>

<p style="margin-left:11%; margin-top: 1em">Return values
other than <b>0</b> and <b>-1</b> are reserved, and trigger
undefined behavior.</p>

<p style="margin-left:11%; margin-top: 1em">Within the
plugin function, you can call libmpv API functions. The
<b>handle</b> is created by <b>mpv_create_client()</b> (or
actually an internal equivalent), and belongs to you. You
can call <b>mpv_wait_event()</b> to wait for things
happening, and so on.</p>

<p style="margin-left:11%; margin-top: 1em">Note that the
player might block until your plugin calls
<b>mpv_wait_event()</b> for the first time. This gives you a
chance to install initial hooks etc. before playback
begins.</p>

<p style="margin-left:11%; margin-top: 1em">The details are
quite similar to Lua scripts.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Linkage to
libmpv</b> <br>
The current implementation requires that your plugins are
<b>not</b> linked against libmpv. What your plugins uses are
not symbols from a libmpv binary, but symbols from the mpv
host binary.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Examples</b>
<br>
See:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="2%"></td>
<td width="86%">



<p style="margin-top: 1em"><i>https://github.com/mpv-player/mpv-examples/tree/master/cplugins</i></p> </td></tr>
</table>

<h2>ENVIRONMENT VARIABLES
<a name="ENVIRONMENT VARIABLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">There are a
number of environment variables that can be used to control
the behavior of mpv. <b><br>
HOME, XDG_CONFIG_HOME</b></p>

<p style="margin-left:22%;">Used to determine mpv config
directory. If <b>XDG_CONFIG_HOME</b> is not set,
<b>$HOME/.config/mpv</b> is used.</p>


<p style="margin-left:22%; margin-top: 1em"><b>$HOME/.mpv</b>
is always added to the list of config search paths with a
lower priority.</p>

<p style="margin-left:11%;"><b>XDG_CONFIG_DIRS</b></p>

<p style="margin-left:22%;">If set, XDG-style system
configuration directories are used. Otherwise, the UNIX
convention (<b>PREFIX/etc/mpv/</b>) is used.</p>

<p style="margin-left:11%;"><b>MPV_HOME</b></p>

<p style="margin-left:22%;">Directory where mpv looks for
user settings. Overrides <b>HOME</b>, and mpv will try to
load the config file as <b>$MPV_HOME/mpv.conf</b>.</p>

<p style="margin-left:11%;"><b>MPV_VERBOSE (see also -v and
--msg-level)</b></p>

<p style="margin-left:22%;">Set the initial verbosity level
across all message modules (default: 0). This is an integer,
and the resulting verbosity corresponds to the number of
<b>--v</b> options passed to the command line.</p>

<p style="margin-left:11%;"><b>MPV_LEAK_REPORT</b></p>

<p style="margin-left:22%;">If set to <b>1</b>, enable
internal talloc leak reporting. If set to another value,
disable leak reporting. If unset, use the default, which
normally is <b>0</b>. If mpv was built with
<b>--enable-ta-leak-report</b>, the default is <b>1</b>. If
leak reporting was disabled at compile time (<b>NDEBUG</b>
in custom <b>CFLAGS</b>), this environment variable is
ignored.</p>

<p style="margin-left:11%;"><b>LADSPA_PATH</b></p>

<p style="margin-left:22%;">Specifies the search path for
LADSPA plugins. If it is unset, fully qualified path names
must be used.</p>

<p style="margin-left:11%;"><b>DISPLAY</b></p>

<p style="margin-left:22%;">Standard X11 display name to
use.</p>

<p style="margin-left:11%;"><b>FFmpeg/Libav:</b></p>

<p style="margin-left:22%;">This library accesses various
environment variables. However, they are not centrally
documented, and documenting them is not our job. Therefore,
this list is incomplete.</p>

<p style="margin-left:22%; margin-top: 1em">Notable
environment variables: <b><br>
http_proxy</b></p>

<p style="margin-left:32%;">URL to proxy for <b>http://</b>
and <b>https://</b> URLs.</p>

<p style="margin-left:22%;"><b>no_proxy</b></p>

<p style="margin-left:32%;">List of domain patterns for
which no proxy should be used. List entries are separated by
<b>,</b>. Patterns can include <b>*</b>.</p>

<p style="margin-left:11%;"><b>libdvdcss:</b></p>

<p style="margin-left:22%;"><b>DVDCSS_CACHE</b></p>

<p style="margin-left:32%;">Specify a directory in which to
store title key values. This will speed up descrambling of
DVDs which are in the cache. The <b>DVDCSS_CACHE</b>
directory is created if it does not exist, and a
subdirectory is created named after the DVD's title or
manufacturing date. If <b>DVDCSS_CACHE</b> is not set or is
empty, libdvdcss will use the default value which is
<b>${HOME}/.dvdcss/</b> under Unix and the roaming
application data directory (<b>%APPDATA%</b>) under Windows.
The special value &quot;off&quot; disables caching.</p>

<p style="margin-left:22%;"><b>DVDCSS_METHOD</b></p>

<p style="margin-left:32%;">Sets the authentication and
decryption method that libdvdcss will use to read scrambled
discs. Can be one of <b>title</b>, <b>key</b> or
<b>disc</b>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="32%"></td>
<td width="8%">


<p><b>key</b></p></td>
<td width="3%"></td>
<td width="57%">


<p>is the default method. libdvdcss will use a set of
calculated player keys to try to get the disc key. This can
fail if the drive does not recognize any of the player
keys.</p> </td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="8%">


<p><b>disc</b></p></td>
<td width="3%"></td>
<td width="57%">


<p>is a fallback method when key has failed. Instead of
using player keys, libdvdcss will crack the disc key using a
brute force algorithm. This process is CPU intensive and
requires 64 MB of memory to store temporary data.</p></td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="8%">


<p><b>title</b></p></td>
<td width="3%"></td>
<td width="57%">


<p>is the fallback when all other methods have failed. It
does not rely on a key exchange with the DVD drive, but
rather uses a crypto attack to guess the title key. On rare
cases this may fail because there is not enough encrypted
data on the disc to perform a statistical attack, but on the
other hand it is the only way to decrypt a DVD stored on a
hard disc, or a DVD with the wrong region on an RPC2
drive.</p> </td></tr>
</table>

<p style="margin-left:22%;"><b>DVDCSS_RAW_DEVICE</b></p>

<p style="margin-left:32%;">Specify the raw device to use.
Exact usage will depend on your operating system, the Linux
utility to set up raw devices is raw(8) for instance. Please
note that on most operating systems, using a raw device
requires highly aligned buffers: Linux requires a 2048 bytes
alignment (which is the size of a DVD sector).</p>

<p style="margin-left:22%;"><b>DVDCSS_VERBOSE</b></p>

<p style="margin-left:32%;">Sets the libdvdcss verbosity
level.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="32%"></td>
<td width="2%">


<p><b>0</b></p></td>
<td width="9%"></td>
<td width="57%">


<p>Outputs no messages at all.</p></td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="2%">


<p><b>1</b></p></td>
<td width="9%"></td>
<td width="57%">


<p>Outputs error messages to stderr.</p></td></tr>
<tr valign="top" align="left">
<td width="32%"></td>
<td width="2%">


<p><b>2</b></p></td>
<td width="9%"></td>
<td width="57%">


<p>Outputs error messages and debug messages to stderr.</p></td></tr>
</table>

<p style="margin-left:22%;"><b>DVDREAD_NOKEYS</b></p>

<p style="margin-left:32%;">Skip retrieving all keys on
startup. Currently disabled.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="6%">


<p><b>HOME</b></p></td>
<td width="4%"></td>
<td width="33%">


<p>FIXME: Document this.</p></td>
<td width="35%">
</td></tr>
</table>

<h2>EXIT CODES
<a name="EXIT CODES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Normally
<b>mpv</b> returns 0 as exit code after finishing playback
successfully. If errors happen, the following exit codes can
be returned:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td>
<td width="2%">


<p style="margin-top: 1em"><b>1</b></p></td>
<td width="9%"></td>
<td width="74%">


<p style="margin-top: 1em">Error initializing mpv. This is
also returned if unknown options are passed to mpv.</p></td></tr>
<tr valign="top" align="left">
<td width="15%"></td>
<td width="2%">


<p><b>2</b></p></td>
<td width="9%"></td>
<td width="74%">


<p>The file passed to mpv couldn't be played. This is
somewhat fuzzy: currently, playback of a file is considered
to be successful if initialization was mostly successful,
even if playback fails immediately after initialization.</p></td></tr>
<tr valign="top" align="left">
<td width="15%"></td>
<td width="2%">


<p><b>3</b></p></td>
<td width="9%"></td>
<td width="74%">


<p>There were some files that could be played, and some
files which couldn't (using the definition of success from
above).</p> </td></tr>
<tr valign="top" align="left">
<td width="15%"></td>
<td width="2%">


<p><b>4</b></p></td>
<td width="9%"></td>
<td width="74%">


<p>Quit due to a signal, Ctrl+c in a VO window (by
default), or from the default quit key bindings in encoding
mode.</p> </td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Note that
quitting the player manually will always lead to exit code
0, overriding the exit code that would be returned normally.
Also, the <b>quit</b> input command can take an exit code:
in this case, that exit code is returned.</p>

<h2>FILES
<a name="FILES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">For
Windows-specifics, see <i>FILES ON WINDOWS</i> section.
<b><br>
/usr/local/etc/mpv/mpv.conf</b></p>

<p style="margin-left:22%;">mpv system-wide settings
(depends on <b>--prefix</b> passed to configure - mpv in
default configuration will use <b>/usr/local/etc/mpv/</b> as
config directory, while most Linux distributions will set it
to <b>/etc/mpv/</b>).</p>


<p style="margin-left:11%;"><b>~/.config/mpv/mpv.conf</b></p>

<p style="margin-left:22%;">mpv user settings (see
<i>CONFIGURATION FILES</i> section)</p>


<p style="margin-left:11%;"><b>~/.config/mpv/input.conf</b></p>

<p style="margin-left:22%;">key bindings (see
<i>INPUT.CONF</i> section)</p>


<p style="margin-left:11%;"><b>~/.config/mpv/fonts.conf</b></p>

<p style="margin-left:22%;">Fontconfig fonts.conf that is
customized for mpv. You should include system fonts.conf in
this file or mpv would not know about fonts that you already
have in the system.</p>

<p style="margin-left:22%; margin-top: 1em">Only available
when libass is built with fontconfig.</p>


<p style="margin-left:11%;"><b>~/.config/mpv/subfont.ttf</b></p>

<p style="margin-left:22%;">fallback subtitle font</p>


<p style="margin-left:11%;"><b>~/.config/mpv/fonts/</b></p>

<p style="margin-left:22%;">Font files in this directory
are used by mpv/libass for subtitles. Useful if you do not
want to install fonts to your system. Note that files in
this directory are loaded into memory before being used by
mpv. If you have a lot of fonts, consider using fonts.conf
(see above) to include additional fonts, which is more
memory-efficient.</p>


<p style="margin-left:11%;"><b>~/.config/mpv/scripts/</b></p>

<p style="margin-left:22%;">All files in this directory are
loaded as if they were passed to the <b>--script</b> option.
They are loaded in alphabetical order. Directory entries
other than files are ignored. Files with unknown extension
lead to an initialization error. Files with <b>.disable</b>
extension are ignored. The <b>--load-scripts=no</b> option
disables loading these files.</p>


<p style="margin-left:11%;"><b>~/.config/mpv/watch_later/</b></p>

<p style="margin-left:22%;">Contains temporary config files
needed for resuming playback of files with the watch later
feature. See for example the <b>Q</b> key binding, or the
<b>quit-watch-later</b> input command.</p>

<p style="margin-left:22%; margin-top: 1em">Each file is a
small config file which is loaded if the corresponding media
file is loaded. It contains the playback position and some
(not necessarily all) settings that were changed during
playback. The filenames are hashed from the full paths of
the media files. It's in general not possible to extract the
media filename from this hash. However, you can set the
<b>--write-filename-in-watch-later-config</b> option, and
the player will add the media filename to the contents of
the resume config file.</p>


<p style="margin-left:11%;"><b>~/.config/mpv/script-opts/osc.conf</b></p>

<p style="margin-left:22%;">This is loaded by the OSC
script. See the <i>ON SCREEN CONTROLLER</i> docs for
details.</p>

<p style="margin-left:22%; margin-top: 1em">Other files in
this directory are specific to the corresponding scripts as
well, and the mpv core doesn't touch them.</p>

<p style="margin-left:11%; margin-top: 1em">Note that the
environment variables <b>$XDG_CONFIG_HOME</b> and
<b>$MPV_HOME</b> can override the standard directory
<b>~/.config/mpv/</b>.</p>

<p style="margin-left:11%; margin-top: 1em">Also, the old
config location at <b>~/.mpv/</b> is still read, and if the
XDG variant does not exist, will still be preferred.</p>

<h2>FILES ON WINDOWS
<a name="FILES ON WINDOWS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">On win32 (if
compiled with MinGW, but not Cygwin), the default config
file locations are different. They are generally located
under <b>%APPDATA%/mpv/</b>. For example, the path to
mpv.conf is <b>%APPDATA%/mpv/mpv.conf</b>, which maps to a
system and user-specific path, for example</p>


<p style="margin-left:15%;"><b>C:\users\USERNAME\AppData\Roaming\mpv\mpv.conf</b></p>

<p style="margin-left:11%; margin-top: 1em">You can find
the exact path by running <b>echo %APPDATA%\mpv\mpv.conf</b>
in cmd.exe.</p>

<p style="margin-left:11%; margin-top: 1em">Other config
files (such as <b>input.conf</b>) are in the same directory.
See the <i>FILES</i> section above.</p>

<p style="margin-left:11%; margin-top: 1em">The environment
variable <b>$MPV_HOME</b> completely overrides these, like
on UNIX.</p>

<p style="margin-left:11%; margin-top: 1em">If a directory
named <b>portable_config</b> next to the mpv.exe exists, all
config will be loaded from this directory only. Watch later
config files are written to this directory as well. (This
exists on Windows only and is redundant with
<b>$MPV_HOME</b>. However, since Windows is very scripting
unfriendly, a wrapper script just setting <b>$MPV_HOME</b>,
like you could do it on other systems, won't work.
<b>portable_config</b> is provided for convenience to get
around this restriction.)</p>

<p style="margin-left:11%; margin-top: 1em">Config files
located in the same directory as <b>mpv.exe</b> are loaded
with lower priority. Some config files are loaded only once,
which means that e.g. of 2 <b>input.conf</b> files located
in two config directories, only the one from the directory
with higher priority will be loaded.</p>

<p style="margin-left:11%; margin-top: 1em">A third config
directory with the lowest priority is the directory named
<b>mpv</b> in the same directory as <b>mpv.exe</b>. This
used to be the directory with the highest priority, but is
now discouraged to use and might be removed in the
future.</p>

<p style="margin-left:11%; margin-top: 1em">Note that mpv
likes to mix <b>/</b> and <b>\</b> path separators for
simplicity. kernel32.dll accepts this, but cmd.exe does
not.</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>

 
<p style="margin-left:11%; margin-top: 1em">GPLv2+</p>
<hr>
</body>
</html>
