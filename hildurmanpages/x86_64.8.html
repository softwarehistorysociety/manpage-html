<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Thu Sep  8 03:13:35 2022 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>SETARCH</title>

</head>
<body>

<h1 align="center">SETARCH</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#AUTHOR">AUTHOR</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AVAILABILITY">AVAILABILITY</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">setarch -
change reported architecture in new program environment
and/or set personality flags</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>setarch</b>
[<i>arch</i>] [options] [<i>program</i>
[<i>argument</i>...]]</p>

<p style="margin-left:11%; margin-top: 1em"><b>setarch
--list</b>|<b>-h</b>|<b>-V</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>arch</b>
[options] [<i>program</i> [<i>argument</i>...]]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>setarch</b>
modifies execution domains and process personality
flags.</p>

<p style="margin-left:11%; margin-top: 1em">The execution
domains currently only affects the output of <b>uname
-m</b>. For example, on an AMD64 system, running <b>setarch
i386</b> <i>program</i> will cause <i>program</i> to see
i686 instead of x86_64 as the machine type. It also allows
to set various personality options. The default
<i>program</i> is <b>/bin/sh</b>.</p>

<p style="margin-left:11%; margin-top: 1em">Since version
2.33 the <i>arch</i> command line argument is optional and
<b>setarch</b> may be used to change personality flags
(ADDR_LIMIT_*, SHORT_INODE, etc) without modification of the
execution domain.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p style="margin-top: 1em"><b>--list</b></p></td>
<td width="2%"></td>
<td width="78%">


<p style="margin-top: 1em">List the architectures that
<b>setarch</b> knows about. Whether <b>setarch</b> can
actually set each of these architectures depends on the
running kernel.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>--uname-2.6</b></p>

<p style="margin-left:22%;">Causes the <i>program</i> to
see a kernel version number beginning with 2.6. Turns on
UNAME26.</p>

<p style="margin-left:11%;"><b>-v</b>, <b>--verbose</b></p>

<p style="margin-left:22%;">Be verbose.</p>

<p style="margin-left:11%;"><b>-3</b>, <b>--3gb</b></p>

<p style="margin-left:22%;">Specifies <i>program</i> should
use a maximum of 3GB of address space. Supported on x86.
Turns on ADDR_LIMIT_3GB.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>--4gb</b></p></td>
<td width="4%"></td>
<td width="78%">


<p>This option has no effect. It is retained for backward
compatibility only, and may be removed in future
releases.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>-B</b>, <b>--32bit</b></p>

<p style="margin-left:22%;">Limit the address space to 32
bits to emulate hardware. Supported on ARM and Alpha. Turns
on ADDR_LIMIT_32BIT.</p>

<p style="margin-left:11%;"><b>-F</b>,
<b>--fdpic-funcptrs</b></p>

<p style="margin-left:22%;">Treat user-space function
pointers to signal handlers as pointers to address
descriptors. This option has no effect on architectures that
do not support FDPIC ELF binaries. In kernel v4.14 support
is limited to ARM, Blackfin, Fujitsu FR-V, and SuperH CPU
architectures.</p>

<p style="margin-left:11%;"><b>-I</b>,
<b>--short-inode</b></p>

<p style="margin-left:22%;">Obsolete bug emulation flag.
Turns on SHORT_INODE.</p>

<p style="margin-left:11%;"><b>-L</b>,
<b>--addr-compat-layout</b></p>

<p style="margin-left:22%;">Provide legacy virtual address
space layout. Use when the <i>program</i> binary does not
have PT_GNU_STACK ELF header. Turns on
ADDR_COMPAT_LAYOUT.</p>

<p style="margin-left:11%;"><b>-R</b>,
<b>--addr-no-randomize</b></p>

<p style="margin-left:22%;">Disables randomization of the
virtual address space. Turns on ADDR_NO_RANDOMIZE.</p>

<p style="margin-left:11%;"><b>-S</b>,
<b>--whole-seconds</b></p>

<p style="margin-left:22%;">Obsolete bug emulation flag.
Turns on WHOLE_SECONDS.</p>

<p style="margin-left:11%;"><b>-T</b>,
<b>--sticky-timeouts</b></p>

<p style="margin-left:22%;">This makes <b>select</b>(2),
<b>pselect</b>(2), and <b>ppoll</b>(2) system calls preserve
the timeout value instead of modifying it to reflect the
amount of time not slept when interrupted by a signal
handler. Use when <i>program</i> depends on this behavior.
For more details see the timeout description in
<b>select</b>(2) manual page. Turns on STICKY_TIMEOUTS.</p>

<p style="margin-left:11%;"><b>-X</b>,
<b>--read-implies-exec</b></p>

<p style="margin-left:22%;">If this is set then
<b>mmap</b>(3) PROT_READ will also add the PROT_EXEC bit -
as expected by legacy x86 binaries. Notice that the ELF
loader will automatically set this bit when it encounters a
legacy binary. Turns on READ_IMPLIES_EXEC.</p>

<p style="margin-left:11%;"><b>-Z</b>,
<b>--mmap-page-zero</b></p>

<p style="margin-left:22%;">SVr4 bug emulation that will
set <b>mmap</b>(3) page zero as read-only. Use when
<i>program</i> depends on this behavior, and the source code
is not available to be fixed. Turns on MMAP_PAGE_ZERO.</p>

<p style="margin-left:11%;"><b>-V</b>, <b>--version</b></p>

<p style="margin-left:22%;">Display version information and
exit.</p>

<p style="margin-left:11%;"><b>-h</b>, <b>--help</b></p>

<p style="margin-left:22%;">Display help text and exit.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">setarch
--addr-no-randomize mytestprog <br>
setarch ppc32 rpmbuild --target=ppc --rebuild foo.src.rpm
<br>
setarch ppc32 -v -vL3 rpmbuild --target=ppc --rebuild
bar.src.rpm <br>
setarch ppc32 --32bit rpmbuild --target=ppc --rebuild
foo.src.rpm</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><a href="mailto:sopwith@redhat.com">Elliot
Lee</a> <br>
<a href="mailto:jnovy@redhat.com">Jindrich Novy</a> <br>
<a href="mailto:kzak@redhat.com">Karel Zak</a></p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>personality</b>(2),
<b>select</b>(2)</p>

<h2>AVAILABILITY
<a name="AVAILABILITY"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The setarch
command is part of the util-linux package and is available
from
<a href="https://www.kernel.org/pub/linux/utils/util-linux/">Linux
Kernel Archive</a>.</p>
<hr>
</body>
</html>
