<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Thu Sep  8 03:10:33 2022 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>thin_metadata_size</title>

</head>
<body>

<h1 align="center">thin_metadata_size</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#DIAGNOSTICS">DIAGNOSTICS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AUTHOR">AUTHOR</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>thin_metadata_size</b>
- thin provisioning metadata device/file size
calculator.</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>thin_metadata_size</b>
[<i>options</i>]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>thin_metadata_size</b>
calculates the size of the thin provisioning metadata based
on the block size of the thin provisioned devices, the size
of the thin provisioning pool and the maximum number of all
thin provisioned devices and snapshots. Because thin
provisioning pools are holding widely variable contents,
this tool is needed to provide sensible initial default
size.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>-h,
--help</b></p>

<p style="margin-left:22%;">Print help and exit.</p>

<p style="margin-left:11%;"><b>-V, --version</b></p>

<p style="margin-left:22%;">Print version information and
exit.</p>

<p style="margin-left:11%;"><b>-b, --block-size
{BLOCKSIZE[bskKmMgGtTpPeEzZyY]}</b></p>

<p style="margin-left:22%;">Set block size.</p>

<p style="margin-left:11%; margin-top: 1em">Block size of
thin provisioned devices in units of bytes, sectors, <br>
kibibytes, kilobytes, ... respectively. Default is in
sectors without a <br>
block size unit specifier. Size/number option arguments can
be followed by <br>
unit specifiers in short one character and long form (eg.
-b1m or <br>
-b1mebibytes). <b><br>
-s, --pool-size {POOLSIZE[bskKmMgGtTpPeEzZyY]}</b></p>

<p style="margin-left:22%;">Set pool size.</p>

<p style="margin-left:11%; margin-top: 1em">Thin
provisioning pool size in units of bytes, sectors,
kibibytes, <br>
kilobytes, ... respectively. Default is in sectors without a
pool size <br>
unit specifier. <b><br>
-m, --max-thins {count[bskKmMgGtTpPeEzZyY]}</b></p>

<p style="margin-left:22%;">Set max thins.</p>

<p style="margin-left:11%; margin-top: 1em">Maximum sum of
all thin provisioned devices and snapshots. Unit identifier
<br>
supported to allow for convenient entry of large quantities,
eg. 1000000 = <br>
1M. Default is absolute quantity without a number unit
specifier.</p>

<p style="margin-left:11%; margin-top: 1em"><b>-u</b>,
<b>--unit</b> {bskKmMgGtTpPeEzZyY}</p>

<p style="margin-left:11%; margin-top: 1em">Output unit
specifier in units of bytes, sectors, kibibytes, kilobytes,
... <br>
respectively. Default is in sectors without an output unit
specifier. <b><br>
-n, --numeric-only {short|long}</b></p>

<p style="margin-left:22%;">Limit output to just the size
number.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Calculates the
thin provisioning metadata device size for block size 64
kibibytes, pool size 1 tebibytes and maximum number of thin
provisioned devices and snapshots of 1000 in units of
sectors with long output:</p>

<p style="margin-left:11%; margin-top: 1em">$
thin_metadata_size -b64k -s1t -m1000</p>

<p style="margin-left:11%; margin-top: 1em">Or (using the
long <i>options</i> instead) for block size 1 gibibyte, pool
size 1 petabyte and maximum number of thin provisioned
devices and snapshots of 1 million with numeric-only output
in units of gigabytes:</p>

<p style="margin-left:11%; margin-top: 1em">$
thin_metadata_size --block-size=1g --pool-size=1P
--max-thins=1M --unit=G --numeric-only</p>

<p style="margin-left:11%; margin-top: 1em">Same as before
(1g, 1P, 1M, numeric-only) but with unit specifier character
appended:</p>

<p style="margin-left:11%; margin-top: 1em">$
thin_metadata_size --block-size=1gibi --pool-size=1petabytes
--max-thins=1mega --unit=G --numeric-only=short</p>

<p style="margin-left:11%; margin-top: 1em">Or with unit
specifier string appended:</p>

<p style="margin-left:11%; margin-top: 1em">$
thin_metadata_size --block-size=1gibi --pool-size=1petabytes
--max-thins=1mega --unit=G -nlong</p>

<h2>DIAGNOSTICS
<a name="DIAGNOSTICS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>thin_metadata_size</b>
returns an exit code of 0 for success or 1 for error.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>thin_dump</b>(8),
<b>thin_check</b>(8), <b>thin_repair</b>(8),
<b>thin_restore</b>(8), <b>thin_rmap</b>(8)</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Joe Thornber
&lt;ejt@redhat.com&gt;, Heinz Mauelshagen
&lt;HeinzM@RedHat.com&gt;</p>
<hr>
</body>
</html>
