<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Thu Sep  8 02:55:24 2022 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>MODPROBE</title>

</head>
<body>

<h1 align="center">MODPROBE</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#ENVIRONMENT">ENVIRONMENT</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AUTHORS">AUTHORS</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">modprobe - Add
and remove modules from the Linux Kernel</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>modprobe</b> [<b>-v</b>]
[<b>-V</b>] [<b>-C&nbsp;</b><i>config-file</i>] [<b>-n</b>]
[<b>-i</b>] [<b>-q</b>] [<b>-b</b>] [<i>modulename</i>]
[<i>module&nbsp;parameters</i>...]</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>modprobe</b> [-r] [<b>-v</b>]
[<b>-n</b>] [<b>-i</b>] [<i>modulename</i>...]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>modprobe</b> [-c]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>modprobe</b>
[--dump-modversions] [<i>filename</i>]</p></td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>modprobe</b>
intelligently adds or removes a module from the Linux
kernel: note that for convenience, there is no difference
between _ and - in module names (automatic underscore
conversion is performed). <b>modprobe</b> looks in the
module directory /lib/modules/&rsquo;uname -r&rsquo; for all
the modules and other files, except for the optional
configuration files in the /etc/modprobe.d directory (see
<b>modprobe.d</b>(5)). <b>modprobe</b> will also use module
options specified on the kernel command line in the form of
&lt;module&gt;.&lt;option&gt; and blacklists in the form of
modprobe.blacklist=&lt;module&gt;.</p>

<p style="margin-left:11%; margin-top: 1em">Note that
unlike in 2.4 series Linux kernels (which are not supported
by this tool) this version of <b>modprobe</b> does not do
anything to the module itself: the work of resolving symbols
and understanding parameters is done inside the kernel. So
module failure is sometimes accompanied by a kernel message:
see <b>dmesg</b>(8).</p>


<p style="margin-left:11%; margin-top: 1em"><b>modprobe</b>
expects an up-to-date modules.dep.bin file as generated by
the corresponding <b>depmod</b> utility shipped along with
<b>modprobe</b> (see <b>depmod</b>(8)). This file lists what
other modules each module needs (if any), and
<b>modprobe</b> uses this to add or remove these
dependencies automatically.</p>

<p style="margin-left:11%; margin-top: 1em">If any
arguments are given after the <i>modulename</i>, they are
passed to the kernel (in addition to any options listed in
the configuration file).</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>-a</b>,
<b>--all</b></p>

<p style="margin-left:17%;">Insert all module names on the
command line.</p>

<p style="margin-left:11%; margin-top: 1em"><b>-b</b>,
<b>--use-blacklist</b></p>

<p style="margin-left:17%;">This option causes
<b>modprobe</b> to apply the <b>blacklist</b> commands in
the configuration files (if any) to module names as well. It
is usually used by <b>udev</b>(7).</p>

<p style="margin-left:11%; margin-top: 1em"><b>-C</b>,
<b>--config</b></p>

<p style="margin-left:17%;">This option overrides the
default configuration directory (/etc/modprobe.d).</p>

<p style="margin-left:17%; margin-top: 1em">This option is
passed through <b>install</b> or <b>remove</b> commands to
other <b>modprobe</b> commands in the MODPROBE_OPTIONS
environment variable.</p>

<p style="margin-left:11%; margin-top: 1em"><b>-c</b>,
<b>--showconfig</b></p>

<p style="margin-left:17%;">Dump out the effective
configuration from the config directory and exit.</p>


<p style="margin-left:11%; margin-top: 1em"><b>--dump-modversions</b></p>

<p style="margin-left:17%;">Print out a list of module
versioning information required by a module. This option is
commonly used by distributions in order to package up a
Linux kernel module using module versioning deps.</p>

<p style="margin-left:11%; margin-top: 1em"><b>-d</b>,
<b>--dirname</b></p>

<p style="margin-left:17%;">Root directory for modules, /
by default.</p>


<p style="margin-left:11%; margin-top: 1em"><b>--first-time</b></p>

<p style="margin-left:17%;">Normally, <b>modprobe</b> will
succeed (and do nothing) if told to insert a module which is
already present or to remove a module which isn't present.
This is ideal for simple scripts; however, more complicated
scripts often want to know whether <b>modprobe</b> really
did something: this option makes modprobe fail in the case
that it actually didn't do anything.</p>


<p style="margin-left:11%; margin-top: 1em"><b>--force-vermagic</b></p>

<p style="margin-left:17%;">Every module contains a small
string containing important information, such as the kernel
and compiler versions. If a module fails to load and the
kernel complains that the &quot;version magic&quot; doesn't
match, you can use this option to remove it. Naturally, this
check is there for your protection, so using this option is
dangerous unless you know what you're doing.</p>

<p style="margin-left:17%; margin-top: 1em">This applies to
any modules inserted: both the module (or alias) on the
command line and any modules on which it depends.</p>


<p style="margin-left:11%; margin-top: 1em"><b>--force-modversion</b></p>

<p style="margin-left:17%;">When modules are compiled with
CONFIG_MODVERSIONS set, a section detailing the versions of
every interfaced used by (or supplied by) the module is
created. If a module fails to load and the kernel complains
that the module disagrees about a version of some interface,
you can use &quot;--force-modversion&quot; to remove the
version information altogether. Naturally, this check is
there for your protection, so using this option is dangerous
unless you know what you're doing.</p>

<p style="margin-left:17%; margin-top: 1em">This applies
any modules inserted: both the module (or alias) on the
command line and any modules on which it depends.</p>

<p style="margin-left:11%; margin-top: 1em"><b>-f</b>,
<b>--force</b></p>

<p style="margin-left:17%;">Try to strip any versioning
information from the module which might otherwise stop it
from loading: this is the same as using both
<b>--force-vermagic</b> and <b>--force-modversion</b>.
Naturally, these checks are there for your protection, so
using this option is dangerous unless you know what you are
doing.</p>

<p style="margin-left:17%; margin-top: 1em">This applies to
any modules inserted: both the module (or alias) on the
command line and any modules it on which it depends.</p>

<p style="margin-left:11%; margin-top: 1em"><b>-i</b>,
<b>--ignore-install</b>, <b>--ignore-remove</b></p>

<p style="margin-left:17%;">This option causes
<b>modprobe</b> to ignore <b>install</b> and <b>remove</b>
commands in the configuration file (if any) for the module
specified on the command line (any dependent modules are
still subject to commands set for them in the configuration
file). Both <b>install</b> and <b>remove</b> commands will
currently be ignored when this option is used regardless of
whether the request was more specifically made with only one
or other (and not both) of <b>--ignore-install</b> or
<b>--ignore-remove</b>. See <b>modprobe.d</b>(5).</p>

<p style="margin-left:11%; margin-top: 1em"><b>-n</b>,
<b>--dry-run</b>, <b>--show</b></p>

<p style="margin-left:17%;">This option does everything but
actually insert or delete the modules (or run the install or
remove commands). Combined with <b>-v</b>, it is useful for
debugging problems. For historical reasons both
<b>--dry-run</b> and <b>--show</b> actually mean the same
thing and are interchangeable.</p>

<p style="margin-left:11%; margin-top: 1em"><b>-q</b>,
<b>--quiet</b></p>

<p style="margin-left:17%;">With this flag, <b>modprobe</b>
won't print an error message if you try to remove or insert
a module it can't find (and isn't an alias or
<b>install</b>/<b>remove</b> command). However, it will
still return with a non-zero exit status. The kernel uses
this to opportunistically probe for modules which might
exist using request_module.</p>

<p style="margin-left:11%; margin-top: 1em"><b>-R</b>,
<b>--resolve-alias</b></p>

<p style="margin-left:17%;">Print all module names matching
an alias. This can be useful for debugging module alias
problems.</p>

<p style="margin-left:11%; margin-top: 1em"><b>-r</b>,
<b>--remove</b></p>

<p style="margin-left:17%;">This option causes
<b>modprobe</b> to remove rather than insert a module. If
the modules it depends on are also unused, <b>modprobe</b>
will try to remove them too. Unlike insertion, more than one
module can be specified on the command line (it does not
make sense to specify module parameters when removing
modules).</p>

<p style="margin-left:17%; margin-top: 1em">There is
usually no reason to remove modules, but some buggy modules
require it. Your distribution kernel may not have been built
to support removal of modules at all.</p>

<p style="margin-left:11%; margin-top: 1em"><b>-S</b>,
<b>--set-version</b></p>

<p style="margin-left:17%;">Set the kernel version, rather
than using <b>uname</b>(2) to decide on the kernel version
(which dictates where to find the modules).</p>


<p style="margin-left:11%; margin-top: 1em"><b>--show-depends</b></p>

<p style="margin-left:17%;">List the dependencies of a
module (or alias), including the module itself. This
produces a (possibly empty) set of module filenames, one per
line, each starting with &quot;insmod&quot; and is typically
used by distributions to determine which modules to include
when generating initrd/initramfs images. <b>Install</b>
commands which apply are shown prefixed by
&quot;install&quot;. It does not run any of the install
commands. Note that <b>modinfo</b>(8) can be used to extract
dependencies of a module from the module itself, but knows
nothing of aliases or install commands.</p>

<p style="margin-left:11%; margin-top: 1em"><b>-s</b>,
<b>--syslog</b></p>

<p style="margin-left:17%;">This option causes any error
messages to go through the syslog mechanism (as LOG_DAEMON
with level LOG_NOTICE) rather than to standard error. This
is also automatically enabled when stderr is
unavailable.</p>

<p style="margin-left:17%; margin-top: 1em">This option is
passed through <b>install</b> or <b>remove</b> commands to
other <b>modprobe</b> commands in the MODPROBE_OPTIONS
environment variable.</p>

<p style="margin-left:11%; margin-top: 1em"><b>-V</b>,
<b>--version</b></p>

<p style="margin-left:17%;">Show version of program and
exit.</p>

<p style="margin-left:11%; margin-top: 1em"><b>-v</b>,
<b>--verbose</b></p>

<p style="margin-left:17%;">Print messages about what the
program is doing. Usually <b>modprobe</b> only prints
messages if something goes wrong.</p>

<p style="margin-left:17%; margin-top: 1em">This option is
passed through <b>install</b> or <b>remove</b> commands to
other <b>modprobe</b> commands in the MODPROBE_OPTIONS
environment variable.</p>

<h2>ENVIRONMENT
<a name="ENVIRONMENT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
MODPROBE_OPTIONS environment variable can also be used to
pass arguments to <b>modprobe</b>.</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This manual
page originally Copyright 2002, Rusty Russell, IBM
Corporation. Maintained by Jon Masters and others.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>modprobe.d</b>(5),
<b>insmod</b>(8), <b>rmmod</b>(8), <b>lsmod</b>(8),
<b>modinfo</b>(8) <b>depmod</b>(8)</p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>Jon
Masters</b> &lt;jcm@jonmasters.org&gt;</p>

<p style="margin-left:17%;">Developer</p>

<p style="margin-left:11%; margin-top: 1em"><b>Robby
Workman</b> &lt;rworkman@slackware.com&gt;</p>

<p style="margin-left:17%;">Developer</p>

<p style="margin-left:11%; margin-top: 1em"><b>Lucas De
Marchi</b> &lt;lucas.de.marchi@gmail.com&gt;</p>
 
<p style="margin-left:17%;">Developer</p>
<hr>
</body>
</html>
