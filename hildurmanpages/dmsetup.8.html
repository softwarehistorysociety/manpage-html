<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Thu Sep  8 02:38:26 2022 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>DMSETUP</title>

</head>
<body>

<h1 align="center">DMSETUP</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#COMMANDS">COMMANDS</a><br>
<a href="#TABLE FORMAT">TABLE FORMAT</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#CONCISE FORMAT">CONCISE FORMAT</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#ENVIRONMENT VARIABLES">ENVIRONMENT VARIABLES</a><br>
<a href="#AUTHORS">AUTHORS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">dmsetup &mdash;
low level logical volume management</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p style="margin-top: 1em"><b>dmsetup</b></p></td>
<td width="1%"></td>
<td width="77%">


<p style="margin-top: 1em"><b>clear</b>
<i>device_name</i></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>dmsetup</b></p></td>
<td width="1%"></td>
<td width="77%">


<p><b>create</b> <i>device_name</i>
[<b>-u</b>|<b>--uuid</b> <i>uuid</i>]
[<b>--addnodeoncreate</b>|<b>--addnodeonresume</b>]
[<b>-n</b>|<b>--notable</b>|<b>--table</b>
<i>table</i>|<i>table_file</i>] [<b>--readahead</b>
[<b>+</b>]<i>sectors</i>|<b>auto</b>|<b>none</b>]</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>dmsetup</b></p></td>
<td width="1%"></td>
<td width="77%">


<p><b>create --concise</b>
[<i>concise_device_specification</i>]</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>dmsetup</b></p></td>
<td width="1%"></td>
<td width="77%">


<p><b>deps</b> [<b>-o</b> <i>options</i>]
[<i>device_name</i>...]</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>dmsetup</b></p></td>
<td width="1%"></td>
<td width="77%">


<p><b>help</b> [<b>-c</b>|<b>-C</b>|<b>--columns</b>]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>dmsetup</b></p></td>
<td width="1%"></td>
<td width="77%">


<p><b>info</b> [<i>device_name</i>...]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>dmsetup</b></p></td>
<td width="1%"></td>
<td width="77%">


<p><b>info -c</b>|<b>-C</b>|<b>--columns</b>
[<b>--count</b> <i>count</i>] [<b>--interval</b>
<i>seconds</i>] [<b>--nameprefixes</b>]
[<b>--noheadings</b>] [<b>-o</b> <i>fields</i>]
[<b>-O</b>|<b>--sort</b> <i>sort_fields</i>]
[<b>--separator</b> <i>separator</i>]
[<i>device_name</i>]</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>dmsetup</b></p></td>
<td width="1%"></td>
<td width="77%">


<p><b>load</b> <i>device_name</i> [<b>--table</b>
<i>table</i>|<i>table_file</i>]</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>dmsetup</b></p></td>
<td width="1%"></td>
<td width="77%">


<p><b>ls</b> [<b>--target</b> <i>target_type</i>]
[<b>--exec</b> <i>command</i>] [<b>--tree</b>] [<b>-o</b>
<i>options</i>]</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>dmsetup</b></p></td>
<td width="1%"></td>
<td width="77%">


<p><b>mangle</b> [<i>device_name</i>...]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>dmsetup</b></p></td>
<td width="1%"></td>
<td width="77%">


<p><b>message</b> <i>device_name sector message</i></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>dmsetup</b></p></td>
<td width="1%"></td>
<td width="77%">


<p><b>mknodes</b> [<i>device_name</i>...]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>dmsetup</b></p></td>
<td width="1%"></td>
<td width="77%">


<p><b>reload</b> <i>device_name</i> [<b>--table</b>
<i>table</i>|<i>table_file</i>]</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>dmsetup</b></p></td>
<td width="1%"></td>
<td width="77%">


<p><b>remove</b> [<b>-f</b>|<b>--force</b>]
[<b>--retry</b>] [<b>--deferred</b>]
<i>device_name</i>...</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>dmsetup</b></p></td>
<td width="1%"></td>
<td width="77%">


<p><b>remove_all</b> [<b>-f</b>|<b>--force</b>]
[<b>--deferred</b>]</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>dmsetup</b></p></td>
<td width="1%"></td>
<td width="77%">


<p><b>rename</b> <i>device_name new_name</i></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>dmsetup</b></p></td>
<td width="1%"></td>
<td width="77%">


<p><b>rename</b> <i>device_name</i> <b>--setuuid</b>
<i>uuid</i></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>dmsetup</b></p></td>
<td width="1%"></td>
<td width="77%">


<p><b>resume</b> <i>device_name</i>...
[<b>--addnodeoncreate</b>|<b>--addnodeonresume</b>]
[<b>--noflush</b>] [<b>--nolockfs</b>] [<b>--readahead</b>
[<b>+</b>]<i>sectors</i>|<b>auto</b>|<b>none</b>]</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>dmsetup</b></p></td>
<td width="1%"></td>
<td width="77%">


<p><b>setgeometry</b> <i>device_name cyl head sect
start</i></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>dmsetup</b></p></td>
<td width="1%"></td>
<td width="77%">


<p><b>splitname</b> <i>device_name</i>
[<i>subsystem</i>]</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>dmsetup</b></p></td>
<td width="1%"></td>
<td width="77%">


<p><b>stats</b> <i>command</i> [<i>options</i>]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>dmsetup</b></p></td>
<td width="1%"></td>
<td width="77%">


<p><b>status</b> [<b>--target</b> <i>target_type</i>]
[<b>--noflush</b>] [<i>device_name</i>...]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>dmsetup</b></p></td>
<td width="1%"></td>
<td width="77%">


<p><b>suspend</b> [<b>--nolockfs</b>] [<b>--noflush</b>]
<i>device_name</i>...</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>dmsetup</b></p></td>
<td width="1%"></td>
<td width="77%">


<p><b>table</b> [<b>--concise</b>] [<b>--target</b>
<i>target_type</i>] [<b>--showkeys</b>]
[<i>device_name</i>...]</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>dmsetup</b></p></td>
<td width="1%"></td>
<td width="77%">


<p><b>targets</b></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>dmsetup</b></p></td>
<td width="1%"></td>
<td width="77%">


<p><b>udevcomplete</b> <i>cookie</i></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>dmsetup</b></p></td>
<td width="1%"></td>
<td width="77%">


<p><b>udevcomplete_all</b> [<i>age_in_minutes</i>]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>dmsetup</b></p></td>
<td width="1%"></td>
<td width="77%">


<p><b>udevcookie</b></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>dmsetup</b></p></td>
<td width="1%"></td>
<td width="77%">


<p><b>udevcreatecookie</b></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>dmsetup</b></p></td>
<td width="1%"></td>
<td width="77%">


<p><b>udevflags</b> <i>cookie</i></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>dmsetup</b></p></td>
<td width="1%"></td>
<td width="77%">


<p><b>udevreleasecookie</b> [<i>cookie</i>]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>dmsetup</b></p></td>
<td width="1%"></td>
<td width="77%">


<p><b>version</b></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>dmsetup</b></p></td>
<td width="1%"></td>
<td width="77%">


<p><b>wait</b> [<b>--noflush</b>] <i>device_name</i>
[<i>event_nr</i>]</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>dmsetup</b></p></td>
<td width="1%"></td>
<td width="77%">


<p><b>wipe_table</b> <i>device_name</i>...
[<b>-f</b>|<b>--force</b>] [<b>--noflush</b>]
[<b>--nolockfs</b>]</p> </td></tr>
</table>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="35%">


<p style="margin-top: 1em"><b>devmap_name</b> <i>major
minor</i></p> </td>
<td width="54%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="35%">


<p><b>devmap_name</b> <i>major:minor</i></p></td>
<td width="54%">
</td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">dmsetup manages
logical devices that use the device-mapper driver. Devices
are created by loading a table that specifies a target for
each sector (512 bytes) in the logical device.</p>

<p style="margin-left:11%; margin-top: 1em">The first
argument to dmsetup is a command. The second argument is the
logical device name or uuid.</p>

<p style="margin-left:11%; margin-top: 1em">Invoking the
dmsetup tool as <b>devmap_name</b> (which is not normally
distributed and is supported only for historical reasons) is
equivalent to
<b>dmsetup&nbsp;info&nbsp;-c&nbsp;--noheadings&nbsp;-j&nbsp;</b><i>major&nbsp;</i><b>-m&nbsp;</b><i>minor</i>.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="26%">


<p style="margin-top: 1em"><b>--addnodeoncreate</b></p></td>
<td width="63%">
</td></tr>
</table>

<p style="margin-left:22%;">Ensure <i>/dev/mapper</i> node
exists after <b>dmsetup create</b>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="26%">


<p style="margin-top: 1em"><b>--addnodeonresume</b></p></td>
<td width="63%">
</td></tr>
</table>

<p style="margin-left:22%;">Ensure <i>/dev/mapper</i> node
exists after <b>dmsetup resume</b> (default with udev).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="12%">


<p style="margin-top: 1em"><b>--checks</b></p></td>
<td width="77%">
</td></tr>
</table>

<p style="margin-left:22%;">Perform additional checks on
the operations requested and report potential problems.
Useful when debugging scripts. In some cases these checks
may slow down operations noticeably.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="23%">



<p style="margin-top: 1em"><b>-c</b>|<b>-C</b>|<b>--columns</b></p> </td>
<td width="66%">
</td></tr>
</table>

<p style="margin-left:22%;">Display output in columns
rather than as Field: Value lines.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="20%">


<p style="margin-top: 1em"><b>--count</b> <i>count</i></p></td>
<td width="69%">
</td></tr>
</table>

<p style="margin-left:22%;">Specify the number of times to
repeat a report. Set this to zero continue until
interrupted. The default interval is one second.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="15%">


<p style="margin-top: 1em"><b>-f</b>|<b>--force</b></p></td>
<td width="74%">
</td></tr>
</table>

<p style="margin-left:22%;">Try harder to complete
operation.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p style="margin-top: 1em"><b>-h</b>|<b>--help</b></p></td>
<td width="75%">
</td></tr>
</table>

<p style="margin-left:22%;">Outputs a summary of the
commands available, optionally including the list of report
fields (synonym with <b>help</b> command).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="15%">


<p style="margin-top: 1em"><b>--inactive</b></p></td>
<td width="74%">
</td></tr>
</table>

<p style="margin-left:22%;">When returning any table
information from the kernel report on the inactive table
instead of the live table. Requires kernel driver version
4.16.0 or above.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="27%">


<p style="margin-top: 1em"><b>--interval</b>
<i>seconds</i></p> </td>
<td width="62%">
</td></tr>
</table>

<p style="margin-left:22%;">Specify the interval in seconds
between successive iterations for repeating reports. If
<b>--interval</b> is specified but <b>--count</b> is not,
reports will continue to repeat until interrupted. The
default interval is one second.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="40%">


<p style="margin-top: 1em"><b>--manglename
auto</b>|<b>hex</b>|<b>none</b></p> </td>
<td width="49%">
</td></tr>
</table>

<p style="margin-left:22%;">Mangle any character not on a
whitelist using mangling_mode when processing device-mapper
device names and UUIDs. The names and UUIDs are mangled on
input and unmangled on output where the mangling mode is one
of: <b>auto</b> (only do the mangling if not mangled yet, do
nothing if already mangled, error on mixed), <b>hex</b>
(always do the mangling) and <b>none</b> (no mangling).
Default mode is <b>auto</b>. Character whitelist: 0-9, A-Z,
a-z, #+-.:=@_. This whitelist is also supported by udev. Any
character not on a whitelist is replaced with its hex value
(two digits) prefixed by \x. Mangling mode could be also set
through <b>DM_DEFAULT_NAME_MANGLING_MODE</b> environment
variable.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="24%">


<p style="margin-top: 1em"><b>-j</b>|<b>--major</b>
<i>major</i></p> </td>
<td width="65%">
</td></tr>
</table>

<p style="margin-left:22%;">Specify the major number.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="24%">


<p style="margin-top: 1em"><b>-m</b>|<b>--minor</b>
<i>minor</i></p> </td>
<td width="65%">
</td></tr>
</table>

<p style="margin-left:22%;">Specify the minor number.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="18%">


<p style="margin-top: 1em"><b>-n</b>|<b>--notable</b></p></td>
<td width="71%">
</td></tr>
</table>

<p style="margin-left:22%;">When creating a device,
don&rsquo;t load any table.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="21%">


<p style="margin-top: 1em"><b>--nameprefixes</b></p></td>
<td width="68%">
</td></tr>
</table>

<p style="margin-left:22%;">Add a &quot;DM_&quot; prefix
plus the field name to the output. Useful with
<b>--noheadings</b> to produce a list of field=value pairs
that can be used to set environment variables (for example,
in <b>udev</b>(7) rules).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>--noheadings</b> Suppress the
headings line when using columnar output.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>--noflush</b> Do not flush
outstading I/O when suspending a device, or do not commit
thin-pool metadata when obtaining thin-pool status.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>--nolockfs</b></p></td></tr>
</table>

<p style="margin-left:22%;">Do not attempt to synchronize
filesystem eg, when suspending a device.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="20%">


<p style="margin-top: 1em"><b>--noopencount</b></p></td>
<td width="69%">
</td></tr>
</table>

<p style="margin-left:22%;">Tell the kernel not to supply
the open reference count for the device.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="20%">


<p style="margin-top: 1em"><b>--noudevrules</b></p></td>
<td width="69%">
</td></tr>
</table>

<p style="margin-left:22%;">Do not allow udev to manage
nodes for devices in device-mapper directory.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="18%">


<p style="margin-top: 1em"><b>--noudevsync</b></p></td>
<td width="71%">
</td></tr>
</table>

<p style="margin-left:22%;">Do not synchronise with udev
when creating, renaming or removing devices.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="31%">


<p style="margin-top: 1em"><b>-o</b>|<b>--options</b>
<i>options</i></p> </td>
<td width="58%">
</td></tr>
</table>

<p style="margin-left:22%;">Specify which fields to
display.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="49%">


<p style="margin-top: 1em"><b>--readahead</b>
[<b>+</b>]<i>sectors</i>|<b>auto</b>|<b>none</b></p> </td>
<td width="40%">
</td></tr>
</table>

<p style="margin-left:22%;">Specify read ahead size in
units of sectors. The default value is <b>auto</b> which
allows the kernel to choose a suitable value automatically.
The <b>+</b> prefix lets you specify a minimum value which
will not be used if it is smaller than the value chosen by
the kernel. The value <b>none</b> is equivalent to
specifying zero.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="20%">


<p style="margin-top: 1em"><b>-r</b>|<b>--readonly</b></p></td>
<td width="69%">
</td></tr>
</table>

<p style="margin-left:22%;">Set the table being loaded
read-only.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="32%">


<p style="margin-top: 1em"><b>-S</b>|<b>--select</b>
<i>selection</i></p> </td>
<td width="57%">
</td></tr>
</table>

<p style="margin-left:22%;">Process only items that match
<i>selection</i> criteria. If the command is producing
report output, adding the &quot;selected&quot; column (<b>-o
selected</b>) displays all rows and shows 1 if the row
matches the <i>selection</i> and 0 otherwise. The selection
criteria are defined by specifying column names and their
valid values while making use of supported comparison
operators. As a quick help and to see full list of column
names that can be used in selection and the set of supported
selection operators, check the output of
<b>dmsetup&nbsp;info&nbsp;-c&nbsp;-S&nbsp;help</b>
command.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="20%">


<p style="margin-top: 1em"><b>--table</b> <i>table</i></p></td>
<td width="69%">
</td></tr>
</table>

<p style="margin-left:22%;">Specify a one-line table
directly on the command line. See below for more information
on the table format.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="29%">


<p style="margin-top: 1em"><b>--udevcookie</b>
<i>cookie</i></p> </td>
<td width="60%">
</td></tr>
</table>

<p style="margin-left:22%;">Use cookie for udev
synchronisation. Note: Same cookie should be used for same
type of operations i.e. creation of multiple different
devices. It&rsquo;s not adviced to combine different
operations on the single device.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p style="margin-top: 1em"><b>-u</b>|<b>--uuid</b></p></td>
<td width="75%">
</td></tr>
</table>

<p style="margin-left:22%;">Specify the <i>uuid</i>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="12%">


<p style="margin-top: 1em"><b>-y</b>|<b>--yes</b></p></td>
<td width="77%">
</td></tr>
</table>

<p style="margin-left:22%;">Answer yes to all prompts
automatically.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="41%">


<p style="margin-top: 1em"><b>-v</b>|<b>--verbose</b>
[<b>-v</b>|<b>--verbose</b>]</p> </td>
<td width="48%">
</td></tr>
</table>

<p style="margin-left:22%;">Produce additional output.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="18%">


<p style="margin-top: 1em"><b>--verifyudev</b></p></td>
<td width="71%">
</td></tr>
</table>

<p style="margin-left:22%;">If udev synchronisation is
enabled, verify that udev operations get performed correctly
and try to fix up the device nodes afterwards if not.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p style="margin-top: 1em"><b>--version</b></p></td>
<td width="75%">
</td></tr>
</table>

<p style="margin-left:22%;">Display the library and kernel
driver version.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">


<h2>COMMANDS
<a name="COMMANDS"></a>
</h2>
<td width="11%"></td>
<td width="26%"></td>
<td width="63%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="26%">


<p><b>clear</b> <i>device_name</i></p></td>
<td width="63%">
</td></tr>
</table>

<p style="margin-left:22%;">Destroys the table in the
inactive table slot for device_name.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>create</b> <i>device_name</i>
[<b>-u</b>|<b>--uuid</b> <i>uuid</i>]
[<b>--addnodeoncreate</b>|<b>--addnodeonresume</b>]
[<b>-n</b>|<b>--notable</b>|<b>--table</b>
<i>table</i>|<i>table_file</i>] [<b>--readahead</b>
[<b>+</b>]<i>sectors</i>|<b>auto</b>|<b>none</b>]</p> </td></tr>
</table>

<p style="margin-left:22%;">Creates a device with the given
name. If <i>table</i> or <i>table_file</i> is supplied, the
table is loaded and made live. Otherwise a table is read
from standard input unless <b>--notable</b> is used. The
optional <i>uuid</i> can be used in place of device_name in
subsequent dmsetup commands. If successful the device will
appear in table and for live device the node
<i>/dev/mapper/device_name</i> is created. See below for
more information on the table format.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="72%">


<p style="margin-top: 1em"><b>create --concise</b>
[<i>concise_device_specification</i>]</p> </td>
<td width="17%">
</td></tr>
</table>

<p style="margin-left:22%;">Creates one or more devices
from a concise device specification. Each device is
specified by a comma-separated list: name, uuid, minor
number, flags, comma-separated table lines. Flags defaults
to read-write (rw) or may be read-only (ro). Uuid, minor
number and flags are optional so those fields may be empty.
A semi-colon separates specifications of different devices.
Use a backslash to escape the following character, for
example a comma or semi-colon in a name or table. See also
CONCISE FORMAT below.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="52%">


<p style="margin-top: 1em"><b>deps</b> [<b>-o</b>
<i>options</i>] [<i>device_name</i>...]</p></td>
<td width="37%">
</td></tr>
</table>

<p style="margin-left:22%;">Outputs a list of devices
referenced by the live table for the specified device.
Device names on output can be customised by following
<i>options</i>: <b>devno</b> (major and minor pair, used by
default), <b>blkdevname</b> (block device name),
<b>devname</b> (map name for device-mapper devices, equal to
blkdevname otherwise).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="34%">


<p style="margin-top: 1em"><b>help</b>
[<b>-c</b>|<b>-C</b>|<b>--columns</b>]</p> </td>
<td width="55%">
</td></tr>
</table>

<p style="margin-left:22%;">Outputs a summary of the
commands available, optionally including the list of report
fields.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="32%">


<p style="margin-top: 1em"><b>info</b>
[<i>device_name</i>...]</p> </td>
<td width="57%">
</td></tr>
</table>

<p style="margin-left:22%;">Outputs some brief information
about the device in the form:</p>

<p style="margin-left:32%;">State: SUSPENDED|ACTIVE,
READ-ONLY <br>
Tables present: LIVE and/or INACTIVE <br>
Open reference count <br>
Last event sequence number (used by <b>wait</b>) <br>
Major and minor device number <br>
Number of targets in the live table <br>
UUID</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>info
-c</b>|<b>-C</b>|<b>--columns</b> [<b>--count</b>
<i>count</i>] [<b>--interval</b> <i>seconds</i>]
[<b>--nameprefixes</b>] [<b>--noheadings</b>] [<b>-o</b>
<i>fields</i>] [<b>-O</b>|<b>--sort</b> <i>sort_fields</i>]
[<b>--separator</b> <i>separator</i>]
[<i>device_name</i>]</p> </td></tr>
</table>

<p style="margin-left:22%;">Output you can customise.
Fields are comma-separated and chosen from the following
list: <b>name</b>, <b>major</b>, <b>minor</b>, <b>attr</b>,
<b>open</b>, <b>segments</b>, <b>events</b>, <b>uuid</b>.
Attributes are: (<i>L</i>)ive, (<i>I</i>)nactive,
(<i>s</i>)uspended, (<i>r</i>)ead-only, read-(<i>w</i>)rite.
Precede the list with &rsquo;<b>+</b>&rsquo; to append to
the default selection of columns instead of replacing it.
Precede any sort field with &rsquo;<b>-</b>&rsquo; for a
reverse sort on that column.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>ls</b> [<b>--target</b>
<i>target_type</i>] [<b>--exec</b> <i>command</i>]
[<b>--tree</b>] [<b>-o</b> <i>options</i>]</p></td></tr>
</table>

<p style="margin-left:22%;">List device names. Optionally
only list devices that have at least one target of the
specified type. Optionally execute a command for each
device. The device name is appended to the supplied command.
Device names on output can be customised by following
options: <b>devno</b> (major and minor pair, used by
default), <b>blkdevname</b> (block device name),
<b>devname</b> (map name for device-mapper devices, equal to
blkdevname otherwise). <b>--tree</b> displays dependencies
between devices as a tree. It accepts a comma-separate list
of <i>options</i>. Some specify the information displayed
against each node: <b>device</b>/<b>nodevice</b>;
<b>blkdevname</b>; <b>active</b>, <b>open</b>, <b>rw</b>,
<b>uuid</b>. Others specify how the tree is displayed:
<b>ascii</b>, <b>utf</b>, <b>vt100</b>; <b>compact</b>,
<b>inverted</b>, <b>notrunc</b>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="77%">


<p style="margin-top: 1em"><b>load</b>|<b>reload</b>
<i>device_name</i> [<b>--table</b>
<i>table</i>|<i>table_file</i>]</p> </td>
<td width="12%">
</td></tr>
</table>

<p style="margin-left:22%;">Loads <i>table</i> or
<i>table_file</i> into the inactive table slot for
device_name. If neither is supplied, reads a table from
standard input.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="35%">


<p style="margin-top: 1em"><b>mangle</b>
[<i>device_name</i>...]</p> </td>
<td width="54%">
</td></tr>
</table>

<p style="margin-left:22%;">Ensure existing device-mapper
<i>device_name</i> and UUID is in the correct mangled form
containing only whitelisted characters (supported by udev)
and do a rename if necessary. Any character not on the
whitelist will be mangled based on the <b>--manglename</b>
setting. Automatic rename works only for device names and
not for device UUIDs because the kernel does not allow
changing the UUID of active devices. Any incorrect UUIDs are
reported only and they must be manually corrected by
deactivating the device first and then reactivating it with
proper mangling mode used (see also
<b>--manglename</b>).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="52%">


<p style="margin-top: 1em"><b>message</b> <i>device_name
sector message</i></p></td>
<td width="37%">
</td></tr>
</table>

<p style="margin-left:22%;">Send message to target. If
sector not needed use 0.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="37%">


<p style="margin-top: 1em"><b>mknodes</b>
[<i>device_name</i>...]</p> </td>
<td width="52%">
</td></tr>
</table>

<p style="margin-left:22%;">Ensure that the node in
<i>/dev/mapper</i> for <i>device_name</i> is correct. If no
device_name is supplied, ensure that all nodes in
<i>/dev/mapper</i> correspond to mapped devices currently
loaded by the device-mapper kernel driver, adding, changing
or removing nodes as necessary.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="87%">


<p style="margin-top: 1em"><b>remove</b>
[<b>-f</b>|<b>--force</b>] [<b>--retry</b>]
[<b>--deferred</b>] <i>device_name</i>...</p></td>
<td width="2%">
</td></tr>
</table>

<p style="margin-left:22%;">Removes a device. It will no
longer be visible to dmsetup. Open devices cannot be
removed, but adding <b>--force</b> will replace the table
with one that fails all I/O. <b>--deferred</b> will enable
deferred removal of open devices - the device will be
removed when the last user closes it. The deferred removal
feature is supported since version 4.27.0 of the
device-mapper driver available in upstream kernel version
3.13. (Use <b>dmsetup version</b> to check this.) If an
attempt to remove a device fails, perhaps because a process
run from a quick udev rule temporarily opened the device,
the <b>--retry</b> option will cause the operation to be
retried for a few seconds before failing. Do NOT combine
<b>--force</b> and <b>--udevcookie</b>, as udev may start to
process udev rules in the middle of error target replacement
and result in nondeterministic result.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="55%">


<p style="margin-top: 1em"><b>remove_all</b>
[<b>-f</b>|<b>--force</b>] [<b>--deferred</b>]</p></td>
<td width="34%">
</td></tr>
</table>

<p style="margin-left:22%;">Attempts to remove all device
definitions i.e. reset the driver. This also runs
<b>mknodes</b> afterwards. Use with care! Open devices
cannot be removed, but adding <b>--force</b> will replace
the table with one that fails all I/O. <b>--deferred</b>
will enable deferred removal of open devices - the device
will be removed when the last user closes it. The deferred
removal feature is supported since version 4.27.0 of the
device-mapper driver available in upstream kernel version
3.13.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="41%">


<p style="margin-top: 1em"><b>rename</b> <i>device_name
new_name</i></p> </td>
<td width="48%">
</td></tr>
</table>

<p style="margin-left:22%;">Renames a device.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="51%">


<p style="margin-top: 1em"><b>rename</b> <i>device_name</i>
<b>--setuuid</b> <i>uuid</i></p></td>
<td width="38%">
</td></tr>
</table>

<p style="margin-left:22%;">Sets the uuid of a device that
was created without a uuid. After a uuid has been set it
cannot be changed.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>resume</b>
<i>device_name</i>...
[<b>--addnodeoncreate</b>|<b>--addnodeonresume</b>]
[<b>--noflush</b>] [<b>--nolockfs</b>] [<b>--readahead</b>
[<b>+</b>]<i>sectors</i>|<b>auto</b>|<b>none</b>]</p> </td></tr>
</table>

<p style="margin-left:22%;">Un-suspends a device. If an
inactive table has been loaded, it becomes live. Postponed
I/O then gets re-queued for processing.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="66%">


<p style="margin-top: 1em"><b>setgeometry</b>
<i>device_name cyl head sect start</i></p></td>
<td width="23%">
</td></tr>
</table>

<p style="margin-left:22%;">Sets the device geometry to
C/H/S.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="51%">


<p style="margin-top: 1em"><b>splitname</b>
<i>device_name</i> [<i>subsystem</i>]</p></td>
<td width="38%">
</td></tr>
</table>

<p style="margin-left:22%;">Splits given <i>device name</i>
into <i>subsystem</i> constituents. The default subsystem is
LVM. LVM currently generates device names by concatenating
the names of the Volume Group, Logical Volume and any
internal Layer with a hyphen as separator. Any hyphens
within the names are doubled to escape them. The precise
encoding might change without notice in any future release,
so we recommend you always decode using the current version
of this command.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="35%">


<p style="margin-top: 1em"><b>stats</b> <i>command</i>
[<i>options</i>]</p> </td>
<td width="54%">
</td></tr>
</table>

<p style="margin-left:22%;">Manages IO statistics regions
for devices. See <b>dmstats</b>(8) for more details.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>status</b> [<b>--target</b>
<i>target_type</i>] [<b>--noflush</b>]
[<i>device_name</i>...]</p> </td></tr>
</table>

<p style="margin-left:22%;">Outputs status information for
each of the device&rsquo;s targets. With <b>--target</b>,
only information relating to the specified target type any
is displayed. With <b>--noflush</b>, the thin target (from
version 1.3.0) doesn&rsquo;t commit any outstanding changes
to disk before reporting its statistics.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="72%">


<p style="margin-top: 1em"><b>suspend</b>
[<b>--nolockfs</b>] [<b>--noflush</b>]
<i>device_name</i>...</p> </td>
<td width="17%">
</td></tr>
</table>

<p style="margin-left:22%;">Suspends a device. Any I/O that
has already been mapped by the device but has not yet
completed will be flushed. Any further I/O to that device
will be postponed for as long as the device is suspended. If
there&rsquo;s a filesystem on the device which supports the
operation, an attempt will be made to sync it first unless
<b>--nolockfs</b> is specified. Some targets such as recent
(October 2006) versions of multipath may support the
<b>--noflush</b> option. This lets outstanding I/O that has
not yet reached the device to remain unflushed.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>table</b> [<b>--concise</b>]
[<b>--target</b> <i>target_type</i>] [<b>--showkeys</b>]
[<i>device_name</i>...]</p> </td></tr>
</table>

<p style="margin-left:22%;">Outputs the current table for
the device in a format that can be fed back in using the
create or load commands. With <b>--target</b>, only
information relating to the specified target type is
displayed. Real encryption keys are suppressed in the table
output for crypt and integrity targets unless the
<b>--showkeys</b> parameter is supplied. Kernel key
references prefixed with <b>:</b> are not affected by the
parameter and get displayed always (crypt target only). With
<b>--concise</b>, the output is presented concisely on a
single line. Commas then separate the name, uuid, minor
device number, flags (&rsquo;ro&rsquo; or &rsquo;rw&rsquo;)
and the table (if present). Semi-colons separate devices.
Backslashes escape any commas, semi-colons or backslashes.
See CONCISE FORMAT below.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p style="margin-top: 1em"><b>targets</b></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:22%;">Displays the names and versions
of the currently-loaded targets.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="29%">


<p style="margin-top: 1em"><b>udevcomplete</b>
<i>cookie</i></p> </td>
<td width="60%">
</td></tr>
</table>

<p style="margin-left:22%;">Wake any processes that are
waiting for udev to complete processing the specified
cookie.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="51%">


<p style="margin-top: 1em"><b>udevcomplete_all</b>
[<i>age_in_minutes</i>]</p> </td>
<td width="38%">
</td></tr>
</table>

<p style="margin-left:22%;">Remove all cookies older than
the specified number of minutes. Any process waiting on a
cookie will be resumed immediately.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="15%">


<p style="margin-top: 1em"><b>udevcookie</b></p></td>
<td width="74%">
</td></tr>
</table>

<p style="margin-left:22%;">List all existing cookies.
Cookies are system-wide semaphores with keys prefixed by two
predefined bytes (0x0D4D).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="24%">


<p style="margin-top: 1em"><b>udevcreatecookie</b></p></td>
<td width="65%">
</td></tr>
</table>

<p style="margin-left:22%;">Creates a new cookie to
synchronize actions with udev processing. The output is a
cookie value. Normally we don&rsquo;t need to create cookies
since dmsetup creates and destroys them for each action
automatically. However, we can generate one explicitly to
group several actions together and use only one cookie
instead. We can define a cookie to use for each relevant
command by using <b>--udevcookie</b> option. Alternatively,
we can export this value into the environment of the dmsetup
process as <b>DM_UDEV_COOKIE</b> variable and it will be
used automatically with all subsequent commands until it is
unset. Invoking this command will create system-wide
semaphore that needs to be cleaned up explicitly by calling
udevreleasecookie command.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="24%">


<p style="margin-top: 1em"><b>udevflags</b>
<i>cookie</i></p> </td>
<td width="65%">
</td></tr>
</table>

<p style="margin-left:22%;">Parses given <i>cookie</i>
value and extracts any udev control flags encoded. The
output is in environment key format that is suitable for use
in udev rules. If the flag has its symbolic name assigned
then the output is DM_UDEV_FLAG_&lt;flag_name&gt; =
&rsquo;1&rsquo;, DM_UDEV_FLAG&lt;flag_position&gt; =
&rsquo;1&rsquo; otherwise. Subsystem udev flags don&rsquo;t
have symbolic names assigned and these ones are always
reported as DM_SUBSYSTEM_UDEV_FLAG&lt;flag_position&gt; =
&rsquo;1&rsquo;. There are 16 udev flags altogether.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="40%">


<p style="margin-top: 1em"><b>udevreleasecookie</b>
[<i>cookie</i>]</p> </td>
<td width="49%">
</td></tr>
</table>

<p style="margin-left:22%;">Waits for all pending udev
processing bound to given cookie value and clean up the
cookie with underlying semaphore. If the cookie is not given
directly, the command will try to use a value defined by
<b>DM_UDEV_COOKIE</b> environment variable.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p style="margin-top: 1em"><b>version</b></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:22%;">Outputs version
information.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="60%">


<p style="margin-top: 1em"><b>wait</b> [<b>--noflush</b>]
<i>device_name</i> [<i>event_nr</i>]</p></td>
<td width="29%">
</td></tr>
</table>

<p style="margin-left:22%;">Sleeps until the event counter
for device_name exceeds event_nr. Use <b>-v</b> to see the
event number returned. To wait until the next event is
triggered, use <b>info</b> to find the last event number.
With <b>--noflush</b>, the thin target (from version 1.3.0)
doesn&rsquo;t commit any outstanding changes to disk before
reporting its statistics.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>wipe_table</b>
<i>device_name</i>... [<b>-f</b>|<b>--force</b>]
[<b>--noflush</b>] [<b>--nolockfs</b>]</p></td></tr>
</table>

<p style="margin-left:22%;">Wait for any I/O in-flight
through the device to complete, then replace the table with
a new table that fails any new I/O sent to the device. If
successful, this should release any devices held open by the
device&rsquo;s table(s).</p>

<h2>TABLE FORMAT
<a name="TABLE FORMAT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Each line of
the table specifies a single target and is of the form:</p>


<p style="margin-left:11%; margin-top: 1em"><i>logical_start_sector
num_sectors</i> <b>target_type</b> <i>target_args</i></p>

<p style="margin-left:11%; margin-top: 1em">Simple target
types and target args include: <b><br>
linear</b> <i>destination_device start_sector</i></p>

<p style="margin-left:22%;">The traditional linear
mapping.</p>

<p style="margin-left:11%;"><b>striped</b> <i>num_stripes
chunk_size</i> [<i>destination start_sector</i>]...</p>

<p style="margin-left:22%;">Creates a striped area. <br>
e.g. striped 2 32 /dev/hda1 0 /dev/hdb1 0 will map the first
chunk (16k) as follows:</p>

<p style="margin-left:32%;">LV chunk 1-&gt; hda1, chunk 1
<br>
LV chunk 2-&gt; hdb1, chunk 1 <br>
LV chunk 3-&gt; hda1, chunk 2 <br>
LV chunk 4-&gt; hdb1, chunk 2 <br>
etc.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>error</b></p></td>
<td width="4%"></td>
<td width="78%">


<p>Errors any I/O that goes to this area. Useful for
testing or for creating devices with holes in them.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>zero</b></p></td>
<td width="4%"></td>
<td width="78%">


<p>Returns blocks of zeroes on reads. Any data written is
discarded silently. This is a block-device equivalent of the
<i>/dev/zero</i> character-device data sink described in
<b>null</b>(4).</p> </td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">More complex
targets include:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p style="margin-top: 1em"><b>cache</b></p></td>
<td width="2%"></td>
<td width="78%">


<p style="margin-top: 1em">Improves performance of a block
device (eg, a spindle) by dynamically migrating some of its
data to a faster smaller device (eg, an SSD).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>crypt</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Transparent encryption of block devices using the kernel
crypto API.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>delay</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Delays reads and/or writes to different devices. Useful
for testing.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>flakey</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Creates a similar mapping to the linear target but
exhibits unreliable behaviour periodically. Useful for
simulating failing devices when testing.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>mirror</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Mirrors data across two or more devices.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>multipath</b></p>

<p style="margin-left:22%;">Mediates access through
multiple paths to the same device.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>raid</b></p></td>
<td width="5%"></td>
<td width="78%">


<p>Offers an interface to the kernel&rsquo;s software raid
driver, md.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>snapshot</b></p>

<p style="margin-left:22%;">Supports snapshots of
devices.</p>

<p style="margin-left:11%;"><b>thin</b>,
<b>thin-pool</b></p>

<p style="margin-left:22%;">Supports thin provisioning of
devices and also provides a better snapshot support.</p>

<p style="margin-left:11%; margin-top: 1em">To find out
more about the various targets and their table formats and
status lines, please read the files in the
Documentation/device-mapper directory in the kernel source
tree. (Your distribution might include a copy of this
information in the documentation directory for the
device-mapper package.)</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"># A table to
join two disks together <br>
0 1028160 linear /dev/hda 0 <br>
1028160 3903762 linear /dev/hdb 0 <br>
# A table to stripe across the two disks, <br>
# and add the spare space from <br>
# hdb to the back of the volume <br>
0 2056320 striped 2 32 /dev/hda 0 /dev/hdb 0 <br>
2056320 2875602 linear /dev/hdb 1028160</p>

<h2>CONCISE FORMAT
<a name="CONCISE FORMAT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">A concise
representation of one of more devices.</p>

<p style="margin-left:11%; margin-top: 1em">- A comma
separates the fields of each device. <br>
- A semi-colon separates devices. <br>
The representation of a device takes the form:</p>


<p style="margin-left:22%; margin-top: 1em">&lt;name&gt;,&lt;uuid&gt;,&lt;minor&gt;,&lt;flags&gt;,&lt;table&gt;[,&lt;table&gt;+][;&lt;dev_name&gt;,&lt;uuid&gt;,&lt;minor&gt;,&lt;flags&gt;,&lt;table&gt;[,&lt;table&gt;+]]</p>

<p style="margin-left:11%;">The fields are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>name</b></p></td>
<td width="4%"></td>
<td width="78%">


<p>The name of the device.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>uuid</b></p></td>
<td width="4%"></td>
<td width="78%">


<p>The UUID of the device (or empty).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>minor</b></p></td>
<td width="4%"></td>
<td width="78%">


<p>The minor number of the device. If empty, the kernel
assigns a suitable minor number.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>flags</b></p></td>
<td width="4%"></td>
<td width="78%">


<p>Supported flags are:</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em"><b>ro</b> Sets
the table being loaded for the device read-only <b><br>
rw</b> Sets the table being loaded for the device read-write
(default)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p style="margin-top: 1em"><b>table</b></p></td>
<td width="4%"></td>
<td width="70%">


<p style="margin-top: 1em">One line of the table. See TABLE
FORMAT above.</p></td>
<td width="8%">
</td></tr>
</table>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"># A simple
linear read-only device <br>
test-linear-small,,,ro,0 2097152 linear /dev/loop0 0,
2097152 2097152 linear /dev/loop1 0</p>

<p style="margin-left:11%; margin-top: 1em"># Two linear
devices <br>
test-linear-small,,,,0 2097152 linear /dev/loop0
0;test-linear-large,,,, 0 2097152 linear /dev/loop1 0,
2097152 2097152 linear /dev/loop2 0</p>

<h2>ENVIRONMENT VARIABLES
<a name="ENVIRONMENT VARIABLES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>DM_DEV_DIR</b></p>

<p style="margin-left:22%;">The device directory name.
Defaults to &quot;<i>/dev</i>&quot; and must be an absolute
path.</p>

<p style="margin-left:11%;"><b>DM_UDEV_COOKIE</b></p>

<p style="margin-left:22%;">A cookie to use for all
relevant commands to synchronize with udev processing. It is
an alternative to using <b>--udevcookie</b> option.</p>


<p style="margin-left:11%;"><b>DM_DEFAULT_NAME_MANGLING_MODE</b></p>

<p style="margin-left:22%;">A default mangling mode.
Defaults to &quot;<b>auto</b>&quot; and it is an alternative
to using <b>--manglename</b> option.</p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Original
version: Joe Thornber &lt;thornber@redhat.com&gt;</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>dmstats</b>(8),
<b>udev</b>(7), <b>udevadm</b>(8)</p>

<p style="margin-left:11%; margin-top: 1em">LVM2 resource
page: https://www.sourceware.org/lvm2/ <br>
Device-mapper resource page:
http://sources.redhat.com/dm/</p>
<hr>
</body>
</html>
