<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Thu Sep  8 02:50:13 2022 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>IP-LINK</title>

</head>
<body>

<h1 align="center">IP-LINK</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AUTHOR">AUTHOR</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">ip-link -
network device configuration</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:23%; margin-top: 1em"><b>ip link</b>
{ <i>COMMAND</i> | <b>help</b> }</p>

<p style="margin-left:23%; margin-top: 1em"><b>ip link
add</b> [ <b>link</b> <i>DEVICE</i> ] [ <b>name</b> ]
<i>NAME</i> <br>
[ <b>txqueuelen</b> <i>PACKETS</i> ] <br>
[ <b>address</b> <i>LLADDR</i> ] [ <b>broadcast</b>
<i>LLADDR</i> ] <br>
[ <b>mtu</b> <i>MTU</i> ] [ <b>index</b> <i>IDX</i> ] <br>
[ <b>numtxqueues</b> <i>QUEUE_COUNT</i> ] [
<b>numrxqueues</b> <i>QUEUE_COUNT</i> ] <b><br>
[</b> gso_max_size <i>BYTES</i> ] [ <b>gso_max_segs</b>
<i>SEGMENTS</i> ] <b><br>
type</b> <i>TYPE</i> [ <i>ARGS</i> ]</p>

<p style="margin-left:23%; margin-top: 1em"><b>ip link
delete</b> { <i>DEVICE</i> | <b>group</b> <i>GROUP</i> }
<b>type</b> <i>TYPE</i> [ <i>ARGS</i> ]</p>

<p style="margin-left:23%; margin-top: 1em"><b>ip link
set</b> { <i>DEVICE</i> | <b>group</b> <i>GROUP</i> } <br>
[ { <b>up</b> | <b>down</b> } ] <br>
[ <b>type</b> <i>ETYPE TYPE_ARGS</i> ] <br>
[ <b>arp</b> { <b>on</b> | <b>off</b> } ] <br>
[ <b>dynamic</b> { <b>on</b> | <b>off</b> } ] <br>
[ <b>multicast</b> { <b>on</b> | <b>off</b> } ] <br>
[ <b>allmulticast</b> { <b>on</b> | <b>off</b> } ] <br>
[ <b>promisc</b> { <b>on</b> | <b>off</b> } ] <br>
[ <b>protodown</b> { <b>on</b> | <b>off</b> } ] <br>
[ <b>trailers</b> { <b>on</b> | <b>off</b> } ] <br>
[ <b>txqueuelen</b> <i>PACKETS</i> ] <br>
[ <b>name</b> <i>NEWNAME</i> ] <br>
[ <b>address</b> <i>LLADDR</i> ] <br>
[ <b>broadcast</b> <i>LLADDR</i> ] <br>
[ <b>mtu</b> <i>MTU</i> ] <br>
[ <b>netns</b> { <i>PID</i> | <i>NETNSNAME</i> } ] <br>
[ <b>link-netnsid</b> <i>ID</i> ] <br>
[ <b>alias</b> <i>NAME</i> ] <br>
[ <b>vf</b> <i>NUM</i> [ <b>mac</b> <i>LLADDR</i> ]</p>

<p style="margin-left:37%;">[ <i>VFVLAN-LIST</i> ] <br>
[ <b>rate</b> <i>TXRATE</i> ] <br>
[ <b>max_tx_rate</b> <i>TXRATE</i> ] <br>
[ <b>min_tx_rate</b> <i>TXRATE</i> ] <br>
[ <b>spoofchk</b> { <b>on</b> | <b>off</b> } ] <br>
[ <b>query_rss</b> { <b>on</b> | <b>off</b> } ] <br>
[ <b>state</b> { <b>auto</b> | <b>enable</b> |
<b>disable</b> } ] <br>
[ <b>trust</b> { <b>on</b> | <b>off</b> } ] <br>
[ <b>node_guid</b> eui64 ] <br>
[ <b>port_guid</b> eui64 ] ]</p>

<p style="margin-left:23%;">[ { <b>xdp</b> |
<b>xdpgeneric</b> | <b>xdpdrv</b> | <b>xdpoffload</b> } {
<b>off</b> |</p>

<p style="margin-left:35%;"><b>object</b> <i>FILE</i> [
<b>section</b> <i>NAME</i> ] [ <b>verbose</b> ] | <b><br>
pinned</b> <i>FILE</i> } ]</p>

<p style="margin-left:23%;">[ <b>master</b> <i>DEVICE</i> ]
<br>
[ <b>nomaster</b> ] <br>
[ <b>vrf</b> <i>NAME</i> ] <br>
[ <b>addrgenmode</b> { <b>eui64</b> | <b>none</b> |
<b>stable_secret</b> | <b>random</b> } ] <br>
[ <b>macaddr</b> [ <i>MACADDR</i> ]</p>

<p style="margin-left:38%;">[ { <b>flush</b> | <b>add</b> |
<b>del</b> } <i>MACADDR</i> ] <br>
[ <b>set</b> <i>MACADDR</i> ] ]</p>

<p style="margin-left:38%; margin-top: 1em"><b>ip link
show</b> [ <i>DEVICE</i> | <b>group</b> <i>GROUP</i> ] [
<b>up</b> ] [ <b>master</b> <i>DEVICE</i> ] [ <b>type</b>
<i>ETYPE</i> ] [ <b>vrf</b> <i>NAME</i> ]</p>

<p style="margin-left:38%; margin-top: 1em"><b>ip link
xstats type</b> <i>TYPE</i> [ <i>ARGS</i> ]</p>

<p style="margin-left:38%; margin-top: 1em"><b>ip link
afstats</b> [ <b>dev</b> <i>DEVICE</i> ]</p>

<p style="margin-left:38%; margin-top: 1em"><b>ip link
help</b> [ <i>TYPE</i> ]</p>

<p style="margin-left:38%; margin-top: 1em"><i>TYPE</i> :=
[ <b>bridge</b> | <b>bond</b> | <b>can</b> | <b>dummy</b> |
<b>hsr</b> | <b>ifb</b> | <b>ipoib</b> | <b>macvlan</b> |
<b>macvtap</b> | <b>vcan</b> | <b>vxcan</b> | <b>veth</b> |
<b>vlan</b> | <b>vxlan</b> | <b>ip6tnl</b> | <b>ipip</b> |
<b>sit</b> | <b>gre</b> | <b>gretap</b> | <b>erspan</b> |
<b>ip6gre</b> | <b>ip6gretap</b> | <b>ip6erspan</b> |
<b>vti</b> | <b>nlmon</b> | <b>ipvlan</b> | <b>ipvtap</b> |
<b>lowpan</b> | <b>geneve</b> | <b>vrf</b> | <b>macsec</b> |
<b>netdevsim</b> | <b>rmnet</b> | <b>xfrm</b> ]</p>

<p style="margin-left:38%; margin-top: 1em"><i>ETYPE</i> :=
[ <i>TYPE</i> | <b>bridge_slave</b> | <b>bond_slave</b>
]</p>


<p style="margin-left:38%; margin-top: 1em"><i>VFVLAN-LIST</i>
:= [ <i>VFVLAN-LIST</i> ] <i>VFVLAN</i></p>

<p style="margin-left:38%; margin-top: 1em"><i>VFVLAN</i>
:= [ <b>vlan</b> <i>VLANID</i> [ <b>qos</b> <i>VLAN-QOS</i>
] [ <b>proto</b> <i>VLAN-PROTO</i> ] ]</p>

<p style="margin-left:26%; margin-top: 1em"><b>ip link
property add</b> [ <b>altname</b> <i>NAME</i> .. ]</p>

<p style="margin-left:26%; margin-top: 1em"><b>ip link
property del</b> [ <b>altname</b> <i>NAME</i> .. ]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>ip link add
- add virtual link <br>
link</b> <i>DEVICE</i></p>

<p style="margin-left:22%;">specifies the physical device
to act operate on.</p>

<p style="margin-left:22%; margin-top: 1em"><i>NAME</i>
specifies the name of the new virtual device.</p>

<p style="margin-left:22%; margin-top: 1em"><i>TYPE</i>
specifies the type of the new device.</p>

<p style="margin-left:22%; margin-top: 1em">Link types:</p>

<p style="margin-left:34%; margin-top: 1em"><b>bridge</b> -
Ethernet Bridge device</p>

<p style="margin-left:34%; margin-top: 1em"><b>bond</b> -
Bonding device</p>

<p style="margin-left:34%; margin-top: 1em"><b>dummy</b> -
Dummy network interface</p>

<p style="margin-left:34%; margin-top: 1em"><b>hsr</b> -
High-availability Seamless Redundancy device</p>

<p style="margin-left:34%; margin-top: 1em"><b>ifb</b> -
Intermediate Functional Block device</p>

<p style="margin-left:34%; margin-top: 1em"><b>ipoib</b> -
IP over Infiniband device</p>

<p style="margin-left:34%; margin-top: 1em"><b>macvlan</b>
- Virtual interface base on link layer address (MAC)</p>

<p style="margin-left:34%; margin-top: 1em"><b>macvtap</b>
- Virtual interface based on link layer address (MAC) and
TAP.</p>

<p style="margin-left:34%; margin-top: 1em"><b>vcan</b> -
Virtual Controller Area Network interface</p>

<p style="margin-left:34%; margin-top: 1em"><b>vxcan</b> -
Virtual Controller Area Network tunnel interface</p>

<p style="margin-left:34%; margin-top: 1em"><b>veth</b> -
Virtual ethernet interface</p>

<p style="margin-left:34%; margin-top: 1em"><b>vlan</b> -
802.1q tagged virtual LAN interface</p>

<p style="margin-left:34%; margin-top: 1em"><b>vxlan</b> -
Virtual eXtended LAN</p>

<p style="margin-left:34%; margin-top: 1em"><b>ip6tnl</b> -
Virtual tunnel interface IPv4|IPv6 over IPv6</p>

<p style="margin-left:34%; margin-top: 1em"><b>ipip</b> -
Virtual tunnel interface IPv4 over IPv4</p>

<p style="margin-left:34%; margin-top: 1em"><b>sit</b> -
Virtual tunnel interface IPv6 over IPv4</p>

<p style="margin-left:34%; margin-top: 1em"><b>gre</b> -
Virtual tunnel interface GRE over IPv4</p>

<p style="margin-left:34%; margin-top: 1em"><b>gretap</b> -
Virtual L2 tunnel interface GRE over IPv4</p>

<p style="margin-left:34%; margin-top: 1em"><b>erspan</b> -
Encapsulated Remote SPAN over GRE and IPv4</p>

<p style="margin-left:34%; margin-top: 1em"><b>ip6gre</b> -
Virtual tunnel interface GRE over IPv6</p>


<p style="margin-left:34%; margin-top: 1em"><b>ip6gretap</b>
- Virtual L2 tunnel interface GRE over IPv6</p>


<p style="margin-left:34%; margin-top: 1em"><b>ip6erspan</b>
- Encapsulated Remote SPAN over GRE and IPv6</p>

<p style="margin-left:34%; margin-top: 1em"><b>vti</b> -
Virtual tunnel interface</p>

<p style="margin-left:34%; margin-top: 1em"><b>nlmon</b> -
Netlink monitoring device</p>

<p style="margin-left:34%; margin-top: 1em"><b>ipvlan</b> -
Interface for L3 (IPv6/IPv4) based VLANs</p>

<p style="margin-left:34%; margin-top: 1em"><b>ipvtap</b> -
Interface for L3 (IPv6/IPv4) based VLANs and TAP</p>

<p style="margin-left:34%; margin-top: 1em"><b>lowpan</b> -
Interface for 6LoWPAN (IPv6) over IEEE 802.15.4 /
Bluetooth</p>

<p style="margin-left:34%; margin-top: 1em"><b>geneve</b> -
GEneric NEtwork Virtualization Encapsulation</p>

<p style="margin-left:34%; margin-top: 1em"><b>macsec</b> -
Interface for IEEE 802.1AE MAC Security (MACsec)</p>

<p style="margin-left:34%; margin-top: 1em"><b>vrf</b> -
Interface for L3 VRF domains</p>


<p style="margin-left:34%; margin-top: 1em"><b>netdevsim</b>
- Interface for netdev API tests</p>

<p style="margin-left:34%; margin-top: 1em"><b>rmnet</b> -
Qualcomm rmnet device</p>

<p style="margin-left:34%; margin-top: 1em"><b>xfrm</b> -
Virtual xfrm interface</p>

<p style="margin-left:11%;"><b>numtxqueues</b>
<i>QUEUE_COUNT</i></p>

<p style="margin-left:22%;">specifies the number of
transmit queues for new device.</p>

<p style="margin-left:11%;"><b>numrxqueues</b>
<i>QUEUE_COUNT</i></p>

<p style="margin-left:22%;">specifies the number of receive
queues for new device.</p>

<p style="margin-left:11%;"><b>gso_max_size</b>
<i>BYTES</i></p>

<p style="margin-left:22%;">specifies the recommended
maximum size of a Generic Segment Offload packet the new
device should accept.</p>

<p style="margin-left:11%;"><b>gso_max_segs</b>
<i>SEGMENTS</i></p>

<p style="margin-left:22%;">specifies the recommended
maximum number of a Generic Segment Offload segments the new
device should accept.</p>

<p style="margin-left:11%;"><b>index</b> <i>IDX</i></p>

<p style="margin-left:22%;">specifies the desired index of
the new virtual device. The link creation fails, if the
index is busy.</p>

<p style="margin-left:11%;">VLAN Type Support</p>

<p style="margin-left:22%;">For a link of type <i>VLAN</i>
the following additional arguments are supported:</p>

<p style="margin-left:22%; margin-top: 1em"><b>ip link add
link</b> <i>DEVICE</i> <b>name</b> <i>NAME</i> <b>type
vlan</b> [ <b>protocol</b> <i>VLAN_PROTO</i> ] <b>id</b>
<i>VLANID</i> [ <b>reorder_hdr</b> { <b>on</b> | <b>off</b>
} ] [ <b>gvrp</b> { <b>on</b> | <b>off</b> } ] [ <b>mvrp</b>
{ <b>on</b> | <b>off</b> } ] [ <b>loose_binding</b> {
<b>on</b> | <b>off</b> } ] [ <b>bridge_binding</b> {
<b>on</b> | <b>off</b> } ] [ <b>ingress-qos-map</b>
<i>QOS-MAP</i> ] [ <b>egress-qos-map</b> <i>QOS-MAP</i>
]</p>


<p style="margin-left:34%; margin-top: 1em"><b>protocol</b>
<i>VLAN_PROTO</i> - either 802.1Q or 802.1ad.</p>

<p style="margin-left:34%; margin-top: 1em"><b>id</b>
<i>VLANID</i> - specifies the VLAN Identifer to use. Note
that numbers with a leading &quot; 0 &quot; or &quot; 0x
&quot; are interpreted as octal or hexadeimal,
respectively.</p>


<p style="margin-left:34%; margin-top: 1em"><b>reorder_hdr</b>
{ <b>on</b> | <b>off</b> } - specifies whether ethernet
headers are reordered or not (default is <b>on</b>).</p>

<p style="margin-left:40%; margin-top: 1em">If
<b>reorder_hdr</b> is <b>on</b> then VLAN header will be not
inserted immediately but only before passing to the physical
device (if this device does not support VLAN offloading),
the similar on the RX direction - by default the packet will
be untagged before being received by VLAN device. Reordering
allows to accelerate tagging on egress and to hide VLAN
header on ingress so the packet looks like regular Ethernet
packet, at the same time it might be confusing for packet
capture as the VLAN header does not exist within the
packet.</p>

<p style="margin-left:40%; margin-top: 1em">VLAN offloading
can be checked by <b>ethtool</b>(8):</p>

<p style="margin-left:46%; margin-top: 1em"><b>ethtool
-k</b> &lt;phy_dev&gt; | grep <b>tx-vlan-offload</b></p>

<p style="margin-left:40%; margin-top: 1em">where
&lt;phy_dev&gt; is the physical device to which VLAN device
is bound.</p>

<p style="margin-left:34%; margin-top: 1em"><b>gvrp</b> {
<b>on</b> | <b>off</b> } - specifies whether this VLAN
should be registered using GARP VLAN <br>
Registration Protocol.</p>

<p style="margin-left:34%; margin-top: 1em"><b>mvrp</b> {
<b>on</b> | <b>off</b> } - specifies whether this VLAN
should be registered using Multiple VLAN <br>
Registration Protocol.</p>


<p style="margin-left:34%; margin-top: 1em"><b>loose_binding</b>
{ <b>on</b> | <b>off</b> } - specifies whether the VLAN
device state is bound to the physical device state.</p>


<p style="margin-left:34%; margin-top: 1em"><b>bridge_binding</b>
{ <b>on</b> | <b>off</b> } - specifies whether the VLAN
device link state tracks the state of bridge ports that are
members of the VLAN.</p>


<p style="margin-left:34%; margin-top: 1em"><b>ingress-qos-map</b>
<i>QOS-MAP</i> - defines a mapping of VLAN header prio field
to the Linux internal packet priority on incoming frames.
The format is FROM:TO with multiple mappings separated by
spaces.</p>


<p style="margin-left:34%; margin-top: 1em"><b>egress-qos-map</b>
<i>QOS-MAP</i> - defines a mapping of Linux internal packet
priority to VLAN header prio field but for outgoing frames.
The format is the same as for ingress-qos-map.</p>

<p style="margin-left:40%; margin-top: 1em">Linux packet
priority can be set by <b>iptables</b>(8)<b>:</b></p>


<p style="margin-left:46%; margin-top: 1em"><b>iptables</b>
-t mangle -A POSTROUTING [...] -j CLASSIFY --set-class
0:4</p>

<p style="margin-left:40%; margin-top: 1em">and this
&quot;4&quot; priority can be used in the egress qos mapping
to set VLAN prio &quot;5&quot;:</p>

<p style="margin-left:46%; margin-top: 1em"><b>ip</b> link
set veth0.10 type vlan egress 4:5</p>

<p style="margin-left:11%;">VXLAN Type Support</p>

<p style="margin-left:22%;">For a link of type <i>VXLAN</i>
the following additional arguments are supported:</p>

<p style="margin-left:22%; margin-top: 1em"><b>ip link
add</b> <i>DEVICE</i> <b>type</b> <i>vxlan</i> <b>id</b>
<i>VNI</i> [ <b>dev</b> <i>PHYS_DEV</i> ] [ { <b>group</b> |
<b>remote</b> } <i>IPADDR</i> ] [ <b>local</b> {
<i>IPADDR</i> | <i>any</i> } ] [ <b>ttl</b> <i>TTL</i> ] [
<b>tos</b> <i>TOS</i> ] [ <b>df</b> <i>DF</i> ] [
<b>flowlabel</b> <i>FLOWLABEL</i> ] [ <b>dstport</b>
<i>PORT</i> ] [ <b>srcport</b> <i>MIN MAX</i> ] [
[<b>no</b>]<b>learning</b> ] [ [<b>no</b>]<b>proxy</b> ] [
[<b>no</b>]<b>rsc</b> ] [ [<b>no</b>]<b>l2miss</b> ] [
[<b>no</b>]<b>l3miss</b> ] [ [<b>no</b>]<b>udpcsum</b> ] [
[<b>no</b>]<b>udp6zerocsumtx</b> ] [
[<b>no</b>]<b>udp6zerocsumrx</b> ] [ <b>ageing</b>
<i>SECONDS</i> ] [ <b>maxaddress</b> <i>NUMBER</i> ] [
[<b>no</b>]<b>external</b> ] [ <b>gbp</b> ] [ <b>gpe</b>
]</p>

<p style="margin-left:34%; margin-top: 1em"><b>id</b>
<i>VNI</i> - specifies the VXLAN Network Identifer (or VXLAN
Segment Identifier) to use.</p>

<p style="margin-left:34%; margin-top: 1em"><b>dev</b>
<i>PHYS_DEV</i> - specifies the physical device to use for
tunnel endpoint communication.</p>

<p style="margin-left:34%; margin-top: 1em"><b>group</b>
<i>IPADDR</i> - specifies the multicast IP address to join.
This parameter cannot be specified with the <b>remote</b>
parameter.</p>

<p style="margin-left:34%; margin-top: 1em"><b>remote</b>
<i>IPADDR</i> - specifies the unicast destination IP address
to use in outgoing packets when the destination link layer
address is not known in the VXLAN device forwarding
database. This parameter cannot be specified with the
<b>group</b> parameter.</p>

<p style="margin-left:34%; margin-top: 1em"><b>local</b>
<i>IPADDR</i> - specifies the source IP address to use in
outgoing packets.</p>

<p style="margin-left:34%; margin-top: 1em"><b>ttl</b>
<i>TTL</i> - specifies the TTL value to use in outgoing
packets.</p>

<p style="margin-left:34%; margin-top: 1em"><b>tos</b>
<i>TOS</i> - specifies the TOS value to use in outgoing
packets.</p>

<p style="margin-left:34%; margin-top: 1em"><b>df</b>
<i>DF</i> - specifies the usage of the Don&rsquo;t Fragment
flag (DF) bit in outgoing packets with IPv4 headers. The
value <b>inherit</b> causes the bit to be copied from the
original IP header. The values <b>unset</b> and <b>set</b>
cause the bit to be always unset or always set,
respectively. By default, the bit is not set.</p>


<p style="margin-left:34%; margin-top: 1em"><b>flowlabel</b>
<i>FLOWLABEL</i> - specifies the flow label to use in
outgoing packets.</p>

<p style="margin-left:34%; margin-top: 1em"><b>dstport</b>
<i>PORT</i> - specifies the UDP destination port to
communicate to the remote <br>
VXLAN tunnel endpoint.</p>

<p style="margin-left:34%; margin-top: 1em"><b>srcport</b>
<i>MIN MAX</i> - specifies the range of port numbers to use
as UDP source ports to communicate to the remote VXLAN
tunnel endpoint.</p>


<p style="margin-left:34%; margin-top: 1em">[<b>no</b>]<b>learning</b>
- specifies if unknown source link layer addresses and IP
addresses are entered into the VXLAN device forwarding
database.</p>


<p style="margin-left:34%; margin-top: 1em">[<b>no</b>]<b>rsc</b>
- specifies if route short circuit is turned on.</p>


<p style="margin-left:34%; margin-top: 1em">[<b>no</b>]<b>proxy</b>
- specifies ARP proxy is turned on.</p>


<p style="margin-left:34%; margin-top: 1em">[<b>no</b>]<b>l2miss</b>
- specifies if netlink LLADDR miss notifications are
generated.</p>


<p style="margin-left:34%; margin-top: 1em">[<b>no</b>]<b>l3miss</b>
- specifies if netlink IP ADDR miss notifications are
generated.</p>


<p style="margin-left:34%; margin-top: 1em">[<b>no</b>]<b>udpcsum</b>
- specifies if UDP checksum is calculated for transmitted
packets over IPv4.</p>


<p style="margin-left:34%; margin-top: 1em">[<b>no</b>]<b>udp6zerocsumtx</b>
- skip UDP checksum calculation for transmitted packets over
IPv6.</p>


<p style="margin-left:34%; margin-top: 1em">[<b>no</b>]<b>udp6zerocsumrx</b>
- allow incoming UDP packets over IPv6 with zero checksum
field.</p>

<p style="margin-left:34%; margin-top: 1em"><b>ageing</b>
<i>SECONDS</i> - specifies the lifetime in seconds of FDB
entries learnt by the kernel.</p>


<p style="margin-left:34%; margin-top: 1em"><b>maxaddress</b>
<i>NUMBER</i> - specifies the maximum number of FDB
entries.</p>


<p style="margin-left:34%; margin-top: 1em">[<b>no</b>]<b>external</b>
- specifies whether an external control plane (e.g. <b>ip
route encap</b>) or the internal FDB should be used.</p>

<p style="margin-left:34%; margin-top: 1em"><b>gbp</b> -
enables the Group Policy extension (VXLAN-GBP).</p>

<p style="margin-left:40%; margin-top: 1em">Allows to
transport group policy context across VXLAN network peers.
If enabled, includes the mark of a packet in the VXLAN
header for outgoing packets and fills the packet mark based
on the information found in the VXLAN header for incoming
packets.</p>

<p style="margin-left:40%; margin-top: 1em">Format of upper
16 bits of packet mark (flags);</p>


<p style="margin-left:43%; margin-top: 1em">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<br>
|-|-|-|-|-|-|-|-|-|D|-|-|A|-|-|-| <br>
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</p>

<p style="margin-left:43%; margin-top: 1em"><b>D :=</b>
Don&rsquo;t Learn bit. When set, this bit indicates that the
egress VTEP MUST NOT learn the source address of the
encapsulated frame.</p>

<p style="margin-left:43%; margin-top: 1em"><b>A :=</b>
Indicates that the group policy has already been applied to
this packet. Policies MUST NOT be applied by devices when
the A bit is set.</p>

<p style="margin-left:40%; margin-top: 1em">Format of lower
16 bits of packet mark (policy ID):</p>


<p style="margin-left:43%; margin-top: 1em">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<br>
| Group Policy ID | <br>
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</p>

<p style="margin-left:40%; margin-top: 1em">Example: <br>
iptables -A OUTPUT [...] -j MARK --set-mark 0x800FF</p>

<p style="margin-left:34%; margin-top: 1em"><b>gpe</b> -
enables the Generic Protocol extension (VXLAN-GPE).
Currently, this is only supported together with the
<b>external</b> keyword.</p>

<p style="margin-left:11%;">VETH, VXCAN Type Support</p>

<p style="margin-left:22%;">For a link of types
<i>VETH/VXCAN</i> the following additional arguments are
supported:</p>

<p style="margin-left:22%; margin-top: 1em"><b>ip link
add</b> <i>DEVICE</i> <b>type</b> { <b>veth</b> |
<b>vxcan</b> } [ <b>peer name</b> <i>NAME</i> ]</p>

<p style="margin-left:34%; margin-top: 1em"><b>peer
name</b> <i>NAME</i> - specifies the virtual pair device
name of the <i>VETH/VXCAN</i> tunnel.</p>

<p style="margin-left:11%;">IPIP, SIT Type Support</p>

<p style="margin-left:22%;">For a link of type
<i>IPIP</i>or<i>SIT</i> the following additional arguments
are supported:</p>

<p style="margin-left:22%; margin-top: 1em"><b>ip link
add</b> <i>DEVICE</i> <b>type</b> { <b>ipip</b> | <b>sit</b>
} <b>remote</b> <i>ADDR</i> <b>local</b> <i>ADDR</i> [
<b>encap</b> { <b>fou</b> | <b>gue</b> | <b>none</b> } ] [
<b>encap-sport</b> { <i>PORT</i> | <b>auto</b> } ] [
<b>encap-dport</b> <i>PORT</i> ] [
[<b>no</b>]<b>encap-csum</b> ] [ <i>[no]encap-remcsum</i> ]
[ <i>mode { ip6ip | ipip | mplsip | any }</i> ] [
<b>external</b> ]</p>

<p style="margin-left:34%; margin-top: 1em"><b>remote</b>
<i>ADDR</i> - specifies the remote address of the
tunnel.</p>

<p style="margin-left:34%; margin-top: 1em"><b>local</b>
<i>ADDR</i> - specifies the fixed local address for tunneled
packets. It must be an address on another interface on this
host.</p>

<p style="margin-left:34%; margin-top: 1em"><b>encap</b> {
<b>fou</b> | <b>gue</b> | <b>none</b> } - specifies type of
secondary UDP encapsulation. &quot;fou&quot; indicates
Foo-Over-UDP, &quot;gue&quot; indicates Generic UDP
Encapsulation.</p>


<p style="margin-left:34%; margin-top: 1em"><b>encap-sport</b>
{ <i>PORT</i> | <b>auto</b> } - specifies the source port in
UDP encapsulation. <i>PORT</i> indicates the port by number,
&quot;auto&quot; indicates that the port number should be
chosen automatically (the kernel picks a flow based on the
flow hash of the encapsulated packet).</p>


<p style="margin-left:34%; margin-top: 1em">[<b>no</b>]<b>encap-csum</b>
- specifies if UDP checksums are enabled in the secondary
encapsulation.</p>


<p style="margin-left:34%; margin-top: 1em">[<b>no</b>]<b>encap-remcsum</b>
- specifies if Remote Checksum Offload is enabled. This is
only applicable for Generic UDP Encapsulation.</p>

<p style="margin-left:34%; margin-top: 1em"><b>mode</b>
<i>{ ip6ip | ipip | mplsip | any }</i> - specifies mode in
which device should run. &quot;ip6ip&quot; indicates
IPv6-Over-IPv4, &quot;ipip&quot; indicates
&quot;IPv4-Over-IPv4&quot;, &quot;mplsip&quot; indicates
MPLS-Over-IPv4, &quot;any&quot; indicates IPv6, IPv4 or MPLS
Over IPv4. Supported for SIT where the default is
&quot;ip6ip&quot; and IPIP where the default is
&quot;ipip&quot;. IPv6-Over-IPv4 is not supported for
IPIP.</p>


<p style="margin-left:34%; margin-top: 1em"><b>external</b>
- make this tunnel externally controlled (e.g. <b>ip route
encap</b>).</p>

<p style="margin-left:11%;">GRE Type Support</p>

<p style="margin-left:22%;">For a link of type <i>GRE</i>
or <i>GRETAP</i> the following additional arguments are
supported:</p>

<p style="margin-left:22%; margin-top: 1em"><b>ip link
add</b> <i>DEVICE</i> <b>type</b> { <b>gre</b> |
<b>gretap</b> } <b>remote</b> <i>ADDR</i> <b>local</b>
<i>ADDR</i> [ [<b>no</b>][<b>i</b>|<b>o</b>]<b>seq</b> ] [
[<b>i</b>|<b>o</b>]<b>key</b> <i>KEY</i> |
<b>no</b>[<b>i</b>|<b>o</b>]<b>key</b> ] [
[<b>no</b>][<b>i</b>|<b>o</b>]<b>csum</b> ] [ <b>ttl</b>
<i>TTL</i> ] [ <b>tos</b> <i>TOS</i> ] [
[<b>no</b>]<b>pmtudisc</b> ] [ [<b>no</b>]<b>ignore-df</b> ]
[ <b>dev</b> <i>PHYS_DEV</i> ] [ <b>encap</b> { <b>fou</b> |
<b>gue</b> | <b>none</b> } ] [ <b>encap-sport</b> {
<i>PORT</i> | <b>auto</b> } ] [ <b>encap-dport</b>
<i>PORT</i> ] [ [<b>no</b>]<b>encap-csum</b> ] [
[<b>no</b>]<b>encap-remcsum</b> ] [ <b>external</b> ]</p>

<p style="margin-left:34%; margin-top: 1em"><b>remote</b>
<i>ADDR</i> - specifies the remote address of the
tunnel.</p>

<p style="margin-left:34%; margin-top: 1em"><b>local</b>
<i>ADDR</i> - specifies the fixed local address for tunneled
packets. It must be an address on another interface on this
host.</p>


<p style="margin-left:34%; margin-top: 1em">[<b>no</b>][<b>i</b>|<b>o</b>]<b>seq</b>
- serialize packets. The <b>oseq</b> flag enables sequencing
of outgoing packets. The <b>iseq</b> flag requires that all
input packets are serialized.</p>


<p style="margin-left:34%; margin-top: 1em">[<b>i</b>|<b>o</b>]<b>key</b>
<i>KEY</i> | <b>no</b>[<b>i</b>|<b>o</b>]<b>key</b> - use
keyed GRE with key <i>KEY</i>. <i>KEY</i> is either a number
or an IPv4 address-like dotted quad. The <b>key</b>
parameter specifies the same key to use in both directions.
The <b>ikey</b> and <b>okey</b> parameters specify different
keys for input and output.</p>


<p style="margin-left:34%; margin-top: 1em">[<b>no</b>][<b>i</b>|<b>o</b>]<b>csum</b>
- generate/require checksums for tunneled packets. The
<b>ocsum</b> flag calculates checksums for outgoing packets.
The <b>icsum</b> flag requires that all input packets have
the correct checksum. The <b>csum</b> flag is equivalent to
the combination <b>icsum ocsum .</b></p>

<p style="margin-left:34%; margin-top: 1em"><b>ttl</b>
<i>TTL</i> - specifies the TTL value to use in outgoing
packets.</p>

<p style="margin-left:34%; margin-top: 1em"><b>tos</b>
<i>TOS</i> - specifies the TOS value to use in outgoing
packets.</p>


<p style="margin-left:34%; margin-top: 1em">[<b>no</b>]<b>pmtudisc</b>
- enables/disables Path MTU Discovery on this tunnel. It is
enabled by default. Note that a fixed ttl is incompatible
with this option: tunneling with a fixed ttl always makes
pmtu discovery.</p>


<p style="margin-left:34%; margin-top: 1em">[<b>no</b>]<b>ignore-df</b>
- enables/disables IPv4 DF suppression on this tunnel.
Normally datagrams that exceed the MTU will be fragmented;
the presence of the DF flag inhibits this, resulting instead
in an ICMP Unreachable (Fragmentation Required) message.
Enabling this attribute causes the DF flag to be
ignored.</p>

<p style="margin-left:34%; margin-top: 1em"><b>dev</b>
<i>PHYS_DEV</i> - specifies the physical device to use for
tunnel endpoint communication.</p>

<p style="margin-left:34%; margin-top: 1em"><b>encap</b> {
<b>fou</b> | <b>gue</b> | <b>none</b> } - specifies type of
secondary UDP encapsulation. &quot;fou&quot; indicates
Foo-Over-UDP, &quot;gue&quot; indicates Generic UDP
Encapsulation.</p>


<p style="margin-left:34%; margin-top: 1em"><b>encap-sport</b>
{ <i>PORT</i> | <b>auto</b> } - specifies the source port in
UDP encapsulation. <i>PORT</i> indicates the port by number,
&quot;auto&quot; indicates that the port number should be
chosen automatically (the kernel picks a flow based on the
flow hash of the encapsulated packet).</p>


<p style="margin-left:34%; margin-top: 1em">[<b>no</b>]<b>encap-csum</b>
- specifies if UDP checksums are enabled in the secondary
encapsulation.</p>


<p style="margin-left:34%; margin-top: 1em">[<b>no</b>]<b>encap-remcsum</b>
- specifies if Remote Checksum Offload is enabled. This is
only applicable for Generic UDP Encapsulation.</p>


<p style="margin-left:34%; margin-top: 1em"><b>external</b>
- make this tunnel externally controlled (e.g. <b>ip route
encap</b>).</p>

<p style="margin-left:11%;">IP6GRE/IP6GRETAP Type
Support</p>

<p style="margin-left:22%;">For a link of type
<i>IP6GRE/IP6GRETAP</i> the following additional arguments
are supported:</p>

<p style="margin-left:22%; margin-top: 1em"><b>ip link
add</b> <i>DEVICE</i> <b>type</b> { <b>ip6gre</b> |
<b>ip6gretap</b> } <b>remote</b> <i>ADDR</i> <b>local</b>
<i>ADDR</i> [ [<b>no</b>][<b>i</b>|<b>o</b>]<b>seq</b> ] [
[<b>i</b>|<b>o</b>]<b>key</b> <i>KEY</i> |
<b>no</b>[<b>i</b>|<b>o</b>]<b>key</b> ] [
[<b>no</b>][<b>i</b>|<b>o</b>]<b>csum</b> ] [
<b>hoplimit</b> <i>TTL</i> ] [ <b>encaplimit</b> <i>ELIM</i>
] [ <b>tclass</b> <i>TCLASS</i> ] [ <b>flowlabel</b>
<i>FLOWLABEL</i> ] [ <b>dscp inherit</b> ] [
<b>[no]allow-localremote</b> ] [ <b>dev</b> <i>PHYS_DEV</i>
] [ external ]</p>

<p style="margin-left:34%; margin-top: 1em"><b>remote</b>
<i>ADDR</i> - specifies the remote IPv6 address of the
tunnel.</p>

<p style="margin-left:34%; margin-top: 1em"><b>local</b>
<i>ADDR</i> - specifies the fixed local IPv6 address for
tunneled packets. It must be an address on another interface
on this host.</p>


<p style="margin-left:34%; margin-top: 1em">[<b>no</b>][<b>i</b>|<b>o</b>]<b>seq</b>
- serialize packets. The <b>oseq</b> flag enables sequencing
of outgoing packets. The <b>iseq</b> flag requires that all
input packets are serialized.</p>


<p style="margin-left:34%; margin-top: 1em">[<b>i</b>|<b>o</b>]<b>key</b>
<i>KEY</i> | <b>no</b>[<b>i</b>|<b>o</b>]<b>key</b> - use
keyed GRE with key <i>KEY</i>. <i>KEY</i> is either a number
or an IPv4 address-like dotted quad. The <b>key</b>
parameter specifies the same key to use in both directions.
The <b>ikey</b> and <b>okey</b> parameters specify different
keys for input and output.</p>


<p style="margin-left:34%; margin-top: 1em">[<b>no</b>][<b>i</b>|<b>o</b>]<b>csum</b>
- generate/require checksums for tunneled packets. The
<b>ocsum</b> flag calculates checksums for outgoing packets.
The <b>icsum</b> flag requires that all input packets have
the correct checksum. The <b>csum</b> flag is equivalent to
the combination <b>icsum ocsum</b>.</p>


<p style="margin-left:34%; margin-top: 1em"><b>hoplimit</b>
<i>TTL</i> - specifies Hop Limit value to use in outgoing
packets.</p>


<p style="margin-left:34%; margin-top: 1em"><b>encaplimit</b>
<i>ELIM</i> - specifies a fixed encapsulation limit. Default
is 4.</p>


<p style="margin-left:34%; margin-top: 1em"><b>flowlabel</b>
<i>FLOWLABEL</i> - specifies a fixed flowlabel.</p>


<p style="margin-left:34%; margin-top: 1em"><b>[no]allow-localremote</b>
- specifies whether to allow remote endpoint to have an
address configured on local host.</p>

<p style="margin-left:34%; margin-top: 1em"><b>tclass</b>
<i>TCLASS</i> - specifies the traffic class field on
tunneled packets, which can be specified as either a
two-digit hex value (e.g. c0) or a predefined string (e.g.
internet). The value <b>inherit</b> causes the field to be
copied from the original IP header. The values
<b>inherit/</b><i>STRING</i> or
<b>inherit/</b><i>00</i><b>..</b><i>ff</i> will set the
field to <i>STRING</i> or <i>00</i>..<i>ff</i> when
tunneling non-IP packets. The default value is 00.</p>

<p style="margin-left:34%; margin-top: 1em">external - make
this tunnel externally controlled (or not, which is the
default). In the kernel, this is referred to as collect
metadata mode. This flag is mutually exclusive with the
<b>remote</b>, <b>local</b>, <b>seq</b>, <b>key, csum,
hoplimit, encaplimit, flowlabel</b> and <b>tclass</b>
options.</p>

<p style="margin-left:11%;">IPoIB Type Support</p>

<p style="margin-left:22%;">For a link of type <i>IPoIB</i>
the following additional arguments are supported:</p>

<p style="margin-left:22%; margin-top: 1em"><b>ip link
add</b> <i>DEVICE</i> <b>name</b> <i>NAME</i> <b>type
ipoib</b> [ <b>pkey</b> <i>PKEY</i> ] [ <b>mode</b>
<i>MODE</i> ]</p>

<p style="margin-left:34%; margin-top: 1em"><b>pkey</b>
<i>PKEY</i> - specifies the IB P-Key to use.</p>

<p style="margin-left:34%; margin-top: 1em"><b>mode</b>
<i>MODE</i> - specifies the mode (datagram or connected) to
use.</p>

<p style="margin-left:11%;">ERSPAN Type Support</p>

<p style="margin-left:22%;">For a link of type
<i>ERSPAN/IP6ERSPAN</i> the following additional arguments
are supported:</p>

<p style="margin-left:22%; margin-top: 1em"><b>ip link
add</b> <i>DEVICE</i> <b>type</b> { <b>erspan</b> |
<b>ip6erspan</b> } <b>remote</b> <i>ADDR</i> <b>local</b>
<i>ADDR</i> <b>seq</b> key <i>KEY</i> <b>erspan_ver</b>
<i>version</i> [ <b>erspan</b> <i>IDX</i> ] [
<b>erspan_dir</b> { <i>ingress</i> | <i>egress</i> } ] [
<b>erspan_hwid</b> <i>hwid</i> ] [
<b>[no]allow-localremote</b> ] [ external ]</p>

<p style="margin-left:34%; margin-top: 1em"><b>remote</b>
<i>ADDR</i> - specifies the remote address of the
tunnel.</p>

<p style="margin-left:34%; margin-top: 1em"><b>local</b>
<i>ADDR</i> - specifies the fixed local address for tunneled
packets. It must be an address on another interface on this
host.</p>


<p style="margin-left:34%; margin-top: 1em"><b>erspan_ver</b>
<i>version</i> - specifies the ERSPAN version number.
<i>version</i> indicates the ERSPAN version to be created: 1
for version 1 (type II) or 2 for version 2 (type III).</p>

<p style="margin-left:34%; margin-top: 1em"><b>erspan</b>
<i>IDX</i> - specifies the ERSPAN v1 index field. <i>IDX</i>
indicates a 20 bit index/port number associated with the
ERSPAN traffic&rsquo;s source port and direction.</p>


<p style="margin-left:34%; margin-top: 1em"><b>erspan_dir</b>
{ <i>ingress</i> | <i>egress</i> } - specifies the ERSPAN v2
mirrored traffic&rsquo;s direction.</p>


<p style="margin-left:34%; margin-top: 1em"><b>erspan_hwid</b>
<i>hwid</i> - an unique identifier of an ERSPAN v2 engine
within a system. <i>hwid</i> is a 6-bit value for users to
configure.</p>


<p style="margin-left:34%; margin-top: 1em"><b>[no]allow-localremote</b>
- specifies whether to allow remote endpoint to have an
address configured on local host.</p>


<p style="margin-left:34%; margin-top: 1em"><b>external</b>
- make this tunnel externally controlled (or not, which is
the default). In the kernel, this is referred to as collect
metadata mode. This flag is mutually exclusive with the
<b>remote</b>, <b>local</b>, <b>erspan_ver</b>,
<b>erspan</b>, <b>erspan_dir</b> and <b>erspan_hwid</b>
options.</p>

<p style="margin-left:11%;">GENEVE Type Support</p>

<p style="margin-left:22%;">For a link of type
<i>GENEVE</i> the following additional arguments are
supported:</p>

<p style="margin-left:22%; margin-top: 1em"><b>ip link
add</b> <i>DEVICE</i> <b>type</b> <i>geneve</i> <b>id</b>
<i>VNI</i> <b>remote</b> <i>IPADDR</i> [ <b>ttl</b>
<i>TTL</i> ] [ <b>tos</b> <i>TOS</i> ] [ <b>df</b> <i>DF</i>
] [ <b>flowlabel</b> <i>FLOWLABEL</i> ] [ <b>dstport</b>
<i>PORT</i> ] [ [<b>no</b>]<b>external</b> ] [
[<b>no</b>]<b>udpcsum</b> ] [
[<b>no</b>]<b>udp6zerocsumtx</b> ] [
[<b>no</b>]<b>udp6zerocsumrx</b> ]</p>

<p style="margin-left:34%; margin-top: 1em"><b>id</b>
<i>VNI</i> - specifies the Virtual Network Identifer to
use.</p>

<p style="margin-left:34%; margin-top: 1em"><b>remote</b>
<i>IPADDR</i> - specifies the unicast destination IP address
to use in outgoing packets.</p>

<p style="margin-left:34%; margin-top: 1em"><b>ttl</b>
<i>TTL</i> - specifies the TTL value to use in outgoing
packets. &quot;0&quot; or &quot;auto&quot; means use
whatever default value, &quot;inherit&quot; means inherit
the inner protocol&rsquo;s ttl. Default option is
&quot;0&quot;.</p>

<p style="margin-left:34%; margin-top: 1em"><b>tos</b>
<i>TOS</i> - specifies the TOS value to use in outgoing
packets.</p>

<p style="margin-left:34%; margin-top: 1em"><b>df</b>
<i>DF</i> - specifies the usage of the Don&rsquo;t Fragment
flag (DF) bit in outgoing packets with IPv4 headers. The
value <b>inherit</b> causes the bit to be copied from the
original IP header. The values <b>unset</b> and <b>set</b>
cause the bit to be always unset or always set,
respectively. By default, the bit is not set.</p>


<p style="margin-left:34%; margin-top: 1em"><b>flowlabel</b>
<i>FLOWLABEL</i> - specifies the flow label to use in
outgoing packets.</p>

<p style="margin-left:34%; margin-top: 1em"><b>dstport</b>
<i>PORT</i> - select a destination port other than the
default of 6081.</p>


<p style="margin-left:34%; margin-top: 1em">[<b>no</b>]<b>external</b>
- make this tunnel externally controlled (or not, which is
the default). This flag is mutually exclusive with the
<b>id</b>, <b>remote</b>, <b>ttl</b>, <b>tos</b> and
<b>flowlabel</b> options.</p>


<p style="margin-left:34%; margin-top: 1em">[<b>no</b>]<b>udpcsum</b>
- specifies if UDP checksum is calculated for transmitted
packets over IPv4.</p>


<p style="margin-left:34%; margin-top: 1em">[<b>no</b>]<b>udp6zerocsumtx</b>
- skip UDP checksum calculation for transmitted packets over
IPv6.</p>


<p style="margin-left:34%; margin-top: 1em">[<b>no</b>]<b>udp6zerocsumrx</b>
- allow incoming UDP packets over IPv6 with zero checksum
field.</p>

<p style="margin-left:11%;">MACVLAN and MACVTAP Type
Support</p>

<p style="margin-left:22%;">For a link of type
<i>MACVLAN</i> or <i>MACVTAP</i> the following additional
arguments are supported:</p>

<p style="margin-left:22%; margin-top: 1em"><b>ip link add
link</b> <i>DEVICE</i> <b>name</b> <i>NAME</i> <b>type</b> {
<b>macvlan</b> | <b>macvtap</b> } <b>mode</b> {
<b>private</b> | <b>vepa</b> | <b>bridge</b> |
<b>passthru</b> [ <b>nopromisc</b> ] | <b>source</b> }</p>

<p style="margin-left:34%; margin-top: 1em"><b>type</b> {
<b>macvlan</b> | <b>macvtap</b> } - specifies the link type
to use. <b>macvlan</b> creates just a virtual interface,
while <b>macvtap</b> in addition creates a character device
<b>/dev/tapX</b> to be used just like a <b>tuntap</b>
device.</p>

<p style="margin-left:34%; margin-top: 1em"><b>mode
private</b> - Do not allow communication between
<b>macvlan</b> instances on the same physical interface,
even if the external switch supports hairpin mode.</p>

<p style="margin-left:34%; margin-top: 1em"><b>mode
vepa</b> - Virtual Ethernet Port Aggregator mode. Data from
one <b>macvlan</b> instance to the other on the same
physical interface is transmitted over the physical
interface. Either the attached switch needs to support
hairpin mode, or there must be a TCP/IP router forwarding
the packets in order to allow communication. This is the
default mode.</p>

<p style="margin-left:34%; margin-top: 1em"><b>mode
bridge</b> - In bridge mode, all endpoints are directly
connected to each other, communication is not redirected
through the physical interface&rsquo;s peer.</p>

<p style="margin-left:34%; margin-top: 1em"><b>mode
passthru</b> [ <b>nopromisc</b> ] - This mode gives more
power to a single endpoint, usually in <b>macvtap</b> mode.
It is not allowed for more than one endpoint on the same
physical interface. All traffic will be forwarded to this
endpoint, allowing virtio guests to change MAC address or
set promiscuous mode in order to bridge the interface or
create vlan interfaces on top of it. By default, this mode
forces the underlying interface into promiscuous mode.
Passing the <b>nopromisc</b> flag prevents this, so the
promisc flag may be controlled using standard tools.</p>

<p style="margin-left:34%; margin-top: 1em"><b>mode
source</b> - allows one to set a list of allowed mac
address, which is used to match against source mac address
from received frames on underlying interface. This allows
creating mac based VLAN associations, instead of standard
port or tag based. The feature is useful to deploy 802.1x
mac based behavior, where drivers of underlying interfaces
doesn&rsquo;t allows that.</p>

<p style="margin-left:11%;">High-availability Seamless
Redundancy (HSR) Support</p>

<p style="margin-left:22%;">For a link of type <i>HSR</i>
the following additional arguments are supported:</p>

<p style="margin-left:22%; margin-top: 1em"><b>ip link add
link</b> <i>DEVICE</i> <b>name</b> <i>NAME</i> <b>type hsr
slave1</b> <i>SLAVE1-IF</i> <b>slave2</b> <i>SLAVE2-IF</i> [
<b>supervision</b> <i>ADDR-BYTE</i> ] [ <b>version</b> {
<b>0</b> | <b>1</b> } ]</p>

<p style="margin-left:34%; margin-top: 1em"><b>type</b> hsr
- specifies the link type to use, here HSR.</p>

<p style="margin-left:34%; margin-top: 1em"><b>slave1</b>
<i>SLAVE1-IF</i> - Specifies the physical device used for
the first of the two ring ports.</p>

<p style="margin-left:34%; margin-top: 1em"><b>slave2</b>
<i>SLAVE2-IF</i> - Specifies the physical device used for
the second of the two ring ports.</p>


<p style="margin-left:34%; margin-top: 1em"><b>supervision</b>
<i>ADDR-BYTE</i> - The last byte of the multicast address
used for HSR supervision frames. Default option is
&quot;0&quot;, possible values 0-255.</p>

<p style="margin-left:34%; margin-top: 1em"><b>version</b>
{ <b>0</b> | <b>1</b> } - Selects the protocol version of
the interface. Default option is &quot;0&quot;, which
corresponds to the 2010 version of the HSR standard. Option
&quot;1&quot; activates the 2012 version.</p>

<p style="margin-left:11%;">BRIDGE Type Support</p>

<p style="margin-left:22%;">For a link of type
<i>BRIDGE</i> the following additional arguments are
supported:</p>

<p style="margin-left:22%; margin-top: 1em"><b>ip link
add</b> <i>DEVICE</i> <b>type bridge</b> [
<b>ageing_time</b> <i>AGEING_TIME</i> ] [
<b>group_fwd_mask</b> <i>MASK</i> ] [ <b>group_address</b>
<i>ADDRESS</i> ] [ <b>forward_delay</b> <i>FORWARD_DELAY</i>
] [ <b>hello_time</b> <i>HELLO_TIME</i> ] [ <b>max_age</b>
<i>MAX_AGE</i> ] [ <b>stp_state</b> <i>STP_STATE</i> ] [
<b>priority</b> <i>PRIORITY</i> ] [ <b>vlan_filtering</b>
<i>VLAN_FILTERING</i> ] [ <b>vlan_protocol</b>
<i>VLAN_PROTOCOL</i> ] [ <b>vlan_default_pvid</b>
<i>VLAN_DEFAULT_PVID</i> ] [ <b>vlan_stats_enabled</b>
<i>VLAN_STATS_ENABLED</i> ] [ <b>vlan_stats_per_port</b>
<i>VLAN_STATS_PER_PORT</i> ] [ <b>mcast_snooping</b>
<i>MULTICAST_SNOOPING</i> ] [ <b>mcast_router</b>
<i>MULTICAST_ROUTER</i> ] [ <b>mcast_query_use_ifaddr</b>
<i>MCAST_QUERY_USE_IFADDR</i> ] [ <b>mcast_querier</b>
<i>MULTICAST_QUERIER</i> ] [ <b>mcast_hash_elasticity</b>
<i>HASH_ELASTICITY</i> ] [ <b>mcast_hash_max</b>
<i>HASH_MAX</i> ] [ <b>mcast_last_member_count</b>
<i>LAST_MEMBER_COUNT</i> ] [
<b>mcast_startup_query_count</b> <i>STARTUP_QUERY_COUNT</i>
] [ <b>mcast_last_member_interval</b>
<i>LAST_MEMBER_INTERVAL</i> ] [
<b>mcast_membership_interval</b> <i>MEMBERSHIP_INTERVAL</i>
] [ <b>mcast_querier_interval</b> <i>QUERIER_INTERVAL</i> ]
[ <b>mcast_query_interval</b> <i>QUERY_INTERVAL</i> ] [
<b>mcast_query_response_interval</b>
<i>QUERY_RESPONSE_INTERVAL</i> ] [
<b>mcast_startup_query_interval</b>
<i>STARTUP_QUERY_INTERVAL</i> ] [ <b>mcast_stats_enabled</b>
<i>MCAST_STATS_ENABLED</i> ] [ <b>mcast_igmp_version</b>
<i>IGMP_VERSION</i> ] [ <b>mcast_mld_version</b>
<i>MLD_VERSION</i> ] [ <b>nf_call_iptables</b>
<i>NF_CALL_IPTABLES</i> ] [ <b>nf_call_ip6tables</b>
<i>NF_CALL_IP6TABLES</i> ] [ <b>nf_call_arptables</b>
<i>NF_CALL_ARPTABLES</i> ]</p>


<p style="margin-left:34%; margin-top: 1em"><b>ageing_time</b>
<i>AGEING_TIME</i> - configure the bridge&rsquo;s FDB
entries ageing time, ie the number of seconds a MAC address
will be kept in the FDB after a packet has been received
from that address. after this time has passed, entries are
cleaned up.</p>


<p style="margin-left:34%; margin-top: 1em"><b>group_fwd_mask</b>
<i>MASK</i> - set the group forward mask. This is the
bitmask that is applied to decide whether to forward
incoming frames destined to link-local addresses, ie
addresses of the form 01:80:C2:00:00:0X (defaults to 0, ie
the bridge does not forward any link-local frames).</p>


<p style="margin-left:34%; margin-top: 1em"><b>group_address</b>
<i>ADDRESS</i> - set the MAC address of the multicast group
this bridge uses for STP. The address must be a link-local
address in standard Ethernet MAC address format, ie an
address of the form 01:80:C2:00:00:0X, with X <br>
in [0, 4..f].</p>


<p style="margin-left:34%; margin-top: 1em"><b>forward_delay</b>
<i>FORWARD_DELAY</i> - set the forwarding delay in seconds,
ie the time spent in LISTENING state (before moving to
LEARNING) and in LEARNING state (before moving to
FORWARDING). Only relevant if STP is enabled. Valid values
are between 2 and 30.</p>


<p style="margin-left:34%; margin-top: 1em"><b>hello_time</b>
<i>HELLO_TIME</i> - set the time in seconds between hello
packets sent by the bridge, when it is a root bridge or a
designated bridges. Only relevant if STP is enabled. Valid
values are between 1 and 10.</p>

<p style="margin-left:34%; margin-top: 1em"><b>max_age</b>
<i>MAX_AGE</i> - set the hello packet timeout, ie the time
in seconds until another bridge in the spanning tree is
assumed to be dead, after reception of its last hello
message. Only relevant if STP is enabled. Valid values are
between 6 and 40.</p>


<p style="margin-left:34%; margin-top: 1em"><b>stp_state</b>
<i>STP_STATE</i> - turn spanning tree protocol on
(<i>STP_STATE</i> &gt; 0) or off (<i>STP_STATE</i> == 0).
for this bridge.</p>


<p style="margin-left:34%; margin-top: 1em"><b>priority</b>
<i>PRIORITY</i> - set this bridge&rsquo;s spanning tree
priority, used during STP root bridge election.
<i>PRIORITY</i> is a 16bit unsigned integer.</p>


<p style="margin-left:34%; margin-top: 1em"><b>vlan_filtering</b>
<i>VLAN_FILTERING</i> - turn VLAN filtering on
(<i>VLAN_FILTERING</i> &gt; 0) or off (<i>VLAN_FILTERING</i>
== 0). When disabled, the bridge will not consider the VLAN
tag when handling packets.</p>


<p style="margin-left:34%; margin-top: 1em"><b>vlan_protocol</b>
{ <b>802.1Q</b> | <b>802.1ad</b> } - set the protocol used
for VLAN filtering.</p>


<p style="margin-left:34%; margin-top: 1em"><b>vlan_default_pvid</b>
<i>VLAN_DEFAULT_PVID</i> - set the default PVID
(native/untagged VLAN ID) for this bridge.</p>


<p style="margin-left:34%; margin-top: 1em"><b>vlan_stats_enabled</b>
<i>VLAN_STATS_ENABLED</i> - enable
(<i>VLAN_STATS_ENABLED</i> == 1) or disable
(<i>VLAN_STATS_ENABLED</i> == 0) per-VLAN stats
accounting.</p>


<p style="margin-left:34%; margin-top: 1em"><b>vlan_stats_per_port</b>
<i>VLAN_STATS_PER_PORT</i> - enable
(<i>VLAN_STATS_PER_PORT</i> == 1) or disable
(<i>VLAN_STATS_PER_PORT</i> == 0) per-VLAN per-port stats
accounting. Can be changed only when there are no port VLANs
configured.</p>


<p style="margin-left:34%; margin-top: 1em"><b>mcast_snooping</b>
<i>MULTICAST_SNOOPING</i> - turn multicast snooping on
(<i>MULTICAST_SNOOPING</i> &gt; 0) or off
(<i>MULTICAST_SNOOPING</i> == 0).</p>


<p style="margin-left:34%; margin-top: 1em"><b>mcast_router</b>
<i>MULTICAST_ROUTER</i> - set bridge&rsquo;s multicast
router if IGMP snooping is enabled. <i>MULTICAST_ROUTER</i>
is an integer value having the following meaning:</p>

<p style="margin-left:46%; margin-top: 1em"><b>0</b> -
disabled.</p>

<p style="margin-left:46%; margin-top: 1em"><b>1</b> -
automatic (queried).</p>

<p style="margin-left:46%; margin-top: 1em"><b>2</b> -
permanently enabled.</p>


<p style="margin-left:34%; margin-top: 1em"><b>mcast_query_use_ifaddr</b>
<i>MCAST_QUERY_USE_IFADDR</i> - whether to use the
bridge&rsquo;s own IP address as source address for IGMP
queries (<i>MCAST_QUERY_USE_IFADDR</i> &gt; 0) or the
default of 0.0.0.0 (<i>MCAST_QUERY_USE_IFADDR</i> == 0).</p>


<p style="margin-left:34%; margin-top: 1em"><b>mcast_querier</b>
<i>MULTICAST_QUERIER</i> - enable (<i>MULTICAST_QUERIER</i>
&gt; 0) or disable (<i>MULTICAST_QUERIER</i> == 0) IGMP
querier, ie sending of multicast queries by the bridge
(default: disabled).</p>


<p style="margin-left:34%; margin-top: 1em"><b>mcast_querier_interval</b>
<i>QUERIER_INTERVAL</i> - interval between queries sent by
other routers. if no queries are seen after this delay has
passed, the bridge will start to send its own queries (as if
<b>mcast_querier</b> was enabled).</p>


<p style="margin-left:34%; margin-top: 1em"><b>mcast_hash_elasticity</b>
<i>HASH_ELASTICITY</i> - set multicast database hash
elasticity, ie the maximum chain length in the multicast
hash table (defaults to 4).</p>


<p style="margin-left:34%; margin-top: 1em"><b>mcast_hash_max</b>
<i>HASH_MAX</i> - set maximum size of multicast hash table
(defaults to 512, value must be a power of 2).</p>


<p style="margin-left:34%; margin-top: 1em"><b>mcast_last_member_count</b>
<i>LAST_MEMBER_COUNT</i> - set multicast last member count,
ie the number of queries the bridge will send before
stopping forwarding a multicast group after a
&quot;leave&quot; message has been received (defaults to
2).</p>


<p style="margin-left:34%; margin-top: 1em"><b>mcast_last_member_interval</b>
<i>LAST_MEMBER_INTERVAL</i> - interval between queries to
find remaining members of a group, after a &quot;leave&quot;
message is received.</p>


<p style="margin-left:34%; margin-top: 1em"><b>mcast_startup_query_count</b>
<i>STARTUP_QUERY_COUNT</i> - set the number of IGMP queries
to send during startup phase (defaults to 2).</p>


<p style="margin-left:34%; margin-top: 1em"><b>mcast_startup_query_interval</b>
<i>STARTUP_QUERY_INTERVAL</i> - interval between queries in
the startup phase.</p>


<p style="margin-left:34%; margin-top: 1em"><b>mcast_query_interval</b>
<i>QUERY_INTERVAL</i> - interval between queries sent by the
bridge after the end of the startup phase.</p>


<p style="margin-left:34%; margin-top: 1em"><b>mcast_query_response_interval</b>
<i>QUERY_RESPONSE_INTERVAL</i> - set the Max Response
Time/Maximum Response Delay for IGMP/MLD queries sent by the
bridge.</p>


<p style="margin-left:34%; margin-top: 1em"><b>mcast_membership_interval</b>
<i>MEMBERSHIP_INTERVAL</i> - delay after which the bridge
will leave a group, if no membership reports for this group
are received.</p>


<p style="margin-left:34%; margin-top: 1em"><b>mcast_stats_enabled</b>
<i>MCAST_STATS_ENABLED</i> - enable
(<i>MCAST_STATS_ENABLED</i> &gt; 0) or disable
(<i>MCAST_STATS_ENABLED</i> == 0) multicast (IGMP/MLD) stats
accounting.</p>


<p style="margin-left:34%; margin-top: 1em"><b>mcast_igmp_version</b>
<i>IGMP_VERSION</i> - set the IGMP version.</p>


<p style="margin-left:34%; margin-top: 1em"><b>mcast_mld_version</b>
<i>MLD_VERSION</i> - set the MLD version.</p>


<p style="margin-left:34%; margin-top: 1em"><b>nf_call_iptables</b>
<i>NF_CALL_IPTABLES</i> - enable (<i>NF_CALL_IPTABLES</i>
&gt; 0) or disable (<i>NF_CALL_IPTABLES</i> == 0) iptables
hooks on the bridge.</p>


<p style="margin-left:34%; margin-top: 1em"><b>nf_call_ip6tables</b>
<i>NF_CALL_IP6TABLES</i> - enable (<i>NF_CALL_IP6TABLES</i>
&gt; 0) or disable (<i>NF_CALL_IP6TABLES</i> == 0) ip6tables
hooks on the bridge.</p>


<p style="margin-left:34%; margin-top: 1em"><b>nf_call_arptables</b>
<i>NF_CALL_ARPTABLES</i> - enable (<i>NF_CALL_ARPTABLES</i>
&gt; 0) or disable (<i>NF_CALL_ARPTABLES</i> == 0) arptables
hooks on the bridge.</p>

<p style="margin-left:11%;">MACsec Type Support</p>

<p style="margin-left:22%;">For a link of type
<i>MACsec</i> the following additional arguments are
supported:</p>

<p style="margin-left:22%; margin-top: 1em"><b>ip link add
link</b> <i>DEVICE</i> <b>name</b> <i>NAME</i> <b>type
macsec</b> [ [ <b>address</b> <i>&lt;lladdr&gt;</i> ]
<b>port</b> <i>PORT</i> | <b>sci</b> <i>SCI</i> ] [
<b>cipher</b> <i>CIPHER_SUITE</i> ] [ <b>icvlen</b> {
<i>8..16</i> } ] [ <b>encrypt</b> { <b>on</b> | <b>off</b> }
] [ <b>send_sci</b> { <b>on</b> | <b>off</b> } ] [
<b>end_station</b> { <b>on</b> | <b>off</b> } ] [ <b>scb</b>
{ <b>on</b> | <b>off</b> } ] [ <b>protect</b> { <b>on</b> |
<b>off</b> } ] [ <b>replay</b> { <b>on</b> | <b>off</b> }
<b>window</b> { <i>0..2^32-1</i> } ] [ <b>validate</b> {
<b>strict</b> | <b>check</b> | <b>disabled</b> } ] [
<b>encodingsa</b> { <i>0..3</i> } ]</p>

<p style="margin-left:34%; margin-top: 1em"><b>address</b>
<i>&lt;lladdr&gt;</i> - sets the system identifier component
of secure channel for this MACsec device.</p>

<p style="margin-left:34%; margin-top: 1em"><b>port</b>
<i>PORT</i> - sets the port number component of secure
channel for this MACsec device, in a range from 1 to 65535
inclusive. Numbers with a leading &quot; 0 &quot; or &quot;
0x &quot; are interpreted as octal and hexadecimal,
respectively.</p>

<p style="margin-left:34%; margin-top: 1em"><b>sci</b>
<i>SCI</i> - sets the secure channel identifier for this
MACsec device. <i>SCI</i> is a 64bit wide number in
hexadecimal format.</p>

<p style="margin-left:34%; margin-top: 1em"><b>cipher</b>
<i>CIPHER_SUITE</i> - defines the cipher suite to use.</p>

<p style="margin-left:34%; margin-top: 1em"><b>icvlen</b>
<i>LENGTH</i> - sets the length of the Integrity Check Value
(ICV).</p>

<p style="margin-left:34%; margin-top: 1em"><b>encrypt
on</b> or <b>encrypt off</b> - switches between
authenticated encryption, or authenticity mode only.</p>

<p style="margin-left:34%; margin-top: 1em"><b>send_sci
on</b> or <b>send_sci off</b> - specifies whether the SCI is
included in every packet, or only when it is necessary.</p>

<p style="margin-left:34%; margin-top: 1em"><b>end_station
on</b> or <b>end_station off</b> - sets the End Station
bit.</p>

<p style="margin-left:34%; margin-top: 1em"><b>scb on</b>
or <b>scb off</b> - sets the Single Copy Broadcast bit.</p>

<p style="margin-left:34%; margin-top: 1em"><b>protect
on</b> or <b>protect off</b> - enables MACsec protection on
the device.</p>

<p style="margin-left:34%; margin-top: 1em"><b>replay
on</b> or <b>replay off</b> - enables replay protection on
the device.</p>

<p style="margin-left:46%; margin-top: 1em"><b>window</b>
<i>SIZE</i> - sets the size of the replay window.</p>

<p style="margin-left:34%; margin-top: 1em"><b>validate
strict</b> or <b>validate check</b> or <b>validate
disabled</b> - sets the validation mode on the device.</p>


<p style="margin-left:34%; margin-top: 1em"><b>encodingsa</b>
<i>AN</i> - sets the active secure association for
transmission.</p>

<p style="margin-left:11%;">VRF Type Support</p>

<p style="margin-left:22%;">For a link of type <i>VRF</i>
the following additional arguments are supported:</p>

<p style="margin-left:22%; margin-top: 1em"><b>ip link
add</b> <i>DEVICE</i> <b>type vrf table</b> <i>TABLE</i></p>

<p style="margin-left:34%; margin-top: 1em"><b>table</b>
table id associated with VRF device</p>

<p style="margin-left:11%;">RMNET Type Support</p>

<p style="margin-left:22%;">For a link of type <i>RMNET</i>
the following additional arguments are supported:</p>

<p style="margin-left:22%; margin-top: 1em"><b>ip link add
link</b> <i>DEVICE</i> <b>name</b> <i>NAME</i> <b>type rmnet
mux_id</b> <i>MUXID</i></p>

<p style="margin-left:34%; margin-top: 1em"><b>mux_id</b>
<i>MUXID</i> - specifies the mux identifier for the rmnet
device, possible values 1-254.</p>

<p style="margin-left:11%;">XFRM Type Support</p>

<p style="margin-left:22%;">For a link of type <i>XFRM</i>
the following additional arguments are supported:</p>

<p style="margin-left:22%; margin-top: 1em"><b>ip link
add</b> <i>DEVICE</i> <b>type xfrm dev</b> <i>PHYS_DEV</i>
<b>[ if_id</b> <i>IF_ID</i> <b>]</b></p>

<p style="margin-left:34%; margin-top: 1em"><b>dev</b>
<i>PHYS_DEV</i> - specifies the underlying physical
interface from which transform traffic is sent and
received.</p>

<p style="margin-left:34%; margin-top: 1em"><b>if_id</b>
<i>IF-ID</i> - specifies the hexadecimal lookup key used to
send traffic to and from specific xfrm policies. Policies
must be configured with the same key. If not set, the key
defaults to 0 and will match any policies which similarly do
not have a lookup key configuration.</p>

<p style="margin-left:11%; margin-top: 1em"><b>ip link
delete - delete virtual link <br>
dev</b> <i>DEVICE</i></p>

<p style="margin-left:22%;">specifies the virtual device to
act operate on.</p>

<p style="margin-left:11%;"><b>group</b> <i>GROUP</i></p>

<p style="margin-left:22%;">specifies the group of virtual
links to delete. Group 0 is not allowed to be deleted since
it is the default group.</p>

<p style="margin-left:11%;"><b>type</b> <i>TYPE</i></p>

<p style="margin-left:22%;">specifies the type of the
device.</p>

<p style="margin-left:11%; margin-top: 1em"><b>ip link set
- change device attributes <br>
Warning:</b> If multiple parameter changes are requested,
<b>ip</b> aborts immediately after any of the changes have
failed. This is the only case when <b>ip</b> can move the
system to an unpredictable state. The solution is to avoid
changing several parameters with one <b>ip link set</b>
call. The modifier <b>change</b> is equivalent to
<b>set</b>. <b><br>
dev</b> <i>DEVICE</i></p>

<p style="margin-left:22%;"><i>DEVICE</i> specifies network
device to operate on. When configuring SR-IOV Virtual
Function (VF) devices, this keyword should specify the
associated Physical Function (PF) device.</p>

<p style="margin-left:11%;"><b>group</b> <i>GROUP</i></p>

<p style="margin-left:22%;"><i>GROUP</i> has a dual role:
If both group and dev are present, then move the device to
the specified group. If only a group is specified, then the
command operates on all devices in that group.</p>

<p style="margin-left:11%;"><b>up</b> and <b>down</b></p>

<p style="margin-left:22%;">change the state of the device
to <b>UP</b> or <b>DOWN</b>.</p>

<p style="margin-left:11%;"><b>arp on</b> or <b>arp
off</b></p>

<p style="margin-left:22%;">change the <b>NOARP</b> flag on
the device.</p>

<p style="margin-left:11%;"><b>multicast on</b> or
<b>multicast off</b></p>

<p style="margin-left:22%;">change the <b>MULTICAST</b>
flag on the device.</p>

<p style="margin-left:11%;"><b>protodown on</b> or
<b>protodown off</b></p>

<p style="margin-left:22%;">change the <b>PROTODOWN</b>
state on the device. Indicates that a protocol error has
been detected on the port. Switch drivers can react to this
error by doing a phys down on the switch port.</p>

<p style="margin-left:11%;"><b>dynamic on</b> or <b>dynamic
off</b></p>

<p style="margin-left:22%;">change the <b>DYNAMIC</b> flag
on the device. Indicates that address can change when
interface goes down (currently <b>NOT</b> used by the
Linux).</p>

<p style="margin-left:11%;"><b>name</b> <i>NAME</i></p>

<p style="margin-left:22%;">change the name of the device.
This operation is not recommended if the device is running
or has some addresses already configured.</p>

<p style="margin-left:11%;"><b>txqueuelen</b> <i>NUMBER</i>
<b><br>
txqlen</b> <i>NUMBER</i></p>

<p style="margin-left:22%;">change the transmit queue
length of the device.</p>

<p style="margin-left:11%;"><b>mtu</b> <i>NUMBER</i></p>

<p style="margin-left:22%;">change the <i>MTU</i> of the
device.</p>

<p style="margin-left:11%;"><b>address</b>
<i>LLADDRESS</i></p>

<p style="margin-left:22%;">change the station address of
the interface.</p>

<p style="margin-left:11%;"><b>broadcast</b>
<i>LLADDRESS</i> <b><br>
brd</b> <i>LLADDRESS</i> <b><br>
peer</b> <i>LLADDRESS</i></p>

<p style="margin-left:22%;">change the link layer broadcast
address or the peer address when the interface is
<i>POINTOPOINT</i>.</p>

<p style="margin-left:11%;"><b>netns</b> <i>NETNSNAME</i> |
<i>PID</i></p>

<p style="margin-left:22%;">move the device to the network
namespace associated with name <i>NETNSNAME</i> or process
<i>PID</i>.</p>

<p style="margin-left:22%; margin-top: 1em">Some devices
are not allowed to change network namespace: loopback,
bridge, wireless. These are network namespace local devices.
In such case <b>ip</b> tool will return &quot;Invalid
argument&quot; error. It is possible to find out if device
is local to a single network namespace by checking
<b>netns-local</b> flag in the output of the
<b>ethtool</b>:</p>

<p style="margin-left:34%; margin-top: 1em"><b>ethtool
-k</b> <i>DEVICE</i></p>

<p style="margin-left:22%; margin-top: 1em">To change
network namespace for wireless devices the <b>iw</b> tool
can be used. But it allows to change network namespace only
for physical devices and by process <i>PID</i>.</p>

<p style="margin-left:11%;"><b>alias</b> <i>NAME</i></p>

<p style="margin-left:22%;">give the device a symbolic name
for easy reference.</p>

<p style="margin-left:11%;"><b>group</b> <i>GROUP</i></p>

<p style="margin-left:22%;">specify the group the device
belongs to. The available groups are listed in file
<b>/etc/iproute2/group</b>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>vf</b> <i>NUM</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>specify a Virtual Function device to be configured. The
associated PF device must be specified using the <b>dev</b>
parameter.</p> </td></tr>
</table>

<p style="margin-left:34%; margin-top: 1em"><b>mac</b>
<i>LLADDRESS</i> - change the station address for the
specified VF. The <b>vf</b> parameter must be specified.</p>

<p style="margin-left:34%; margin-top: 1em"><b>vlan</b>
<i>VLANID</i> - change the assigned VLAN for the specified
VF. When specified, all traffic sent from the VF will be
tagged with the specified VLAN ID. Incoming traffic will be
filtered for the specified VLAN ID, and will have all VLAN
tags stripped before being passed to the VF. Setting this
parameter to 0 disables VLAN tagging and filtering. The
<b>vf</b> parameter must be specified.</p>

<p style="margin-left:34%; margin-top: 1em"><b>qos</b>
<i>VLAN-QOS</i> - assign VLAN QOS (priority) bits for the
VLAN tag. When specified, all VLAN tags transmitted by the
VF will include the specified priority bits in the VLAN tag.
If not specified, the value is assumed to be 0. Both the
<b>vf</b> and <b>vlan</b> parameters must be specified.
Setting both <b>vlan</b> and <b>qos</b> as 0 disables VLAN
tagging and filtering for the VF.</p>

<p style="margin-left:34%; margin-top: 1em"><b>proto</b>
<i>VLAN-PROTO</i> - assign VLAN PROTOCOL for the VLAN tag,
either 802.1Q or 802.1ad. Setting to 802.1ad, all traffic
sent from the VF will be tagged with VLAN S-Tag. Incoming
traffic will have VLAN S-Tags stripped before being passed
to the VF. Setting to 802.1ad also enables an option to
concatenate another VLAN tag, so both S-TAG and C-TAG will
be inserted/stripped for outgoing/incoming traffic,
respectively. If not specified, the value is assumed to be
802.1Q. Both the <b>vf</b> and <b>vlan</b> parameters must
be specified.</p>

<p style="margin-left:34%; margin-top: 1em"><b>rate</b>
<i>TXRATE</i> -- change the allowed transmit bandwidth, in
Mbps, for the specified VF. Setting this parameter to 0
disables rate limiting. <b>vf</b> parameter must be
specified. Please use new API <b>max_tx_rate</b> option
instead.</p>


<p style="margin-left:34%; margin-top: 1em"><b>max_tx_rate</b>
<i>TXRATE</i> - change the allowed maximum transmit
bandwidth, in Mbps, for the specified VF. Setting this
parameter to 0 disables rate limiting. <b>vf</b> parameter
must be specified.</p>


<p style="margin-left:34%; margin-top: 1em"><b>min_tx_rate</b>
<i>TXRATE</i> - change the allowed minimum transmit
bandwidth, in Mbps, for the specified VF. Minimum TXRATE
should be always &lt;= Maximum TXRATE. Setting this
parameter to 0 disables rate limiting. <b>vf</b> parameter
must be specified.</p>


<p style="margin-left:34%; margin-top: 1em"><b>spoofchk</b>
<i>on|off</i> - turn packet spoof checking on or off for the
specified VF.</p>


<p style="margin-left:34%; margin-top: 1em"><b>query_rss</b>
<i>on|off</i> - toggle the ability of querying the RSS
configuration of a specific <br>
VF. VF RSS information like RSS hash key may be considered
sensitive <br>
on some devices where this information is shared between VF
and PF <br>
and thus its querying may be prohibited by default.</p>

<p style="margin-left:34%; margin-top: 1em"><b>state</b>
<i>auto|enable|disable</i> - set the virtual link state as
seen by the specified VF. Setting to auto means a reflection
of the PF link state, enable lets the VF to communicate with
other VFs on this host even if the PF link state is down,
disable causes the HW to drop any packets sent by the
VF.</p>

<p style="margin-left:34%; margin-top: 1em"><b>trust</b>
<i>on|off</i> - trust the specified VF user. This enables
that VF user can set a specific feature which may impact
security and/or performance. (e.g. VF multicast promiscuous
mode)</p>


<p style="margin-left:34%; margin-top: 1em"><b>node_guid</b>
<i>eui64</i> - configure node GUID for Infiniband VFs.</p>


<p style="margin-left:34%; margin-top: 1em"><b>port_guid</b>
<i>eui64</i> - configure port GUID for Infiniband VFs.</p>

<p style="margin-left:11%;"><b>xdp object | pinned |
off</b></p>

<p style="margin-left:22%;">set (or unset) a XDP
(&quot;eXpress Data Path&quot;) BPF program to run on every
packet at driver level. <b>ip link</b> output will indicate
a <b>xdp</b> flag for the networking device. If the driver
does not have native XDP support, the kernel will fall back
to a slower, driver-independent &quot;generic&quot; XDP
variant. The <b>ip link</b> output will in that case
indicate <b>xdpgeneric</b> instead of <b>xdp</b> only. If
the driver does have native XDP support, but the program is
loaded under <b>xdpgeneric object | pinned</b> then the
kernel will use the generic XDP variant instead of the
native one. <b>xdpdrv</b> has the opposite effect of
requestsing that the automatic fallback to the generic XDP
variant be disabled and in case driver is not XDP-capable
error should be returned. <b>xdpdrv</b> also disables
hardware offloads. <b>xdpoffload</b> in ip link output
indicates that the program has been offloaded to hardware
and can also be used to request the &quot;offload&quot;
mode, much like <b>xdpgeneric</b> it forces program to be
installed specifically in HW/FW of the apater.</p>

<p style="margin-left:22%; margin-top: 1em"><b>off</b> (or
<b>none</b> ) - Detaches any currently attached XDP/BPF
program from the given device.</p>

<p style="margin-left:22%; margin-top: 1em"><b>object</b>
<i>FILE</i> - Attaches a XDP/BPF program to the given
device. The <i>FILE</i> points to a BPF ELF file (f.e.
generated by LLVM) that contains the BPF program code, map
specifications, etc. If a XDP/BPF program is already
attached to the given device, an error will be thrown. If no
XDP/BPF program is currently attached, the device supports
XDP and the program from the BPF ELF file passes the kernel
verifier, then it will be attached to the device. If the
option <i>-force</i> is passed to <b>ip</b> then any prior
attached XDP/BPF program will be atomically overridden and
no error will be thrown in this case. If no <b>section</b>
option is passed, then the default section name
(&quot;prog&quot;) will be assumed, otherwise the provided
section name will be used. If no <b>verbose</b> option is
passed, then a verifier log will only be dumped on load
error. See also <b>EXAMPLES</b> section for usage
examples.</p>

<p style="margin-left:22%; margin-top: 1em"><b>section</b>
<i>NAME</i> - Specifies a section name that contains the BPF
program code. If no section name is specified, the default
one (&quot;prog&quot;) will be used. This option is to be
passed with the <b>object</b> option.</p>

<p style="margin-left:22%; margin-top: 1em"><b>verbose</b>
- Act in verbose mode. For example, even in case of success,
this will print the verifier log in case a program was
loaded from a BPF ELF file.</p>

<p style="margin-left:22%; margin-top: 1em"><b>pinned</b>
<i>FILE</i> - Attaches a XDP/BPF program to the given
device. The <i>FILE</i> points to an already pinned BPF
program in the BPF file system. The option <b>section</b>
doesn&rsquo;t apply here, but otherwise semantics are the
same as with the option <b>object</b> described already.</p>

<p style="margin-left:11%;"><b>master</b> <i>DEVICE</i></p>

<p style="margin-left:22%;">set master device of the device
(enslave device).</p>

<p style="margin-left:11%;"><b>nomaster</b></p>

<p style="margin-left:22%;">unset master device of the
device (release device).</p>

<p style="margin-left:11%;"><b>addrgenmode</b>
<i>eui64|none|stable_secret|random</i></p>

<p style="margin-left:22%;">set the IPv6 address generation
mode</p>

<p style="margin-left:22%; margin-top: 1em"><i>eui64</i> -
use a Modified EUI-64 format interface identifier</p>

<p style="margin-left:22%; margin-top: 1em"><i>none</i> -
disable automatic address generation</p>


<p style="margin-left:22%; margin-top: 1em"><i>stable_secret</i>
- generate the interface identifier based on a preset <br>
/proc/sys/net/ipv6/conf/{default,DEVICE}/stable_secret</p>

<p style="margin-left:22%; margin-top: 1em"><i>random</i> -
like stable_secret, but auto-generate a new random secret if
none is set</p>

<p style="margin-left:11%;"><b>link-netnsid</b></p>

<p style="margin-left:22%;">set peer netnsid for a
cross-netns interface</p>

<p style="margin-left:11%;"><b>type</b> <i>ETYPE
TYPE_ARGS</i></p>

<p style="margin-left:22%;">Change type-specific settings.
For a list of supported types and arguments refer to the
description of <b>ip link add</b> above. In addition to
that, it is possible to manipulate settings to slave
devices:</p>

<p style="margin-left:11%;">Bridge Slave Support</p>

<p style="margin-left:22%;">For a link with master
<b>bridge</b> the following additional arguments are
supported:</p>

<p style="margin-left:22%; margin-top: 1em"><b>ip link set
type bridge_slave</b> [ <b>fdb_flush</b> ] [ <b>state</b>
<i>STATE</i> ] [ <b>priority</b> <i>PRIO</i> ] [ <b>cost</b>
<i>COST</i> ] [ <b>guard</b> { <b>on</b> | <b>off</b> } ] [
<b>hairpin</b> { <b>on</b> | <b>off</b> } ] [
<b>fastleave</b> { <b>on</b> | <b>off</b> } ] [
<b>root_block</b> { <b>on</b> | <b>off</b> } ] [
<b>learning</b> { <b>on</b> | <b>off</b> } ] [ <b>flood</b>
{ <b>on</b> | <b>off</b> } ] [ <b>proxy_arp</b> { <b>on</b>
| <b>off</b> } ] [ <b>proxy_arp_wifi</b> { <b>on</b> |
<b>off</b> } ] [ <b>mcast_router</b> <i>MULTICAST_ROUTER</i>
] [ <b>mcast_fast_leave</b> { <b>on</b> | <b>off</b>} ] [
<b>mcast_flood</b> { <b>on</b> | <b>off</b> } ] [
<b>mcast_to_unicast</b> { <b>on</b> | <b>off</b> } ] [
<b>group_fwd_mask</b> MASK ] [ <b>neigh_suppress</b> {
<b>on</b> | <b>off</b> } ] [ <b>vlan_tunnel</b> { <b>on</b>
| <b>off</b> } ] [ <b>isolated</b> { <b>on</b> | <b>off</b>
} ] [ <b>backup_port</b> DEVICE ] [ <b>nobackup_port</b>
]</p>


<p style="margin-left:34%; margin-top: 1em"><b>fdb_flush</b>
- flush bridge slave&rsquo;s fdb dynamic entries.</p>

<p style="margin-left:34%; margin-top: 1em"><b>state</b>
<i>STATE</i> - Set port state. <i>STATE</i> is a number
representing the following states: <b>0</b> (disabled),
<b>1</b> (listening), <b>2</b> (learning), <b>3</b>
(forwarding), <b>4</b> (blocking).</p>


<p style="margin-left:34%; margin-top: 1em"><b>priority</b>
<i>PRIO</i> - set port priority (allowed values are between
0 and 63, inclusively).</p>

<p style="margin-left:34%; margin-top: 1em"><b>cost</b>
<i>COST</i> - set port cost (allowed values are between 1
and 65535, inclusively).</p>

<p style="margin-left:34%; margin-top: 1em"><b>guard</b> {
<b>on</b> | <b>off</b> } - block incoming BPDU packets on
this port.</p>

<p style="margin-left:34%; margin-top: 1em"><b>hairpin</b>
{ <b>on</b> | <b>off</b> } - enable hairpin mode on this
port. This will allow incoming packets on this port to be
reflected back.</p>


<p style="margin-left:34%; margin-top: 1em"><b>fastleave</b>
{ <b>on</b> | <b>off</b> } - enable multicast fast leave on
this port.</p>


<p style="margin-left:34%; margin-top: 1em"><b>root_block</b>
{ <b>on</b> | <b>off</b> } - block this port from becoming
the bridge&rsquo;s root port.</p>


<p style="margin-left:34%; margin-top: 1em"><b>learning</b>
{ <b>on</b> | <b>off</b> } - allow MAC address learning on
this port.</p>

<p style="margin-left:34%; margin-top: 1em"><b>flood</b> {
<b>on</b> | <b>off</b> } - open the flood gates on this
port, i.e. forward all unicast frames to this port also.
Requires <b>proxy_arp</b> and <b>proxy_arp_wifi</b> to be
turned off.</p>


<p style="margin-left:34%; margin-top: 1em"><b>proxy_arp</b>
{ <b>on</b> | <b>off</b> } - enable proxy ARP on this
port.</p>


<p style="margin-left:34%; margin-top: 1em"><b>proxy_arp_wifi</b>
{ <b>on</b> | <b>off</b> } - enable proxy ARP on this port
which meets extended requirements by IEEE 802.11 and Hotspot
2.0 specifications.</p>


<p style="margin-left:34%; margin-top: 1em"><b>mcast_router</b>
<i>MULTICAST_ROUTER</i> - configure this port for having
multicast routers attached. A port with a multicast router
will receive all multicast traffic. <i>MULTICAST_ROUTER</i>
may be either <b>0</b> to disable multicast routers on this
port, <b>1</b> to let the system detect the presence of of
routers (this is the default), <b>2</b> to permanently
enable multicast traffic forwarding on this port or <b>3</b>
to enable multicast routers temporarily on this port, not
depending on incoming queries.</p>


<p style="margin-left:34%; margin-top: 1em"><b>mcast_fast_leave</b>
{ <b>on</b> | <b>off</b> } - this is a synonym to the
<b>fastleave</b> option above.</p>


<p style="margin-left:34%; margin-top: 1em"><b>mcast_flood</b>
{ <b>on</b> | <b>off</b> } - controls whether a given port
will flood multicast traffic for which <br>
there is no MDB entry.</p>


<p style="margin-left:34%; margin-top: 1em"><b>mcast_to_unicast</b>
{ <b>on</b> | <b>off</b> } - controls whether a given port
will replicate packets using unicast <br>
instead of multicast. By default this flag is off.</p>


<p style="margin-left:34%; margin-top: 1em"><b>group_fwd_mask</b>
<i>MASK</i> - set the group forward mask. This is the
bitmask that is applied to decide whether to forward
incoming frames destined to link-local addresses, ie
addresses of the form 01:80:C2:00:00:0X (defaults to 0, ie
the bridge does not forward any link-local frames coming on
this port).</p>


<p style="margin-left:34%; margin-top: 1em"><b>neigh_suppress</b>
{ <b>on</b> | <b>off</b> } - controls whether neigh
discovery (arp and nd) proxy and suppression is enabled on
the port. By default this flag is off.</p>


<p style="margin-left:34%; margin-top: 1em"><b>vlan_tunnel</b>
{ <b>on</b> | <b>off</b> } - controls whether vlan to tunnel
mapping is enabled on the port. By default this flag is
off.</p>


<p style="margin-left:34%; margin-top: 1em"><b>backup_port</b>
<i>DEVICE</i> - if the port loses carrier all traffic will
be redirected to the configured backup port</p>


<p style="margin-left:34%; margin-top: 1em"><b>nobackup_port</b>
- removes the currently configured backup port</p>

<p style="margin-left:11%;">Bonding Slave Support</p>

<p style="margin-left:22%;">For a link with master
<b>bond</b> the following additional arguments are
supported:</p>

<p style="margin-left:22%; margin-top: 1em"><b>ip link set
type bond_slave</b> [ <b>queue_id</b> <i>ID</i> ]</p>


<p style="margin-left:34%; margin-top: 1em"><b>queue_id</b>
<i>ID</i> - set the slave&rsquo;s queue ID (a 16bit unsigned
value).</p>

<p style="margin-left:11%;">MACVLAN and MACVTAP Support</p>

<p style="margin-left:22%;">Modify list of allowed macaddr
for link in source mode.</p>

<p style="margin-left:22%; margin-top: 1em"><b>ip link set
type { macvlan | macvap }</b> [ <b>macaddr</b> <i>COMMAND
MACADDR</i> <b>...</b> ]</p>

<p style="margin-left:22%; margin-top: 1em">Commands:</p>

<p style="margin-left:34%;"><b>add</b> - add MACADDR to
allowed list</p>

<p style="margin-left:34%; margin-top: 1em"><b>set</b> -
replace allowed list</p>

<p style="margin-left:34%; margin-top: 1em"><b>del</b> -
remove MACADDR from allowed list</p>

<p style="margin-left:34%; margin-top: 1em"><b>flush</b> -
flush whole allowed list</p>

<p style="margin-left:11%; margin-top: 1em"><b>ip link show
- display device attributes <br>
dev</b> <i>NAME</i> <b>(default)</b></p>

<p style="margin-left:22%;"><i>NAME</i> specifies the
network device to show.</p>

<p style="margin-left:11%;"><b>group</b> <i>GROUP</i></p>

<p style="margin-left:22%;"><i>GROUP</i> specifies what
group of devices to show.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>up</b></p></td>
<td width="8%"></td>
<td width="49%">


<p>only display running interfaces.</p></td>
<td width="29%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>master</b> <i>DEVICE</i></p>

<p style="margin-left:22%;"><i>DEVICE</i> specifies the
master device which enslaves devices to show.</p>

<p style="margin-left:11%;"><b>vrf</b> <i>NAME</i></p>

<p style="margin-left:22%;"><i>NAME</i> speficies the VRF
which enslaves devices to show.</p>

<p style="margin-left:11%;"><b>type</b> <i>TYPE</i></p>

<p style="margin-left:22%;"><i>TYPE</i> specifies the type
of devices to show.</p>

<p style="margin-left:22%; margin-top: 1em">Note that the
type name is not checked against the list of supported types
- instead it is sent as-is to the kernel. Later it is used
to filter the returned interface list by comparing it with
the relevant attribute in case the kernel didn&rsquo;t
filter already. Therefore any string is accepted, but may
lead to empty output.</p>

<p style="margin-left:11%; margin-top: 1em"><b>ip link
xstats - display extended statistics <br>
type</b> <i>TYPE</i></p>

<p style="margin-left:22%;"><i>TYPE</i> specifies the type
of devices to display extended statistics for.</p>

<p style="margin-left:11%; margin-top: 1em"><b>ip link
afstats - display address-family specific statistics <br>
dev</b> <i>DEVICE</i></p>

<p style="margin-left:22%;"><i>DEVICE</i> specifies the
device to display address-family statistics for.</p>

<p style="margin-left:11%; margin-top: 1em"><b>ip link help
- display help</b> <i><br>
TYPE</i> specifies which help of link type to dislpay.</p>

<p style="margin-left:11%; margin-top: 1em"><i>GROUP</i>
<br>
may be a number or a string from the file
<b>/etc/iproute2/group</b> which can be manually filled.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">ip link
show</p>

<p style="margin-left:17%;">Shows the state of all network
interfaces on the system.</p>

<p style="margin-left:11%; margin-top: 1em">ip link show
type bridge</p>

<p style="margin-left:17%;">Shows the bridge devices.</p>

<p style="margin-left:11%; margin-top: 1em">ip link show
type vlan</p>

<p style="margin-left:17%;">Shows the vlan devices.</p>

<p style="margin-left:11%; margin-top: 1em">ip link show
master br0</p>

<p style="margin-left:17%;">Shows devices enslaved by
br0</p>

<p style="margin-left:11%; margin-top: 1em">ip link set dev
ppp0 mtu 1400</p>

<p style="margin-left:17%;">Change the MTU the ppp0
device.</p>

<p style="margin-left:11%; margin-top: 1em">ip link add
link eth0 name eth0.10 type vlan id 10</p>

<p style="margin-left:17%;">Creates a new vlan device
eth0.10 on device eth0.</p>

<p style="margin-left:11%; margin-top: 1em">ip link delete
dev eth0.10</p>

<p style="margin-left:17%;">Removes vlan device.</p>

<p style="margin-left:11%; margin-top: 1em">ip link help
gre</p>

<p style="margin-left:17%;">Display help for the gre link
type.</p>

<p style="margin-left:11%; margin-top: 1em">ip link add
name tun1 type ipip remote 192.168.1.1 local 192.168.1.2 ttl
225 encap gue encap-sport auto encap-dport 5555 encap-csum
encap-remcsum</p>

<p style="margin-left:17%;">Creates an IPIP that is
encapsulated with Generic UDP Encapsulation, and the outer
UDP checksum and remote checksum offload are enabled.</p>

<p style="margin-left:11%; margin-top: 1em">ip link set dev
eth0 xdp obj prog.o</p>

<p style="margin-left:17%;">Attaches a XDP/BPF program to
device eth0, where the program is located in prog.o, section
&quot;prog&quot; (default section). In case a XDP/BPF
program is already attached, throw an error.</p>

<p style="margin-left:11%; margin-top: 1em">ip -force link
set dev eth0 xdp obj prog.o sec foo</p>

<p style="margin-left:17%;">Attaches a XDP/BPF program to
device eth0, where the program is located in prog.o, section
&quot;foo&quot;. In case a XDP/BPF program is already
attached, it will be overridden by the new one.</p>

<p style="margin-left:11%; margin-top: 1em">ip -force link
set dev eth0 xdp pinned /sys/fs/bpf/foo</p>

<p style="margin-left:17%;">Attaches a XDP/BPF program to
device eth0, where the program was previously pinned as an
object node into BPF file system under name foo.</p>

<p style="margin-left:11%; margin-top: 1em">ip link set dev
eth0 xdp off</p>

<p style="margin-left:17%;">If a XDP/BPF program is
attached on device eth0, detach it and effectively turn off
XDP for device eth0.</p>

<p style="margin-left:11%; margin-top: 1em">ip link add
link wpan0 lowpan0 type lowpan</p>

<p style="margin-left:17%;">Creates a 6LoWPAN interface
named lowpan0 on the underlying IEEE 802.15.4 device
wpan0.</p>

<p style="margin-left:11%; margin-top: 1em">ip link add dev
ip6erspan11 type ip6erspan seq key 102 local fc00:100::2
remote fc00:100::1 erspan_ver 2 erspan_dir ingress
erspan_hwid 17</p>

<p style="margin-left:17%;">Creates a IP6ERSPAN version 2
interface named ip6erspan00.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>ip</b>(8),
<b>ip-netns</b>(8), <b>ethtool</b>(8),
<b>iptables</b>(8)</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Original
Manpage by Michail Litvak &lt;mci@owl.openwall.com&gt;</p>
<hr>
</body>
</html>
