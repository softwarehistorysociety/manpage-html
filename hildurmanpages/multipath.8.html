<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Thu Sep  8 02:55:59 2022 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>MULTIPATH</title>

</head>
<body>

<h1 align="center">MULTIPATH</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#ARGUMENTS">ARGUMENTS</a><br>
<a href="#OPERATION MODES">OPERATION MODES</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AUTHORS">AUTHORS</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">multipath -
Device mapper target autoconfig.</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>multipath</b>
[<b>-v&nbsp;</b><i>level</i>]
[<b>-B</b>|<b>-d</b>|<b>-i</b>|<b>-q</b>|<b>-r</b>]
[<b>-b&nbsp;</b><i>file</i>] [<b>-p&nbsp;</b><i>policy</i>]
[<b>device</b>]</p>


<p style="margin-left:11%; margin-top: 1em"><b>multipath</b>
[<b>-v&nbsp;</b><i>level</i>]
[<b>-R&nbsp;</b><i>retries</i>] <b>-f device</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>multipath</b>
[<b>-v&nbsp;</b><i>level</i>]
[<b>-R&nbsp;</b><i>retries</i>] <b>-F</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>multipath</b>
[<b>-v&nbsp;</b><i>level</i>] [<b>-l</b>|<b>-ll</b>]
[<b>device</b>]</p>


<p style="margin-left:11%; margin-top: 1em"><b>multipath</b>
[<b>-v&nbsp;</b><i>level</i>] [<b>-a</b>|<b>-w</b>]
<b>device</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>multipath</b>
[<b>-v&nbsp;</b><i>level</i>] <b>-W</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>multipath</b>
[<b>-v&nbsp;</b><i>level</i>] [<b>-i</b>]
[<b>-c</b>|<b>-C</b>] <b>device</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>multipath</b>
[<b>-v&nbsp;</b><i>level</i>] [<b>-i</b>]
[<b>-u</b>|<b>-U</b>]</p>


<p style="margin-left:11%; margin-top: 1em"><b>multipath</b>
[<b>-h</b>|<b>-t</b>|<b>-T</b>]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>multipath</b>
is used to detect and coalesce multiple paths to devices,
for fail-over or performance reasons.</p>

<h2>ARGUMENTS
<a name="ARGUMENTS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<b>device</b> argument restricts <b>multipath</b>&rsquo;s
operation to devices matching the given expression. The
argument may refer either to a multipath map or to its
components (&quot;paths&quot;). The expression may be in one
of the following formats:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="17%">


<p><b>device node</b></p></td>
<td width="4%"></td>
<td width="68%">


<p>file name of a device node, e.g. <i>/dev/dm-10</i> or
<i>/dev/sda</i>. If the node refers to an existing device
mapper device representing a multipath map, this selects the
map or its paths, depending on the operation mode.
Otherwise, it selects a path device.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="17%">


<p><b>device ID</b></p></td>
<td width="4%"></td>
<td width="68%">


<p>kernel device number specified by major:minor numbers,
e.g. <i>65:16</i>. This format can only be used for path
devices.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="17%">


<p><b>WWID</b></p></td>
<td width="4%"></td>
<td width="68%">


<p>a World Wide Identifier matching a multipath map or its
paths. To list WWIDs of devices present in the system, use
e.g. the command &quot;<i>multipath -d -v3
2&gt;/dev/null</i>&quot;.</p> </td></tr>
</table>

<h2>OPERATION MODES
<a name="OPERATION MODES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The default
operation mode is to detect and set up multipath maps from
the devices found in the system. Other operation modes are
chosen by using one of the following command line
switches:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p style="margin-top: 1em"><b>-f</b></p></td>
<td width="7%"></td>
<td width="78%">


<p style="margin-top: 1em">Flush (remove) a multipath
device map specified as parameter, if unused.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>-F</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>Flush (remove) all unused multipath device maps.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>-l</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>Show (&quot;list&quot;) the current multipath topology
from information fetched in sysfs and the device mapper.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>-ll</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>Show (&quot;list&quot;) the current multipath topology
from all available information (sysfs, the device mapper,
path checkers ...).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>-a</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>Add the WWID for the specified device to the WWIDs
file.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>-w</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>Remove the WWID for the specified device from the WWIDs
file.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>-W</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>Reset the WWIDs file to only include the current
multipath devices.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>-c</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>Check if a block device should be a path in a multipath
device.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>-C</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>Check if a multipath device has usable paths. This can
be used to test whether or not I/O on this device is likely
to succeed. The command itself doesn&rsquo;t attempt to do
I/O on the device.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>-u</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>Check if the device specified in the program environment
should be a path in a multipath device.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>-U</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>Check if the device specified in the program environment
is a multipath device with usable paths. See <b>-C.</b></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>-h</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>Print usage text.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>-t</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>Display the currently used multipathd configuration.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>-T</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>Display the currently used multipathd configuration,
limiting the output to those devices actually present in the
system. This can be used a template for creating
<i>multipath.conf</i>.</p> </td></tr>
</table>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>-v</b>
<i>level</i></p>

<p style="margin-left:22%;">Verbosity of information
printed to stdout in default and &quot;list&quot; operation
modes. The default level is <i>-v 2</i>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="29%"></td>
<td width="2%">


<p><i>0</i></p></td>
<td width="17%"></td>
<td width="52%">


<p>Nothing is printed.</p></td></tr>
<tr valign="top" align="left">
<td width="29%"></td>
<td width="2%">


<p><i>1</i></p></td>
<td width="17%"></td>
<td width="52%">


<p>In default mode, Names/WWIDs of created or modified
multipath maps are printed. In list mode, WWIDs of all
multipath maps are printed.</p></td></tr>
<tr valign="top" align="left">
<td width="29%"></td>
<td width="2%">


<p><i>2</i></p></td>
<td width="17%"></td>
<td width="52%">


<p>In default mode, Topology of created or modified
multipath maps is printed. In list mode, topology of all
multipath maps is printed.</p></td></tr>
<tr valign="top" align="left">
<td width="29%"></td>
<td width="2%">


<p><i>3</i></p></td>
<td width="17%"></td>
<td width="52%">


<p>All detected paths and the topology of all multipath
maps are printed.</p></td></tr>
</table>

<p style="margin-left:29%; margin-top: 1em">The verbosity
level also controls the level of log and debug messages
printed to <i>stderr</i>. The default level corresponds to
<i>LOG_NOTICE</i> (important messages that shouldn&rsquo;t
be missed in normal operation).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>-d</b></p></td>
<td width="8%"></td>
<td width="78%">


<p style="margin-top: 1em">Dry run, do not create or update
devmaps.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-i</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Ignore WWIDs file when processing devices. If
<i>find_multipaths strict</i> or <i>find_multipaths no</i>
is set in <i>multipath.conf</i>, multipath only considers
devices that are listed in the WWIDs file. This option
overrides that behavior. For other values of
<i>find_multipaths</i>, this option has no effect. See the
description of <i>find_multipaths</i> in
<b>multipath.conf</b>(5). This option should only be used in
rare circumstances.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-B</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Treat the bindings file as read only.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>-b</b> <i>file</i></p>

<p style="margin-left:22%;">Set <i>user_friendly_names</i>
bindings file location. The default is
<i>/etc/multipath/bindings</i>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-q</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Don&rsquo;t unset the device mapper feature
<i>queue_if_no_path</i> for multipath maps. Normally,
<b>multipath</b> would do so if <b>multipathd</b> is not
running, because only a running multipath daemon guarantees
that unusable paths are reinstated when they become usable
again.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>-p</b> <i>policy</i></p>

<p style="margin-left:22%;">Force new maps to use the
specified policy, overriding the configuration in
<b>multipath.conf(5)</b>. The possible values for
<i>policy</i> are the same as the values for
<i>path_grouping_policy</i> in <b>multipath.conf(5)</b>.
Existing maps are not modified.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-r</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Force a reload of all existing multipath maps. This
command is delegated to the multipathd daemon if it&rsquo;s
running. In this case, other command line switches of the
<i>multipath</i> command have no effect.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>-R</b> <i>retries</i></p>

<p style="margin-left:22%;">Number of times to retry
flushing multipath devices that are in use. The default is
<i>0</i>.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>multipathd</b>(8),
<b>multipath.conf</b>(5), <b>kpartx</b>(8), <b>udev</b>(8),
<b>dmsetup</b>(8), <b>hotplug</b>(8).</p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i>multipath-tools</i>
was developed by Christophe Varoqui
&lt;christophe.varoqui@opensvc.com&gt; and others.</p>
<hr>
</body>
</html>
