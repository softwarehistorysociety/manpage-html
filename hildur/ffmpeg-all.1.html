<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Thu Sep  8 02:41:31 2022 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>FFMPEG-ALL</title>

</head>
<body>

<h1 align="center">FFMPEG-ALL</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#DETAILED DESCRIPTION">DETAILED DESCRIPTION</a><br>
<a href="#STREAM SELECTION">STREAM SELECTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#SYNTAX">SYNTAX</a><br>
<a href="#EXPRESSION EVALUATION">EXPRESSION EVALUATION</a><br>
<a href="#CODEC OPTIONS">CODEC OPTIONS</a><br>
<a href="#DECODERS">DECODERS</a><br>
<a href="#VIDEO DECODERS">VIDEO DECODERS</a><br>
<a href="#AUDIO DECODERS">AUDIO DECODERS</a><br>
<a href="#SUBTITLES DECODERS">SUBTITLES DECODERS</a><br>
<a href="#ENCODERS">ENCODERS</a><br>
<a href="#AUDIO ENCODERS">AUDIO ENCODERS</a><br>
<a href="#VIDEO ENCODERS">VIDEO ENCODERS</a><br>
<a href="#SUBTITLES ENCODERS">SUBTITLES ENCODERS</a><br>
<a href="#BITSTREAM FILTERS">BITSTREAM FILTERS</a><br>
<a href="#FORMAT OPTIONS">FORMAT OPTIONS</a><br>
<a href="#DEMUXERS">DEMUXERS</a><br>
<a href="#MUXERS">MUXERS</a><br>
<a href="#METADATA">METADATA</a><br>
<a href="#PROTOCOL OPTIONS">PROTOCOL OPTIONS</a><br>
<a href="#PROTOCOLS">PROTOCOLS</a><br>
<a href="#DEVICE OPTIONS">DEVICE OPTIONS</a><br>
<a href="#INPUT DEVICES">INPUT DEVICES</a><br>
<a href="#OUTPUT DEVICES">OUTPUT DEVICES</a><br>
<a href="#RESAMPLER OPTIONS">RESAMPLER OPTIONS</a><br>
<a href="#SCALER OPTIONS">SCALER OPTIONS</a><br>
<a href="#FILTERING INTRODUCTION">FILTERING INTRODUCTION</a><br>
<a href="#GRAPH">GRAPH</a><br>
<a href="#FILTERGRAPH DESCRIPTION">FILTERGRAPH DESCRIPTION</a><br>
<a href="#TIMELINE EDITING">TIMELINE EDITING</a><br>
<a href="#OPTIONS FOR FILTERS WITH SEVERAL INPUTS">OPTIONS FOR FILTERS WITH SEVERAL INPUTS</a><br>
<a href="#AUDIO FILTERS">AUDIO FILTERS</a><br>
<a href="#AUDIO SOURCES">AUDIO SOURCES</a><br>
<a href="#AUDIO SINKS">AUDIO SINKS</a><br>
<a href="#VIDEO FILTERS">VIDEO FILTERS</a><br>
<a href="#OPENCL VIDEO FILTERS">OPENCL VIDEO FILTERS</a><br>
<a href="#VIDEO SOURCES">VIDEO SOURCES</a><br>
<a href="#VIDEO SINKS">VIDEO SINKS</a><br>
<a href="#MULTIMEDIA FILTERS">MULTIMEDIA FILTERS</a><br>
<a href="#MULTIMEDIA SOURCES">MULTIMEDIA SOURCES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AUTHORS">AUTHORS</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">ffmpeg - ffmpeg
video converter</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">ffmpeg
[<i>global_options</i>] {[<i>input_file_options</i>] -i
<i>input_url</i>} ... {[<i>output_file_options</i>]
<i>output_url</i>} ...</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>ffmpeg</b>
is a very fast video and audio converter that can also grab
from a live audio/video source. It can also convert between
arbitrary sample rates and resize video on the fly with a
high quality polyphase filter.</p>

<p style="margin-left:11%; margin-top: 1em"><b>ffmpeg</b>
reads from an arbitrary number of input &quot;files&quot;
(which can be regular files, pipes, network streams,
grabbing devices, etc.), specified by the &quot;-i&quot;
option, and writes to an arbitrary number of output
&quot;files&quot;, which are specified by a plain output
url. Anything found on the command line which cannot be
interpreted as an option is considered to be an output
url.</p>

<p style="margin-left:11%; margin-top: 1em">Each input or
output url can, in principle, contain any number of streams
of different types (video/audio/subtitle/attachment/data).
The allowed number and/or types of streams may be limited by
the container format. Selecting which streams from which
inputs will go into which output is either done
automatically or with the &quot;-map&quot; option (see the
Stream selection chapter).</p>

<p style="margin-left:11%; margin-top: 1em">To refer to
input files in options, you must use their indices
(0-based). E.g. the first input file is 0, the second is 1,
etc. Similarly, streams within a file are referred to by
their indices. E.g. &quot;2:3&quot; refers to the fourth
stream in the third input file. Also see the Stream
specifiers chapter.</p>

<p style="margin-left:11%; margin-top: 1em">As a general
rule, options are applied to the next specified file.
Therefore, order is important, and you can have the same
option on the command line multiple times. Each occurrence
is then applied to the next input or output file. Exceptions
from this rule are the global options (e.g. verbosity
level), which should be specified first.</p>

<p style="margin-left:11%; margin-top: 1em">Do not mix
input and output files -- first specify all input files,
then all output files. Also do not mix options which belong
to different files. All options apply <small>ONLY</small> to
the next input or output file and are reset between
files.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>To set the video bitrate of the output file to 64
kbit/s:</p> </td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
input.avi -b:v 64k -bufsize 64k output.avi</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="81%">


<p style="margin-top: 1em">To force the frame rate of the
output file to 24 fps:</p></td>
<td width="2%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
input.avi -r 24 output.avi</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">To force the frame rate of the
input file (valid for raw formats only) to 1 fps and the
frame rate of the output file to 24 fps:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -r 1 -i
input.m2v -r 24 output.avi</p>

<p style="margin-left:11%; margin-top: 1em">The format
option may be needed for raw input files.</p>

<h2>DETAILED DESCRIPTION
<a name="DETAILED DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The transcoding
process in <b>ffmpeg</b> for each output can be described by
the following diagram:</p>

<p style="margin-left:11%; margin-top: 1em">_______
______________ <br>
| | | | <br>
| input | demuxer | encoded data | decoder <br>
| file | ---------&gt; | packets | -----+ <br>
|_______| |______________| | <br>
v <br>
_________ <br>
| | <br>
| decoded | <br>
| frames | <br>
|_________| <br>
________ ______________ | <br>
| | | | | <br>
| output | &lt;-------- | encoded data | &lt;----+ <br>
| file | muxer | packets | encoder <br>
|________| |______________|</p>

<p style="margin-left:11%; margin-top: 1em"><b>ffmpeg</b>
calls the libavformat library (containing demuxers) to read
input files and get packets containing encoded data from
them. When there are multiple input files, <b>ffmpeg</b>
tries to keep them synchronized by tracking lowest timestamp
on any active input stream.</p>

<p style="margin-left:11%; margin-top: 1em">Encoded packets
are then passed to the decoder (unless streamcopy is
selected for the stream, see further for a description). The
decoder produces uncompressed frames (raw video/PCM
audio/...) which can be processed further by filtering (see
next section). After filtering, the frames are passed to the
encoder, which encodes them and outputs encoded packets.
Finally those are passed to the muxer, which writes the
encoded packets to the output file.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Filtering</b>
<br>
Before encoding, <b>ffmpeg</b> can process raw audio and
video frames using filters from the libavfilter library.
Several chained filters form a filter graph. <b>ffmpeg</b>
distinguishes between two types of filtergraphs: simple and
complex.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Simple
filtergraphs</i></p>

<p style="margin-left:11%; margin-top: 1em">Simple
filtergraphs are those that have exactly one input and
output, both of the same type. In the above diagram they can
be represented by simply inserting an additional step
between decoding and encoding:</p>

<p style="margin-left:11%; margin-top: 1em">_________
______________ <br>
| | | | <br>
| decoded | | encoded data | <br>
| frames |\ _ | packets | <br>
|_________| \ /||______________| <br>
\ __________ / <br>
simple _\|| | / encoder <br>
filtergraph | filtered |/ <br>
| frames | <br>
|__________|</p>

<p style="margin-left:11%; margin-top: 1em">Simple
filtergraphs are configured with the per-stream
<b>-filter</b> option (with <b>-vf</b> and <b>-af</b>
aliases for video and audio respectively). A simple
filtergraph for video can look for example like this:</p>

<p style="margin-left:11%; margin-top: 1em">_______
_____________ _______ ________ <br>
| | | | | | | | <br>
| input | ---&gt; | deinterlace | ---&gt; | scale | ---&gt;
| output | <br>
|_______| |_____________| |_______| |________|</p>

<p style="margin-left:11%; margin-top: 1em">Note that some
filters change frame properties but not frame contents. E.g.
the &quot;fps&quot; filter in the example above changes
number of frames, but does not touch the frame contents.
Another example is the &quot;setpts&quot; filter, which only
sets timestamps and otherwise passes the frames
unchanged.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Complex
filtergraphs</i></p>

<p style="margin-left:11%; margin-top: 1em">Complex
filtergraphs are those which cannot be described as simply a
linear processing chain applied to one stream. This is the
case, for example, when the graph has more than one input
and/or output, or when output stream type is different from
input. They can be represented with the following
diagram:</p>

<p style="margin-left:11%; margin-top: 1em">_________ <br>
| | <br>
| input 0 |\ __________ <br>
|_________| \ | | <br>
\ _________ /| output 0 | <br>
\ | | / |__________| <br>
_________ \| complex | / <br>
| | | |/ <br>
| input 1 |----&gt;| filter |\ <br>
|_________| | | \ __________ <br>
/| graph | \ | | <br>
/ | | \| output 1 | <br>
_________ / |_________| |__________| <br>
| | / <br>
| input 2 |/ <br>
|_________|</p>

<p style="margin-left:11%; margin-top: 1em">Complex
filtergraphs are configured with the <b>-filter_complex</b>
option. Note that this option is global, since a complex
filtergraph, by its nature, cannot be unambiguously
associated with a single stream or file.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>-lavfi</b> option is equivalent to
<b>-filter_complex</b>.</p>

<p style="margin-left:11%; margin-top: 1em">A trivial
example of a complex filtergraph is the &quot;overlay&quot;
filter, which has two video inputs and one video output,
containing one video overlaid on top of the other. Its audio
counterpart is the &quot;amix&quot; filter.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Stream
copy</b> <br>
Stream copy is a mode selected by supplying the
&quot;copy&quot; parameter to the <b>-codec</b> option. It
makes <b>ffmpeg</b> omit the decoding and encoding step for
the specified stream, so it does only demuxing and muxing.
It is useful for changing the container format or modifying
container-level metadata. The diagram above will, in this
case, simplify to this:</p>

<p style="margin-left:11%; margin-top: 1em">_______
______________ ________ <br>
| | | | | | <br>
| input | demuxer | encoded data | muxer | output | <br>
| file | ---------&gt; | packets | -------&gt; | file | <br>
|_______| |______________| |________|</p>

<p style="margin-left:11%; margin-top: 1em">Since there is
no decoding or encoding, it is very fast and there is no
quality loss. However, it might not work in some cases
because of many factors. Applying filters is obviously also
impossible, since filters work on uncompressed data.</p>

<h2>STREAM SELECTION
<a name="STREAM SELECTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>ffmpeg</b>
provides the &quot;-map&quot; option for manual control of
stream selection in each output file. Users can skip
&quot;-map&quot; and let ffmpeg perform automatic stream
selection as described below. The &quot;-vn / -an / -sn /
-dn&quot; options can be used to skip inclusion of video,
audio, subtitle and data streams respectively, whether
manually mapped or automatically selected, except for those
streams which are outputs of complex filtergraphs.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Description</b>
<br>
The sub-sections that follow describe the various rules that
are involved in stream selection. The examples that follow
next show how these rules are applied in practice.</p>

<p style="margin-left:11%; margin-top: 1em">While every
effort is made to accurately reflect the behavior of the
program, FFmpeg is under continuous development and the code
may have changed since the time of this writing.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Automatic
stream selection</i></p>

<p style="margin-left:11%; margin-top: 1em">In the absence
of any map options for a particular output file, ffmpeg
inspects the output format to check which type of streams
can be included in it, viz. video, audio and/or subtitles.
For each acceptable stream type, ffmpeg will pick one
stream, when available, from among all the inputs.</p>

<p style="margin-left:11%; margin-top: 1em">It will select
that stream based upon the following criteria:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">for video, it is the stream with
the highest resolution,</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>for audio, it is the stream with the most channels,</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>for subtitles, it is the first subtitle stream found but
there&rsquo;s a caveat. The output format&rsquo;s default
subtitle encoder can be either text-based or image-based,
and only a subtitle stream of the same type will be
chosen.</p> </td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">In the case
where several streams of the same type rate equally, the
stream with the lowest index is chosen.</p>

<p style="margin-left:11%; margin-top: 1em">Data or
attachment streams are not automatically selected and can
only be included using &quot;-map&quot;.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Manual
stream selection</i></p>

<p style="margin-left:11%; margin-top: 1em">When
&quot;-map&quot; is used, only user-mapped streams are
included in that output file, with one possible exception
for filtergraph outputs described below.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Complex
filtergraphs</i></p>

<p style="margin-left:11%; margin-top: 1em">If there are
any complex filtergraph output streams with unlabeled pads,
they will be added to the first output file. This will lead
to a fatal error if the stream type is not supported by the
output format. In the absence of the map option, the
inclusion of these streams leads to the automatic stream
selection of their types being skipped. If map options are
present, these filtergraph streams are included in addition
to the mapped streams.</p>

<p style="margin-left:11%; margin-top: 1em">Complex
filtergraph output streams with labeled pads must be mapped
once and exactly once.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Stream
handling</i></p>

<p style="margin-left:11%; margin-top: 1em">Stream handling
is independent of stream selection, with an exception for
subtitles described below. Stream handling is set via the
&quot;-codec&quot; option addressed to streams within a
specific <i>output</i> file. In particular, codec options
are applied by ffmpeg after the stream selection process and
thus do not influence the latter. If no &quot;-codec&quot;
option is specified for a stream type, ffmpeg will select
the default encoder registered by the output file muxer.</p>

<p style="margin-left:11%; margin-top: 1em">An exception
exists for subtitles. If a subtitle encoder is specified for
an output file, the first subtitle stream found of any type,
text or image, will be included. ffmpeg does not validate if
the specified encoder can convert the selected stream or if
the converted stream is acceptable within the output format.
This applies generally as well: when the user sets an
encoder manually, the stream selection process cannot check
if the encoded stream can be muxed into the output file. If
it cannot, ffmpeg will abort and <i>all</i> output files
will fail to be processed.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Examples</b>
<br>
The following examples illustrate the behavior, quirks and
limitations of ffmpeg&rsquo;s stream selection methods.</p>

<p style="margin-left:11%; margin-top: 1em">They assume the
following three input files.</p>

<p style="margin-left:11%; margin-top: 1em">input file
'A.avi' <br>
stream 0: video 640x360 <br>
stream 1: audio 2 channels <br>
input file 'B.mp4' <br>
stream 0: video 1920x1080 <br>
stream 1: audio 2 channels <br>
stream 2: subtitles (text) <br>
stream 3: audio 5.1 channels <br>
stream 4: subtitles (text) <br>
input file 'C.mkv' <br>
stream 0: video 1280x720 <br>
stream 1: audio 2 channels <br>
stream 2: subtitles (image)</p>

<p style="margin-left:11%; margin-top: 1em">Example:
automatic stream selection</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i A.avi
-i B.mp4 out1.mkv out2.wav -map 1:a -c:a copy out3.mov</p>

<p style="margin-left:11%; margin-top: 1em">There are three
output files specified, and for the first two, no
&quot;-map&quot; options are set, so ffmpeg will select
streams for these two files automatically.</p>


<p style="margin-left:11%; margin-top: 1em"><i>out1.mkv</i>
is a Matroska container file and accepts video, audio and
subtitle streams, so ffmpeg will try to select one of each
type.For video, it will select &quot;stream 0&quot; from
<i>B.mp4</i>, which has the highest resolution among all the
input video streams.For audio, it will select &quot;stream
3&quot; from <i>B.mp4</i>, since it has the greatest number
of channels.For subtitles, it will select &quot;stream
2&quot; from <i>B.mp4</i>, which is the first subtitle
stream from among <i>A.avi</i> and <i>B.mp4</i>.</p>


<p style="margin-left:11%; margin-top: 1em"><i>out2.wav</i>
accepts only audio streams, so only &quot;stream 3&quot;
from <i>B.mp4</i> is selected.</p>

<p style="margin-left:11%; margin-top: 1em">For
<i>out3.mov</i>, since a &quot;-map&quot; option is set, no
automatic stream selection will occur. The &quot;-map
1:a&quot; option will select all audio streams from the
second input <i>B.mp4</i>. No other streams will be included
in this output file.</p>

<p style="margin-left:11%; margin-top: 1em">For the first
two outputs, all included streams will be transcoded. The
encoders chosen will be the default ones registered by each
output format, which may not match the codec of the selected
input streams.</p>

<p style="margin-left:11%; margin-top: 1em">For the third
output, codec option for audio streams has been set to
&quot;copy&quot;, so no decoding-filtering-encoding
operations will occur, or <i>can</i> occur. Packets of
selected streams shall be conveyed from the input file and
muxed within the output file.</p>

<p style="margin-left:11%; margin-top: 1em">Example:
automatic subtitles selection</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i C.mkv
out1.mkv -c:s dvdsub -an out2.mkv</p>

<p style="margin-left:11%; margin-top: 1em">Although
<i>out1.mkv</i> is a Matroska container file which accepts
subtitle streams, only a video and audio stream shall be
selected. The subtitle stream of <i>C.mkv</i> is image-based
and the default subtitle encoder of the Matroska muxer is
text-based, so a transcode operation for the subtitles is
expected to fail and hence the stream isn&rsquo;t selected.
However, in <i>out2.mkv</i>, a subtitle encoder is specified
in the command and so, the subtitle stream is selected, in
addition to the video stream. The presence of
&quot;-an&quot; disables audio stream selection for
<i>out2.mkv</i>.</p>

<p style="margin-left:11%; margin-top: 1em">Example:
unlabeled filtergraph outputs</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i A.avi
-i C.mkv -i B.mp4 -filter_complex &quot;overlay&quot;
out1.mp4 out2.srt</p>

<p style="margin-left:11%; margin-top: 1em">A filtergraph
is setup here using the &quot;-filter_complex&quot; option
and consists of a single video filter. The
&quot;overlay&quot; filter requires exactly two video
inputs, but none are specified, so the first two available
video streams are used, those of <i>A.avi</i> and
<i>C.mkv</i>. The output pad of the filter has no label and
so is sent to the first output file <i>out1.mp4</i>. Due to
this, automatic selection of the video stream is skipped,
which would have selected the stream in <i>B.mp4</i>. The
audio stream with most channels viz. &quot;stream 3&quot; in
<i>B.mp4</i>, is chosen automatically. No subtitle stream is
chosen however, since the <small>MP4</small> format has no
default subtitle encoder registered, and the user
hasn&rsquo;t specified a subtitle encoder.</p>

<p style="margin-left:11%; margin-top: 1em">The 2nd output
file, <i>out2.srt</i>, only accepts text-based subtitle
streams. So, even though the first subtitle stream available
belongs to <i>C.mkv</i>, it is image-based and hence
skipped. The selected stream, &quot;stream 2&quot; in
<i>B.mp4</i>, is the first text-based subtitle stream.</p>

<p style="margin-left:11%; margin-top: 1em">Example:
labeled filtergraph outputs</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i A.avi
-i B.mp4 -i C.mkv -filter_complex
&quot;[1:v]hue=s=0[outv];overlay;aresample&quot; \ <br>
-map '[outv]' -an out1.mp4 \ <br>
out2.mkv \ <br>
-map '[outv]' -map 1:a:0 out3.mkv</p>

<p style="margin-left:11%; margin-top: 1em">The above
command will fail, as the output pad labelled
&quot;[outv]&quot; has been mapped twice. None of the output
files shall be processed.</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i A.avi
-i B.mp4 -i C.mkv -filter_complex
&quot;[1:v]hue=s=0[outv];overlay;aresample&quot; \ <br>
-an out1.mp4 \ <br>
out2.mkv \ <br>
-map 1:a:0 out3.mkv</p>

<p style="margin-left:11%; margin-top: 1em">This command
above will also fail as the hue filter output has a label,
&quot;[outv]&quot;, and hasn&rsquo;t been mapped
anywhere.</p>

<p style="margin-left:11%; margin-top: 1em">The command
should be modified as follows,</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i A.avi
-i B.mp4 -i C.mkv -filter_complex
&quot;[1:v]hue=s=0,split=2[outv1][outv2];overlay;aresample&quot;
\ <br>
-map '[outv1]' -an out1.mp4 \ <br>
out2.mkv \ <br>
-map '[outv2]' -map 1:a:0 out3.mkv</p>

<p style="margin-left:11%; margin-top: 1em">The video
stream from <i>B.mp4</i> is sent to the hue filter, whose
output is cloned once using the split filter, and both
outputs labelled. Then a copy each is mapped to the first
and third output files.</p>

<p style="margin-left:11%; margin-top: 1em">The overlay
filter, requiring two video inputs, uses the first two
unused video streams. Those are the streams from
<i>A.avi</i> and <i>C.mkv</i>. The overlay output
isn&rsquo;t labelled, so it is sent to the first output file
<i>out1.mp4</i>, regardless of the presence of the
&quot;-map&quot; option.</p>

<p style="margin-left:11%; margin-top: 1em">The aresample
filter is sent the first unused audio stream, that of
<i>A.avi</i>. Since this filter output is also unlabelled,
it too is mapped to the first output file. The presence of
&quot;-an&quot; only suppresses automatic or manual stream
selection of audio streams, not outputs sent from
filtergraphs. Both these mapped streams shall be ordered
before the mapped stream in <i>out1.mp4</i>.</p>

<p style="margin-left:11%; margin-top: 1em">The video,
audio and subtitle streams mapped to &quot;out2.mkv&quot;
are entirely determined by automatic stream selection.</p>


<p style="margin-left:11%; margin-top: 1em"><i>out3.mkv</i>
consists of the cloned video output from the hue filter and
the first audio stream from <i>B.mp4</i>.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">All the
numerical options, if not specified otherwise, accept a
string representing a number as input, which may be followed
by one of the <small>SI</small> unit prefixes, for example:
&rsquo;K&rsquo;, &rsquo;M&rsquo;, or &rsquo;G&rsquo;.</p>

<p style="margin-left:11%; margin-top: 1em">If
&rsquo;i&rsquo; is appended to the <small>SI</small> unit
prefix, the complete prefix will be interpreted as a unit
prefix for binary multiples, which are based on powers of
1024 instead of powers of 1000. Appending &rsquo;B&rsquo; to
the <small>SI</small> unit prefix multiplies the value by 8.
This allows using, for example: &rsquo; <small>KB</small>
&rsquo;, &rsquo;MiB&rsquo;, &rsquo;G&rsquo; and
&rsquo;B&rsquo; as number suffixes.</p>

<p style="margin-left:11%; margin-top: 1em">Options which
do not take arguments are boolean options, and set the
corresponding value to true. They can be set to false by
prefixing the option name with &quot;no&quot;. For example
using &quot;-nofoo&quot; will set the boolean option with
name &quot;foo&quot; to false.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Stream
specifiers</b> <br>
Some options are applied per-stream, e.g. bitrate or codec.
Stream specifiers are used to precisely specify which
stream(s) a given option belongs to.</p>

<p style="margin-left:11%; margin-top: 1em">A stream
specifier is a string generally appended to the option name
and separated from it by a colon. E.g. &quot;-codec:a:1
ac3&quot; contains the &quot;a:1&quot; stream specifier,
which matches the second audio stream. Therefore, it would
select the ac3 codec for the second audio stream.</p>

<p style="margin-left:11%; margin-top: 1em">A stream
specifier can match several streams, so that the option is
applied to all of them. E.g. the stream specifier in
&quot;-b:a 128k&quot; matches all audio streams.</p>

<p style="margin-left:11%; margin-top: 1em">An empty stream
specifier matches all streams. For example, &quot;-codec
copy&quot; or &quot;-codec: copy&quot; would copy all the
streams without reencoding.</p>

<p style="margin-left:11%; margin-top: 1em">Possible forms
of stream specifiers are: <i><br>
stream_index</i></p>

<p style="margin-left:17%;">Matches the stream with this
index. E.g. &quot;-threads:1 4&quot; would set the thread
count for the second stream to 4. If <i>stream_index</i> is
used as an additional stream specifier (see below), then it
selects stream number <i>stream_index</i> from the matching
streams. Stream numbering is based on the order of the
streams as detected by libavformat except when a program
<small>ID</small> is also specified. In this case it is
based on the ordering of the streams in the program.</p>


<p style="margin-left:11%;"><i>stream_type</i><b>[:</b><i>additional_stream_specifier</i><b>]</b></p>

<p style="margin-left:17%;"><i>stream_type</i> is one of
following: &rsquo;v&rsquo; or &rsquo;V&rsquo; for video,
&rsquo;a&rsquo; for audio, &rsquo;s&rsquo; for subtitle,
&rsquo;d&rsquo; for data, and &rsquo;t&rsquo; for
attachments. &rsquo;v&rsquo; matches all video streams,
&rsquo;V&rsquo; only matches video streams which are not
attached pictures, video thumbnails or cover arts. If
<i>additional_stream_specifier</i> is used, then it matches
streams which both have this type and match the
<i>additional_stream_specifier</i>. Otherwise, it matches
all streams of the specified type.</p>


<p style="margin-left:11%;"><b>p:</b><i>program_id</i><b>[:</b><i>additional_stream_specifier</i><b>]</b></p>

<p style="margin-left:17%;">Matches streams which are in
the program with the id <i>program_id</i>. If
<i>additional_stream_specifier</i> is used, then it matches
streams which both are part of the program and match the
<i>additional_stream_specifier</i>.</p>

<p style="margin-left:11%;"><b>#</b><i>stream_id</i> <b>or
i:</b><i>stream_id</i></p>

<p style="margin-left:17%;">Match the stream by stream id
(e.g. <small>PID</small> in MPEG-TS container).</p>


<p style="margin-left:11%;"><b>m:</b><i>key</i><b>[:</b><i>value</i><b>]</b></p>

<p style="margin-left:17%;">Matches streams with the
metadata tag <i>key</i> having the specified value. If
<i>value</i> is not given, matches streams that contain the
given tag with any value.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>u</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Matches streams with usable configuration, the codec
must be defined and the essential information such as video
dimension or audio sample rate must be present.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Note that in
<b>ffmpeg</b>, matching by metadata will only work properly
for input files.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Generic
options</b> <br>
These options are shared amongst the ff* tools.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>-L</b></p></td>
<td width="3%"></td>
<td width="20%">


<p style="margin-top: 1em">Show license.</p></td>
<td width="63%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>-h, -?, -help, --help
[</b><i>arg</i><b>]</b></p>

<p style="margin-left:17%;">Show help. An optional
parameter may be specified to print help about a specific
item. If no argument is specified, only basic (non advanced)
tool options are shown.</p>

<p style="margin-left:17%; margin-top: 1em">Possible values
of <i>arg</i> are: <b><br>
long</b></p>

<p style="margin-left:23%;">Print advanced tool options in
addition to the basic tool options.</p>

<p style="margin-left:17%;"><b>full</b></p>

<p style="margin-left:23%;">Print complete list of options,
including shared and private options for encoders, decoders,
demuxers, muxers, filters, etc.</p>


<p style="margin-left:17%;"><b>decoder=</b><i>decoder_name</i></p>

<p style="margin-left:23%;">Print detailed information
about the decoder named <i>decoder_name</i>. Use the
<b>-decoders</b> option to get a list of all decoders.</p>


<p style="margin-left:17%;"><b>encoder=</b><i>encoder_name</i></p>

<p style="margin-left:23%;">Print detailed information
about the encoder named <i>encoder_name</i>. Use the
<b>-encoders</b> option to get a list of all encoders.</p>


<p style="margin-left:17%;"><b>demuxer=</b><i>demuxer_name</i></p>

<p style="margin-left:23%;">Print detailed information
about the demuxer named <i>demuxer_name</i>. Use the
<b>-formats</b> option to get a list of all demuxers and
muxers.</p>


<p style="margin-left:17%;"><b>muxer=</b><i>muxer_name</i></p>

<p style="margin-left:23%;">Print detailed information
about the muxer named <i>muxer_name</i>. Use the
<b>-formats</b> option to get a list of all muxers and
demuxers.</p>


<p style="margin-left:17%;"><b>filter=</b><i>filter_name</i></p>

<p style="margin-left:23%;">Print detailed information
about the filter name <i>filter_name</i>. Use the
<b>-filters</b> option to get a list of all filters.</p>


<p style="margin-left:17%;"><b>bsf=</b><i>bitstream_filter_name</i></p>

<p style="margin-left:23%;">Print detailed information
about the bitstream filter name
<i>bitstream_filter_name</i>. Use the <b>-bsfs</b> option to
get a list of all bitstream filters.</p>

<p style="margin-left:11%;"><b>-version</b></p>

<p style="margin-left:17%;">Show version.</p>

<p style="margin-left:11%;"><b>-formats</b></p>

<p style="margin-left:17%;">Show available formats
(including devices).</p>

<p style="margin-left:11%;"><b>-demuxers</b></p>

<p style="margin-left:17%;">Show available demuxers.</p>

<p style="margin-left:11%;"><b>-muxers</b></p>

<p style="margin-left:17%;">Show available muxers.</p>

<p style="margin-left:11%;"><b>-devices</b></p>

<p style="margin-left:17%;">Show available devices.</p>

<p style="margin-left:11%;"><b>-codecs</b></p>

<p style="margin-left:17%;">Show all codecs known to
libavcodec.</p>

<p style="margin-left:17%; margin-top: 1em">Note that the
term &rsquo;codec&rsquo; is used throughout this
documentation as a shortcut for what is more correctly
called a media bitstream format.</p>

<p style="margin-left:11%;"><b>-decoders</b></p>

<p style="margin-left:17%;">Show available decoders.</p>

<p style="margin-left:11%;"><b>-encoders</b></p>

<p style="margin-left:17%;">Show all available
encoders.</p>

<p style="margin-left:11%;"><b>-bsfs</b></p>

<p style="margin-left:17%;">Show available bitstream
filters.</p>

<p style="margin-left:11%;"><b>-protocols</b></p>

<p style="margin-left:17%;">Show available protocols.</p>

<p style="margin-left:11%;"><b>-filters</b></p>

<p style="margin-left:17%;">Show available libavfilter
filters.</p>

<p style="margin-left:11%;"><b>-pix_fmts</b></p>

<p style="margin-left:17%;">Show available pixel
formats.</p>

<p style="margin-left:11%;"><b>-sample_fmts</b></p>

<p style="margin-left:17%;">Show available sample
formats.</p>

<p style="margin-left:11%;"><b>-layouts</b></p>

<p style="margin-left:17%;">Show channel names and standard
channel layouts.</p>

<p style="margin-left:11%;"><b>-colors</b></p>

<p style="margin-left:17%;">Show recognized color
names.</p>

<p style="margin-left:11%;"><b>-sources</b>
<i>device</i><b>[,</b><i>opt1</i><b>=</b><i>val1</i><b>[,</b><i>opt2</i><b>=</b><i>val2</i><b>]...]</b></p>

<p style="margin-left:17%;">Show autodetected sources of
the input device. Some devices may provide system-dependent
source names that cannot be autodetected. The returned list
cannot be assumed to be always complete.</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -sources
pulse,server=192.168.0.4</p>

<p style="margin-left:11%;"><b>-sinks</b>
<i>device</i><b>[,</b><i>opt1</i><b>=</b><i>val1</i><b>[,</b><i>opt2</i><b>=</b><i>val2</i><b>]...]</b></p>

<p style="margin-left:17%;">Show autodetected sinks of the
output device. Some devices may provide system-dependent
sink names that cannot be autodetected. The returned list
cannot be assumed to be always complete.</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -sinks
pulse,server=192.168.0.4</p>

<p style="margin-left:11%;"><b>-loglevel
[</b><i>flags</i><b>+]</b><i>loglevel</i> <b>| -v
[</b><i>flags</i><b>+]</b><i>loglevel</i></p>

<p style="margin-left:17%;">Set logging level and flags
used by the library.</p>

<p style="margin-left:17%; margin-top: 1em">The optional
<i>flags</i> prefix can consist of the following values:
<b><br>
repeat</b></p>

<p style="margin-left:23%;">Indicates that repeated log
output should not be compressed to the first line and the
&quot;Last message repeated n times&quot; line will be
omitted.</p>

<p style="margin-left:17%;"><b>level</b></p>

<p style="margin-left:23%;">Indicates that log output
should add a &quot;[level]&quot; prefix to each message
line. This can be used as an alternative to log coloring,
e.g. when dumping the log to file.</p>

<p style="margin-left:17%; margin-top: 1em">Flags can also
be used alone by adding a &rsquo;+&rsquo;/&rsquo;-&rsquo;
prefix to set/reset a single flag without affecting other
<i>flags</i> or changing <i>loglevel</i>. When setting both
<i>flags</i> and <i>loglevel</i>, a &rsquo;+&rsquo;
separator is expected between the last <i>flags</i> value
and before <i>loglevel</i>.</p>


<p style="margin-left:17%; margin-top: 1em"><i>loglevel</i>
is a string or a number containing one of the following
values: <b><br>
quiet, -8</b></p>

<p style="margin-left:23%;">Show nothing at all; be
silent.</p>

<p style="margin-left:17%;"><b>panic, 0</b></p>

<p style="margin-left:23%;">Only show fatal errors which
could lead the process to crash, such as an assertion
failure. This is not currently used for anything.</p>

<p style="margin-left:17%;"><b>fatal, 8</b></p>

<p style="margin-left:23%;">Only show fatal errors. These
are errors after which the process absolutely cannot
continue.</p>

<p style="margin-left:17%;"><b>error, 16</b></p>

<p style="margin-left:23%;">Show all errors, including ones
which can be recovered from.</p>

<p style="margin-left:17%;"><b>warning, 24</b></p>

<p style="margin-left:23%;">Show all warnings and errors.
Any message related to possibly incorrect or unexpected
events will be shown.</p>

<p style="margin-left:17%;"><b>info, 32</b></p>

<p style="margin-left:23%;">Show informative messages
during processing. This is in addition to warnings and
errors. This is the default value.</p>

<p style="margin-left:17%;"><b>verbose, 40</b></p>

<p style="margin-left:23%;">Same as &quot;info&quot;,
except more verbose.</p>

<p style="margin-left:17%;"><b>debug, 48</b></p>

<p style="margin-left:23%;">Show everything, including
debugging information.</p>

<p style="margin-left:17%;"><b>trace, 56</b></p>

<p style="margin-left:17%; margin-top: 1em">For example to
enable repeated log output, add the &quot;level&quot;
prefix, and set <i>loglevel</i> to &quot;verbose&quot;:</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg
-loglevel repeat+level+verbose -i input output</p>

<p style="margin-left:17%; margin-top: 1em">Another example
that enables repeated log output without affecting current
state of &quot;level&quot; prefix flag or
<i>loglevel</i>:</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg [...]
-loglevel +repeat</p>

<p style="margin-left:17%; margin-top: 1em">By default the
program logs to stderr. If coloring is supported by the
terminal, colors are used to mark errors and warnings. Log
coloring can be disabled setting the environment variable
<b><small>AV_LOG_FORCE_NOCOLOR</small></b> or
<b><small>NO_COLOR</small></b> , or can be forced setting
the environment variable
<b><small>AV_LOG_FORCE_COLOR</small></b> . The use of the
environment variable <b><small>NO_COLOR</small></b> is
deprecated and will be dropped in a future FFmpeg
version.</p>

<p style="margin-left:11%;"><b>-report</b></p>

<p style="margin-left:17%;">Dump full command line and
console output to a file named
&quot;<i>program</i>-<i>YYYYMMDD</i>-<i>HHMMSS</i>.log&quot;
in the current directory. This file can be useful for bug
reports. It also implies &quot;-loglevel debug&quot;.</p>

<p style="margin-left:17%; margin-top: 1em">Setting the
environment variable <b><small>FFREPORT</small></b> to any
value has the same effect. If the value is a
&rsquo;:&rsquo;-separated key=value sequence, these options
will affect the report; option values must be escaped if
they contain special characters or the options delimiter
&rsquo;:&rsquo; (see the &rsquo;&rsquo;Quoting and
escaping&rsquo;&rsquo; section in the ffmpeg-utils
manual).</p>

<p style="margin-left:17%; margin-top: 1em">The following
options are recognized: <b><br>
file</b></p>

<p style="margin-left:23%;">set the file name to use for
the report; %p is expanded to the name of the program, %t is
expanded to a timestamp, &quot;%%&quot; is expanded to a
plain &quot;%&quot;</p>

<p style="margin-left:17%;"><b>level</b></p>

<p style="margin-left:23%;">set the log verbosity level
using a numerical value (see &quot;-loglevel&quot;).</p>

<p style="margin-left:17%; margin-top: 1em">For example, to
output a report to a file named <i>ffreport.log</i> using a
log level of 32 (alias for log level &quot;info&quot;):</p>


<p style="margin-left:17%; margin-top: 1em">FFREPORT=file=ffreport.log:level=32
ffmpeg -i input output</p>

<p style="margin-left:17%; margin-top: 1em">Errors in
parsing the environment variable are not fatal, and will not
appear in the report.</p>

<p style="margin-left:11%;"><b>-hide_banner</b></p>

<p style="margin-left:17%;">Suppress printing banner.</p>

<p style="margin-left:17%; margin-top: 1em">All FFmpeg
tools will normally show a copyright notice, build options
and library versions. This option can be used to suppress
printing this information.</p>

<p style="margin-left:11%;"><b>-cpuflags flags
(</b><i>global</i><b>)</b></p>

<p style="margin-left:17%;">Allows setting and clearing cpu
flags. This option is intended for testing. Do not use it
unless you know what you&rsquo;re doing.</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg
-cpuflags -sse+mmx ... <br>
ffmpeg -cpuflags mmx ... <br>
ffmpeg -cpuflags 0 ...</p>

<p style="margin-left:17%; margin-top: 1em">Possible flags
for this option are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="11%">


<p><b>x86</b></p></td>
<td width="72%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="11%">


<p><b>mmx</b></p></td>
<td width="72%">
</td></tr>
</table>

<p style="margin-left:23%;"><b>mmxext</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td>
<td width="5%">


<p><b>sse</b></p></td>
<td width="72%">
</td></tr>
</table>

<p style="margin-left:23%;"><b>sse2 <br>
sse2slow <br>
sse3 <br>
sse3slow <br>
ssse3 <br>
atom <br>
sse4.1 <br>
sse4.2</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td>
<td width="5%">


<p><b>avx</b></p></td>
<td width="72%">
</td></tr>
</table>

<p style="margin-left:23%;"><b>avx2</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td>
<td width="5%">


<p><b>xop</b></p></td>
<td width="72%">
</td></tr>
</table>

<p style="margin-left:23%;"><b>fma3 <br>
fma4 <br>
3dnow <br>
3dnowext <br>
bmi1 <br>
bmi2 <br>
cmov</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b><small>ARM</small></b></p></td>
<td width="1%"></td>
<td width="11%">


<p><b>armv5te</b></p></td>
<td width="66%">
</td></tr>
</table>

<p style="margin-left:23%;"><b>armv6 <br>
armv6t2</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td>
<td width="5%">


<p><b>vfp</b></p></td>
<td width="72%">
</td></tr>
</table>

<p style="margin-left:23%;"><b>vfpv3 <br>
neon <br>
setend</b></p>

<p style="margin-left:17%;"><b>AArch64</b></p>

<p style="margin-left:23%;"><b>armv8</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td>
<td width="5%">


<p><b>vfp</b></p></td>
<td width="72%">
</td></tr>
</table>

<p style="margin-left:23%;"><b>neon</b></p>

<p style="margin-left:17%;"><b>PowerPC</b></p>

<p style="margin-left:23%;"><b>altivec</b></p>

<p style="margin-left:17%;"><b>Specific Processors</b></p>

<p style="margin-left:23%;"><b>pentium2 <br>
pentium3 <br>
pentium4</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td>
<td width="5%">


<p><b>k6</b></p></td>
<td width="72%">
</td></tr>
<tr valign="top" align="left">
<td width="23%"></td>
<td width="5%">


<p><b>k62</b></p></td>
<td width="72%">
</td></tr>
</table>

<p style="margin-left:23%;"><b>athlon <br>
athlonxp</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td>
<td width="3%">


<p><b>k8</b></p></td>
<td width="74%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>AVOptions</b> <br>
These options are provided directly by the libavformat,
libavdevice and libavcodec libraries. To see the list of
available AVOptions, use the <b>-help</b> option. They are
separated into two categories: <b><br>
generic</b></p>

<p style="margin-left:17%;">These options can be set for
any container, codec or device. Generic options are listed
under AVFormatContext options for containers/devices and
under AVCodecContext options for codecs.</p>

<p style="margin-left:11%;"><b>private</b></p>

<p style="margin-left:17%;">These options are specific to
the given container, device or codec. Private options are
listed under their corresponding
containers/devices/codecs.</p>

<p style="margin-left:11%; margin-top: 1em">For example to
write an ID3v2.3 header instead of a default ID3v2.4 to an
<small>MP3</small> file, use the <b>id3v2_version</b>
private option of the <small>MP3</small> muxer:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i
input.flac -id3v2_version 3 out.mp3</p>

<p style="margin-left:11%; margin-top: 1em">All codec
AVOptions are per-stream, and thus a stream specifier should
be attached to them:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i
multichannel.mxf -map 0:v:0 -map 0:a:0 -map 0:a:0 -c:a:0 ac3
-b:a:0 640k -ac:a:1 2 -c:a:1 aac -b:2 128k out.mp4</p>

<p style="margin-left:11%; margin-top: 1em">In the above
example, a multichannel audio stream is mapped twice for
output. The first instance is encoded with codec ac3 and
bitrate 640k. The second instance is downmixed to 2 channels
and encoded with codec aac. A bitrate of 128k is specified
for it using absolute index of the output stream.</p>

<p style="margin-left:11%; margin-top: 1em">Note: the
<b>-nooption</b> syntax cannot be used for boolean
AVOptions, use <b>-option 0</b>/<b>-option 1</b>.</p>

<p style="margin-left:11%; margin-top: 1em">Note: the old
undocumented way of specifying per-stream AVOptions by
prepending v/a/s to the options name is now obsolete and
will be removed soon.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Main options
<br>
-f</b> <i>fmt</i> <b>(</b><i>input/output</i><b>)</b></p>

<p style="margin-left:17%;">Force input or output file
format. The format is normally auto detected for input files
and guessed from the file extension for output files, so
this option is not needed in most cases.</p>

<p style="margin-left:11%;"><b>-i</b> <i>url</i>
<b>(</b><i>input</i><b>)</b></p>

<p style="margin-left:17%;">input file url</p>

<p style="margin-left:11%;"><b>-y
(</b><i>global</i><b>)</b></p>

<p style="margin-left:17%;">Overwrite output files without
asking.</p>

<p style="margin-left:11%;"><b>-n
(</b><i>global</i><b>)</b></p>

<p style="margin-left:17%;">Do not overwrite output files,
and exit immediately if a specified output file already
exists.</p>

<p style="margin-left:11%;"><b>-stream_loop</b>
<i>number</i> <b>(</b><i>input</i><b>)</b></p>

<p style="margin-left:17%;">Set number of times input
stream shall be looped. Loop 0 means no loop, loop -1 means
infinite loop.</p>


<p style="margin-left:11%;"><b>-c[:</b><i>stream_specifier</i><b>]</b>
<i>codec</i> <b>(</b><i>input/output,per-stream</i><b>) <br>
-codec[:</b><i>stream_specifier</i><b>]</b> <i>codec</i>
<b>(</b><i>input/output,per-stream</i><b>)</b></p>

<p style="margin-left:17%;">Select an encoder (when used
before an output file) or a decoder (when used before an
input file) for one or more streams. <i>codec</i> is the
name of a decoder/encoder or a special value
&quot;copy&quot; (output only) to indicate that the stream
is not to be re-encoded.</p>

<p style="margin-left:17%; margin-top: 1em">For example</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i INPUT
-map 0 -c:v libx264 -c:a copy OUTPUT</p>

<p style="margin-left:17%; margin-top: 1em">encodes all
video streams with libx264 and copies all audio streams.</p>

<p style="margin-left:17%; margin-top: 1em">For each
stream, the last matching &quot;c&quot; option is applied,
so</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i INPUT
-map 0 -c copy -c:v:1 libx264 -c:a:137 libvorbis OUTPUT</p>

<p style="margin-left:17%; margin-top: 1em">will copy all
the streams except the second video, which will be encoded
with libx264, and the 138th audio, which will be encoded
with libvorbis.</p>

<p style="margin-left:11%;"><b>-t</b> <i>duration</i>
<b>(</b><i>input/output</i><b>)</b></p>

<p style="margin-left:17%;">When used as an input option
(before &quot;-i&quot;), limit the <i>duration</i> of data
read from the input file.</p>

<p style="margin-left:17%; margin-top: 1em">When used as an
output option (before an output url), stop writing the
output after its duration reaches <i>duration</i>.</p>


<p style="margin-left:17%; margin-top: 1em"><i>duration</i>
must be a time duration specification, see <b>the Time
duration section in the ffmpeg-utils(1) manual</b>.</p>

<p style="margin-left:17%; margin-top: 1em">-to and -t are
mutually exclusive and -t has priority.</p>

<p style="margin-left:11%;"><b>-to</b> <i>position</i>
<b>(</b><i>input/output</i><b>)</b></p>

<p style="margin-left:17%;">Stop writing the output or
reading the input at <i>position</i>. <i>position</i> must
be a time duration specification, see <b>the Time duration
section in the ffmpeg-utils(1) manual</b>.</p>

<p style="margin-left:17%; margin-top: 1em">-to and -t are
mutually exclusive and -t has priority.</p>

<p style="margin-left:11%;"><b>-fs</b> <i>limit_size</i>
<b>(</b><i>output</i><b>)</b></p>

<p style="margin-left:17%;">Set the file size limit,
expressed in bytes. No further chunk of bytes is written
after the limit is exceeded. The size of the output file is
slightly more than the requested file size.</p>

<p style="margin-left:11%;"><b>-ss</b> <i>position</i>
<b>(</b><i>input/output</i><b>)</b></p>

<p style="margin-left:17%;">When used as an input option
(before &quot;-i&quot;), seeks in this input file to
<i>position</i>. Note that in most formats it is not
possible to seek exactly, so <b>ffmpeg</b> will seek to the
closest seek point before <i>position</i>. When transcoding
and <b>-accurate_seek</b> is enabled (the default), this
extra segment between the seek point and <i>position</i>
will be decoded and discarded. When doing stream copy or
when <b>-noaccurate_seek</b> is used, it will be
preserved.</p>

<p style="margin-left:17%; margin-top: 1em">When used as an
output option (before an output url), decodes but discards
input until the timestamps reach <i>position</i>.</p>


<p style="margin-left:17%; margin-top: 1em"><i>position</i>
must be a time duration specification, see <b>the Time
duration section in the ffmpeg-utils(1) manual</b>.</p>

<p style="margin-left:11%;"><b>-sseof</b> <i>position</i>
<b>(</b><i>input</i><b>)</b></p>

<p style="margin-left:17%;">Like the &quot;-ss&quot; option
but relative to the &quot;end of file&quot;. That is
negative values are earlier in the file, 0 is at
<small>EOF.</small></p>

<p style="margin-left:11%;"><b>-itsoffset</b> <i>offset</i>
<b>(</b><i>input</i><b>)</b></p>

<p style="margin-left:17%;">Set the input time offset.</p>

<p style="margin-left:17%; margin-top: 1em"><i>offset</i>
must be a time duration specification, see <b>the Time
duration section in the ffmpeg-utils(1) manual</b>.</p>

<p style="margin-left:17%; margin-top: 1em">The offset is
added to the timestamps of the input files. Specifying a
positive offset means that the corresponding streams are
delayed by the time duration specified in <i>offset</i>.</p>

<p style="margin-left:11%;"><b>-itsscale</b> <i>scale</i>
<b>(</b><i>input,per-stream</i><b>)</b></p>

<p style="margin-left:17%;">Rescale input timestamps.
<i>scale</i> should be a floating point number.</p>

<p style="margin-left:11%;"><b>-timestamp</b> <i>date</i>
<b>(</b><i>output</i><b>)</b></p>

<p style="margin-left:17%;">Set the recording timestamp in
the container.</p>

<p style="margin-left:17%; margin-top: 1em"><i>date</i>
must be a date specification, see <b>the Date section in the
ffmpeg-utils(1) manual</b>.</p>


<p style="margin-left:11%;"><b>-metadata[:metadata_specifier]</b>
<i>key</i><b>=</b><i>value</i>
<b>(</b><i>output,per-metadata</i><b>)</b></p>

<p style="margin-left:17%;">Set a metadata key/value
pair.</p>

<p style="margin-left:17%; margin-top: 1em">An optional
<i>metadata_specifier</i> may be given to set metadata on
streams, chapters or programs. See &quot;-map_metadata&quot;
documentation for details.</p>

<p style="margin-left:17%; margin-top: 1em">This option
overrides metadata set with &quot;-map_metadata&quot;. It is
also possible to delete metadata by using an empty
value.</p>

<p style="margin-left:17%; margin-top: 1em">For example,
for setting the title in the output file:</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
in.avi -metadata title=&quot;my title&quot; out.flv</p>

<p style="margin-left:17%; margin-top: 1em">To set the
language of the first audio stream:</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i INPUT
-metadata:s:a:0 language=eng OUTPUT</p>


<p style="margin-left:11%;"><b>-disposition[:stream_specifier]</b>
<i>value</i> <b>(</b><i>output,per-stream</i><b>)</b></p>

<p style="margin-left:17%;">Sets the disposition for a
stream.</p>

<p style="margin-left:17%; margin-top: 1em">This option
overrides the disposition copied from the input stream. It
is also possible to delete the disposition by setting it to
0.</p>

<p style="margin-left:17%; margin-top: 1em">The following
dispositions are recognized: <b><br>
default</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>dub</b></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>original <br>
comment <br>
lyrics <br>
karaoke <br>
forced <br>
hearing_impaired <br>
visual_impaired <br>
clean_effects <br>
attached_pic <br>
captions <br>
descriptions <br>
dependent <br>
metadata</b></p>

<p style="margin-left:17%; margin-top: 1em">For example, to
make the second audio stream the default stream:</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
in.mkv -c copy -disposition:a:1 default out.mkv</p>

<p style="margin-left:17%; margin-top: 1em">To make the
second subtitle stream the default stream and remove the
default disposition from the first subtitle stream:</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
in.mkv -c copy -disposition:s:0 0 -disposition:s:1 default
out.mkv</p>

<p style="margin-left:17%; margin-top: 1em">To add an
embedded cover/thumbnail:</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
in.mp4 -i IMAGE -map 0 -map 1 -c copy -c:v:1 png
-disposition:v:1 attached_pic out.mp4</p>

<p style="margin-left:17%; margin-top: 1em">Not all muxers
support embedded thumbnails, and those who do, only support
a few formats, like <small>JPEG</small> or
<small>PNG.</small></p>

<p style="margin-left:11%;"><b>-program <br>

[title=</b><i>title</i><b>:][program_num=</b><i>program_num</i><b>:]st=</b><i>stream</i><b>[:st=</b><i>stream</i><b>...]
<br>
(</b><i>output</i><b>)</b></p>

<p style="margin-left:17%;">Creates a program with the
specified <i>title</i>, <i>program_num</i> and adds the
specified <i>stream</i>(s) to it.</p>

<p style="margin-left:11%;"><b>-target</b> <i>type</i>
<b>(</b><i>output</i><b>)</b></p>

<p style="margin-left:17%;">Specify target file type
(&quot;vcd&quot;, &quot;svcd&quot;, &quot;dvd&quot;,
&quot;dv&quot;, &quot;dv50&quot;). <i>type</i> may be
prefixed with &quot;pal-&quot;, &quot;ntsc-&quot; or
&quot;film-&quot; to use the corresponding standard. All the
format options (bitrate, codecs, buffer sizes) are then set
automatically. You can just type:</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
myfile.avi -target vcd /tmp/vcd.mpg</p>

<p style="margin-left:17%; margin-top: 1em">Nevertheless
you can specify additional options as long as you know they
do not conflict with the standard, as in:</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
myfile.avi -target vcd -bf 2 /tmp/vcd.mpg</p>

<p style="margin-left:11%;"><b>-dn
(</b><i>input/output</i><b>)</b></p>

<p style="margin-left:17%;">As an input option, blocks all
data streams of a file from being filtered or being
automatically selected or mapped for any output. See
&quot;-discard&quot; option to disable streams
individually.</p>

<p style="margin-left:17%; margin-top: 1em">As an output
option, disables data recording i.e. automatic selection or
mapping of any data stream. For full manual control see the
&quot;-map&quot; option.</p>

<p style="margin-left:11%;"><b>-dframes</b> <i>number</i>
<b>(</b><i>output</i><b>)</b></p>

<p style="margin-left:17%;">Set the number of data frames
to output. This is an obsolete alias for
&quot;-frames:d&quot;, which you should use instead.</p>


<p style="margin-left:11%;"><b>-frames[:</b><i>stream_specifier</i><b>]</b>
<i>framecount</i>
<b>(</b><i>output,per-stream</i><b>)</b></p>

<p style="margin-left:17%;">Stop writing to the stream
after <i>framecount</i> frames.</p>


<p style="margin-left:11%;"><b>-q[:</b><i>stream_specifier</i><b>]</b>
<i>q</i> <b>(</b><i>output,per-stream</i><b>) <br>
-qscale[:</b><i>stream_specifier</i><b>]</b> <i>q</i>
<b>(</b><i>output,per-stream</i><b>)</b></p>

<p style="margin-left:17%;">Use fixed quality scale (
<small>VBR</small> ). The meaning of <i>q</i>/<i>qscale</i>
is codec-dependent. If <i>qscale</i> is used without a
<i>stream_specifier</i> then it applies only to the video
stream, this is to maintain compatibility with previous
behavior and as specifying the same codec specific value to
2 different codecs that is audio and video generally is not
what is intended when no stream_specifier is used.</p>


<p style="margin-left:11%;"><b>-filter[:</b><i>stream_specifier</i><b>]</b>
<i>filtergraph</i>
<b>(</b><i>output,per-stream</i><b>)</b></p>

<p style="margin-left:17%;">Create the filtergraph
specified by <i>filtergraph</i> and use it to filter the
stream.</p>


<p style="margin-left:17%; margin-top: 1em"><i>filtergraph</i>
is a description of the filtergraph to apply to the stream,
and must have a single input and a single output of the same
type of the stream. In the filtergraph, the input is
associated to the label &quot;in&quot;, and the output to
the label &quot;out&quot;. See the ffmpeg-filters manual for
more information about the filtergraph syntax.</p>

<p style="margin-left:17%; margin-top: 1em">See the
<b>-filter_complex option</b> if you want to create
filtergraphs with multiple inputs and/or outputs.</p>


<p style="margin-left:11%;"><b>-filter_script[:</b><i>stream_specifier</i><b>]</b>
<i>filename</i> <b>(</b><i>output,per-stream</i><b>)</b></p>

<p style="margin-left:17%;">This option is similar to
<b>-filter</b>, the only difference is that its argument is
the name of the file from which a filtergraph description is
to be read.</p>

<p style="margin-left:11%;"><b>-filter_threads</b>
<i>nb_threads</i> <b>(</b><i>global</i><b>)</b></p>

<p style="margin-left:17%;">Defines how many threads are
used to process a filter pipeline. Each pipeline will
produce a thread pool with this many threads available for
parallel processing. The default is the number of available
CPUs.</p>


<p style="margin-left:11%;"><b>-pre[:</b><i>stream_specifier</i><b>]</b>
<i>preset_name</i>
<b>(</b><i>output,per-stream</i><b>)</b></p>

<p style="margin-left:17%;">Specify the preset for matching
stream(s).</p>

<p style="margin-left:11%;"><b>-stats
(</b><i>global</i><b>)</b></p>

<p style="margin-left:17%;">Print encoding
progress/statistics. It is on by default, to explicitly
disable it you need to specify &quot;-nostats&quot;.</p>

<p style="margin-left:11%;"><b>-progress</b> <i>url</i>
<b>(</b><i>global</i><b>)</b></p>

<p style="margin-left:17%;">Send program-friendly progress
information to <i>url</i>.</p>

<p style="margin-left:17%; margin-top: 1em">Progress
information is written approximately every second and at the
end of the encoding process. It is made of
&quot;<i>key</i>=<i>value</i>&quot; lines. <i>key</i>
consists of only alphanumeric characters. The last key of a
sequence of progress information is always
&quot;progress&quot;.</p>

<p style="margin-left:11%;"><b>-stdin</b></p>

<p style="margin-left:17%;">Enable interaction on standard
input. On by default unless standard input is used as an
input. To explicitly disable interaction you need to specify
&quot;-nostdin&quot;.</p>

<p style="margin-left:17%; margin-top: 1em">Disabling
interaction on standard input is useful, for example, if
ffmpeg is in the background process group. Roughly the same
result can be achieved with &quot;ffmpeg ... &lt;
/dev/null&quot; but it requires a shell.</p>

<p style="margin-left:11%;"><b>-debug_ts
(</b><i>global</i><b>)</b></p>

<p style="margin-left:17%;">Print timestamp information. It
is off by default. This option is mostly useful for testing
and debugging purposes, and the output format may change
from one version to another, so it should not be employed by
portable scripts.</p>

<p style="margin-left:17%; margin-top: 1em">See also the
option &quot;-fdebug ts&quot;.</p>

<p style="margin-left:11%;"><b>-attach</b> <i>filename</i>
<b>(</b><i>output</i><b>)</b></p>

<p style="margin-left:17%;">Add an attachment to the output
file. This is supported by a few formats like Matroska for
e.g. fonts used in rendering subtitles. Attachments are
implemented as a specific type of stream, so this option
will add a new stream to the file. It is then possible to
use per-stream options on this stream in the usual way.
Attachment streams created with this option will be created
after all the other streams (i.e. those created with
&quot;-map&quot; or automatic mappings).</p>

<p style="margin-left:17%; margin-top: 1em">Note that for
Matroska you also have to set the mimetype metadata tag:</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i INPUT
-attach DejaVuSans.ttf -metadata:s:2
mimetype=application/x-truetype-font out.mkv</p>

<p style="margin-left:17%; margin-top: 1em">(assuming that
the attachment stream will be third in the output file).</p>


<p style="margin-left:11%;"><b>-dump_attachment[:</b><i>stream_specifier</i><b>]</b>
<i>filename</i> <b>(</b><i>input,per-stream</i><b>)</b></p>

<p style="margin-left:17%;">Extract the matching attachment
stream into a file named <i>filename</i>. If <i>filename</i>
is empty, then the value of the &quot;filename&quot;
metadata tag will be used.</p>

<p style="margin-left:17%; margin-top: 1em">E.g. to extract
the first attachment to a file named
&rsquo;out.ttf&rsquo;:</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg
-dump_attachment:t:0 out.ttf -i INPUT</p>

<p style="margin-left:17%; margin-top: 1em">To extract all
attachments to files determined by the &quot;filename&quot;
tag:</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg
-dump_attachment:t &quot;&quot; -i INPUT</p>

<p style="margin-left:17%; margin-top: 1em">Technical note
-- attachments are implemented as codec extradata, so this
option can actually be used to extract extradata from any
stream, not just attachments.</p>

<p style="margin-left:11%;"><b>-noautorotate</b></p>

<p style="margin-left:17%;">Disable automatically rotating
video based on file metadata.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Video
Options <br>
-vframes</b> <i>number</i> <b>(</b><i>output</i><b>)</b></p>

<p style="margin-left:17%;">Set the number of video frames
to output. This is an obsolete alias for
&quot;-frames:v&quot;, which you should use instead.</p>


<p style="margin-left:11%;"><b>-r[:</b><i>stream_specifier</i><b>]</b>
<i>fps</i>
<b>(</b><i>input/output,per-stream</i><b>)</b></p>

<p style="margin-left:17%;">Set frame rate (Hz value,
fraction or abbreviation).</p>

<p style="margin-left:17%; margin-top: 1em">As an input
option, ignore any timestamps stored in the file and instead
generate timestamps assuming constant frame rate <i>fps</i>.
This is not the same as the <b>-framerate</b> option used
for some input formats like image2 or v4l2 (it used to be
the same in older versions of FFmpeg). If in doubt use
<b>-framerate</b> instead of the input option <b>-r</b>.</p>

<p style="margin-left:17%; margin-top: 1em">As an output
option, duplicate or drop input frames to achieve constant
output frame rate <i>fps</i>.</p>


<p style="margin-left:11%;"><b>-s[:</b><i>stream_specifier</i><b>]</b>
<i>size</i>
<b>(</b><i>input/output,per-stream</i><b>)</b></p>

<p style="margin-left:17%;">Set frame size.</p>

<p style="margin-left:17%; margin-top: 1em">As an input
option, this is a shortcut for the <b>video_size</b> private
option, recognized by some demuxers for which the frame size
is either not stored in the file or is configurable -- e.g.
raw video or video grabbers.</p>

<p style="margin-left:17%; margin-top: 1em">As an output
option, this inserts the &quot;scale&quot; video filter to
the <i>end</i> of the corresponding filtergraph. Please use
the &quot;scale&quot; filter directly to insert it at the
beginning or some other place.</p>

<p style="margin-left:17%; margin-top: 1em">The format is
<b>wxh</b> (default - same as source).</p>


<p style="margin-left:11%;"><b>-aspect[:</b><i>stream_specifier</i><b>]</b>
<i>aspect</i> <b>(</b><i>output,per-stream</i><b>)</b></p>

<p style="margin-left:17%;">Set the video display aspect
ratio specified by <i>aspect</i>.</p>

<p style="margin-left:17%; margin-top: 1em"><i>aspect</i>
can be a floating point number string, or a string of the
form <i>num</i>:<i>den</i>, where <i>num</i> and <i>den</i>
are the numerator and denominator of the aspect ratio. For
example &quot;4:3&quot;, &quot;16:9&quot;,
&quot;1.3333&quot;, and &quot;1.7777&quot; are valid
argument values.</p>

<p style="margin-left:17%; margin-top: 1em">If used
together with <b>-vcodec copy</b>, it will affect the aspect
ratio stored at container level, but not the aspect ratio
stored in encoded frames, if it exists.</p>

<p style="margin-left:11%;"><b>-vn
(</b><i>input/output</i><b>)</b></p>

<p style="margin-left:17%;">As an input option, blocks all
video streams of a file from being filtered or being
automatically selected or mapped for any output. See
&quot;-discard&quot; option to disable streams
individually.</p>

<p style="margin-left:17%; margin-top: 1em">As an output
option, disables video recording i.e. automatic selection or
mapping of any video stream. For full manual control see the
&quot;-map&quot; option.</p>

<p style="margin-left:11%;"><b>-vcodec</b> <i>codec</i>
<b>(</b><i>output</i><b>)</b></p>

<p style="margin-left:17%;">Set the video codec. This is an
alias for &quot;-codec:v&quot;.</p>


<p style="margin-left:11%;"><b>-pass[:</b><i>stream_specifier</i><b>]</b>
<i>n</i> <b>(</b><i>output,per-stream</i><b>)</b></p>

<p style="margin-left:17%;">Select the pass number (1 or
2). It is used to do two-pass video encoding. The statistics
of the video are recorded in the first pass into a log file
(see also the option -passlogfile), and in the second pass
that log file is used to generate the video at the exact
requested bitrate. On pass 1, you may just deactivate audio
and set output to null, examples for Windows and Unix:</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
foo.mov -c:v libxvid -pass 1 -an -f rawvideo -y NUL <br>
ffmpeg -i foo.mov -c:v libxvid -pass 1 -an -f rawvideo -y
/dev/null</p>


<p style="margin-left:11%;"><b>-passlogfile[:</b><i>stream_specifier</i><b>]</b>
<i>prefix</i> <b>(</b><i>output,per-stream</i><b>)</b></p>

<p style="margin-left:17%;">Set two-pass log file name
prefix to <i>prefix</i>, the default file name prefix is
&rsquo;&rsquo;ffmpeg2pass&rsquo;&rsquo;. The complete file
name will be <i><small>PREFIX-N</small> .log</i>, where N is
a number specific to the output stream</p>

<p style="margin-left:11%;"><b>-vf</b> <i>filtergraph</i>
<b>(</b><i>output</i><b>)</b></p>

<p style="margin-left:17%;">Create the filtergraph
specified by <i>filtergraph</i> and use it to filter the
stream.</p>

<p style="margin-left:17%; margin-top: 1em">This is an
alias for &quot;-filter:v&quot;, see the <b>-filter
option</b>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Advanced
Video options <br>
-pix_fmt[:</b><i>stream_specifier</i><b>]</b> <i>format</i>
<b>(</b><i>input/output,per-stream</i><b>)</b></p>

<p style="margin-left:17%;">Set pixel format. Use
&quot;-pix_fmts&quot; to show all the supported pixel
formats. If the selected pixel format can not be selected,
ffmpeg will print a warning and select the best pixel format
supported by the encoder. If <i>pix_fmt</i> is prefixed by a
&quot;+&quot;, ffmpeg will exit with an error if the
requested pixel format can not be selected, and automatic
conversions inside filtergraphs are disabled. If
<i>pix_fmt</i> is a single &quot;+&quot;, ffmpeg selects the
same pixel format as the input (or graph output) and
automatic conversions are disabled.</p>

<p style="margin-left:11%;"><b>-sws_flags</b> <i>flags</i>
<b>(</b><i>input/output</i><b>)</b></p>

<p style="margin-left:17%;">Set SwScaler flags.</p>


<p style="margin-left:11%;"><b>-rc_override[:</b><i>stream_specifier</i><b>]</b>
<i>override</i> <b>(</b><i>output,per-stream</i><b>)</b></p>

<p style="margin-left:17%;">Rate control override for
specific intervals, formatted as &quot;int,int,int&quot;
list separated with slashes. Two first values are the
beginning and end frame numbers, last one is quantizer to
use if positive, or quality factor if negative.</p>

<p style="margin-left:11%;"><b>-ilme</b></p>

<p style="margin-left:17%;">Force interlacing support in
encoder ( <small>MPEG-2</small> and <small>MPEG-4</small>
only). Use this option if your input file is interlaced and
you want to keep the interlaced format for minimum losses.
The alternative is to deinterlace the input stream with
<b>-deinterlace</b>, but deinterlacing introduces
losses.</p>

<p style="margin-left:11%;"><b>-psnr</b></p>

<p style="margin-left:17%;">Calculate <small>PSNR</small>
of compressed frames.</p>

<p style="margin-left:11%;"><b>-vstats</b></p>

<p style="margin-left:17%;">Dump video coding statistics to
<i>vstats_HHMMSS.log</i>.</p>

<p style="margin-left:11%;"><b>-vstats_file</b>
<i>file</i></p>

<p style="margin-left:17%;">Dump video coding statistics to
<i>file</i>.</p>

<p style="margin-left:11%;"><b>-vstats_version</b>
<i>file</i></p>

<p style="margin-left:17%;">Specifies which version of the
vstats format to use. Default is 2.</p>

<p style="margin-left:17%; margin-top: 1em">version = 1
:</p>

<p style="margin-left:17%; margin-top: 1em">&quot;frame=
%5d q= %2.1f PSNR= %6.2f f_size= %6d s_size= %8.0fkB time=
%0.3f br= %7.1fkbits/s avg_br= %7.1fkbits/s&quot;</p>

<p style="margin-left:17%; margin-top: 1em">version &gt;
1:</p>

<p style="margin-left:17%; margin-top: 1em">&quot;out= %2d
st= %2d frame= %5d q= %2.1f PSNR= %6.2f f_size= %6d s_size=
%8.0fkB time= %0.3f br= %7.1fkbits/s avg_br=
%7.1fkbits/s&quot;</p>


<p style="margin-left:11%;"><b>-top[:</b><i>stream_specifier</i><b>]</b>
<i>n</i> <b>(</b><i>output,per-stream</i><b>)</b></p>

<p style="margin-left:17%;">top=1/bottom=0/auto=-1 field
first</p>

<p style="margin-left:11%;"><b>-dc</b> <i>precision</i></p>

<p style="margin-left:17%;">Intra_dc_precision.</p>

<p style="margin-left:11%;"><b>-vtag</b> <i>fourcc/tag</i>
<b>(</b><i>output</i><b>)</b></p>

<p style="margin-left:17%;">Force video tag/fourcc. This is
an alias for &quot;-tag:v&quot;.</p>

<p style="margin-left:11%;"><b>-qphist
(</b><i>global</i><b>)</b></p>

<p style="margin-left:17%;">Show <small>QP</small>
histogram</p>

<p style="margin-left:11%;"><b>-vbsf</b>
<i>bitstream_filter</i></p>

<p style="margin-left:17%;">Deprecated see -bsf</p>


<p style="margin-left:11%;"><b>-force_key_frames[:</b><i>stream_specifier</i><b>]</b>
<i>time</i><b>[,</b><i>time</i><b>...]
(</b><i>output,per-stream</i><b>) <br>
-force_key_frames[:</b><i>stream_specifier</i><b>]
expr:</b><i>expr</i>
<b>(</b><i>output,per-stream</i><b>)</b></p>

<p style="margin-left:17%;">Force key frames at the
specified timestamps, more precisely at the first frames
after each specified time.</p>

<p style="margin-left:17%; margin-top: 1em">If the argument
is prefixed with &quot;expr:&quot;, the string <i>expr</i>
is interpreted like an expression and is evaluated for each
frame. A key frame is forced in case the evaluation is
non-zero.</p>

<p style="margin-left:17%; margin-top: 1em">If one of the
times is &quot;&quot;chapters&quot;[<i>delta</i>]&quot;, it
is expanded into the time of the beginning of all chapters
in the file, shifted by <i>delta</i>, expressed as a time in
seconds. This option can be useful to ensure that a seek
point is present at a chapter mark or any other designated
place in the output file.</p>

<p style="margin-left:17%; margin-top: 1em">For example, to
insert a key frame at 5 minutes, plus key frames 0.1 second
before the beginning of every chapter:</p>


<p style="margin-left:17%; margin-top: 1em">-force_key_frames
0:05:00,chapters-0.1</p>

<p style="margin-left:17%; margin-top: 1em">The expression
in <i>expr</i> can contain the following constants:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>n</b></p></td>
<td width="5%"></td>
<td width="77%">


<p>the number of current processed frame, starting from
0</p> </td></tr>
</table>

<p style="margin-left:17%;"><b>n_forced</b></p>

<p style="margin-left:23%;">the number of forced frames</p>

<p style="margin-left:17%;"><b>prev_forced_n</b></p>

<p style="margin-left:23%;">the number of the previous
forced frame, it is &quot;NAN&quot; when no keyframe was
forced yet</p>

<p style="margin-left:17%;"><b>prev_forced_t</b></p>

<p style="margin-left:23%;">the time of the previous forced
frame, it is &quot;NAN&quot; when no keyframe was forced
yet</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>t</b></p></td>
<td width="5%"></td>
<td width="60%">


<p>the time of the current processed frame</p></td>
<td width="17%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">For example to
force a key frame every 5 seconds, you can specify:</p>


<p style="margin-left:17%; margin-top: 1em">-force_key_frames
expr:gte(t,n_forced*5)</p>

<p style="margin-left:17%; margin-top: 1em">To force a key
frame 5 seconds after the time of the last forced one,
starting from second 13:</p>


<p style="margin-left:17%; margin-top: 1em">-force_key_frames
expr:if(isnan(prev_forced_t),gte(t,13),gte(t,prev_forced_t+5))</p>

<p style="margin-left:17%; margin-top: 1em">Note that
forcing too many keyframes is very harmful for the lookahead
algorithms of certain encoders: using fixed-GOP options or
similar would be more efficient.</p>


<p style="margin-left:11%;"><b>-copyinkf[:</b><i>stream_specifier</i><b>]
(</b><i>output,per-stream</i><b>)</b></p>

<p style="margin-left:17%;">When doing stream copy, copy
also non-key frames found at the beginning.</p>

<p style="margin-left:11%;"><b>-init_hw_device</b>
<i>type</i><b>[=</b><i>name</i><b>][:</b><i>device</i><b>[,</b><i>key=value</i><b>...]]</b></p>

<p style="margin-left:17%;">Initialise a new hardware
device of type <i>type</i> called <i>name</i>, using the
given device parameters. If no name is specified it will
receive a default name of the form
&quot;<i>type</i>%d&quot;.</p>

<p style="margin-left:17%; margin-top: 1em">The meaning of
<i>device</i> and the following arguments depends on the
device type: <b><br>
cuda</b></p>

<p style="margin-left:23%;"><i>device</i> is the number of
the <small>CUDA</small> device.</p>

<p style="margin-left:17%;"><b>dxva2</b></p>

<p style="margin-left:23%;"><i>device</i> is the number of
the Direct3D 9 display adapter.</p>

<p style="margin-left:17%;"><b>vaapi</b></p>

<p style="margin-left:23%;"><i>device</i> is either an X11
display name or a <small>DRM</small> render node. If not
specified, it will attempt to open the default X11 display
(<i>$DISPLAY</i>) and then the first <small>DRM</small>
render node (<i>/dev/dri/renderD128</i>).</p>

<p style="margin-left:17%;"><b>vdpau</b></p>

<p style="margin-left:23%;"><i>device</i> is an X11 display
name. If not specified, it will attempt to open the default
X11 display (<i>$DISPLAY</i>).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>qsv</b></p></td>
<td width="1%"></td>
<td width="77%">


<p><i>device</i> selects a value in <b>MFX_IMPL_*</b>.
Allowed values are:</p></td></tr>
</table>

<p style="margin-left:23%;"><b>auto</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td>
<td width="3%">


<p><b>sw</b></p></td>
<td width="74%">
</td></tr>
<tr valign="top" align="left">
<td width="23%"></td>
<td width="3%">


<p><b>hw</b></p></td>
<td width="74%">
</td></tr>
</table>

<p style="margin-left:23%;"><b>auto_any <br>
hw_any</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td>
<td width="5%">


<p><b>hw2</b></p></td>
<td width="72%">
</td></tr>
<tr valign="top" align="left">
<td width="23%"></td>
<td width="5%">


<p><b>hw3</b></p></td>
<td width="72%">
</td></tr>
<tr valign="top" align="left">
<td width="23%"></td>
<td width="5%">


<p><b>hw4</b></p></td>
<td width="72%">
</td></tr>
</table>

<p style="margin-left:23%;">If not specified,
<b>auto_any</b> is used. (Note that it may be easier to
achieve the desired result for <small>QSV</small> by
creating the platform-appropriate subdevice (<b>dxva2</b> or
<b>vaapi</b>) and then deriving a <small>QSV</small> device
from that.)</p>

<p style="margin-left:17%;"><b>opencl</b></p>

<p style="margin-left:23%;"><i>device</i> selects the
platform and device as
<i>platform_index.device_index</i>.</p>

<p style="margin-left:23%; margin-top: 1em">The set of
devices can also be filtered using the key-value pairs to
find only devices matching particular platform or device
strings.</p>

<p style="margin-left:23%; margin-top: 1em">The strings
usable as filters are: <b><br>
platform_profile <br>
platform_version <br>
platform_name <br>
platform_vendor <br>
platform_extensions <br>
device_name <br>
device_vendor <br>
driver_version <br>
device_version <br>
device_profile <br>
device_extensions <br>
device_type</b></p>

<p style="margin-left:23%; margin-top: 1em">The indices and
filters must together uniquely select a device.</p>

<p style="margin-left:23%; margin-top: 1em">Examples:
<i><br>
-init_hw_device opencl:0.1</i></p>

<p style="margin-left:29%;">Choose the second device on the
first platform.</p>

<p style="margin-left:23%;"><i>-init_hw_device
opencl:,device_name=Foo9000</i></p>

<p style="margin-left:29%;">Choose the device with a name
containing the string <i>Foo9000</i>.</p>

<p style="margin-left:23%;"><i>-init_hw_device <br>

opencl:1,device_type=gpu,device_extensions=cl_khr_fp16</i></p>

<p style="margin-left:29%;">Choose the <small>GPU</small>
device on the second platform supporting the
<i>cl_khr_fp16</i> extension.</p>

<p style="margin-left:11%;"><b>-init_hw_device</b>
<i>type</i><b>[=</b><i>name</i><b>]@</b><i>source</i></p>

<p style="margin-left:17%;">Initialise a new hardware
device of type <i>type</i> called <i>name</i>, deriving it
from the existing device with the name <i>source</i>.</p>

<p style="margin-left:11%;"><b>-init_hw_device list</b></p>

<p style="margin-left:17%;">List all hardware device types
supported in this build of ffmpeg.</p>

<p style="margin-left:11%;"><b>-filter_hw_device</b>
<i>name</i></p>

<p style="margin-left:17%;">Pass the hardware device called
<i>name</i> to all filters in any filter graph. This can be
used to set the device to upload to with the
&quot;hwupload&quot; filter, or the device to map to with
the &quot;hwmap&quot; filter. Other filters may also make
use of this parameter when they require a hardware device.
Note that this is typically only required when the input is
not already in hardware frames - when it is, filters will
derive the device they require from the context of the
frames they receive as input.</p>

<p style="margin-left:17%; margin-top: 1em">This is a
global setting, so all filters will receive the same
device.</p>


<p style="margin-left:11%;"><b>-hwaccel[:</b><i>stream_specifier</i><b>]</b>
<i>hwaccel</i> <b>(</b><i>input,per-stream</i><b>)</b></p>

<p style="margin-left:17%;">Use hardware acceleration to
decode the matching stream(s). The allowed values of
<i>hwaccel</i> are: <b><br>
none</b></p>

<p style="margin-left:23%;">Do not use any hardware
acceleration (the default).</p>

<p style="margin-left:17%;"><b>auto</b></p>

<p style="margin-left:23%;">Automatically select the
hardware acceleration method.</p>

<p style="margin-left:17%;"><b>vdpau</b></p>

<p style="margin-left:23%;">Use <small>VDPAU</small> (Video
Decode and Presentation <small>API</small> for Unix)
hardware acceleration.</p>

<p style="margin-left:17%;"><b>dxva2</b></p>

<p style="margin-left:23%;">Use <small>DXVA2</small>
(DirectX Video Acceleration) hardware acceleration.</p>

<p style="margin-left:17%;"><b>vaapi</b></p>

<p style="margin-left:23%;">Use <small>VAAPI</small> (Video
Acceleration <small>API</small> ) hardware acceleration.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>qsv</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>Use the Intel QuickSync Video acceleration for video
transcoding.</p> </td></tr>
</table>

<p style="margin-left:23%; margin-top: 1em">Unlike most
other values, this option does not enable accelerated
decoding (that is used automatically whenever a qsv decoder
is selected), but accelerated transcoding, without copying
the frames into the system memory.</p>

<p style="margin-left:23%; margin-top: 1em">For it to work,
both the decoder and the encoder must support
<small>QSV</small> acceleration and no filters must be
used.</p>

<p style="margin-left:17%; margin-top: 1em">This option has
no effect if the selected hwaccel is not available or not
supported by the chosen decoder.</p>

<p style="margin-left:17%; margin-top: 1em">Note that most
acceleration methods are intended for playback and will not
be faster than software decoding on modern CPUs.
Additionally, <b>ffmpeg</b> will usually need to copy the
decoded frames from the <small>GPU</small> memory into the
system memory, resulting in further performance loss. This
option is thus mainly useful for testing.</p>


<p style="margin-left:11%;"><b>-hwaccel_device[:</b><i>stream_specifier</i><b>]</b>
<i>hwaccel_device</i>
<b>(</b><i>input,per-stream</i><b>)</b></p>

<p style="margin-left:17%;">Select a device to use for
hardware acceleration.</p>

<p style="margin-left:17%; margin-top: 1em">This option
only makes sense when the <b>-hwaccel</b> option is also
specified. It can either refer to an existing device created
with <b>-init_hw_device</b> by name, or it can create a new
device as if <b>-init_hw_device</b>
<i>type</i>:<i>hwaccel_device</i> were called immediately
before.</p>

<p style="margin-left:11%;"><b>-hwaccels</b></p>

<p style="margin-left:17%;">List all hardware acceleration
methods supported in this build of ffmpeg.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Audio
Options <br>
-aframes</b> <i>number</i> <b>(</b><i>output</i><b>)</b></p>

<p style="margin-left:17%;">Set the number of audio frames
to output. This is an obsolete alias for
&quot;-frames:a&quot;, which you should use instead.</p>


<p style="margin-left:11%;"><b>-ar[:</b><i>stream_specifier</i><b>]</b>
<i>freq</i>
<b>(</b><i>input/output,per-stream</i><b>)</b></p>

<p style="margin-left:17%;">Set the audio sampling
frequency. For output streams it is set by default to the
frequency of the corresponding input stream. For input
streams this option only makes sense for audio grabbing
devices and raw demuxers and is mapped to the corresponding
demuxer options.</p>

<p style="margin-left:11%;"><b>-aq</b> <i>q</i>
<b>(</b><i>output</i><b>)</b></p>

<p style="margin-left:17%;">Set the audio quality
(codec-specific, <small>VBR</small> ). This is an alias for
-q:a.</p>


<p style="margin-left:11%;"><b>-ac[:</b><i>stream_specifier</i><b>]</b>
<i>channels</i>
<b>(</b><i>input/output,per-stream</i><b>)</b></p>

<p style="margin-left:17%;">Set the number of audio
channels. For output streams it is set by default to the
number of input audio channels. For input streams this
option only makes sense for audio grabbing devices and raw
demuxers and is mapped to the corresponding demuxer
options.</p>

<p style="margin-left:11%;"><b>-an
(</b><i>input/output</i><b>)</b></p>

<p style="margin-left:17%;">As an input option, blocks all
audio streams of a file from being filtered or being
automatically selected or mapped for any output. See
&quot;-discard&quot; option to disable streams
individually.</p>

<p style="margin-left:17%; margin-top: 1em">As an output
option, disables audio recording i.e. automatic selection or
mapping of any audio stream. For full manual control see the
&quot;-map&quot; option.</p>

<p style="margin-left:11%;"><b>-acodec</b> <i>codec</i>
<b>(</b><i>input/output</i><b>)</b></p>

<p style="margin-left:17%;">Set the audio codec. This is an
alias for &quot;-codec:a&quot;.</p>


<p style="margin-left:11%;"><b>-sample_fmt[:</b><i>stream_specifier</i><b>]</b>
<i>sample_fmt</i>
<b>(</b><i>output,per-stream</i><b>)</b></p>

<p style="margin-left:17%;">Set the audio sample format.
Use &quot;-sample_fmts&quot; to get a list of supported
sample formats.</p>

<p style="margin-left:11%;"><b>-af</b> <i>filtergraph</i>
<b>(</b><i>output</i><b>)</b></p>

<p style="margin-left:17%;">Create the filtergraph
specified by <i>filtergraph</i> and use it to filter the
stream.</p>

<p style="margin-left:17%; margin-top: 1em">This is an
alias for &quot;-filter:a&quot;, see the <b>-filter
option</b>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Advanced
Audio options <br>
-atag</b> <i>fourcc/tag</i>
<b>(</b><i>output</i><b>)</b></p>

<p style="margin-left:17%;">Force audio tag/fourcc. This is
an alias for &quot;-tag:a&quot;.</p>

<p style="margin-left:11%;"><b>-absf</b>
<i>bitstream_filter</i></p>

<p style="margin-left:17%;">Deprecated, see -bsf</p>

<p style="margin-left:11%;"><b>-guess_layout_max</b>
<i>channels</i> <b>(</b><i>input,per-stream</i><b>)</b></p>

<p style="margin-left:17%;">If some input channel layout is
not known, try to guess only if it corresponds to at most
the specified number of channels. For example, 2 tells to
<b>ffmpeg</b> to recognize 1 channel as mono and 2 channels
as stereo but not 6 channels as 5.1. The default is to
always try to guess. Use 0 to disable all guessing.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Subtitle
options <br>
-scodec</b> <i>codec</i>
<b>(</b><i>input/output</i><b>)</b></p>

<p style="margin-left:17%;">Set the subtitle codec. This is
an alias for &quot;-codec:s&quot;.</p>

<p style="margin-left:11%;"><b>-sn
(</b><i>input/output</i><b>)</b></p>

<p style="margin-left:17%;">As an input option, blocks all
subtitle streams of a file from being filtered or being
automatically selected or mapped for any output. See
&quot;-discard&quot; option to disable streams
individually.</p>

<p style="margin-left:17%; margin-top: 1em">As an output
option, disables subtitle recording i.e. automatic selection
or mapping of any subtitle stream. For full manual control
see the &quot;-map&quot; option.</p>

<p style="margin-left:11%;"><b>-sbsf</b>
<i>bitstream_filter</i></p>

<p style="margin-left:17%;">Deprecated, see -bsf</p>

<p style="margin-left:11%; margin-top: 1em"><b>Advanced
Subtitle options <br>
-fix_sub_duration</b></p>

<p style="margin-left:17%;">Fix subtitles durations. For
each subtitle, wait for the next packet in the same stream
and adjust the duration of the first to avoid overlap. This
is necessary with some subtitles codecs, especially
<small>DVB</small> subtitles, because the duration in the
original packet is only a rough estimate and the end is
actually marked by an empty subtitle frame. Failing to use
this option when necessary can result in exaggerated
durations or muxing failures due to non-monotonic
timestamps.</p>

<p style="margin-left:17%; margin-top: 1em">Note that this
option will delay the output of all data until the next
subtitle packet is decoded: it may increase memory
consumption and latency a lot.</p>

<p style="margin-left:11%;"><b>-canvas_size</b>
<i>size</i></p>

<p style="margin-left:17%;">Set the size of the canvas used
to render subtitles.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Advanced
options <br>
-map <br>

[-]</b><i>input_file_id</i><b>[:</b><i>stream_specifier</i><b>][?][,</b><i>sync_file_id</i><b>[:</b><i>stream_specifier</i><b>]]
<br>
|</b> <i>[linklabel]</i> <b>(</b><i>output</i><b>)</b></p>

<p style="margin-left:17%;">Designate one or more input
streams as a source for the output file. Each input stream
is identified by the input file index <i>input_file_id</i>
and the input stream index <i>input_stream_id</i> within the
input file. Both indices start at 0. If specified,
<i>sync_file_id</i>:<i>stream_specifier</i> sets which input
stream is used as a presentation sync reference.</p>

<p style="margin-left:17%; margin-top: 1em">The first
&quot;-map&quot; option on the command line specifies the
source for output stream 0, the second &quot;-map&quot;
option specifies the source for output stream 1, etc.</p>

<p style="margin-left:17%; margin-top: 1em">A &quot;-&quot;
character before the stream identifier creates a
&quot;negative&quot; mapping. It disables matching streams
from already created mappings.</p>

<p style="margin-left:17%; margin-top: 1em">A trailing
&quot;?&quot; after the stream index will allow the map to
be optional: if the map matches no streams the map will be
ignored instead of failing. Note the map will still fail if
an invalid input file index is used; such as if the map
refers to a non-existent input.</p>

<p style="margin-left:17%; margin-top: 1em">An alternative
<i>[linklabel]</i> form will map outputs from complex filter
graphs (see the <b>-filter_complex</b> option) to the output
file. <i>linklabel</i> must correspond to a defined output
link label in the graph.</p>

<p style="margin-left:17%; margin-top: 1em">For example, to
map <small>ALL</small> streams from the first input file to
output</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i INPUT
-map 0 output</p>

<p style="margin-left:17%; margin-top: 1em">For example, if
you have two audio streams in the first input file, these
streams are identified by &quot;0:0&quot; and
&quot;0:1&quot;. You can use &quot;-map&quot; to select
which streams to place in an output file. For example:</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i INPUT
-map 0:1 out.wav</p>

<p style="margin-left:17%; margin-top: 1em">will map the
input stream in <i><small>INPUT</small></i> identified by
&quot;0:1&quot; to the (single) output stream in
<i>out.wav</i>.</p>

<p style="margin-left:17%; margin-top: 1em">For example, to
select the stream with index 2 from input file <i>a.mov</i>
(specified by the identifier &quot;0:2&quot;), and stream
with index 6 from input <i>b.mov</i> (specified by the
identifier &quot;1:6&quot;), and copy them to the output
file <i>out.mov</i>:</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i a.mov
-i b.mov -c copy -map 0:2 -map 1:6 out.mov</p>

<p style="margin-left:17%; margin-top: 1em">To select all
video and the third audio stream from an input file:</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i INPUT
-map 0:v -map 0:a:2 OUTPUT</p>

<p style="margin-left:17%; margin-top: 1em">To map all the
streams except the second audio, use negative mappings</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i INPUT
-map 0 -map -0:a:1 OUTPUT</p>

<p style="margin-left:17%; margin-top: 1em">To map the
video and audio streams from the first input, and using the
trailing &quot;?&quot;, ignore the audio mapping if no audio
streams exist in the first input:</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i INPUT
-map 0:v -map 0:a? OUTPUT</p>

<p style="margin-left:17%; margin-top: 1em">To pick the
English audio stream:</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i INPUT
-map 0:m:language:eng OUTPUT</p>

<p style="margin-left:17%; margin-top: 1em">Note that using
this option disables the default mappings for this output
file.</p>

<p style="margin-left:11%;"><b>-ignore_unknown</b></p>

<p style="margin-left:17%;">Ignore input streams with
unknown type instead of failing if copying such streams is
attempted.</p>

<p style="margin-left:11%;"><b>-copy_unknown</b></p>

<p style="margin-left:17%;">Allow input streams with
unknown type to be copied instead of failing if copying such
streams is attempted.</p>

<p style="margin-left:11%;"><b>-map_channel <br>

[</b><i>input_file_id</i><b>.</b><i>stream_specifier</i><b>.</b><i>channel_id</i><b>|-1][?][:</b><i>output_file_id</i><b>.</b><i>stream_specifier</i><b>]</b></p>

<p style="margin-left:17%;">Map an audio channel from a
given input to an output. If
<i>output_file_id</i>.<i>stream_specifier</i> is not set,
the audio channel will be mapped on all the audio
streams.</p>

<p style="margin-left:17%; margin-top: 1em">Using
&quot;-1&quot; instead of
<i>input_file_id</i>.<i>stream_specifier</i>.<i>channel_id</i>
will map a muted channel.</p>

<p style="margin-left:17%; margin-top: 1em">A trailing
&quot;?&quot; will allow the map_channel to be optional: if
the map_channel matches no channel the map_channel will be
ignored instead of failing.</p>

<p style="margin-left:17%; margin-top: 1em">For example,
assuming <i><small>INPUT</small></i> is a stereo audio file,
you can switch the two audio channels with the following
command:</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i INPUT
-map_channel 0.0.1 -map_channel 0.0.0 OUTPUT</p>

<p style="margin-left:17%; margin-top: 1em">If you want to
mute the first channel and keep the second:</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i INPUT
-map_channel -1 -map_channel 0.0.1 OUTPUT</p>

<p style="margin-left:17%; margin-top: 1em">The order of
the &quot;-map_channel&quot; option specifies the order of
the channels in the output stream. The output channel layout
is guessed from the number of channels mapped (mono if one
&quot;-map_channel&quot;, stereo if two, etc.). Using
&quot;-ac&quot; in combination of &quot;-map_channel&quot;
makes the channel gain levels to be updated if input and
output channel layouts don&rsquo;t match (for instance two
&quot;-map_channel&quot; options and &quot;-ac 6&quot;).</p>

<p style="margin-left:17%; margin-top: 1em">You can also
extract each channel of an input to specific outputs; the
following command extracts two channels of the
<i><small>INPUT</small></i> audio stream (file 0, stream 0)
to the respective <i><small>OUTPUT_CH0</small></i> and
<i><small>OUTPUT_CH1</small></i> outputs:</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i INPUT
-map_channel 0.0.0 OUTPUT_CH0 -map_channel 0.0.1
OUTPUT_CH1</p>

<p style="margin-left:17%; margin-top: 1em">The following
example splits the channels of a stereo input into two
separate streams, which are put into the same output
file:</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
stereo.wav -map 0:0 -map 0:0 -map_channel 0.0.0:0.0
-map_channel 0.0.1:0.1 -y out.ogg</p>

<p style="margin-left:17%; margin-top: 1em">Note that
currently each output stream can only contain channels from
a single input stream; you can&rsquo;t for example use
&quot;-map_channel&quot; to pick multiple input audio
channels contained in different streams (from the same or
different files) and merge them into a single output stream.
It is therefore not currently possible, for example, to turn
two separate mono streams into a single stereo stream.
However splitting a stereo stream into two single channel
mono streams is possible.</p>

<p style="margin-left:17%; margin-top: 1em">If you need
this feature, a possible workaround is to use the
<i>amerge</i> filter. For example, if you need to merge a
media (here <i>input.mkv</i>) with 2 mono audio streams into
one single stereo channel audio stream (and keep the video
stream), you can use the following command:</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
input.mkv -filter_complex &quot;[0:1] [0:2] amerge&quot;
-c:a pcm_s16le -c:v copy output.mkv</p>

<p style="margin-left:17%; margin-top: 1em">To map the
first two audio channels from the first input, and using the
trailing &quot;?&quot;, ignore the audio channel mapping if
the first input is mono instead of stereo:</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i INPUT
-map_channel 0.0.0 -map_channel 0.0.1? OUTPUT</p>


<p style="margin-left:11%;"><b>-map_metadata[:</b><i>metadata_spec_out</i><b>]</b>
<i>infile</i><b>[:</b><i>metadata_spec_in</i><b>] <br>
(</b><i>output,per-metadata</i><b>)</b></p>

<p style="margin-left:17%;">Set metadata information of the
next output file from <i>infile</i>. Note that those are
file indices (zero-based), not filenames. Optional
<i>metadata_spec_in/out</i> parameters specify, which
metadata to copy. A metadata specifier can have the
following forms:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><i>g</i></p></td>
<td width="5%"></td>
<td width="77%">


<p>global metadata, i.e. metadata that applies to the whole
file</p> </td></tr>
</table>


<p style="margin-left:17%;"><i>s</i><b>[:</b><i>stream_spec</i><b>]</b></p>

<p style="margin-left:23%;">per-stream metadata.
<i>stream_spec</i> is a stream specifier as described in the
<b>Stream specifiers</b> chapter. In an input metadata
specifier, the first matching stream is copied from. In an
output metadata specifier, all matching streams are copied
to.</p>


<p style="margin-left:17%;"><i>c</i><b>:</b><i>chapter_index</i></p>

<p style="margin-left:23%;">per-chapter metadata.
<i>chapter_index</i> is the zero-based chapter index.</p>


<p style="margin-left:17%;"><i>p</i><b>:</b><i>program_index</i></p>

<p style="margin-left:23%;">per-program metadata.
<i>program_index</i> is the zero-based program index.</p>

<p style="margin-left:17%; margin-top: 1em">If metadata
specifier is omitted, it defaults to global.</p>

<p style="margin-left:17%; margin-top: 1em">By default,
global metadata is copied from the first input file,
per-stream and per-chapter metadata is copied along with
streams/chapters. These default mappings are disabled by
creating any mapping of the relevant type. A negative file
index can be used to create a dummy mapping that just
disables automatic copying.</p>

<p style="margin-left:17%; margin-top: 1em">For example to
copy metadata from the first stream of the input file to
global metadata of the output file:</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
in.ogg -map_metadata 0:s:0 out.mp3</p>

<p style="margin-left:17%; margin-top: 1em">To do the
reverse, i.e. copy global metadata to all audio streams:</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
in.mkv -map_metadata:s:a 0:g out.mkv</p>

<p style="margin-left:17%; margin-top: 1em">Note that
simple 0 would work as well in this example, since global
metadata is assumed by default.</p>

<p style="margin-left:11%;"><b>-map_chapters</b>
<i>input_file_index</i> <b>(</b><i>output</i><b>)</b></p>

<p style="margin-left:17%;">Copy chapters from input file
with index <i>input_file_index</i> to the next output file.
If no chapter mapping is specified, then chapters are copied
from the first input file with at least one chapter. Use a
negative file index to disable any chapter copying.</p>

<p style="margin-left:11%;"><b>-benchmark
(</b><i>global</i><b>)</b></p>

<p style="margin-left:17%;">Show benchmarking information
at the end of an encode. Shows real, system and user time
used and maximum memory consumption. Maximum memory
consumption is not supported on all systems, it will usually
display as 0 if not supported.</p>

<p style="margin-left:11%;"><b>-benchmark_all
(</b><i>global</i><b>)</b></p>

<p style="margin-left:17%;">Show benchmarking information
during the encode. Shows real, system and user time used in
various steps (audio/video encode/decode).</p>

<p style="margin-left:11%;"><b>-timelimit</b>
<i>duration</i> <b>(</b><i>global</i><b>)</b></p>

<p style="margin-left:17%;">Exit after ffmpeg has been
running for <i>duration</i> seconds.</p>

<p style="margin-left:11%;"><b>-dump
(</b><i>global</i><b>)</b></p>

<p style="margin-left:17%;">Dump each input packet to
stderr.</p>

<p style="margin-left:11%;"><b>-hex
(</b><i>global</i><b>)</b></p>

<p style="margin-left:17%;">When dumping packets, also dump
the payload.</p>

<p style="margin-left:11%;"><b>-re
(</b><i>input</i><b>)</b></p>

<p style="margin-left:17%;">Read input at native frame
rate. Mainly used to simulate a grab device, or live input
stream (e.g. when reading from a file). Should not be used
with actual grab devices or live input streams (where it can
cause packet loss). By default <b>ffmpeg</b> attempts to
read the input(s) as fast as possible. This option will slow
down the reading of the input(s) to the native frame rate of
the input(s). It is useful for real-time output (e.g. live
streaming).</p>

<p style="margin-left:11%;"><b>-vsync</b>
<i>parameter</i></p>

<p style="margin-left:17%;">Video sync method. For
compatibility reasons old values can be specified as
numbers. Newly added values will have to be specified as
strings always. <b><br>
0, passthrough</b></p>

<p style="margin-left:23%;">Each frame is passed with its
timestamp from the demuxer to the muxer.</p>

<p style="margin-left:17%;"><b>1, cfr</b></p>

<p style="margin-left:23%;">Frames will be duplicated and
dropped to achieve exactly the requested constant frame
rate.</p>

<p style="margin-left:17%;"><b>2, vfr</b></p>

<p style="margin-left:23%;">Frames are passed through with
their timestamp or dropped so as to prevent 2 frames from
having the same timestamp.</p>

<p style="margin-left:17%;"><b>drop</b></p>

<p style="margin-left:23%;">As passthrough but destroys all
timestamps, making the muxer generate fresh timestamps based
on frame-rate.</p>

<p style="margin-left:17%;"><b>-1, auto</b></p>

<p style="margin-left:23%;">Chooses between 1 and 2
depending on muxer capabilities. This is the default
method.</p>

<p style="margin-left:17%; margin-top: 1em">Note that the
timestamps may be further modified by the muxer, after this.
For example, in the case that the format option
<b>avoid_negative_ts</b> is enabled.</p>

<p style="margin-left:17%; margin-top: 1em">With -map you
can select from which stream the timestamps should be taken.
You can leave either video or audio unchanged and sync the
remaining stream(s) to the unchanged one.</p>

<p style="margin-left:11%;"><b>-frame_drop_threshold</b>
<i>parameter</i></p>

<p style="margin-left:17%;">Frame drop threshold, which
specifies how much behind video frames can be before they
are dropped. In frame rate units, so 1.0 is one frame. The
default is -1.1. One possible usecase is to avoid framedrops
in case of noisy timestamps or to increase frame drop
precision in case of exact timestamps.</p>

<p style="margin-left:11%;"><b>-async</b>
<i>samples_per_second</i></p>

<p style="margin-left:17%;">Audio sync method.
&quot;Stretches/squeezes&quot; the audio stream to match the
timestamps, the parameter is the maximum samples per second
by which the audio is changed. -async 1 is a special case
where only the start of the audio stream is corrected
without any later correction.</p>

<p style="margin-left:17%; margin-top: 1em">Note that the
timestamps may be further modified by the muxer, after this.
For example, in the case that the format option
<b>avoid_negative_ts</b> is enabled.</p>

<p style="margin-left:17%; margin-top: 1em">This option has
been deprecated. Use the &quot;aresample&quot; audio filter
instead.</p>

<p style="margin-left:11%;"><b>-copyts</b></p>

<p style="margin-left:17%;">Do not process input
timestamps, but keep their values without trying to sanitize
them. In particular, do not remove the initial start time
offset value.</p>

<p style="margin-left:17%; margin-top: 1em">Note that,
depending on the <b>vsync</b> option or on specific muxer
processing (e.g. in case the format option
<b>avoid_negative_ts</b> is enabled) the output timestamps
may mismatch with the input timestamps even when this option
is selected.</p>

<p style="margin-left:11%;"><b>-start_at_zero</b></p>

<p style="margin-left:17%;">When used with <b>copyts</b>,
shift input timestamps so they start at zero.</p>

<p style="margin-left:17%; margin-top: 1em">This means that
using e.g. &quot;-ss 50&quot; will make output timestamps
start at 50 seconds, regardless of what timestamp the input
file started at.</p>

<p style="margin-left:11%;"><b>-copytb</b> <i>mode</i></p>

<p style="margin-left:17%;">Specify how to set the encoder
timebase when stream copying. <i>mode</i> is an integer
numeric value, and can assume one of the following
values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>1</b></p></td>
<td width="5%"></td>
<td width="39%">


<p>Use the demuxer timebase.</p></td>
<td width="38%">
</td></tr>
</table>

<p style="margin-left:23%; margin-top: 1em">The time base
is copied to the output encoder from the corresponding input
demuxer. This is sometimes required to avoid non
monotonically increasing timestamps when copying video
streams with variable frame rate.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p style="margin-top: 1em"><b>0</b></p></td>
<td width="5%"></td>
<td width="39%">


<p style="margin-top: 1em">Use the decoder timebase.</p></td>
<td width="38%">
</td></tr>
</table>

<p style="margin-left:23%; margin-top: 1em">The time base
is copied to the output encoder from the corresponding input
decoder.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>-1</b></p></td>
<td width="3%"></td>
<td width="77%">


<p style="margin-top: 1em">Try to make the choice
automatically, in order to generate a sane output.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Default value
is -1.</p>


<p style="margin-left:11%;"><b>-enc_time_base[:</b><i>stream_specifier</i><b>]</b>
<i>timebase</i> <b>(</b><i>output,per-stream</i><b>)</b></p>

<p style="margin-left:17%;">Set the encoder timebase.
<i>timebase</i> is a floating point number, and can assume
one of the following values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>0</b></p></td>
<td width="5%"></td>
<td width="77%">


<p>Assign a default value according to the media type.</p></td></tr>
</table>

<p style="margin-left:23%; margin-top: 1em">For video - use
1/framerate, for audio - use 1/samplerate.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>-1</b></p></td>
<td width="3%"></td>
<td width="68%">


<p style="margin-top: 1em">Use the input stream timebase
when possible.</p></td>
<td width="9%">
</td></tr>
</table>

<p style="margin-left:23%; margin-top: 1em">If an input
stream is not available, the default timebase will be
used.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>&gt;0</b></p></td>
<td width="3%"></td>
<td width="62%">


<p style="margin-top: 1em">Use the provided number as the
timebase.</p> </td>
<td width="15%">
</td></tr>
</table>

<p style="margin-left:23%; margin-top: 1em">This field can
be provided as a ratio of two integers (e.g. 1:24, 1:48000)
or as a floating point number (e.g. 0.04166, 2.0833e-5)</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is 0.</p>

<p style="margin-left:11%;"><b>-bitexact
(</b><i>input/output</i><b>)</b></p>

<p style="margin-left:17%;">Enable bitexact mode for
(de)muxer and (de/en)coder</p>

<p style="margin-left:11%;"><b>-shortest
(</b><i>output</i><b>)</b></p>

<p style="margin-left:17%;">Finish encoding when the
shortest input stream ends.</p>


<p style="margin-left:11%;"><b>-dts_delta_threshold</b></p>

<p style="margin-left:17%;">Timestamp discontinuity delta
threshold.</p>

<p style="margin-left:11%;"><b>-muxdelay</b> <i>seconds</i>
<b>(</b><i>output</i><b>)</b></p>

<p style="margin-left:17%;">Set the maximum demux-decode
delay.</p>

<p style="margin-left:11%;"><b>-muxpreload</b>
<i>seconds</i> <b>(</b><i>output</i><b>)</b></p>

<p style="margin-left:17%;">Set the initial demux-decode
delay.</p>

<p style="margin-left:11%;"><b>-streamid</b>
<i>output-stream-index</i><b>:</b><i>new-value</i>
<b>(</b><i>output</i><b>)</b></p>

<p style="margin-left:17%;">Assign a new stream-id value to
an output stream. This option should be specified prior to
the output filename to which it applies. For the situation
where multiple output files exist, a streamid may be
reassigned to a different value.</p>

<p style="margin-left:17%; margin-top: 1em">For example, to
set the stream 0 <small>PID</small> to 33 and the stream 1
<small>PID</small> to 36 for an output mpegts file:</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i inurl
-streamid 0:33 -streamid 1:36 out.ts</p>


<p style="margin-left:11%;"><b>-bsf[:</b><i>stream_specifier</i><b>]</b>
<i>bitstream_filters</i>
<b>(</b><i>output,per-stream</i><b>)</b></p>

<p style="margin-left:17%;">Set bitstream filters for
matching streams. <i>bitstream_filters</i> is a
comma-separated list of bitstream filters. Use the
&quot;-bsfs&quot; option to get the list of bitstream
filters.</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
h264.mp4 -c:v copy -bsf:v h264_mp4toannexb -an out.h264 <br>
ffmpeg -i file.mov -an -vn -bsf:s mov2textsub -c:s copy -f
rawvideo sub.txt</p>


<p style="margin-left:11%;"><b>-tag[:</b><i>stream_specifier</i><b>]</b>
<i>codec_tag</i>
<b>(</b><i>input/output,per-stream</i><b>)</b></p>

<p style="margin-left:17%;">Force a tag/fourcc for matching
streams.</p>

<p style="margin-left:11%;"><b>-timecode</b>
<i>hh</i><b>:</b><i>mm</i><b>:</b><i>ss</i>
<b><small>SEP</small></b> <i>ff</i></p>

<p style="margin-left:17%;">Specify Timecode for writing.
<i><small>SEP</small></i> is &rsquo;:&rsquo; for non drop
timecode and &rsquo;;&rsquo; (or &rsquo;.&rsquo;) for
drop.</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
input.mpg -timecode 01:02:03.04 -r 30000/1001 -s ntsc
output.mpg</p>

<p style="margin-left:11%;"><b>-filter_complex</b>
<i>filtergraph</i> <b>(</b><i>global</i><b>)</b></p>

<p style="margin-left:17%;">Define a complex filtergraph,
i.e. one with arbitrary number of inputs and/or outputs. For
simple graphs -- those with one input and one output of the
same type -- see the <b>-filter</b> options.
<i>filtergraph</i> is a description of the filtergraph, as
described in the &rsquo;&rsquo;Filtergraph
syntax&rsquo;&rsquo; section of the ffmpeg-filters
manual.</p>

<p style="margin-left:17%; margin-top: 1em">Input link
labels must refer to input streams using the
&quot;[file_index:stream_specifier]&quot; syntax (i.e. the
same as <b>-map</b> uses). If <i>stream_specifier</i>
matches multiple streams, the first one will be used. An
unlabeled input will be connected to the first unused input
stream of the matching type.</p>

<p style="margin-left:17%; margin-top: 1em">Output link
labels are referred to with <b>-map</b>. Unlabeled outputs
are added to the first output file.</p>

<p style="margin-left:17%; margin-top: 1em">Note that with
this option it is possible to use only lavfi sources without
normal input files.</p>

<p style="margin-left:17%; margin-top: 1em">For example, to
overlay an image over video</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
video.mkv -i image.png -filter_complex
'[0:v][1:v]overlay[out]' -map <br>
'[out]' out.mkv</p>

<p style="margin-left:17%; margin-top: 1em">Here
&quot;[0:v]&quot; refers to the first video stream in the
first input file, which is linked to the first (main) input
of the overlay filter. Similarly the first video stream in
the second input is linked to the second (overlay) input of
overlay.</p>

<p style="margin-left:17%; margin-top: 1em">Assuming there
is only one video stream in each input file, we can omit
input labels, so the above is equivalent to</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
video.mkv -i image.png -filter_complex 'overlay[out]' -map
<br>
'[out]' out.mkv</p>

<p style="margin-left:17%; margin-top: 1em">Furthermore we
can omit the output label and the single output from the
filter graph will be added to the output file automatically,
so we can simply write</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
video.mkv -i image.png -filter_complex 'overlay' out.mkv</p>

<p style="margin-left:17%; margin-top: 1em">To generate 5
seconds of pure red video using lavfi &quot;color&quot;
source:</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg
-filter_complex 'color=c=red' -t 5 out.mkv</p>

<p style="margin-left:11%;"><b>-filter_complex_threads</b>
<i>nb_threads</i> <b>(</b><i>global</i><b>)</b></p>

<p style="margin-left:17%;">Defines how many threads are
used to process a filter_complex graph. Similar to
filter_threads but used for &quot;-filter_complex&quot;
graphs only. The default is the number of available
CPUs.</p>

<p style="margin-left:11%;"><b>-lavfi</b>
<i>filtergraph</i> <b>(</b><i>global</i><b>)</b></p>

<p style="margin-left:17%;">Define a complex filtergraph,
i.e. one with arbitrary number of inputs and/or outputs.
Equivalent to <b>-filter_complex</b>.</p>

<p style="margin-left:11%;"><b>-filter_complex_script</b>
<i>filename</i> <b>(</b><i>global</i><b>)</b></p>

<p style="margin-left:17%;">This option is similar to
<b>-filter_complex</b>, the only difference is that its
argument is the name of the file from which a complex
filtergraph description is to be read.</p>

<p style="margin-left:11%;"><b>-accurate_seek
(</b><i>input</i><b>)</b></p>

<p style="margin-left:17%;">This option enables or disables
accurate seeking in input files with the <b>-ss</b> option.
It is enabled by default, so seeking is accurate when
transcoding. Use <b>-noaccurate_seek</b> to disable it,
which may be useful e.g. when copying some streams and
transcoding the others.</p>

<p style="margin-left:11%;"><b>-seek_timestamp
(</b><i>input</i><b>)</b></p>

<p style="margin-left:17%;">This option enables or disables
seeking by timestamp in input files with the <b>-ss</b>
option. It is disabled by default. If enabled, the argument
to the <b>-ss</b> option is considered an actual timestamp,
and is not offset by the start time of the file. This
matters only for files which do not start from timestamp 0,
such as transport streams.</p>

<p style="margin-left:11%;"><b>-thread_queue_size</b>
<i>size</i> <b>(</b><i>input</i><b>)</b></p>

<p style="margin-left:17%;">This option sets the maximum
number of queued packets when reading from the file or
device. With low latency / high rate live streams, packets
may be discarded if they are not read in a timely manner;
raising this value can avoid it.</p>

<p style="margin-left:11%;"><b>-sdp_file</b> <i>file</i>
<b>(</b><i>global</i><b>)</b></p>

<p style="margin-left:17%;">Print sdp information for an
output stream to <i>file</i>. This allows dumping sdp
information when at least one output isn&rsquo;t an rtp
stream. (Requires at least one of the output formats to be
rtp).</p>

<p style="margin-left:11%;"><b>-discard
(</b><i>input</i><b>)</b></p>

<p style="margin-left:17%;">Allows discarding specific
streams or frames from streams. Any input stream can be
fully discarded, using value &quot;all&quot; whereas
selective discarding of frames from a stream occurs at the
demuxer and is not supported by all demuxers. <b><br>
none</b></p>

<p style="margin-left:23%;">Discard no frame.</p>

<p style="margin-left:17%;"><b>default</b></p>

<p style="margin-left:23%;">Default, which discards no
frames.</p>

<p style="margin-left:17%;"><b>noref</b></p>

<p style="margin-left:23%;">Discard all non-reference
frames.</p>

<p style="margin-left:17%;"><b>bidir</b></p>

<p style="margin-left:23%;">Discard all bidirectional
frames.</p>

<p style="margin-left:17%;"><b>nokey</b></p>

<p style="margin-left:23%;">Discard all frames excepts
keyframes.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>all</b></p></td>
<td width="1%"></td>
<td width="29%">


<p>Discard all frames.</p></td>
<td width="48%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>-abort_on</b> <i>flags</i>
<b>(</b><i>global</i><b>)</b></p>

<p style="margin-left:17%;">Stop and abort on various
conditions. The following flags are available: <b><br>
empty_output</b></p>

<p style="margin-left:23%;">No packets were passed to the
muxer, the output is empty.</p>

<p style="margin-left:11%;"><b>-xerror
(</b><i>global</i><b>)</b></p>

<p style="margin-left:17%;">Stop and exit on error</p>

<p style="margin-left:11%;"><b>-max_muxing_queue_size</b>
<i>packets</i> <b>(</b><i>output,per-stream</i><b>)</b></p>

<p style="margin-left:17%;">When transcoding audio and/or
video streams, ffmpeg will not begin writing into the output
until it has one packet for each such stream. While waiting
for that to happen, packets for other streams are buffered.
This option sets the size of this buffer, in packets, for
the matching output stream.</p>

<p style="margin-left:17%; margin-top: 1em">The default
value of this option should be high enough for most uses, so
only touch this option if you are sure that you need it.</p>

<p style="margin-left:11%; margin-top: 1em">As a special
exception, you can use a bitmap subtitle stream as input: it
will be converted into a video with the same size as the
largest video in the file, or 720x576 if no video is
present. Note that this is an experimental and temporary
solution. It will be removed once libavfilter has proper
support for subtitles.</p>

<p style="margin-left:11%; margin-top: 1em">For example, to
hardcode subtitles on top of a DVB-T recording stored in
MPEG-TS format, delaying the subtitles by 1 second:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i
input.ts -filter_complex \ <br>
'[#0x2ef] setpts=PTS+1/TB [sub] ; [#0x2d0] [sub] overlay' \
<br>
-sn -map '#0x2dc' output.mkv</p>

<p style="margin-left:11%; margin-top: 1em">(0x2d0, 0x2dc
and 0x2ef are the MPEG-TS PIDs of respectively the video,
audio and subtitles streams; 0:0, 0:3 and 0:7 would have
worked too)</p>

<p style="margin-left:11%; margin-top: 1em"><b>Preset
files</b> <br>
A preset file contains a sequence of
<i>option</i>=<i>value</i> pairs, one for each line,
specifying a sequence of options which would be awkward to
specify on the command line. Lines starting with the hash
(&rsquo;#&rsquo;) character are ignored and are used to
provide comments. Check the <i>presets</i> directory in the
FFmpeg source tree for examples.</p>

<p style="margin-left:11%; margin-top: 1em">There are two
types of preset files: ffpreset and avpreset files.</p>

<p style="margin-left:11%; margin-top: 1em"><i>ffpreset
files</i></p>

<p style="margin-left:11%; margin-top: 1em">ffpreset files
are specified with the &quot;vpre&quot;, &quot;apre&quot;,
&quot;spre&quot;, and &quot;fpre&quot; options. The
&quot;fpre&quot; option takes the filename of the preset
instead of a preset name as input and can be used for any
kind of codec. For the &quot;vpre&quot;, &quot;apre&quot;,
and &quot;spre&quot; options, the options specified in a
preset file are applied to the currently selected codec of
the same type as the preset option.</p>

<p style="margin-left:11%; margin-top: 1em">The argument
passed to the &quot;vpre&quot;, &quot;apre&quot;, and
&quot;spre&quot; preset options identifies the preset file
to use according to the following rules:</p>

<p style="margin-left:11%; margin-top: 1em">First ffmpeg
searches for a file named <i>arg</i>.ffpreset in the
directories <i>$FFMPEG_DATADIR</i> (if set), and
<i>$HOME/.ffmpeg</i>, and in the datadir defined at
configuration time (usually <i>PREFIX/share/ffmpeg</i>) or
in a <i>ffpresets</i> folder along the executable on win32,
in that order. For example, if the argument is
&quot;libvpx-1080p&quot;, it will search for the file
<i>libvpx-1080p.ffpreset</i>.</p>

<p style="margin-left:11%; margin-top: 1em">If no such file
is found, then ffmpeg will search for a file named
<i>codec_name</i>-<i>arg</i>.ffpreset in the above-mentioned
directories, where <i>codec_name</i> is the name of the
codec to which the preset file options will be applied. For
example, if you select the video codec with &quot;-vcodec
libvpx&quot; and use &quot;-vpre 1080p&quot;, then it will
search for the file <i>libvpx-1080p.ffpreset</i>.</p>

<p style="margin-left:11%; margin-top: 1em"><i>avpreset
files</i></p>

<p style="margin-left:11%; margin-top: 1em">avpreset files
are specified with the &quot;pre&quot; option. They work
similar to ffpreset files, but they only allow encoder-
specific options. Therefore, an <i>option</i>=<i>value</i>
pair specifying an encoder cannot be used.</p>

<p style="margin-left:11%; margin-top: 1em">When the
&quot;pre&quot; option is specified, ffmpeg will look for
files with the suffix .avpreset in the directories
<i>$AVCONV_DATADIR</i> (if set), and <i>$HOME/.avconv</i>,
and in the datadir defined at configuration time (usually
<i>PREFIX/share/ffmpeg</i>), in that order.</p>

<p style="margin-left:11%; margin-top: 1em">First ffmpeg
searches for a file named
<i>codec_name</i>-<i>arg</i>.avpreset in the above-mentioned
directories, where <i>codec_name</i> is the name of the
codec to which the preset file options will be applied. For
example, if you select the video codec with &quot;-vcodec
libvpx&quot; and use &quot;-pre 1080p&quot;, then it will
search for the file <i>libvpx-1080p.avpreset</i>.</p>

<p style="margin-left:11%; margin-top: 1em">If no such file
is found, then ffmpeg will search for a file named
<i>arg</i>.avpreset in the same directories.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>Video and
Audio grabbing</b> <br>
If you specify the input format and device then ffmpeg can
grab video and audio directly.</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -f oss
-i /dev/dsp -f video4linux2 -i /dev/video0 /tmp/out.mpg</p>

<p style="margin-left:11%; margin-top: 1em">Or with an
<small>ALSA</small> audio source (mono input, card id 1)
instead of <small>OSS:</small></p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -f alsa
-ac 1 -i hw:1 -f video4linux2 -i /dev/video0
/tmp/out.mpg</p>

<p style="margin-left:11%; margin-top: 1em">Note that you
must activate the right video source and channel before
launching ffmpeg with any <small>TV</small> viewer such as
&lt;<b>http://linux.bytesex.org/xawtv/</b>&gt; by Gerd
Knorr. You also have to set the audio recording levels
correctly with a standard mixer.</p>

<p style="margin-left:11%; margin-top: 1em"><b>X11
grabbing</b> <br>
Grab the X11 display with ffmpeg via</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -f
x11grab -video_size cif -framerate 25 -i :0.0
/tmp/out.mpg</p>

<p style="margin-left:11%; margin-top: 1em">0.0 is
display.screen number of your X11 server, same as the
<small>DISPLAY</small> environment variable.</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -f
x11grab -video_size cif -framerate 25 -i :0.0+10,20
/tmp/out.mpg</p>

<p style="margin-left:11%; margin-top: 1em">0.0 is
display.screen number of your X11 server, same as the
<small>DISPLAY</small> environment variable. 10 is the
x-offset and 20 the y-offset for the grabbing.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Video and
Audio file format conversion</b> <br>
Any supported file format and protocol can serve as input to
ffmpeg:</p>

<p style="margin-left:11%; margin-top: 1em">Examples:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="48%">


<p>You can use <small>YUV</small> files as input:</p></td>
<td width="35%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
/tmp/test%d.Y /tmp/out.mpg</p>

<p style="margin-left:17%; margin-top: 1em">It will use the
files:</p>

<p style="margin-left:17%; margin-top: 1em">/tmp/test0.Y,
/tmp/test0.U, /tmp/test0.V, <br>
/tmp/test1.Y, /tmp/test1.U, /tmp/test1.V, etc...</p>

<p style="margin-left:17%; margin-top: 1em">The Y files use
twice the resolution of the U and V files. They are raw
files, without header. They can be generated by all decent
video decoders. You must specify the size of the image with
the <b>-s</b> option if ffmpeg cannot guess it.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="58%">


<p style="margin-top: 1em">You can input from a raw
<small>YUV420P</small> file:</p></td>
<td width="25%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
/tmp/test.yuv /tmp/out.avi</p>

<p style="margin-left:17%; margin-top: 1em">test.yuv is a
file containing raw <small>YUV</small> planar data. Each
frame is composed of the Y plane followed by the U and V
planes at half vertical and horizontal resolution.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="57%">


<p style="margin-top: 1em">You can output to a raw
<small>YUV420P</small> file:</p></td>
<td width="26%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
mydivx.avi hugefile.yuv</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="75%">


<p style="margin-top: 1em">You can set several input files
and output files:</p></td>
<td width="8%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
/tmp/a.wav -s 640x480 -i /tmp/a.yuv /tmp/a.mpg</p>

<p style="margin-left:17%; margin-top: 1em">Converts the
audio file a.wav and the raw <small>YUV</small> video file
a.yuv to <small>MPEG</small> file a.mpg.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">You can also do audio and video
conversions at the same time:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
/tmp/a.wav -ar 22050 /tmp/a.mp2</p>

<p style="margin-left:17%; margin-top: 1em">Converts a.wav
to <small>MPEG</small> audio at 22050 Hz sample rate.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">You can encode to several
formats at the same time and define a mapping from input
stream to output streams:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
/tmp/a.wav -map 0:a -b:a 64k /tmp/a.mp2 -map 0:a -b:a 128k
/tmp/b.mp2</p>

<p style="margin-left:17%; margin-top: 1em">Converts a.wav
to a.mp2 at 64 kbits and to b.mp2 at 128 kbits. &rsquo;-map
file:index&rsquo; specifies which input stream is used for
each output stream, in the order of the definition of output
streams.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="51%">


<p style="margin-top: 1em">You can transcode decrypted
VOBs:</p> </td>
<td width="32%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
snatch_1.vob -f avi -c:v mpeg4 -b:v 800k -g 300 -bf 2 -c:a
libmp3lame -b:a 128k snatch.avi</p>

<p style="margin-left:17%; margin-top: 1em">This is a
typical <small>DVD</small> ripping example; the input is a
<small>VOB</small> file, the output an <small>AVI</small>
file with <small>MPEG-4</small> video and <small>MP3</small>
audio. Note that in this command we use B-frames so the
<small>MPEG-4</small> stream is DivX5 compatible, and
<small>GOP</small> size is 300 which means one intra frame
every 10 seconds for 29.97fps input video. Furthermore, the
audio stream is MP3-encoded so you need to enable
<small>LAME</small> support by passing
&quot;--enable-libmp3lame&quot; to configure. The mapping is
particularly useful for <small>DVD</small> transcoding to
get the desired audio language.</p>


<p style="margin-left:17%; margin-top: 1em"><small>NOTE:</small>
To see the supported input formats, use &quot;ffmpeg
-demuxers&quot;.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">You can extract images from a
video, or create a video from many images:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">For extracting
images from a video:</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
foo.avi -r 1 -s WxH -f image2 foo-%03d.jpeg</p>

<p style="margin-left:17%; margin-top: 1em">This will
extract one video frame per second from the video and will
output them in files named <i>foo-001.jpeg</i>,
<i>foo-002.jpeg</i>, etc. Images will be rescaled to fit the
new WxH values.</p>

<p style="margin-left:17%; margin-top: 1em">If you want to
extract just a limited number of frames, you can use the
above command in combination with the &quot;-frames:v&quot;
or &quot;-t&quot; option, or in combination with -ss to
start extracting from a certain point in time.</p>

<p style="margin-left:17%; margin-top: 1em">For creating a
video from many images:</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -f
image2 -framerate 12 -i foo-%03d.jpeg -s WxH foo.avi</p>

<p style="margin-left:17%; margin-top: 1em">The syntax
&quot;foo-%03d.jpeg&quot; specifies to use a decimal number
composed of three digits padded with zeroes to express the
sequence number. It is the same syntax supported by the C
printf function, but only formats accepting a normal integer
are suitable.</p>

<p style="margin-left:17%; margin-top: 1em">When importing
an image sequence, -i also supports expanding shell-like
wildcard patterns (globbing) internally, by selecting the
image2-specific &quot;-pattern_type glob&quot; option.</p>

<p style="margin-left:17%; margin-top: 1em">For example,
for creating a video from filenames matching the glob
pattern &quot;foo-*.jpeg&quot;:</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -f
image2 -pattern_type glob -framerate 12 -i 'foo-*.jpeg' -s
WxH foo.avi</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">You can put many streams of the
same type in the output:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
test1.avi -i test2.avi -map 1:1 -map 1:0 -map 0:1 -map 0:0
-c copy -y test12.nut</p>

<p style="margin-left:17%; margin-top: 1em">The resulting
output file <i>test12.nut</i> will contain the first four
streams from the input files in reverse order.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="40%">


<p style="margin-top: 1em">To force <small>CBR</small>
video output:</p></td>
<td width="43%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
myfile.avi -b 4000k -minrate 4000k -maxrate 4000k -bufsize
1835k out.m2v</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">The four options lmin, lmax,
mblmin and mblmax use &rsquo;lambda&rsquo; units, but you
may use the <small>QP2LAMBDA</small> constant to easily
convert from &rsquo;q&rsquo; units:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
src.ext -lmax 21*QP2LAMBDA dst.ext</p>

<h2>SYNTAX
<a name="SYNTAX"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This section
documents the syntax and formats employed by the FFmpeg
libraries and tools.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Quoting and
escaping</b> <br>
FFmpeg adopts the following quoting and escaping mechanism,
unless explicitly specified. The following rules are
applied:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em"><b>&rsquo;</b> and <b>\</b> are
special characters (respectively used for quoting and
escaping). In addition to them, there might be other special
characters depending on the specific syntax where the
escaping and quoting are employed.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>A special character is escaped by prefixing it with a
<b>\</b>.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>All characters enclosed between <b>&rsquo;&rsquo;</b>
are included literally in the parsed string. The quote
character <b>&rsquo;</b> itself cannot be quoted, so you may
need to close the quote and escape it.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Leading and trailing whitespaces, unless escaped or
quoted, are removed from the parsed string.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Note that you
may need to add a second level of escaping when using the
command line or a script, which depends on the syntax of the
adopted shell language.</p>

<p style="margin-left:11%; margin-top: 1em">The function
&quot;av_get_token&quot; defined in
<i>libavutil/avstring.h</i> can be used to parse a token
quoted or escaped according to the rules defined above.</p>

<p style="margin-left:11%; margin-top: 1em">The tool
<i>tools/ffescape</i> in the FFmpeg source tree can be used
to automatically quote or escape a string in a script.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Escape the string &quot;Crime
d'Amour&quot; containing the &quot;'&quot; special
character:</p> </td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Crime
d\'Amour</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">The string above contains a
quote, so the &quot;'&quot; needs to be escaped when quoting
it:</p> </td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">'Crime
d'\''Amour'</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Include leading or trailing
whitespaces using quoting:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">' this string
starts and ends with whitespaces '</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="66%">


<p style="margin-top: 1em">Escaping and quoting can be
mixed together:</p></td>
<td width="17%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">' The string
'\'string\'' is a string '</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">To include a literal <b>\</b>
you can use either escaping or quoting:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">'c:\foo' can be
written as c:\\foo</p>

<p style="margin-left:11%; margin-top: 1em"><b>Date</b>
<br>
The accepted syntax is:</p>


<p style="margin-left:11%; margin-top: 1em">[(YYYY-MM-DD|YYYYMMDD)[T|t|
]]((HH:MM:SS[.m...]]])|(HHMMSS[.m...]]]))[Z] <br>
now</p>

<p style="margin-left:11%; margin-top: 1em">If the value is
&quot;now&quot; it takes the current time.</p>

<p style="margin-left:11%; margin-top: 1em">Time is local
time unless Z is appended, in which case it is interpreted
as <small>UTC.</small> If the year-month-day part is not
specified it takes the current year-month-day.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Time
duration</b> <br>
There are two accepted syntaxes for expressing time
duration.</p>


<p style="margin-left:11%; margin-top: 1em">[-][&lt;HH&gt;:]&lt;MM&gt;:&lt;SS&gt;[.&lt;m&gt;...]</p>


<p style="margin-left:11%; margin-top: 1em"><i><small>HH</small></i>
expresses the number of hours, <i><small>MM</small></i> the
number of minutes for a maximum of 2 digits, and
<i><small>SS</small></i> the number of seconds for a maximum
of 2 digits. The <i>m</i> at the end expresses decimal value
for <i><small>SS</small></i> .</p>

<p style="margin-left:11%; margin-top: 1em"><i>or</i></p>


<p style="margin-left:11%; margin-top: 1em">[-]&lt;S&gt;+[.&lt;m&gt;...]</p>

<p style="margin-left:11%; margin-top: 1em"><i>S</i>
expresses the number of seconds, with the optional decimal
part <i>m</i>.</p>

<p style="margin-left:11%; margin-top: 1em">In both
expressions, the optional <b>-</b> indicates negative
duration.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<p style="margin-left:11%; margin-top: 1em">The following
examples are all valid time duration:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>55</b></p></td>
<td width="3%"></td>
<td width="15%">


<p style="margin-top: 1em">55 seconds</p></td>
<td width="68%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>12:03:45</b></p>

<p style="margin-left:17%;">12 hours, 03 minutes and 45
seconds</p>

<p style="margin-left:11%;"><b>23.189</b></p>

<p style="margin-left:17%;">23.189 seconds</p>

<p style="margin-left:11%; margin-top: 1em"><b>Video
size</b> <br>
Specify the size of the sourced video, it may be a string of
the form <i>width</i>x<i>height</i>, or the name of a size
abbreviation.</p>

<p style="margin-left:11%; margin-top: 1em">The following
abbreviations are recognized: <b><br>
ntsc</b></p>

<p style="margin-left:17%;">720x480</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>pal</b></p></td>
<td width="2%"></td>
<td width="11%">


<p>720x576</p></td>
<td width="72%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>qntsc</b></p>

<p style="margin-left:17%;">352x240</p>

<p style="margin-left:11%;"><b>qpal</b></p>

<p style="margin-left:17%;">352x288</p>

<p style="margin-left:11%;"><b>sntsc</b></p>

<p style="margin-left:17%;">640x480</p>

<p style="margin-left:11%;"><b>spal</b></p>

<p style="margin-left:17%;">768x576</p>

<p style="margin-left:11%;"><b>film</b></p>

<p style="margin-left:17%;">352x240</p>

<p style="margin-left:11%;"><b>ntsc-film</b></p>

<p style="margin-left:17%;">352x240</p>

<p style="margin-left:11%;"><b>sqcif</b></p>

<p style="margin-left:17%;">128x96</p>

<p style="margin-left:11%;"><b>qcif</b></p>

<p style="margin-left:17%;">176x144</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>cif</b></p></td>
<td width="2%"></td>
<td width="11%">


<p>352x288</p></td>
<td width="72%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>4cif</b></p>

<p style="margin-left:17%;">704x576</p>

<p style="margin-left:11%;"><b>16cif</b></p>

<p style="margin-left:17%;">1408x1152</p>

<p style="margin-left:11%;"><b>qqvga</b></p>

<p style="margin-left:17%;">160x120</p>

<p style="margin-left:11%;"><b>qvga</b></p>

<p style="margin-left:17%;">320x240</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>vga</b></p></td>
<td width="2%"></td>
<td width="11%">


<p>640x480</p></td>
<td width="72%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>svga</b></p>

<p style="margin-left:17%;">800x600</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>xga</b></p></td>
<td width="2%"></td>
<td width="12%">


<p>1024x768</p></td>
<td width="71%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>uxga</b></p>

<p style="margin-left:17%;">1600x1200</p>

<p style="margin-left:11%;"><b>qxga</b></p>

<p style="margin-left:17%;">2048x1536</p>

<p style="margin-left:11%;"><b>sxga</b></p>

<p style="margin-left:17%;">1280x1024</p>

<p style="margin-left:11%;"><b>qsxga</b></p>

<p style="margin-left:17%;">2560x2048</p>

<p style="margin-left:11%;"><b>hsxga</b></p>

<p style="margin-left:17%;">5120x4096</p>

<p style="margin-left:11%;"><b>wvga</b></p>

<p style="margin-left:17%;">852x480</p>

<p style="margin-left:11%;"><b>wxga</b></p>

<p style="margin-left:17%;">1366x768</p>

<p style="margin-left:11%;"><b>wsxga</b></p>

<p style="margin-left:17%;">1600x1024</p>

<p style="margin-left:11%;"><b>wuxga</b></p>

<p style="margin-left:17%;">1920x1200</p>

<p style="margin-left:11%;"><b>woxga</b></p>

<p style="margin-left:17%;">2560x1600</p>

<p style="margin-left:11%;"><b>wqsxga</b></p>

<p style="margin-left:17%;">3200x2048</p>

<p style="margin-left:11%;"><b>wquxga</b></p>

<p style="margin-left:17%;">3840x2400</p>

<p style="margin-left:11%;"><b>whsxga</b></p>

<p style="margin-left:17%;">6400x4096</p>

<p style="margin-left:11%;"><b>whuxga</b></p>

<p style="margin-left:17%;">7680x4800</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>cga</b></p></td>
<td width="2%"></td>
<td width="11%">


<p>320x200</p></td>
<td width="72%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>ega</b></p></td>
<td width="2%"></td>
<td width="11%">


<p>640x350</p></td>
<td width="72%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>hd480</b></p>

<p style="margin-left:17%;">852x480</p>

<p style="margin-left:11%;"><b>hd720</b></p>

<p style="margin-left:17%;">1280x720</p>

<p style="margin-left:11%;"><b>hd1080</b></p>

<p style="margin-left:17%;">1920x1080</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>2k</b></p></td>
<td width="3%"></td>
<td width="14%">


<p>2048x1080</p></td>
<td width="69%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>2kflat</b></p>

<p style="margin-left:17%;">1998x1080</p>

<p style="margin-left:11%;"><b>2kscope</b></p>

<p style="margin-left:17%;">2048x858</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>4k</b></p></td>
<td width="3%"></td>
<td width="14%">


<p>4096x2160</p></td>
<td width="69%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>4kflat</b></p>

<p style="margin-left:17%;">3996x2160</p>

<p style="margin-left:11%;"><b>4kscope</b></p>

<p style="margin-left:17%;">4096x1716</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>nhd</b></p></td>
<td width="2%"></td>
<td width="11%">


<p>640x360</p></td>
<td width="72%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>hqvga</b></p>

<p style="margin-left:17%;">240x160</p>

<p style="margin-left:11%;"><b>wqvga</b></p>

<p style="margin-left:17%;">400x240</p>

<p style="margin-left:11%;"><b>fwqvga</b></p>

<p style="margin-left:17%;">432x240</p>

<p style="margin-left:11%;"><b>hvga</b></p>

<p style="margin-left:17%;">480x320</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>qhd</b></p></td>
<td width="2%"></td>
<td width="11%">


<p>960x540</p></td>
<td width="72%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>2kdci</b></p>

<p style="margin-left:17%;">2048x1080</p>

<p style="margin-left:11%;"><b>4kdci</b></p>

<p style="margin-left:17%;">4096x2160</p>

<p style="margin-left:11%;"><b>uhd2160</b></p>

<p style="margin-left:17%;">3840x2160</p>

<p style="margin-left:11%;"><b>uhd4320</b></p>

<p style="margin-left:17%;">7680x4320</p>

<p style="margin-left:11%; margin-top: 1em"><b>Video
rate</b> <br>
Specify the frame rate of a video, expressed as the number
of frames generated per second. It has to be a string in the
format <i>frame_rate_num</i>/<i>frame_rate_den</i>, an
integer number, a float number or a valid video frame rate
abbreviation.</p>

<p style="margin-left:11%; margin-top: 1em">The following
abbreviations are recognized: <b><br>
ntsc</b></p>

<p style="margin-left:17%;">30000/1001</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>pal</b></p></td>
<td width="2%"></td>
<td width="6%">


<p>25/1</p></td>
<td width="77%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>qntsc</b></p>

<p style="margin-left:17%;">30000/1001</p>

<p style="margin-left:11%;"><b>qpal</b></p>

<p style="margin-left:17%;">25/1</p>

<p style="margin-left:11%;"><b>sntsc</b></p>

<p style="margin-left:17%;">30000/1001</p>

<p style="margin-left:11%;"><b>spal</b></p>

<p style="margin-left:17%;">25/1</p>

<p style="margin-left:11%;"><b>film</b></p>

<p style="margin-left:17%;">24/1</p>

<p style="margin-left:11%;"><b>ntsc-film</b></p>

<p style="margin-left:17%;">24000/1001</p>

<p style="margin-left:11%; margin-top: 1em"><b>Ratio</b>
<br>
A ratio can be expressed as an expression, or in the form
<i>numerator</i>:<i>denominator</i>.</p>

<p style="margin-left:11%; margin-top: 1em">Note that a
ratio with infinite (1/0) or negative value is considered
valid, so you should check on the returned value if you want
to exclude those values.</p>

<p style="margin-left:11%; margin-top: 1em">The undefined
value can be expressed using the &quot;0:0&quot; string.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Color</b>
<br>
It can be the name of a color as defined below (case
insensitive match) or a &quot;[0x|#]RRGGBB[AA]&quot;
sequence, possibly followed by @ and a string representing
the alpha component.</p>

<p style="margin-left:11%; margin-top: 1em">The alpha
component may be a string composed by &quot;0x&quot;
followed by an hexadecimal number or a decimal number
between 0.0 and 1.0, which represents the opacity value
(<b>0x00</b> or <b>0.0</b> means completely transparent,
<b>0xff</b> or <b>1.0</b> completely opaque). If the alpha
component is not specified then <b>0xff</b> is assumed.</p>

<p style="margin-left:11%; margin-top: 1em">The string
<b>random</b> will result in a random color.</p>

<p style="margin-left:11%; margin-top: 1em">The following
names of colors are recognized: <b><br>
AliceBlue</b></p>

<p style="margin-left:17%;">0xF0F8FF</p>

<p style="margin-left:11%;"><b>AntiqueWhite</b></p>

<p style="margin-left:17%;">0xFAEBD7</p>

<p style="margin-left:11%;"><b>Aqua</b></p>

<p style="margin-left:17%;">0x00FFFF</p>

<p style="margin-left:11%;"><b>Aquamarine</b></p>

<p style="margin-left:17%;">0x7FFFD4</p>

<p style="margin-left:11%;"><b>Azure</b></p>

<p style="margin-left:17%;">0xF0FFFF</p>

<p style="margin-left:11%;"><b>Beige</b></p>

<p style="margin-left:17%;">0xF5F5DC</p>

<p style="margin-left:11%;"><b>Bisque</b></p>

<p style="margin-left:17%;">0xFFE4C4</p>

<p style="margin-left:11%;"><b>Black</b></p>

<p style="margin-left:17%;">0x000000</p>

<p style="margin-left:11%;"><b>BlanchedAlmond</b></p>

<p style="margin-left:17%;">0xFFEBCD</p>

<p style="margin-left:11%;"><b>Blue</b></p>

<p style="margin-left:17%;">0x0000FF</p>

<p style="margin-left:11%;"><b>BlueViolet</b></p>

<p style="margin-left:17%;">0x8A2BE2</p>

<p style="margin-left:11%;"><b>Brown</b></p>

<p style="margin-left:17%;">0xA52A2A</p>

<p style="margin-left:11%;"><b>BurlyWood</b></p>

<p style="margin-left:17%;">0xDEB887</p>

<p style="margin-left:11%;"><b>CadetBlue</b></p>

<p style="margin-left:17%;">0x5F9EA0</p>

<p style="margin-left:11%;"><b>Chartreuse</b></p>

<p style="margin-left:17%;">0x7FFF00</p>

<p style="margin-left:11%;"><b>Chocolate</b></p>

<p style="margin-left:17%;">0xD2691E</p>

<p style="margin-left:11%;"><b>Coral</b></p>

<p style="margin-left:17%;">0xFF7F50</p>

<p style="margin-left:11%;"><b>CornflowerBlue</b></p>

<p style="margin-left:17%;">0x6495ED</p>

<p style="margin-left:11%;"><b>Cornsilk</b></p>

<p style="margin-left:17%;">0xFFF8DC</p>

<p style="margin-left:11%;"><b>Crimson</b></p>

<p style="margin-left:17%;">0xDC143C</p>

<p style="margin-left:11%;"><b>Cyan</b></p>

<p style="margin-left:17%;">0x00FFFF</p>

<p style="margin-left:11%;"><b>DarkBlue</b></p>

<p style="margin-left:17%;">0x00008B</p>

<p style="margin-left:11%;"><b>DarkCyan</b></p>

<p style="margin-left:17%;">0x008B8B</p>

<p style="margin-left:11%;"><b>DarkGoldenRod</b></p>

<p style="margin-left:17%;">0xB8860B</p>

<p style="margin-left:11%;"><b>DarkGray</b></p>

<p style="margin-left:17%;">0xA9A9A9</p>

<p style="margin-left:11%;"><b>DarkGreen</b></p>

<p style="margin-left:17%;">0x006400</p>

<p style="margin-left:11%;"><b>DarkKhaki</b></p>

<p style="margin-left:17%;">0xBDB76B</p>

<p style="margin-left:11%;"><b>DarkMagenta</b></p>

<p style="margin-left:17%;">0x8B008B</p>

<p style="margin-left:11%;"><b>DarkOliveGreen</b></p>

<p style="margin-left:17%;">0x556B2F</p>

<p style="margin-left:11%;"><b>Darkorange</b></p>

<p style="margin-left:17%;">0xFF8C00</p>

<p style="margin-left:11%;"><b>DarkOrchid</b></p>

<p style="margin-left:17%;">0x9932CC</p>

<p style="margin-left:11%;"><b>DarkRed</b></p>

<p style="margin-left:17%;">0x8B0000</p>

<p style="margin-left:11%;"><b>DarkSalmon</b></p>

<p style="margin-left:17%;">0xE9967A</p>

<p style="margin-left:11%;"><b>DarkSeaGreen</b></p>

<p style="margin-left:17%;">0x8FBC8F</p>

<p style="margin-left:11%;"><b>DarkSlateBlue</b></p>

<p style="margin-left:17%;">0x483D8B</p>

<p style="margin-left:11%;"><b>DarkSlateGray</b></p>

<p style="margin-left:17%;">0x2F4F4F</p>

<p style="margin-left:11%;"><b>DarkTurquoise</b></p>

<p style="margin-left:17%;">0x00CED1</p>

<p style="margin-left:11%;"><b>DarkViolet</b></p>

<p style="margin-left:17%;">0x9400D3</p>

<p style="margin-left:11%;"><b>DeepPink</b></p>

<p style="margin-left:17%;">0xFF1493</p>

<p style="margin-left:11%;"><b>DeepSkyBlue</b></p>

<p style="margin-left:17%;">0x00BFFF</p>

<p style="margin-left:11%;"><b>DimGray</b></p>

<p style="margin-left:17%;">0x696969</p>

<p style="margin-left:11%;"><b>DodgerBlue</b></p>

<p style="margin-left:17%;">0x1E90FF</p>

<p style="margin-left:11%;"><b>FireBrick</b></p>

<p style="margin-left:17%;">0xB22222</p>

<p style="margin-left:11%;"><b>FloralWhite</b></p>

<p style="margin-left:17%;">0xFFFAF0</p>

<p style="margin-left:11%;"><b>ForestGreen</b></p>

<p style="margin-left:17%;">0x228B22</p>

<p style="margin-left:11%;"><b>Fuchsia</b></p>

<p style="margin-left:17%;">0xFF00FF</p>

<p style="margin-left:11%;"><b>Gainsboro</b></p>

<p style="margin-left:17%;">0xDCDCDC</p>

<p style="margin-left:11%;"><b>GhostWhite</b></p>

<p style="margin-left:17%;">0xF8F8FF</p>

<p style="margin-left:11%;"><b>Gold</b></p>

<p style="margin-left:17%;">0xFFD700</p>

<p style="margin-left:11%;"><b>GoldenRod</b></p>

<p style="margin-left:17%;">0xDAA520</p>

<p style="margin-left:11%;"><b>Gray</b></p>

<p style="margin-left:17%;">0x808080</p>

<p style="margin-left:11%;"><b>Green</b></p>

<p style="margin-left:17%;">0x008000</p>

<p style="margin-left:11%;"><b>GreenYellow</b></p>

<p style="margin-left:17%;">0xADFF2F</p>

<p style="margin-left:11%;"><b>HoneyDew</b></p>

<p style="margin-left:17%;">0xF0FFF0</p>

<p style="margin-left:11%;"><b>HotPink</b></p>

<p style="margin-left:17%;">0xFF69B4</p>

<p style="margin-left:11%;"><b>IndianRed</b></p>

<p style="margin-left:17%;">0xCD5C5C</p>

<p style="margin-left:11%;"><b>Indigo</b></p>

<p style="margin-left:17%;">0x4B0082</p>

<p style="margin-left:11%;"><b>Ivory</b></p>

<p style="margin-left:17%;">0xFFFFF0</p>

<p style="margin-left:11%;"><b>Khaki</b></p>

<p style="margin-left:17%;">0xF0E68C</p>

<p style="margin-left:11%;"><b>Lavender</b></p>

<p style="margin-left:17%;">0xE6E6FA</p>

<p style="margin-left:11%;"><b>LavenderBlush</b></p>

<p style="margin-left:17%;">0xFFF0F5</p>

<p style="margin-left:11%;"><b>LawnGreen</b></p>

<p style="margin-left:17%;">0x7CFC00</p>

<p style="margin-left:11%;"><b>LemonChiffon</b></p>

<p style="margin-left:17%;">0xFFFACD</p>

<p style="margin-left:11%;"><b>LightBlue</b></p>

<p style="margin-left:17%;">0xADD8E6</p>

<p style="margin-left:11%;"><b>LightCoral</b></p>

<p style="margin-left:17%;">0xF08080</p>

<p style="margin-left:11%;"><b>LightCyan</b></p>

<p style="margin-left:17%;">0xE0FFFF</p>


<p style="margin-left:11%;"><b>LightGoldenRodYellow</b></p>

<p style="margin-left:17%;">0xFAFAD2</p>

<p style="margin-left:11%;"><b>LightGreen</b></p>

<p style="margin-left:17%;">0x90EE90</p>

<p style="margin-left:11%;"><b>LightGrey</b></p>

<p style="margin-left:17%;">0xD3D3D3</p>

<p style="margin-left:11%;"><b>LightPink</b></p>

<p style="margin-left:17%;">0xFFB6C1</p>

<p style="margin-left:11%;"><b>LightSalmon</b></p>

<p style="margin-left:17%;">0xFFA07A</p>

<p style="margin-left:11%;"><b>LightSeaGreen</b></p>

<p style="margin-left:17%;">0x20B2AA</p>

<p style="margin-left:11%;"><b>LightSkyBlue</b></p>

<p style="margin-left:17%;">0x87CEFA</p>

<p style="margin-left:11%;"><b>LightSlateGray</b></p>

<p style="margin-left:17%;">0x778899</p>

<p style="margin-left:11%;"><b>LightSteelBlue</b></p>

<p style="margin-left:17%;">0xB0C4DE</p>

<p style="margin-left:11%;"><b>LightYellow</b></p>

<p style="margin-left:17%;">0xFFFFE0</p>

<p style="margin-left:11%;"><b>Lime</b></p>

<p style="margin-left:17%;">0x00FF00</p>

<p style="margin-left:11%;"><b>LimeGreen</b></p>

<p style="margin-left:17%;">0x32CD32</p>

<p style="margin-left:11%;"><b>Linen</b></p>

<p style="margin-left:17%;">0xFAF0E6</p>

<p style="margin-left:11%;"><b>Magenta</b></p>

<p style="margin-left:17%;">0xFF00FF</p>

<p style="margin-left:11%;"><b>Maroon</b></p>

<p style="margin-left:17%;">0x800000</p>

<p style="margin-left:11%;"><b>MediumAquaMarine</b></p>

<p style="margin-left:17%;">0x66CDAA</p>

<p style="margin-left:11%;"><b>MediumBlue</b></p>

<p style="margin-left:17%;">0x0000CD</p>

<p style="margin-left:11%;"><b>MediumOrchid</b></p>

<p style="margin-left:17%;">0xBA55D3</p>

<p style="margin-left:11%;"><b>MediumPurple</b></p>

<p style="margin-left:17%;">0x9370D8</p>

<p style="margin-left:11%;"><b>MediumSeaGreen</b></p>

<p style="margin-left:17%;">0x3CB371</p>

<p style="margin-left:11%;"><b>MediumSlateBlue</b></p>

<p style="margin-left:17%;">0x7B68EE</p>

<p style="margin-left:11%;"><b>MediumSpringGreen</b></p>

<p style="margin-left:17%;">0x00FA9A</p>

<p style="margin-left:11%;"><b>MediumTurquoise</b></p>

<p style="margin-left:17%;">0x48D1CC</p>

<p style="margin-left:11%;"><b>MediumVioletRed</b></p>

<p style="margin-left:17%;">0xC71585</p>

<p style="margin-left:11%;"><b>MidnightBlue</b></p>

<p style="margin-left:17%;">0x191970</p>

<p style="margin-left:11%;"><b>MintCream</b></p>

<p style="margin-left:17%;">0xF5FFFA</p>

<p style="margin-left:11%;"><b>MistyRose</b></p>

<p style="margin-left:17%;">0xFFE4E1</p>

<p style="margin-left:11%;"><b>Moccasin</b></p>

<p style="margin-left:17%;">0xFFE4B5</p>

<p style="margin-left:11%;"><b>NavajoWhite</b></p>

<p style="margin-left:17%;">0xFFDEAD</p>

<p style="margin-left:11%;"><b>Navy</b></p>

<p style="margin-left:17%;">0x000080</p>

<p style="margin-left:11%;"><b>OldLace</b></p>

<p style="margin-left:17%;">0xFDF5E6</p>

<p style="margin-left:11%;"><b>Olive</b></p>

<p style="margin-left:17%;">0x808000</p>

<p style="margin-left:11%;"><b>OliveDrab</b></p>

<p style="margin-left:17%;">0x6B8E23</p>

<p style="margin-left:11%;"><b>Orange</b></p>

<p style="margin-left:17%;">0xFFA500</p>

<p style="margin-left:11%;"><b>OrangeRed</b></p>

<p style="margin-left:17%;">0xFF4500</p>

<p style="margin-left:11%;"><b>Orchid</b></p>

<p style="margin-left:17%;">0xDA70D6</p>

<p style="margin-left:11%;"><b>PaleGoldenRod</b></p>

<p style="margin-left:17%;">0xEEE8AA</p>

<p style="margin-left:11%;"><b>PaleGreen</b></p>

<p style="margin-left:17%;">0x98FB98</p>

<p style="margin-left:11%;"><b>PaleTurquoise</b></p>

<p style="margin-left:17%;">0xAFEEEE</p>

<p style="margin-left:11%;"><b>PaleVioletRed</b></p>

<p style="margin-left:17%;">0xD87093</p>

<p style="margin-left:11%;"><b>PapayaWhip</b></p>

<p style="margin-left:17%;">0xFFEFD5</p>

<p style="margin-left:11%;"><b>PeachPuff</b></p>

<p style="margin-left:17%;">0xFFDAB9</p>

<p style="margin-left:11%;"><b>Peru</b></p>

<p style="margin-left:17%;">0xCD853F</p>

<p style="margin-left:11%;"><b>Pink</b></p>

<p style="margin-left:17%;">0xFFC0CB</p>

<p style="margin-left:11%;"><b>Plum</b></p>

<p style="margin-left:17%;">0xDDA0DD</p>

<p style="margin-left:11%;"><b>PowderBlue</b></p>

<p style="margin-left:17%;">0xB0E0E6</p>

<p style="margin-left:11%;"><b>Purple</b></p>

<p style="margin-left:17%;">0x800080</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>Red</b></p></td>
<td width="2%"></td>
<td width="12%">


<p>0xFF0000</p></td>
<td width="71%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>RosyBrown</b></p>

<p style="margin-left:17%;">0xBC8F8F</p>

<p style="margin-left:11%;"><b>RoyalBlue</b></p>

<p style="margin-left:17%;">0x4169E1</p>

<p style="margin-left:11%;"><b>SaddleBrown</b></p>

<p style="margin-left:17%;">0x8B4513</p>

<p style="margin-left:11%;"><b>Salmon</b></p>

<p style="margin-left:17%;">0xFA8072</p>

<p style="margin-left:11%;"><b>SandyBrown</b></p>

<p style="margin-left:17%;">0xF4A460</p>

<p style="margin-left:11%;"><b>SeaGreen</b></p>

<p style="margin-left:17%;">0x2E8B57</p>

<p style="margin-left:11%;"><b>SeaShell</b></p>

<p style="margin-left:17%;">0xFFF5EE</p>

<p style="margin-left:11%;"><b>Sienna</b></p>

<p style="margin-left:17%;">0xA0522D</p>

<p style="margin-left:11%;"><b>Silver</b></p>

<p style="margin-left:17%;">0xC0C0C0</p>

<p style="margin-left:11%;"><b>SkyBlue</b></p>

<p style="margin-left:17%;">0x87CEEB</p>

<p style="margin-left:11%;"><b>SlateBlue</b></p>

<p style="margin-left:17%;">0x6A5ACD</p>

<p style="margin-left:11%;"><b>SlateGray</b></p>

<p style="margin-left:17%;">0x708090</p>

<p style="margin-left:11%;"><b>Snow</b></p>

<p style="margin-left:17%;">0xFFFAFA</p>

<p style="margin-left:11%;"><b>SpringGreen</b></p>

<p style="margin-left:17%;">0x00FF7F</p>

<p style="margin-left:11%;"><b>SteelBlue</b></p>

<p style="margin-left:17%;">0x4682B4</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>Tan</b></p></td>
<td width="2%"></td>
<td width="12%">


<p>0xD2B48C</p></td>
<td width="71%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>Teal</b></p>

<p style="margin-left:17%;">0x008080</p>

<p style="margin-left:11%;"><b>Thistle</b></p>

<p style="margin-left:17%;">0xD8BFD8</p>

<p style="margin-left:11%;"><b>Tomato</b></p>

<p style="margin-left:17%;">0xFF6347</p>

<p style="margin-left:11%;"><b>Turquoise</b></p>

<p style="margin-left:17%;">0x40E0D0</p>

<p style="margin-left:11%;"><b>Violet</b></p>

<p style="margin-left:17%;">0xEE82EE</p>

<p style="margin-left:11%;"><b>Wheat</b></p>

<p style="margin-left:17%;">0xF5DEB3</p>

<p style="margin-left:11%;"><b>White</b></p>

<p style="margin-left:17%;">0xFFFFFF</p>

<p style="margin-left:11%;"><b>WhiteSmoke</b></p>

<p style="margin-left:17%;">0xF5F5F5</p>

<p style="margin-left:11%;"><b>Yellow</b></p>

<p style="margin-left:17%;">0xFFFF00</p>

<p style="margin-left:11%;"><b>YellowGreen</b></p>

<p style="margin-left:17%;">0x9ACD32</p>

<p style="margin-left:11%; margin-top: 1em"><b>Channel
Layout</b> <br>
A channel layout specifies the spatial disposition of the
channels in a multi-channel audio stream. To specify a
channel layout, FFmpeg makes use of a special syntax.</p>

<p style="margin-left:11%; margin-top: 1em">Individual
channels are identified by an id, as given by the table
below:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b><small>FL</small></b></p></td>
<td width="2%"></td>
<td width="32%">


<p>front left</p></td>
<td width="51%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b><small>FR</small></b></p></td>
<td width="2%"></td>
<td width="32%">


<p>front right</p></td>
<td width="51%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b><small>FC</small></b></p></td>
<td width="2%"></td>
<td width="32%">


<p>front center</p></td>
<td width="51%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b><small>LFE</small></b></p></td>
<td width="2%"></td>
<td width="32%">


<p>low frequency</p></td>
<td width="51%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b><small>BL</small></b></p></td>
<td width="2%"></td>
<td width="32%">


<p>back left</p></td>
<td width="51%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b><small>BR</small></b></p></td>
<td width="2%"></td>
<td width="32%">


<p>back right</p></td>
<td width="51%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b><small>FLC</small></b></p></td>
<td width="2%"></td>
<td width="32%">


<p>front left-of-center</p></td>
<td width="51%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b><small>FRC</small></b></p></td>
<td width="2%"></td>
<td width="32%">


<p>front right-of-center</p></td>
<td width="51%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b><small>BC</small></b></p></td>
<td width="2%"></td>
<td width="32%">


<p>back center</p></td>
<td width="51%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b><small>SL</small></b></p></td>
<td width="2%"></td>
<td width="32%">


<p>side left</p></td>
<td width="51%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b><small>SR</small></b></p></td>
<td width="2%"></td>
<td width="32%">


<p>side right</p></td>
<td width="51%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b><small>TC</small></b></p></td>
<td width="2%"></td>
<td width="32%">


<p>top center</p></td>
<td width="51%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b><small>TFL</small></b></p></td>
<td width="2%"></td>
<td width="32%">


<p>top front left</p></td>
<td width="51%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b><small>TFC</small></b></p></td>
<td width="2%"></td>
<td width="32%">


<p>top front center</p></td>
<td width="51%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b><small>TFR</small></b></p></td>
<td width="2%"></td>
<td width="32%">


<p>top front right</p></td>
<td width="51%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b><small>TBL</small></b></p></td>
<td width="2%"></td>
<td width="32%">


<p>top back left</p></td>
<td width="51%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b><small>TBC</small></b></p></td>
<td width="2%"></td>
<td width="32%">


<p>top back center</p></td>
<td width="51%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b><small>TBR</small></b></p></td>
<td width="2%"></td>
<td width="32%">


<p>top back right</p></td>
<td width="51%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b><small>DL</small></b></p></td>
<td width="2%"></td>
<td width="32%">


<p>downmix left</p></td>
<td width="51%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b><small>DR</small></b></p></td>
<td width="2%"></td>
<td width="32%">


<p>downmix right</p></td>
<td width="51%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b><small>WL</small></b></p></td>
<td width="2%"></td>
<td width="32%">


<p>wide left</p></td>
<td width="51%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b><small>WR</small></b></p></td>
<td width="2%"></td>
<td width="32%">


<p>wide right</p></td>
<td width="51%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b><small>SDL</small></b></p></td>
<td width="2%"></td>
<td width="32%">


<p>surround direct left</p></td>
<td width="51%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b><small>SDR</small></b></p></td>
<td width="2%"></td>
<td width="32%">


<p>surround direct right</p></td>
<td width="51%">
</td></tr>
</table>

<p style="margin-left:11%;"><b><small>LFE2</small></b></p>

<p style="margin-left:17%;">low frequency 2</p>

<p style="margin-left:11%; margin-top: 1em">Standard
channel layout compositions can be specified by using the
following identifiers: <b><br>
mono</b></p>

<p style="margin-left:17%;"><small>FC</small></p>

<p style="margin-left:11%;"><b>stereo</b></p>

<p style="margin-left:17%;"><small>FL+FR</small></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>2.1</b></p></td>
<td width="2%"></td>
<td width="14%">


<p><small>FL+FR+LFE</small></p></td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>3.0</b></p></td>
<td width="2%"></td>
<td width="14%">


<p><small>FL+FR+FC</small></p></td>
<td width="69%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>3.0(back)</b></p>

<p style="margin-left:17%;"><small>FL+FR+BC</small></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>4.0</b></p></td>
<td width="2%"></td>
<td width="17%">


<p><small>FL+FR+FC+BC</small></p></td>
<td width="66%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>quad</b></p>

<p style="margin-left:17%;"><small>FL+FR+BL+BR</small></p>

<p style="margin-left:11%;"><b>quad(side)</b></p>

<p style="margin-left:17%;"><small>FL+FR+SL+SR</small></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>3.1</b></p></td>
<td width="2%"></td>
<td width="21%">


<p><small>FL+FR+FC+LFE</small></p></td>
<td width="62%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>5.0</b></p></td>
<td width="2%"></td>
<td width="21%">


<p><small>FL+FR+FC+BL+BR</small></p></td>
<td width="62%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>5.0(side)</b></p>


<p style="margin-left:17%;"><small>FL+FR+FC+SL+SR</small></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>4.1</b></p></td>
<td width="2%"></td>
<td width="28%">


<p><small>FL+FR+FC+LFE+BC</small></p></td>
<td width="55%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>5.1</b></p></td>
<td width="2%"></td>
<td width="28%">


<p><small>FL+FR+FC+LFE+BL+BR</small></p></td>
<td width="55%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>5.1(side)</b></p>


<p style="margin-left:17%;"><small>FL+FR+FC+LFE+SL+SR</small></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>6.0</b></p></td>
<td width="2%"></td>
<td width="26%">


<p><small>FL+FR+FC+BC+SL+SR</small></p></td>
<td width="57%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>6.0(front)</b></p>


<p style="margin-left:17%;"><small>FL+FR+FLC+FRC+SL+SR</small></p>

<p style="margin-left:11%;"><b>hexagonal</b></p>


<p style="margin-left:17%;"><small>FL+FR+FC+BL+BR+BC</small></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>6.1</b></p></td>
<td width="2%"></td>
<td width="32%">


<p><small>FL+FR+FC+LFE+BC+SL+SR</small></p></td>
<td width="51%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>6.1</b></p></td>
<td width="2%"></td>
<td width="32%">


<p><small>FL+FR+FC+LFE+BL+BR+BC</small></p></td>
<td width="51%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>6.1(front)</b></p>


<p style="margin-left:17%;"><small>FL+FR+LFE+FLC+FRC+SL+SR</small></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>7.0</b></p></td>
<td width="2%"></td>
<td width="31%">


<p><small>FL+FR+FC+BL+BR+SL+SR</small></p></td>
<td width="52%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>7.0(front)</b></p>


<p style="margin-left:17%;"><small>FL+FR+FC+FLC+FRC+SL+SR</small></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>7.1</b></p></td>
<td width="2%"></td>
<td width="37%">


<p><small>FL+FR+FC+LFE+BL+BR+SL+SR</small></p></td>
<td width="46%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>7.1(wide)</b></p>


<p style="margin-left:17%;"><small>FL+FR+FC+LFE+BL+BR+FLC+FRC</small></p>

<p style="margin-left:11%;"><b>7.1(wide-side)</b></p>


<p style="margin-left:17%;"><small>FL+FR+FC+LFE+FLC+FRC+SL+SR</small></p>

<p style="margin-left:11%;"><b>octagonal</b></p>


<p style="margin-left:17%;"><small>FL+FR+FC+BL+BR+BC+SL+SR</small></p>

<p style="margin-left:11%;"><b>downmix</b></p>

<p style="margin-left:17%;"><small>DL+DR</small></p>

<p style="margin-left:11%; margin-top: 1em">A custom
channel layout can be specified as a sequence of terms,
separated by &rsquo;+&rsquo; or &rsquo;|&rsquo;. Each term
can be:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>the name of a standard channel layout (e.g. <b>mono</b>,
<b>stereo</b>, <b>4.0</b>, <b>quad</b>, <b>5.0</b>,
etc.)</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>the name of a single channel (e.g.
<b><small>FL</small></b> , <b><small>FR</small></b> ,
<b><small>FC</small></b> , <b><small>LFE</small></b> ,
etc.)</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>a number of channels, in decimal, followed by
&rsquo;c&rsquo;, yielding the default channel layout for
that number of channels (see the function
&quot;av_get_default_channel_layout&quot;). Note that not
all channel counts have a default layout.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>a number of channels, in decimal, followed by
&rsquo;C&rsquo;, yielding an unknown channel layout with the
specified number of channels. Note that not all channel
layout specification strings support unknown channel
layouts.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>a channel layout mask, in hexadecimal starting with
&quot;0x&quot; (see the &quot;AV_CH_*&quot; macros in
<i>libavutil/channel_layout.h</i>.</p> </td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Before
libavutil version 53 the trailing character &quot;c&quot; to
specify a number of channels was optional, but now it is
required, while a channel layout mask can also be specified
as a decimal number (if and only if not followed by
&quot;c&quot; or &quot;C&quot;).</p>

<p style="margin-left:11%; margin-top: 1em">See also the
function &quot;av_get_channel_layout&quot; defined in
<i>libavutil/channel_layout.h</i>.</p>

<h2>EXPRESSION EVALUATION
<a name="EXPRESSION EVALUATION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">When evaluating
an arithmetic expression, FFmpeg uses an internal formula
evaluator, implemented through the <i>libavutil/eval.h</i>
interface.</p>

<p style="margin-left:11%; margin-top: 1em">An expression
may contain unary, binary operators, constants, and
functions.</p>

<p style="margin-left:11%; margin-top: 1em">Two expressions
<i>expr1</i> and <i>expr2</i> can be combined to form
another expression &quot;<i>expr1</i>;<i>expr2</i>&quot;.
<i>expr1</i> and <i>expr2</i> are evaluated in turn, and the
new expression evaluates to the value of <i>expr2</i>.</p>

<p style="margin-left:11%; margin-top: 1em">The following
binary operators are available: &quot;+&quot;,
&quot;-&quot;, &quot;*&quot;, &quot;/&quot;,
&quot;^&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">The following
unary operators are available: &quot;+&quot;,
&quot;-&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">The following
functions are available: <b><br>
abs(x)</b></p>

<p style="margin-left:17%;">Compute absolute value of
<i>x</i>.</p>

<p style="margin-left:11%;"><b>acos(x)</b></p>

<p style="margin-left:17%;">Compute arccosine of
<i>x</i>.</p>

<p style="margin-left:11%;"><b>asin(x)</b></p>

<p style="margin-left:17%;">Compute arcsine of
<i>x</i>.</p>

<p style="margin-left:11%;"><b>atan(x)</b></p>

<p style="margin-left:17%;">Compute arctangent of
<i>x</i>.</p>

<p style="margin-left:11%;"><b>atan2(x, y)</b></p>

<p style="margin-left:17%;">Compute principal value of the
arc tangent of <i>y</i>/<i>x</i>.</p>

<p style="margin-left:11%;"><b>between(x, min, max)</b></p>

<p style="margin-left:17%;">Return 1 if <i>x</i> is greater
than or equal to <i>min</i> and lesser than or equal to
<i>max</i>, 0 otherwise.</p>

<p style="margin-left:11%;"><b>bitand(x, y) <br>
bitor(x, y)</b></p>

<p style="margin-left:17%;">Compute bitwise and/or
operation on <i>x</i> and <i>y</i>.</p>

<p style="margin-left:17%; margin-top: 1em">The results of
the evaluation of <i>x</i> and <i>y</i> are converted to
integers before executing the bitwise operation.</p>

<p style="margin-left:17%; margin-top: 1em">Note that both
the conversion to integer and the conversion back to
floating point can lose precision. Beware of unexpected
results for large numbers (usually 2^53 and larger).</p>

<p style="margin-left:11%;"><b>ceil(expr)</b></p>

<p style="margin-left:17%;">Round the value of expression
<i>expr</i> upwards to the nearest integer. For example,
&quot;ceil(1.5)&quot; is &quot;2.0&quot;.</p>

<p style="margin-left:11%;"><b>clip(x, min, max)</b></p>

<p style="margin-left:17%;">Return the value of <i>x</i>
clipped between <i>min</i> and <i>max</i>.</p>

<p style="margin-left:11%;"><b>cos(x)</b></p>

<p style="margin-left:17%;">Compute cosine of <i>x</i>.</p>

<p style="margin-left:11%;"><b>cosh(x)</b></p>

<p style="margin-left:17%;">Compute hyperbolic cosine of
<i>x</i>.</p>

<p style="margin-left:11%;"><b>eq(x, y)</b></p>

<p style="margin-left:17%;">Return 1 if <i>x</i> and
<i>y</i> are equivalent, 0 otherwise.</p>

<p style="margin-left:11%;"><b>exp(x)</b></p>

<p style="margin-left:17%;">Compute exponential of <i>x</i>
(with base &quot;e&quot;, the Euler&rsquo;s number).</p>

<p style="margin-left:11%;"><b>floor(expr)</b></p>

<p style="margin-left:17%;">Round the value of expression
<i>expr</i> downwards to the nearest integer. For example,
&quot;floor(-1.5)&quot; is &quot;-2.0&quot;.</p>

<p style="margin-left:11%;"><b>gauss(x)</b></p>

<p style="margin-left:17%;">Compute Gauss function of
<i>x</i>, corresponding to &quot;exp(-x*x/2) /
sqrt(2*PI)&quot;.</p>

<p style="margin-left:11%;"><b>gcd(x, y)</b></p>

<p style="margin-left:17%;">Return the greatest common
divisor of <i>x</i> and <i>y</i>. If both <i>x</i> and
<i>y</i> are 0 or either or both are less than zero then
behavior is undefined.</p>

<p style="margin-left:11%;"><b>gt(x, y)</b></p>

<p style="margin-left:17%;">Return 1 if <i>x</i> is greater
than <i>y</i>, 0 otherwise.</p>

<p style="margin-left:11%;"><b>gte(x, y)</b></p>

<p style="margin-left:17%;">Return 1 if <i>x</i> is greater
than or equal to <i>y</i>, 0 otherwise.</p>

<p style="margin-left:11%;"><b>hypot(x, y)</b></p>

<p style="margin-left:17%;">This function is similar to the
C function with the same name; it returns
&quot;sqrt(<i>x</i>*<i>x</i> + <i>y</i>*<i>y</i>)&quot;, the
length of the hypotenuse of a right triangle with sides of
length <i>x</i> and <i>y</i>, or the distance of the point
(<i>x</i>, <i>y</i>) from the origin.</p>

<p style="margin-left:11%;"><b>if(x, y)</b></p>

<p style="margin-left:17%;">Evaluate <i>x</i>, and if the
result is non-zero return the result of the evaluation of
<i>y</i>, return 0 otherwise.</p>

<p style="margin-left:11%;"><b>if(x, y, z)</b></p>

<p style="margin-left:17%;">Evaluate <i>x</i>, and if the
result is non-zero return the evaluation result of <i>y</i>,
otherwise the evaluation result of <i>z</i>.</p>

<p style="margin-left:11%;"><b>ifnot(x, y)</b></p>

<p style="margin-left:17%;">Evaluate <i>x</i>, and if the
result is zero return the result of the evaluation of
<i>y</i>, return 0 otherwise.</p>

<p style="margin-left:11%;"><b>ifnot(x, y, z)</b></p>

<p style="margin-left:17%;">Evaluate <i>x</i>, and if the
result is zero return the evaluation result of <i>y</i>,
otherwise the evaluation result of <i>z</i>.</p>

<p style="margin-left:11%;"><b>isinf(x)</b></p>

<p style="margin-left:17%;">Return 1.0 if <i>x</i> is
+/-INFINITY, 0.0 otherwise.</p>

<p style="margin-left:11%;"><b>isnan(x)</b></p>

<p style="margin-left:17%;">Return 1.0 if <i>x</i> is
<small>NAN, 0.0</small> otherwise.</p>

<p style="margin-left:11%;"><b>ld(var)</b></p>

<p style="margin-left:17%;">Load the value of the internal
variable with number <i>var</i>, which was previously stored
with st(<i>var</i>, <i>expr</i>). The function returns the
loaded value.</p>

<p style="margin-left:11%;"><b>lerp(x, y, z)</b></p>

<p style="margin-left:17%;">Return linear interpolation
between <i>x</i> and <i>y</i> by amount of <i>z</i>.</p>

<p style="margin-left:11%;"><b>log(x)</b></p>

<p style="margin-left:17%;">Compute natural logarithm of
<i>x</i>.</p>

<p style="margin-left:11%;"><b>lt(x, y)</b></p>

<p style="margin-left:17%;">Return 1 if <i>x</i> is lesser
than <i>y</i>, 0 otherwise.</p>

<p style="margin-left:11%;"><b>lte(x, y)</b></p>

<p style="margin-left:17%;">Return 1 if <i>x</i> is lesser
than or equal to <i>y</i>, 0 otherwise.</p>

<p style="margin-left:11%;"><b>max(x, y)</b></p>

<p style="margin-left:17%;">Return the maximum between
<i>x</i> and <i>y</i>.</p>

<p style="margin-left:11%;"><b>min(x, y)</b></p>

<p style="margin-left:17%;">Return the minimum between
<i>x</i> and <i>y</i>.</p>

<p style="margin-left:11%;"><b>mod(x, y)</b></p>

<p style="margin-left:17%;">Compute the remainder of
division of <i>x</i> by <i>y</i>.</p>

<p style="margin-left:11%;"><b>not(expr)</b></p>

<p style="margin-left:17%;">Return 1.0 if <i>expr</i> is
zero, 0.0 otherwise.</p>

<p style="margin-left:11%;"><b>pow(x, y)</b></p>

<p style="margin-left:17%;">Compute the power of <i>x</i>
elevated <i>y</i>, it is equivalent to
&quot;(<i>x</i>)^(<i>y</i>)&quot;.</p>

<p style="margin-left:11%;"><b>print(t) <br>
print(t, l)</b></p>

<p style="margin-left:17%;">Print the value of expression
<i>t</i> with loglevel <i>l</i>. If <i>l</i> is not
specified then a default log level is used. Returns the
value of the expression printed.</p>

<p style="margin-left:17%; margin-top: 1em">Prints t with
loglevel l</p>

<p style="margin-left:11%;"><b>random(x)</b></p>

<p style="margin-left:17%;">Return a pseudo random value
between 0.0 and 1.0. <i>x</i> is the index of the internal
variable which will be used to save the seed/state.</p>

<p style="margin-left:11%;"><b>root(expr, max)</b></p>

<p style="margin-left:17%;">Find an input value for which
the function represented by <i>expr</i> with argument
<b><i>ld</i></b><i>(0)</i> is 0 in the interval
0..<i>max</i>.</p>

<p style="margin-left:17%; margin-top: 1em">The expression
in <i>expr</i> must denote a continuous function or the
result is undefined.</p>


<p style="margin-left:17%; margin-top: 1em"><b><i>ld</i></b><i>(0)</i>
is used to represent the function input value, which means
that the given expression will be evaluated multiple times
with various input values that the expression can access
through ld(0). When the expression evaluates to 0 then the
corresponding input value will be returned.</p>

<p style="margin-left:11%;"><b>round(expr)</b></p>

<p style="margin-left:17%;">Round the value of expression
<i>expr</i> to the nearest integer. For example,
&quot;round(1.5)&quot; is &quot;2.0&quot;.</p>

<p style="margin-left:11%;"><b>sin(x)</b></p>

<p style="margin-left:17%;">Compute sine of <i>x</i>.</p>

<p style="margin-left:11%;"><b>sinh(x)</b></p>

<p style="margin-left:17%;">Compute hyperbolic sine of
<i>x</i>.</p>

<p style="margin-left:11%;"><b>sqrt(expr)</b></p>

<p style="margin-left:17%;">Compute the square root of
<i>expr</i>. This is equivalent to
&quot;(<i>expr</i>)^.5&quot;.</p>

<p style="margin-left:11%;"><b>squish(x)</b></p>

<p style="margin-left:17%;">Compute expression &quot;1/(1 +
exp(4*x))&quot;.</p>

<p style="margin-left:11%;"><b>st(var, expr)</b></p>

<p style="margin-left:17%;">Store the value of the
expression <i>expr</i> in an internal variable. <i>var</i>
specifies the number of the variable where to store the
value, and it is a value ranging from 0 to 9. The function
returns the value stored in the internal variable. Note,
Variables are currently not shared between expressions.</p>

<p style="margin-left:11%;"><b>tan(x)</b></p>

<p style="margin-left:17%;">Compute tangent of
<i>x</i>.</p>

<p style="margin-left:11%;"><b>tanh(x)</b></p>

<p style="margin-left:17%;">Compute hyperbolic tangent of
<i>x</i>.</p>

<p style="margin-left:11%;"><b>taylor(expr, x) <br>
taylor(expr, x, id)</b></p>

<p style="margin-left:17%;">Evaluate a Taylor series at
<i>x</i>, given an expression representing the
&quot;ld(id)&quot;-th derivative of a function at 0.</p>

<p style="margin-left:17%; margin-top: 1em">When the series
does not converge the result is undefined.</p>

<p style="margin-left:17%; margin-top: 1em"><i>ld(id)</i>
is used to represent the derivative order in <i>expr</i>,
which means that the given expression will be evaluated
multiple times with various input values that the expression
can access through &quot;ld(id)&quot;. If <i>id</i> is not
specified then 0 is assumed.</p>

<p style="margin-left:17%; margin-top: 1em">Note, when you
have the derivatives at y instead of 0, &quot;taylor(expr,
x-y)&quot; can be used.</p>

<p style="margin-left:11%;"><b>time(0)</b></p>

<p style="margin-left:17%;">Return the current (wallclock)
time in seconds.</p>

<p style="margin-left:11%;"><b>trunc(expr)</b></p>

<p style="margin-left:17%;">Round the value of expression
<i>expr</i> towards zero to the nearest integer. For
example, &quot;trunc(-1.5)&quot; is &quot;-1.0&quot;.</p>

<p style="margin-left:11%;"><b>while(cond, expr)</b></p>

<p style="margin-left:17%;">Evaluate expression <i>expr</i>
while the expression <i>cond</i> is non-zero, and returns
the value of the last <i>expr</i> evaluation, or
<small>NAN</small> if <i>cond</i> was always false.</p>

<p style="margin-left:11%; margin-top: 1em">The following
constants are available:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b><small>PI</small></b></p></td>
<td width="2%"></td>
<td width="72%">


<p>area of the unit disc, approximately 3.14</p></td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>E</b></p></td>
<td width="2%"></td>
<td width="72%">


<p><b>exp</b>(1) (Euler&rsquo;s number), approximately
2.718</p> </td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b><small>PHI</small></b></p></td>
<td width="2%"></td>
<td width="72%">


<p>golden ratio (1+<b>sqrt</b>(5))/2, approximately
1.618</p> </td>
<td width="11%">
</td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Assuming that
an expression is considered &quot;true&quot; if it has a
non-zero value, note that:</p>

<p style="margin-left:11%; margin-top: 1em">&quot;*&quot;
works like <small>AND</small></p>

<p style="margin-left:11%; margin-top: 1em">&quot;+&quot;
works like <small>OR</small></p>

<p style="margin-left:11%; margin-top: 1em">For example the
construct:</p>

<p style="margin-left:11%; margin-top: 1em">if (A AND B)
then C</p>

<p style="margin-left:11%; margin-top: 1em">is equivalent
to:</p>

<p style="margin-left:11%; margin-top: 1em">if(A*B, C)</p>

<p style="margin-left:11%; margin-top: 1em">In your C code,
you can extend the list of unary and binary functions, and
define recognized constants, so that they are available for
your expressions.</p>

<p style="margin-left:11%; margin-top: 1em">The evaluator
also recognizes the International System unit prefixes. If
&rsquo;i&rsquo; is appended after the prefix, binary
prefixes are used, which are based on powers of 1024 instead
of powers of 1000. The &rsquo;B&rsquo; postfix multiplies
the value by 8, and can be appended after a unit prefix or
used alone. This allows using for example &rsquo;
<small>KB</small> &rsquo;, &rsquo;MiB&rsquo;,
&rsquo;G&rsquo; and &rsquo;B&rsquo; as number postfix.</p>

<p style="margin-left:11%; margin-top: 1em">The list of
available International System prefixes follows, with
indication of the corresponding powers of 10 and of 2.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em"><b>y</b></p></td>
<td width="5%"></td>
<td width="21%">


<p style="margin-top: 1em">10^-24 / 2^-80</p></td>
<td width="62%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>z</b></p></td>
<td width="5%"></td>
<td width="21%">


<p>10^-21 / 2^-70</p></td>
<td width="62%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>a</b></p></td>
<td width="5%"></td>
<td width="21%">


<p>10^-18 / 2^-60</p></td>
<td width="62%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>f</b></p></td>
<td width="5%"></td>
<td width="21%">


<p>10^-15 / 2^-50</p></td>
<td width="62%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>p</b></p></td>
<td width="5%"></td>
<td width="21%">


<p>10^-12 / 2^-40</p></td>
<td width="62%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>n</b></p></td>
<td width="5%"></td>
<td width="21%">


<p>10^-9 / 2^-30</p></td>
<td width="62%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>u</b></p></td>
<td width="5%"></td>
<td width="21%">


<p>10^-6 / 2^-20</p></td>
<td width="62%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>m</b></p></td>
<td width="5%"></td>
<td width="21%">


<p>10^-3 / 2^-10</p></td>
<td width="62%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>c</b></p></td>
<td width="5%"></td>
<td width="21%">


<p>10^-2</p></td>
<td width="62%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>d</b></p></td>
<td width="5%"></td>
<td width="21%">


<p>10^-1</p></td>
<td width="62%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>h</b></p></td>
<td width="5%"></td>
<td width="21%">


<p>10^2</p></td>
<td width="62%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>k</b></p></td>
<td width="5%"></td>
<td width="21%">


<p>10^3 / 2^10</p></td>
<td width="62%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>K</b></p></td>
<td width="5%"></td>
<td width="21%">


<p>10^3 / 2^10</p></td>
<td width="62%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>M</b></p></td>
<td width="5%"></td>
<td width="21%">


<p>10^6 / 2^20</p></td>
<td width="62%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>G</b></p></td>
<td width="5%"></td>
<td width="21%">


<p>10^9 / 2^30</p></td>
<td width="62%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>T</b></p></td>
<td width="5%"></td>
<td width="21%">


<p>10^12 / 2^40</p></td>
<td width="62%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>P</b></p></td>
<td width="5%"></td>
<td width="21%">


<p>10^15 / 2^40</p></td>
<td width="62%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>E</b></p></td>
<td width="5%"></td>
<td width="21%">


<p>10^18 / 2^50</p></td>
<td width="62%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>Z</b></p></td>
<td width="5%"></td>
<td width="21%">


<p>10^21 / 2^60</p></td>
<td width="62%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>Y</b></p></td>
<td width="5%"></td>
<td width="21%">


<p>10^24 / 2^70</p></td>
<td width="62%">
</td></tr>
</table>

<h2>CODEC OPTIONS
<a name="CODEC OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">libavcodec
provides some generic global options, which can be set on
all the encoders and decoders. In addition each codec may
support so-called private options, which are specific for a
given codec.</p>

<p style="margin-left:11%; margin-top: 1em">Sometimes, a
global option may only affect a specific kind of codec, and
may be nonsensical or ignored by another, so you need to be
aware of the meaning of the specified options. Also some
options are meant only for decoding or encoding.</p>

<p style="margin-left:11%; margin-top: 1em">Options may be
set by specifying -<i>option value</i> in the FFmpeg tools,
or by setting the value explicitly in the
&quot;AVCodecContext&quot; options or using the
<i>libavutil/opt.h</i> <small>API</small> for programmatic
use.</p>

<p style="margin-left:11%; margin-top: 1em">The list of
supported options follow: <b><br>
b</b> <i>integer</i>
<b>(</b><i>encoding,audio,video</i><b>)</b></p>

<p style="margin-left:17%;">Set bitrate in bits/s. Default
value is 200K.</p>

<p style="margin-left:11%;"><b>ab</b> <i>integer</i>
<b>(</b><i>encoding,audio</i><b>)</b></p>

<p style="margin-left:17%;">Set audio bitrate (in bits/s).
Default value is 128K.</p>

<p style="margin-left:11%;"><b>bt</b> <i>integer</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set video bitrate tolerance (in
bits/s). In 1-pass mode, bitrate tolerance specifies how far
ratecontrol is willing to deviate from the target average
bitrate value. This is not related to min/max bitrate.
Lowering tolerance too much has an adverse effect on
quality.</p>

<p style="margin-left:11%;"><b>flags</b> <i>flags</i>
<b>(</b><i>decoding/encoding,audio,video,subtitles</i><b>)</b></p>

<p style="margin-left:17%;">Set generic flags.</p>

<p style="margin-left:17%; margin-top: 1em">Possible
values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>mv4</b></p></td>
<td width="1%"></td>
<td width="69%">


<p>Use four motion vector by macroblock (mpeg4).</p></td>
<td width="8%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>qpel</b></p>

<p style="margin-left:23%;">Use 1/4 pel motion
compensation.</p>

<p style="margin-left:17%;"><b>loop</b></p>

<p style="margin-left:23%;">Use loop filter.</p>

<p style="margin-left:17%;"><b>qscale</b></p>

<p style="margin-left:23%;">Use fixed qscale.</p>

<p style="margin-left:17%;"><b>pass1</b></p>

<p style="margin-left:23%;">Use internal 2pass ratecontrol
in first pass mode.</p>

<p style="margin-left:17%;"><b>pass2</b></p>

<p style="margin-left:23%;">Use internal 2pass ratecontrol
in second pass mode.</p>

<p style="margin-left:17%;"><b>gray</b></p>

<p style="margin-left:23%;">Only decode/encode
grayscale.</p>

<p style="margin-left:17%;"><b>emu_edge</b></p>

<p style="margin-left:23%;">Do not draw edges.</p>

<p style="margin-left:17%;"><b>psnr</b></p>

<p style="margin-left:23%;">Set error[?] variables during
encoding.</p>

<p style="margin-left:17%;"><b>truncated <br>
drop_changed</b></p>

<p style="margin-left:23%;">Don&rsquo;t output frames whose
parameters differ from first decoded frame in stream. Error
<small>AVERROR_INPUT_CHANGED</small> is returned when a
frame is dropped.</p>

<p style="margin-left:17%;"><b>ildct</b></p>

<p style="margin-left:23%;">Use interlaced
<small>DCT.</small></p>

<p style="margin-left:17%;"><b>low_delay</b></p>

<p style="margin-left:23%;">Force low delay.</p>

<p style="margin-left:17%;"><b>global_header</b></p>

<p style="margin-left:23%;">Place global headers in
extradata instead of every keyframe.</p>

<p style="margin-left:17%;"><b>bitexact</b></p>

<p style="margin-left:23%;">Only write platform-, build-
and time-independent data. (except (I)DCT). This ensures
that file and data checksums are reproducible and match
between platforms. Its primary use is for regression
testing.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>aic</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>Apply H263 advanced intra coding / mpeg4 ac
prediction.</p> </td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>cbp</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>Deprecated, use mpegvideo private options instead.</p></td></tr>
</table>

<p style="margin-left:17%;"><b>qprd</b></p>

<p style="margin-left:23%;">Deprecated, use mpegvideo
private options instead.</p>

<p style="margin-left:17%;"><b>ilme</b></p>

<p style="margin-left:23%;">Apply interlaced motion
estimation.</p>

<p style="margin-left:17%;"><b>cgop</b></p>

<p style="margin-left:23%;">Use closed gop.</p>

<p style="margin-left:11%;"><b>me_method</b> <i>integer</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set motion estimation
method.</p>

<p style="margin-left:17%; margin-top: 1em">Possible
values: <b><br>
zero</b></p>

<p style="margin-left:23%;">zero motion estimation
(fastest)</p>

<p style="margin-left:17%;"><b>full</b></p>

<p style="margin-left:23%;">full motion estimation
(slowest)</p>

<p style="margin-left:17%;"><b>epzs</b></p>

<p style="margin-left:23%;"><small>EPZS</small> motion
estimation (default)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>esa</b></p></td>
<td width="1%"></td>
<td width="59%">


<p>esa motion estimation (alias for full)</p></td>
<td width="18%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>tesa</b></p>

<p style="margin-left:23%;">tesa motion estimation</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>dia</b></p></td>
<td width="1%"></td>
<td width="59%">


<p>dia motion estimation (alias for epzs)</p></td>
<td width="18%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>log</b></p></td>
<td width="1%"></td>
<td width="59%">


<p>log motion estimation</p></td>
<td width="18%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>phods</b></p>

<p style="margin-left:23%;">phods motion estimation</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>x1</b></p></td>
<td width="1%"></td>
<td width="32%">


<p>X1 motion estimation</p></td>
<td width="45%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>hex</b></p></td>
<td width="1%"></td>
<td width="32%">


<p>hex motion estimation</p></td>
<td width="45%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>umh</b></p></td>
<td width="1%"></td>
<td width="32%">


<p>umh motion estimation</p></td>
<td width="45%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>iter</b></p>

<p style="margin-left:23%;">iter motion estimation</p>

<p style="margin-left:11%;"><b>extradata_size</b>
<i>integer</i></p>

<p style="margin-left:17%;">Set extradata size.</p>

<p style="margin-left:11%;"><b>time_base</b> <i>rational
number</i></p>

<p style="margin-left:17%;">Set codec time base.</p>

<p style="margin-left:17%; margin-top: 1em">It is the
fundamental unit of time (in seconds) in terms of which
frame timestamps are represented. For fixed-fps content,
timebase should be &quot;1 / frame_rate&quot; and timestamp
increments should be identically 1.</p>

<p style="margin-left:11%;"><b>g</b> <i>integer</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set the group of picture (
<small>GOP</small> ) size. Default value is 12.</p>

<p style="margin-left:11%;"><b>ar</b> <i>integer</i>
<b>(</b><i>decoding/encoding,audio</i><b>)</b></p>

<p style="margin-left:17%;">Set audio sampling rate (in
Hz).</p>

<p style="margin-left:11%;"><b>ac</b> <i>integer</i>
<b>(</b><i>decoding/encoding,audio</i><b>)</b></p>

<p style="margin-left:17%;">Set number of audio
channels.</p>

<p style="margin-left:11%;"><b>cutoff</b> <i>integer</i>
<b>(</b><i>encoding,audio</i><b>)</b></p>

<p style="margin-left:17%;">Set cutoff bandwidth.
(Supported only by selected encoders, see their respective
documentation sections.)</p>

<p style="margin-left:11%;"><b>frame_size</b>
<i>integer</i> <b>(</b><i>encoding,audio</i><b>)</b></p>

<p style="margin-left:17%;">Set audio frame size.</p>

<p style="margin-left:17%; margin-top: 1em">Each submitted
frame except the last must contain exactly frame_size
samples per channel. May be 0 when the codec has
<small>CODEC_CAP_VARIABLE_FRAME_SIZE</small> set, in that
case the frame size is not restricted. It is set by some
decoders to indicate constant frame size.</p>

<p style="margin-left:11%;"><b>frame_number</b>
<i>integer</i></p>

<p style="margin-left:17%;">Set the frame number.</p>

<p style="margin-left:11%;"><b>delay</b> <i>integer</i>
<b><br>
qcomp</b> <i>float</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set video quantizer scale
compression ( <small>VBR</small> ). It is used as a constant
in the ratecontrol equation. Recommended range for default
rc_eq: 0.0-1.0.</p>

<p style="margin-left:11%;"><b>qblur</b> <i>float</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set video quantizer scale blur
( <small>VBR</small> ).</p>

<p style="margin-left:11%;"><b>qmin</b> <i>integer</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set min video quantizer scale (
<small>VBR</small> ). Must be included between -1 and 69,
default value is 2.</p>

<p style="margin-left:11%;"><b>qmax</b> <i>integer</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set max video quantizer scale (
<small>VBR</small> ). Must be included between -1 and 1024,
default value is 31.</p>

<p style="margin-left:11%;"><b>qdiff</b> <i>integer</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set max difference between the
quantizer scale ( <small>VBR</small> ).</p>

<p style="margin-left:11%;"><b>bf</b> <i>integer</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set max number of B frames
between non-B-frames.</p>

<p style="margin-left:17%; margin-top: 1em">Must be an
integer between -1 and 16. 0 means that B-frames are
disabled. If a value of -1 is used, it will choose an
automatic value depending on the encoder.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is 0.</p>

<p style="margin-left:11%;"><b>b_qfactor</b> <i>float</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set qp factor between P and B
frames.</p>

<p style="margin-left:11%;"><b>rc_strategy</b>
<i>integer</i> <b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set ratecontrol method.</p>

<p style="margin-left:11%;"><b>b_strategy</b>
<i>integer</i> <b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set strategy to choose between
I/P/B-frames.</p>

<p style="margin-left:11%;"><b>ps</b> <i>integer</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set <small>RTP</small> payload
size in bytes.</p>

<p style="margin-left:11%;"><b>mv_bits</b> <i>integer</i>
<b><br>
header_bits</b> <i>integer</i> <b><br>
i_tex_bits</b> <i>integer</i> <b><br>
p_tex_bits</b> <i>integer</i> <b><br>
i_count</b> <i>integer</i> <b><br>
p_count</b> <i>integer</i> <b><br>
skip_count</b> <i>integer</i> <b><br>
misc_bits</b> <i>integer</i> <b><br>
frame_bits</b> <i>integer</i> <b><br>
codec_tag</b> <i>integer</i> <b><br>
bug</b> <i>flags</i>
<b>(</b><i>decoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Workaround not auto detected
encoder bugs.</p>

<p style="margin-left:17%; margin-top: 1em">Possible
values: <b><br>
autodetect <br>
old_msmpeg4</b></p>

<p style="margin-left:23%;">some old lavc generated
msmpeg4v3 files (no autodetection)</p>

<p style="margin-left:17%;"><b>xvid_ilace</b></p>

<p style="margin-left:23%;">Xvid interlacing bug
(autodetected if fourcc==XVIX)</p>

<p style="margin-left:17%;"><b>ump4</b></p>

<p style="margin-left:23%;">(autodetected if
fourcc==UMP4)</p>

<p style="margin-left:17%;"><b>no_padding</b></p>

<p style="margin-left:23%;">padding bug (autodetected)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>amv</b></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>ac_vlc</b></p>

<p style="margin-left:23%;">illegal vlc bug (autodetected
per fourcc)</p>

<p style="margin-left:17%;"><b>qpel_chroma <br>
std_qpel</b></p>

<p style="margin-left:23%;">old standard qpel (autodetected
per fourcc/version)</p>

<p style="margin-left:17%;"><b>qpel_chroma2 <br>
direct_blocksize</b></p>

<p style="margin-left:23%;">direct-qpel-blocksize bug
(autodetected per fourcc/version)</p>

<p style="margin-left:17%;"><b>edge</b></p>

<p style="margin-left:23%;">edge padding bug (autodetected
per fourcc/version)</p>

<p style="margin-left:17%;"><b>hpel_chroma <br>
dc_clip</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>ms</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>Workaround various bugs in microsoft broken
decoders.</p> </td></tr>
</table>

<p style="margin-left:17%;"><b>trunc</b></p>

<p style="margin-left:23%;">trancated frames</p>

<p style="margin-left:11%;"><b>lelim</b> <i>integer</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set single coefficient
elimination threshold for luminance (negative values also
consider <small>DC</small> coefficient).</p>

<p style="margin-left:11%;"><b>celim</b> <i>integer</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set single coefficient
elimination threshold for chrominance (negative values also
consider dc coefficient)</p>

<p style="margin-left:11%;"><b>strict</b> <i>integer</i>
<b>(</b><i>decoding/encoding,audio,video</i><b>)</b></p>

<p style="margin-left:17%;">Specify how strictly to follow
the standards.</p>

<p style="margin-left:17%; margin-top: 1em">Possible
values: <b><br>
very</b></p>

<p style="margin-left:23%;">strictly conform to an older
more strict version of the spec or reference software</p>

<p style="margin-left:17%;"><b>strict</b></p>

<p style="margin-left:23%;">strictly conform to all the
things in the spec no matter what consequences</p>

<p style="margin-left:17%;"><b>normal <br>
unofficial</b></p>

<p style="margin-left:23%;">allow unofficial extensions</p>

<p style="margin-left:17%;"><b>experimental</b></p>

<p style="margin-left:23%;">allow non standardized
experimental things, experimental (unfinished/work in
progress/not well tested) decoders and encoders. Note:
experimental decoders can pose a security risk, do not use
this for decoding untrusted input.</p>

<p style="margin-left:11%;"><b>b_qoffset</b> <i>float</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set <small>QP</small> offset
between P and B frames.</p>

<p style="margin-left:11%;"><b>err_detect</b> <i>flags</i>
<b>(</b><i>decoding,audio,video</i><b>)</b></p>

<p style="margin-left:17%;">Set error detection flags.</p>

<p style="margin-left:17%; margin-top: 1em">Possible
values: <b><br>
crccheck</b></p>

<p style="margin-left:23%;">verify embedded CRCs</p>

<p style="margin-left:17%;"><b>bitstream</b></p>

<p style="margin-left:23%;">detect bitstream specification
deviations</p>

<p style="margin-left:17%;"><b>buffer</b></p>

<p style="margin-left:23%;">detect improper bitstream
length</p>

<p style="margin-left:17%;"><b>explode</b></p>

<p style="margin-left:23%;">abort decoding on minor error
detection</p>

<p style="margin-left:17%;"><b>ignore_err</b></p>

<p style="margin-left:23%;">ignore decoding errors, and
continue decoding. This is useful if you want to analyze the
content of a video and thus want everything to be decoded no
matter what. This option will not result in a video that is
pleasing to watch in case of errors.</p>

<p style="margin-left:17%;"><b>careful</b></p>

<p style="margin-left:23%;">consider things that violate
the spec and have not been seen in the wild as errors</p>

<p style="margin-left:17%;"><b>compliant</b></p>

<p style="margin-left:23%;">consider all spec non
compliancies as errors</p>

<p style="margin-left:17%;"><b>aggressive</b></p>

<p style="margin-left:23%;">consider things that a sane
encoder should not do as an error</p>

<p style="margin-left:11%;"><b>has_b_frames</b>
<i>integer</i> <b><br>
block_align</b> <i>integer</i> <b><br>
mpeg_quant</b> <i>integer</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Use <small>MPEG</small>
quantizers instead of H.263.</p>

<p style="margin-left:11%;"><b>qsquish</b> <i>float</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">How to keep quantizer between
qmin and qmax (0 = clip, 1 = use differentiable
function).</p>

<p style="margin-left:11%;"><b>rc_qmod_amp</b> <i>float</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set experimental quantizer
modulation.</p>

<p style="margin-left:11%;"><b>rc_qmod_freq</b>
<i>integer</i> <b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set experimental quantizer
modulation.</p>

<p style="margin-left:11%;"><b>rc_override_count</b>
<i>integer</i> <b><br>
rc_eq</b> <i>string</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set rate control equation. When
computing the expression, besides the standard functions
defined in the section &rsquo;Expression Evaluation&rsquo;,
the following functions are available: bits2qp(bits),
qp2bits(qp). Also the following constants are available:
iTex pTex tex mv fCode iCount mcVar var isI isP isB avgQP
qComp avgIITex avgPITex avgPPTex avgBPTex avgTex.</p>

<p style="margin-left:11%;"><b>maxrate</b> <i>integer</i>
<b>(</b><i>encoding,audio,video</i><b>)</b></p>

<p style="margin-left:17%;">Set max bitrate tolerance (in
bits/s). Requires bufsize to be set.</p>

<p style="margin-left:11%;"><b>minrate</b> <i>integer</i>
<b>(</b><i>encoding,audio,video</i><b>)</b></p>

<p style="margin-left:17%;">Set min bitrate tolerance (in
bits/s). Most useful in setting up a <small>CBR</small>
encode. It is of little use elsewise.</p>

<p style="margin-left:11%;"><b>bufsize</b> <i>integer</i>
<b>(</b><i>encoding,audio,video</i><b>)</b></p>

<p style="margin-left:17%;">Set ratecontrol buffer size (in
bits).</p>

<p style="margin-left:11%;"><b>rc_buf_aggressivity</b>
<i>float</i> <b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Currently useless.</p>

<p style="margin-left:11%;"><b>i_qfactor</b> <i>float</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set <small>QP</small> factor
between P and I frames.</p>

<p style="margin-left:11%;"><b>i_qoffset</b> <i>float</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set <small>QP</small> offset
between P and I frames.</p>

<p style="margin-left:11%;"><b>rc_init_cplx</b>
<i>float</i> <b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set initial complexity for
1-pass encoding.</p>

<p style="margin-left:11%;"><b>dct</b> <i>integer</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set <small>DCT</small>
algorithm.</p>

<p style="margin-left:17%; margin-top: 1em">Possible
values: <b><br>
auto</b></p>

<p style="margin-left:23%;">autoselect a good one
(default)</p>

<p style="margin-left:17%;"><b>fastint</b></p>

<p style="margin-left:23%;">fast integer</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>int</b></p></td>
<td width="1%"></td>
<td width="25%">


<p>accurate integer</p></td>
<td width="52%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>mmx</b></p></td>
<td width="1%"></td>
<td width="25%"></td>
<td width="52%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>altivec <br>
faan</b></p>

<p style="margin-left:23%;">floating point <small>AAN
DCT</small></p>

<p style="margin-left:11%;"><b>lumi_mask</b> <i>float</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Compress bright areas stronger
than medium ones.</p>

<p style="margin-left:11%;"><b>tcplx_mask</b> <i>float</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set temporal complexity
masking.</p>

<p style="margin-left:11%;"><b>scplx_mask</b> <i>float</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set spatial complexity
masking.</p>

<p style="margin-left:11%;"><b>p_mask</b> <i>float</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set inter masking.</p>

<p style="margin-left:11%;"><b>dark_mask</b> <i>float</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Compress dark areas stronger
than medium ones.</p>

<p style="margin-left:11%;"><b>idct</b> <i>integer</i>
<b>(</b><i>decoding/encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Select <small>IDCT</small>
implementation.</p>

<p style="margin-left:17%; margin-top: 1em">Possible
values: <b><br>
auto</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>int</b></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>simple <br>
simplemmx <br>
simpleauto</b></p>

<p style="margin-left:23%;">Automatically pick a
<small>IDCT</small> compatible with the simple one</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>arm</b></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>altivec</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>sh4</b></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>simplearm <br>
simplearmv5te <br>
simplearmv6 <br>
simpleneon <br>
simplealpha</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>ipp</b></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>xvidmmx <br>
faani</b></p>

<p style="margin-left:23%;">floating point <small>AAN
IDCT</small></p>

<p style="margin-left:11%;"><b>slice_count</b>
<i>integer</i> <b><br>
ec</b> <i>flags</i>
<b>(</b><i>decoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set error concealment
strategy.</p>

<p style="margin-left:17%; margin-top: 1em">Possible
values: <b><br>
guess_mvs</b></p>

<p style="margin-left:23%;">iterative motion vector (
<small>MV</small> ) search (slow)</p>

<p style="margin-left:17%;"><b>deblock</b></p>

<p style="margin-left:23%;">use strong deblock filter for
damaged MBs</p>

<p style="margin-left:17%;"><b>favor_inter</b></p>

<p style="margin-left:23%;">favor predicting from the
previous frame instead of the current</p>

<p style="margin-left:11%;"><b>bits_per_coded_sample</b>
<i>integer</i> <b><br>
pred</b> <i>integer</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set prediction method.</p>

<p style="margin-left:17%; margin-top: 1em">Possible
values: <b><br>
left <br>
plane <br>
median</b></p>

<p style="margin-left:11%;"><b>aspect</b> <i>rational
number</i> <b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set sample aspect ratio.</p>

<p style="margin-left:11%;"><b>sar</b> <i>rational
number</i> <b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set sample aspect ratio. Alias
to <i>aspect</i>.</p>

<p style="margin-left:11%;"><b>debug</b> <i>flags</i>
<b>(</b><i>decoding/encoding,audio,video,subtitles</i><b>)</b></p>

<p style="margin-left:17%;">Print specific debug info.</p>

<p style="margin-left:17%; margin-top: 1em">Possible
values: <b><br>
pict</b></p>

<p style="margin-left:23%;">picture info</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>rc</b></p></td>
<td width="3%"></td>
<td width="19%">


<p>rate control</p></td>
<td width="58%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>bitstream <br>
mb_type</b></p>

<p style="margin-left:23%;">macroblock ( <small>MB</small>
) type</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>qp</b></p></td>
<td width="3%"></td>
<td width="57%">


<p>per-block quantization parameter ( <small>QP</small>
)</p> </td>
<td width="20%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>dct_coeff <br>
green_metadata</b></p>

<p style="margin-left:23%;">display complexity metadata for
the upcoming frame, GoP or for a given duration.</p>

<p style="margin-left:17%;"><b>skip <br>
startcode</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>er</b></p></td>
<td width="3%"></td>
<td width="26%">


<p>error recognition</p></td>
<td width="51%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>mmco</b></p>

<p style="margin-left:23%;">memory management control
operations (H.264)</p>

<p style="margin-left:17%;"><b>bugs <br>
buffers</b></p>

<p style="margin-left:23%;">picture buffer allocations</p>

<p style="margin-left:17%;"><b>thread_ops</b></p>

<p style="margin-left:23%;">threading operations</p>

<p style="margin-left:17%;"><b>nomc</b></p>

<p style="margin-left:23%;">skip motion compensation</p>

<p style="margin-left:11%;"><b>cmp</b> <i>integer</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set full pel me compare
function.</p>

<p style="margin-left:17%; margin-top: 1em">Possible
values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>sad</b></p></td>
<td width="1%"></td>
<td width="66%">


<p>sum of absolute differences, fast (default)</p></td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>sse</b></p></td>
<td width="1%"></td>
<td width="66%">


<p>sum of squared errors</p></td>
<td width="11%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>satd</b></p>

<p style="margin-left:23%;">sum of absolute Hadamard
transformed differences</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>dct</b></p></td>
<td width="1%"></td>
<td width="66%">


<p>sum of absolute <small>DCT</small> transformed
differences</p> </td>
<td width="11%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>psnr</b></p>

<p style="margin-left:23%;">sum of squared quantization
errors (avoid, low quality)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>bit</b></p></td>
<td width="1%"></td>
<td width="54%">


<p>number of bits needed for the block</p></td>
<td width="23%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>rd</b></p></td>
<td width="1%"></td>
<td width="54%">


<p>rate distortion optimal, slow</p></td>
<td width="23%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>zero</b></p>

<p style="margin-left:23%;">0</p>

<p style="margin-left:17%;"><b>vsad</b></p>

<p style="margin-left:23%;">sum of absolute vertical
differences</p>

<p style="margin-left:17%;"><b>vsse</b></p>

<p style="margin-left:23%;">sum of squared vertical
differences</p>

<p style="margin-left:17%;"><b>nsse</b></p>

<p style="margin-left:23%;">noise preserving sum of squared
differences</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>w53</b></p></td>
<td width="1%"></td>
<td width="46%">


<p>5/3 wavelet, only used in snow</p></td>
<td width="31%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>w97</b></p></td>
<td width="1%"></td>
<td width="46%">


<p>9/7 wavelet, only used in snow</p></td>
<td width="31%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>dctmax <br>
chroma</b></p>

<p style="margin-left:11%;"><b>subcmp</b> <i>integer</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set sub pel me compare
function.</p>

<p style="margin-left:17%; margin-top: 1em">Possible
values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>sad</b></p></td>
<td width="1%"></td>
<td width="66%">


<p>sum of absolute differences, fast (default)</p></td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>sse</b></p></td>
<td width="1%"></td>
<td width="66%">


<p>sum of squared errors</p></td>
<td width="11%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>satd</b></p>

<p style="margin-left:23%;">sum of absolute Hadamard
transformed differences</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>dct</b></p></td>
<td width="1%"></td>
<td width="66%">


<p>sum of absolute <small>DCT</small> transformed
differences</p> </td>
<td width="11%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>psnr</b></p>

<p style="margin-left:23%;">sum of squared quantization
errors (avoid, low quality)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>bit</b></p></td>
<td width="1%"></td>
<td width="54%">


<p>number of bits needed for the block</p></td>
<td width="23%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>rd</b></p></td>
<td width="1%"></td>
<td width="54%">


<p>rate distortion optimal, slow</p></td>
<td width="23%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>zero</b></p>

<p style="margin-left:23%;">0</p>

<p style="margin-left:17%;"><b>vsad</b></p>

<p style="margin-left:23%;">sum of absolute vertical
differences</p>

<p style="margin-left:17%;"><b>vsse</b></p>

<p style="margin-left:23%;">sum of squared vertical
differences</p>

<p style="margin-left:17%;"><b>nsse</b></p>

<p style="margin-left:23%;">noise preserving sum of squared
differences</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>w53</b></p></td>
<td width="1%"></td>
<td width="46%">


<p>5/3 wavelet, only used in snow</p></td>
<td width="31%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>w97</b></p></td>
<td width="1%"></td>
<td width="46%">


<p>9/7 wavelet, only used in snow</p></td>
<td width="31%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>dctmax <br>
chroma</b></p>

<p style="margin-left:11%;"><b>mbcmp</b> <i>integer</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set macroblock compare
function.</p>

<p style="margin-left:17%; margin-top: 1em">Possible
values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>sad</b></p></td>
<td width="1%"></td>
<td width="66%">


<p>sum of absolute differences, fast (default)</p></td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>sse</b></p></td>
<td width="1%"></td>
<td width="66%">


<p>sum of squared errors</p></td>
<td width="11%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>satd</b></p>

<p style="margin-left:23%;">sum of absolute Hadamard
transformed differences</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>dct</b></p></td>
<td width="1%"></td>
<td width="66%">


<p>sum of absolute <small>DCT</small> transformed
differences</p> </td>
<td width="11%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>psnr</b></p>

<p style="margin-left:23%;">sum of squared quantization
errors (avoid, low quality)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>bit</b></p></td>
<td width="1%"></td>
<td width="54%">


<p>number of bits needed for the block</p></td>
<td width="23%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>rd</b></p></td>
<td width="1%"></td>
<td width="54%">


<p>rate distortion optimal, slow</p></td>
<td width="23%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>zero</b></p>

<p style="margin-left:23%;">0</p>

<p style="margin-left:17%;"><b>vsad</b></p>

<p style="margin-left:23%;">sum of absolute vertical
differences</p>

<p style="margin-left:17%;"><b>vsse</b></p>

<p style="margin-left:23%;">sum of squared vertical
differences</p>

<p style="margin-left:17%;"><b>nsse</b></p>

<p style="margin-left:23%;">noise preserving sum of squared
differences</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>w53</b></p></td>
<td width="1%"></td>
<td width="46%">


<p>5/3 wavelet, only used in snow</p></td>
<td width="31%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>w97</b></p></td>
<td width="1%"></td>
<td width="46%">


<p>9/7 wavelet, only used in snow</p></td>
<td width="31%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>dctmax <br>
chroma</b></p>

<p style="margin-left:11%;"><b>ildctcmp</b> <i>integer</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set interlaced dct compare
function.</p>

<p style="margin-left:17%; margin-top: 1em">Possible
values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>sad</b></p></td>
<td width="1%"></td>
<td width="66%">


<p>sum of absolute differences, fast (default)</p></td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>sse</b></p></td>
<td width="1%"></td>
<td width="66%">


<p>sum of squared errors</p></td>
<td width="11%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>satd</b></p>

<p style="margin-left:23%;">sum of absolute Hadamard
transformed differences</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>dct</b></p></td>
<td width="1%"></td>
<td width="66%">


<p>sum of absolute <small>DCT</small> transformed
differences</p> </td>
<td width="11%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>psnr</b></p>

<p style="margin-left:23%;">sum of squared quantization
errors (avoid, low quality)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>bit</b></p></td>
<td width="1%"></td>
<td width="54%">


<p>number of bits needed for the block</p></td>
<td width="23%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>rd</b></p></td>
<td width="1%"></td>
<td width="54%">


<p>rate distortion optimal, slow</p></td>
<td width="23%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>zero</b></p>

<p style="margin-left:23%;">0</p>

<p style="margin-left:17%;"><b>vsad</b></p>

<p style="margin-left:23%;">sum of absolute vertical
differences</p>

<p style="margin-left:17%;"><b>vsse</b></p>

<p style="margin-left:23%;">sum of squared vertical
differences</p>

<p style="margin-left:17%;"><b>nsse</b></p>

<p style="margin-left:23%;">noise preserving sum of squared
differences</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>w53</b></p></td>
<td width="1%"></td>
<td width="46%">


<p>5/3 wavelet, only used in snow</p></td>
<td width="31%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>w97</b></p></td>
<td width="1%"></td>
<td width="46%">


<p>9/7 wavelet, only used in snow</p></td>
<td width="31%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>dctmax <br>
chroma</b></p>

<p style="margin-left:11%;"><b>dia_size</b> <i>integer</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set diamond type &amp; size for
motion estimation.</p>

<p style="margin-left:11%;"><b>last_pred</b> <i>integer</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set amount of motion predictors
from the previous frame.</p>

<p style="margin-left:11%;"><b>preme</b> <i>integer</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set pre motion estimation.</p>

<p style="margin-left:11%;"><b>precmp</b> <i>integer</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set pre motion estimation
compare function.</p>

<p style="margin-left:17%; margin-top: 1em">Possible
values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>sad</b></p></td>
<td width="1%"></td>
<td width="66%">


<p>sum of absolute differences, fast (default)</p></td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>sse</b></p></td>
<td width="1%"></td>
<td width="66%">


<p>sum of squared errors</p></td>
<td width="11%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>satd</b></p>

<p style="margin-left:23%;">sum of absolute Hadamard
transformed differences</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>dct</b></p></td>
<td width="1%"></td>
<td width="66%">


<p>sum of absolute <small>DCT</small> transformed
differences</p> </td>
<td width="11%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>psnr</b></p>

<p style="margin-left:23%;">sum of squared quantization
errors (avoid, low quality)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>bit</b></p></td>
<td width="1%"></td>
<td width="54%">


<p>number of bits needed for the block</p></td>
<td width="23%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>rd</b></p></td>
<td width="1%"></td>
<td width="54%">


<p>rate distortion optimal, slow</p></td>
<td width="23%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>zero</b></p>

<p style="margin-left:23%;">0</p>

<p style="margin-left:17%;"><b>vsad</b></p>

<p style="margin-left:23%;">sum of absolute vertical
differences</p>

<p style="margin-left:17%;"><b>vsse</b></p>

<p style="margin-left:23%;">sum of squared vertical
differences</p>

<p style="margin-left:17%;"><b>nsse</b></p>

<p style="margin-left:23%;">noise preserving sum of squared
differences</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>w53</b></p></td>
<td width="1%"></td>
<td width="46%">


<p>5/3 wavelet, only used in snow</p></td>
<td width="31%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>w97</b></p></td>
<td width="1%"></td>
<td width="46%">


<p>9/7 wavelet, only used in snow</p></td>
<td width="31%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>dctmax <br>
chroma</b></p>

<p style="margin-left:11%;"><b>pre_dia_size</b>
<i>integer</i> <b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set diamond type &amp; size for
motion estimation pre-pass.</p>

<p style="margin-left:11%;"><b>subq</b> <i>integer</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set sub pel motion estimation
quality.</p>

<p style="margin-left:11%;"><b>dtg_active_format</b>
<i>integer</i> <b><br>
me_range</b> <i>integer</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set limit motion vectors range
(1023 for DivX player).</p>

<p style="margin-left:11%;"><b>ibias</b> <i>integer</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set intra quant bias.</p>

<p style="margin-left:11%;"><b>pbias</b> <i>integer</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set inter quant bias.</p>

<p style="margin-left:11%;"><b>color_table_id</b>
<i>integer</i> <b><br>
global_quality</b> <i>integer</i>
<b>(</b><i>encoding,audio,video</i><b>) <br>
coder</b> <i>integer</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Possible values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>vlc</b></p></td>
<td width="1%"></td>
<td width="57%">


<p>variable length coder / huffman coder</p></td>
<td width="20%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>ac</b></p></td>
<td width="1%"></td>
<td width="57%">


<p>arithmetic coder</p></td>
<td width="20%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>raw</b></p></td>
<td width="1%"></td>
<td width="57%">


<p>raw (no encoding)</p></td>
<td width="20%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>rle</b></p></td>
<td width="1%"></td>
<td width="57%">


<p>run-length coder</p></td>
<td width="20%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>deflate</b></p>

<p style="margin-left:23%;">deflate-based coder</p>

<p style="margin-left:11%;"><b>context</b> <i>integer</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set context model.</p>

<p style="margin-left:11%;"><b>slice_flags</b>
<i>integer</i> <b><br>
mbd</b> <i>integer</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set macroblock decision
algorithm (high quality mode).</p>

<p style="margin-left:17%; margin-top: 1em">Possible
values: <b><br>
simple</b></p>

<p style="margin-left:23%;">use mbcmp (default)</p>

<p style="margin-left:17%;"><b>bits</b></p>

<p style="margin-left:23%;">use fewest bits</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>rd</b></p></td>
<td width="3%"></td>
<td width="37%">


<p>use best rate distortion</p></td>
<td width="40%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>stream_codec_tag</b>
<i>integer</i> <b><br>
sc_threshold</b> <i>integer</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set scene change threshold.</p>

<p style="margin-left:11%;"><b>lmin</b> <i>integer</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set min lagrange factor (
<small>VBR</small> ).</p>

<p style="margin-left:11%;"><b>lmax</b> <i>integer</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set max lagrange factor (
<small>VBR</small> ).</p>

<p style="margin-left:11%;"><b>nr</b> <i>integer</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set noise reduction.</p>

<p style="margin-left:11%;"><b>rc_init_occupancy</b>
<i>integer</i> <b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set number of bits which should
be loaded into the rc buffer before decoding starts.</p>

<p style="margin-left:11%;"><b>flags2</b> <i>flags</i>
<b>(</b><i>decoding/encoding,audio,video</i><b>)</b></p>

<p style="margin-left:17%;">Possible values: <b><br>
fast</b></p>

<p style="margin-left:23%;">Allow non spec compliant
speedup tricks.</p>

<p style="margin-left:17%;"><b>sgop</b></p>

<p style="margin-left:23%;">Deprecated, use mpegvideo
private options instead.</p>

<p style="margin-left:17%;"><b>noout</b></p>

<p style="margin-left:23%;">Skip bitstream encoding.</p>

<p style="margin-left:17%;"><b>ignorecrop</b></p>

<p style="margin-left:23%;">Ignore cropping information
from sps.</p>

<p style="margin-left:17%;"><b>local_header</b></p>

<p style="margin-left:23%;">Place global headers at every
keyframe instead of in extradata.</p>

<p style="margin-left:17%;"><b>chunks</b></p>

<p style="margin-left:23%;">Frame data might be split into
multiple chunks.</p>

<p style="margin-left:17%;"><b>showall</b></p>

<p style="margin-left:23%;">Show all frames before the
first keyframe.</p>

<p style="margin-left:17%;"><b>export_mvs</b></p>

<p style="margin-left:23%;">Export motion vectors into
frame side-data (see
&quot;AV_FRAME_DATA_MOTION_VECTORS&quot;) for codecs that
support it. See also <i>doc/examples/export_mvs.c</i>.</p>

<p style="margin-left:11%;"><b>error</b> <i>integer</i>
<b>(</b><i>encoding,video</i><b>) <br>
qns</b> <i>integer</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Deprecated, use mpegvideo
private options instead.</p>

<p style="margin-left:11%;"><b>threads</b> <i>integer</i>
<b>(</b><i>decoding/encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set the number of threads to be
used, in case the selected codec implementation supports
multi-threading.</p>

<p style="margin-left:17%; margin-top: 1em">Possible
values: <b><br>
auto, 0</b></p>

<p style="margin-left:23%;">automatically select the number
of threads to set</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is <b>auto</b>.</p>

<p style="margin-left:11%;"><b>me_threshold</b>
<i>integer</i> <b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set motion estimation
threshold.</p>

<p style="margin-left:11%;"><b>mb_threshold</b>
<i>integer</i> <b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set macroblock threshold.</p>

<p style="margin-left:11%;"><b>dc</b> <i>integer</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set intra_dc_precision.</p>

<p style="margin-left:11%;"><b>nssew</b> <i>integer</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set nsse weight.</p>

<p style="margin-left:11%;"><b>skip_top</b> <i>integer</i>
<b>(</b><i>decoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set number of macroblock rows
at the top which are skipped.</p>

<p style="margin-left:11%;"><b>skip_bottom</b>
<i>integer</i> <b>(</b><i>decoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set number of macroblock rows
at the bottom which are skipped.</p>

<p style="margin-left:11%;"><b>profile</b> <i>integer</i>
<b>(</b><i>encoding,audio,video</i><b>)</b></p>

<p style="margin-left:17%;">Possible values: <b><br>
unknown <br>
aac_main <br>
aac_low <br>
aac_ssr <br>
aac_ltp <br>
aac_he <br>
aac_he_v2 <br>
aac_ld <br>
aac_eld <br>
mpeg2_aac_low <br>
mpeg2_aac_he <br>
mpeg4_sp <br>
mpeg4_core <br>
mpeg4_main <br>
mpeg4_asp</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>dts</b></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>dts_es <br>
dts_96_24 <br>
dts_hd_hra <br>
dts_hd_ma</b></p>

<p style="margin-left:11%;"><b>level</b> <i>integer</i>
<b>(</b><i>encoding,audio,video</i><b>)</b></p>

<p style="margin-left:17%;">Possible values: <b><br>
unknown</b></p>

<p style="margin-left:11%;"><b>lowres</b> <i>integer</i>
<b>(</b><i>decoding,audio,video</i><b>)</b></p>

<p style="margin-left:17%;">Decode at 1= 1/2, 2=1/4, 3=1/8
resolutions.</p>

<p style="margin-left:11%;"><b>skip_threshold</b>
<i>integer</i> <b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set frame skip threshold.</p>

<p style="margin-left:11%;"><b>skip_factor</b>
<i>integer</i> <b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set frame skip factor.</p>

<p style="margin-left:11%;"><b>skip_exp</b> <i>integer</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set frame skip exponent.
Negative values behave identical to the corresponding
positive ones, except that the score is normalized. Positive
values exist primarily for compatibility reasons and are not
so useful.</p>

<p style="margin-left:11%;"><b>skipcmp</b> <i>integer</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set frame skip compare
function.</p>

<p style="margin-left:17%; margin-top: 1em">Possible
values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>sad</b></p></td>
<td width="1%"></td>
<td width="66%">


<p>sum of absolute differences, fast (default)</p></td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>sse</b></p></td>
<td width="1%"></td>
<td width="66%">


<p>sum of squared errors</p></td>
<td width="11%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>satd</b></p>

<p style="margin-left:23%;">sum of absolute Hadamard
transformed differences</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>dct</b></p></td>
<td width="1%"></td>
<td width="66%">


<p>sum of absolute <small>DCT</small> transformed
differences</p> </td>
<td width="11%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>psnr</b></p>

<p style="margin-left:23%;">sum of squared quantization
errors (avoid, low quality)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>bit</b></p></td>
<td width="1%"></td>
<td width="54%">


<p>number of bits needed for the block</p></td>
<td width="23%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>rd</b></p></td>
<td width="1%"></td>
<td width="54%">


<p>rate distortion optimal, slow</p></td>
<td width="23%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>zero</b></p>

<p style="margin-left:23%;">0</p>

<p style="margin-left:17%;"><b>vsad</b></p>

<p style="margin-left:23%;">sum of absolute vertical
differences</p>

<p style="margin-left:17%;"><b>vsse</b></p>

<p style="margin-left:23%;">sum of squared vertical
differences</p>

<p style="margin-left:17%;"><b>nsse</b></p>

<p style="margin-left:23%;">noise preserving sum of squared
differences</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>w53</b></p></td>
<td width="1%"></td>
<td width="46%">


<p>5/3 wavelet, only used in snow</p></td>
<td width="31%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>w97</b></p></td>
<td width="1%"></td>
<td width="46%">


<p>9/7 wavelet, only used in snow</p></td>
<td width="31%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>dctmax <br>
chroma</b></p>

<p style="margin-left:11%;"><b>border_mask</b> <i>float</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Increase the quantizer for
macroblocks close to borders.</p>

<p style="margin-left:11%;"><b>mblmin</b> <i>integer</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set min macroblock lagrange
factor ( <small>VBR</small> ).</p>

<p style="margin-left:11%;"><b>mblmax</b> <i>integer</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set max macroblock lagrange
factor ( <small>VBR</small> ).</p>

<p style="margin-left:11%;"><b>mepc</b> <i>integer</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set motion estimation bitrate
penalty compensation (1.0 = 256).</p>

<p style="margin-left:11%;"><b>skip_loop_filter</b>
<i>integer</i> <b>(</b><i>decoding,video</i><b>) <br>
skip_idct</b> <i>integer</i>
<b>(</b><i>decoding,video</i><b>) <br>
skip_frame</b> <i>integer</i>
<b>(</b><i>decoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Make decoder discard processing
depending on the frame type selected by the option
value.</p>


<p style="margin-left:17%; margin-top: 1em"><b>skip_loop_filter</b>
skips frame loop filtering, <b>skip_idct</b> skips frame
IDCT/dequantization, <b>skip_frame</b> skips decoding.</p>

<p style="margin-left:17%; margin-top: 1em">Possible
values: <b><br>
none</b></p>

<p style="margin-left:23%;">Discard no frame.</p>

<p style="margin-left:17%;"><b>default</b></p>

<p style="margin-left:23%;">Discard useless frames like
0-sized frames.</p>

<p style="margin-left:17%;"><b>noref</b></p>

<p style="margin-left:23%;">Discard all non-reference
frames.</p>

<p style="margin-left:17%;"><b>bidir</b></p>

<p style="margin-left:23%;">Discard all bidirectional
frames.</p>

<p style="margin-left:17%;"><b>nokey</b></p>

<p style="margin-left:23%;">Discard all frames excepts
keyframes.</p>

<p style="margin-left:17%;"><b>nointra</b></p>

<p style="margin-left:23%;">Discard all frames except I
frames.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>all</b></p></td>
<td width="1%"></td>
<td width="29%">


<p>Discard all frames.</p></td>
<td width="48%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Default value
is <b>default</b>.</p>

<p style="margin-left:11%;"><b>bidir_refine</b>
<i>integer</i> <b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Refine the two motion vectors
used in bidirectional macroblocks.</p>

<p style="margin-left:11%;"><b>brd_scale</b> <i>integer</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Downscale frames for dynamic
B-frame decision.</p>

<p style="margin-left:11%;"><b>keyint_min</b>
<i>integer</i> <b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set minimum interval between
IDR-frames.</p>

<p style="margin-left:11%;"><b>refs</b> <i>integer</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set reference frames to
consider for motion compensation.</p>

<p style="margin-left:11%;"><b>chromaoffset</b>
<i>integer</i> <b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set chroma qp offset from
luma.</p>

<p style="margin-left:11%;"><b>trellis</b> <i>integer</i>
<b>(</b><i>encoding,audio,video</i><b>)</b></p>

<p style="margin-left:17%;">Set rate-distortion optimal
quantization.</p>

<p style="margin-left:11%;"><b>mv0_threshold</b>
<i>integer</i> <b>(</b><i>encoding,video</i><b>) <br>
b_sensitivity</b> <i>integer</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Adjust sensitivity of
b_frame_strategy 1.</p>

<p style="margin-left:11%;"><b>compression_level</b>
<i>integer</i> <b>(</b><i>encoding,audio,video</i><b>) <br>
min_prediction_order</b> <i>integer</i>
<b>(</b><i>encoding,audio</i><b>) <br>
max_prediction_order</b> <i>integer</i>
<b>(</b><i>encoding,audio</i><b>) <br>
timecode_frame_start</b> <i>integer</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set <small>GOP</small> timecode
frame start number, in non drop frame format.</p>

<p style="margin-left:11%;"><b>request_channels</b>
<i>integer</i> <b>(</b><i>decoding,audio</i><b>)</b></p>

<p style="margin-left:17%;">Set desired number of audio
channels.</p>

<p style="margin-left:11%;"><b>bits_per_raw_sample</b>
<i>integer</i> <b><br>
channel_layout</b> <i>integer</i>
<b>(</b><i>decoding/encoding,audio</i><b>)</b></p>

<p style="margin-left:17%;">Possible values:</p>

<p style="margin-left:11%;"><b>request_channel_layout</b>
<i>integer</i> <b>(</b><i>decoding,audio</i><b>)</b></p>

<p style="margin-left:17%;">Possible values:</p>

<p style="margin-left:11%;"><b>rc_max_vbv_use</b>
<i>float</i> <b>(</b><i>encoding,video</i><b>) <br>
rc_min_vbv_use</b> <i>float</i>
<b>(</b><i>encoding,video</i><b>) <br>
ticks_per_frame</b> <i>integer</i>
<b>(</b><i>decoding/encoding,audio,video</i><b>) <br>
color_primaries</b> <i>integer</i>
<b>(</b><i>decoding/encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Possible values: <b><br>
bt709</b></p>

<p style="margin-left:23%;"><small>BT.709</small></p>

<p style="margin-left:17%;"><b>bt470m</b></p>

<p style="margin-left:23%;"><small>BT.470 M</small></p>

<p style="margin-left:17%;"><b>bt470bg</b></p>

<p style="margin-left:23%;"><small>BT.470 BG</small></p>

<p style="margin-left:17%;"><b>smpte170m</b></p>

<p style="margin-left:23%;"><small>SMPTE 170 M</small></p>

<p style="margin-left:17%;"><b>smpte240m</b></p>

<p style="margin-left:23%;"><small>SMPTE 240 M</small></p>

<p style="margin-left:17%;"><b>film</b></p>

<p style="margin-left:23%;">Film</p>

<p style="margin-left:17%;"><b>bt2020</b></p>

<p style="margin-left:23%;"><small>BT.2020</small></p>

<p style="margin-left:17%;"><b>smpte428 <br>
smpte428_1</b></p>

<p style="margin-left:23%;"><small>SMPTE ST
428-1</small></p>

<p style="margin-left:17%;"><b>smpte431</b></p>

<p style="margin-left:23%;"><small>SMPTE 431-2</small></p>

<p style="margin-left:17%;"><b>smpte432</b></p>

<p style="margin-left:23%;"><small>SMPTE 432-1</small></p>

<p style="margin-left:17%;"><b>jedec-p22</b></p>

<p style="margin-left:23%;"><small>JEDEC P22</small></p>

<p style="margin-left:11%;"><b>color_trc</b> <i>integer</i>
<b>(</b><i>decoding/encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Possible values: <b><br>
bt709</b></p>

<p style="margin-left:23%;"><small>BT.709</small></p>

<p style="margin-left:17%;"><b>gamma22</b></p>

<p style="margin-left:23%;"><small>BT.470 M</small></p>

<p style="margin-left:17%;"><b>gamma28</b></p>

<p style="margin-left:23%;"><small>BT.470 BG</small></p>

<p style="margin-left:17%;"><b>smpte170m</b></p>

<p style="margin-left:23%;"><small>SMPTE 170 M</small></p>

<p style="margin-left:17%;"><b>smpte240m</b></p>

<p style="margin-left:23%;"><small>SMPTE 240 M</small></p>

<p style="margin-left:17%;"><b>linear</b></p>

<p style="margin-left:23%;">Linear</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>log</b></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>log100</b></p>

<p style="margin-left:23%;">Log</p>

<p style="margin-left:17%;"><b>log_sqrt <br>
log316</b></p>

<p style="margin-left:23%;">Log square root</p>

<p style="margin-left:17%;"><b>iec61966_2_4 <br>
iec61966-2-4</b></p>

<p style="margin-left:23%;"><small>IEC
61966-2-4</small></p>

<p style="margin-left:17%;"><b>bt1361 <br>
bt1361e</b></p>

<p style="margin-left:23%;"><small>BT.1361</small></p>

<p style="margin-left:17%;"><b>iec61966_2_1 <br>
iec61966-2-1</b></p>

<p style="margin-left:23%;"><small>IEC
61966-2-1</small></p>

<p style="margin-left:17%;"><b>bt2020_10 <br>
bt2020_10bit</b></p>

<p style="margin-left:23%;"><small>BT.2020</small> - 10
bit</p>

<p style="margin-left:17%;"><b>bt2020_12 <br>
bt2020_12bit</b></p>

<p style="margin-left:23%;"><small>BT.2020</small> - 12
bit</p>

<p style="margin-left:17%;"><b>smpte2084</b></p>

<p style="margin-left:23%;"><small>SMPTE ST
2084</small></p>

<p style="margin-left:17%;"><b>smpte428 <br>
smpte428_1</b></p>

<p style="margin-left:23%;"><small>SMPTE ST
428-1</small></p>

<p style="margin-left:17%;"><b>arib-std-b67</b></p>

<p style="margin-left:23%;"><small>ARIB STD-B67</small></p>

<p style="margin-left:11%;"><b>colorspace</b>
<i>integer</i>
<b>(</b><i>decoding/encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Possible values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>rgb</b></p></td>
<td width="1%"></td>
<td width="5%">


<p><small>RGB</small></p></td>
<td width="72%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>bt709</b></p>

<p style="margin-left:23%;"><small>BT.709</small></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>fcc</b></p></td>
<td width="1%"></td>
<td width="5%">


<p><small>FCC</small></p></td>
<td width="72%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>bt470bg</b></p>

<p style="margin-left:23%;"><small>BT.470 BG</small></p>

<p style="margin-left:17%;"><b>smpte170m</b></p>

<p style="margin-left:23%;"><small>SMPTE 170 M</small></p>

<p style="margin-left:17%;"><b>smpte240m</b></p>

<p style="margin-left:23%;"><small>SMPTE 240 M</small></p>

<p style="margin-left:17%;"><b>ycocg</b></p>

<p style="margin-left:23%;"><small>YCOCG</small></p>

<p style="margin-left:17%;"><b>bt2020nc <br>
bt2020_ncl</b></p>

<p style="margin-left:23%;"><small>BT.2020 NCL</small></p>

<p style="margin-left:17%;"><b>bt2020c <br>
bt2020_cl</b></p>

<p style="margin-left:23%;"><small>BT.2020 CL</small></p>

<p style="margin-left:17%;"><b>smpte2085</b></p>

<p style="margin-left:23%;"><small>SMPTE 2085</small></p>

<p style="margin-left:11%;"><b>color_range</b>
<i>integer</i>
<b>(</b><i>decoding/encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">If used as input parameter, it
serves as a hint to the decoder, which color_range the input
has. Possible values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>tv</b></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>mpeg</b></p>

<p style="margin-left:23%;"><small>MPEG</small>
(219*2^(n-8))</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>pc</b></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>jpeg</b></p>

<p style="margin-left:23%;"><small>JPEG</small> (2^n-1)</p>

<p style="margin-left:11%;"><b>chroma_sample_location</b>
<i>integer</i>
<b>(</b><i>decoding/encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Possible values: <b><br>
left <br>
center <br>
topleft</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>top</b></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>bottomleft <br>
bottom</b></p>

<p style="margin-left:11%;"><b>log_level_offset</b>
<i>integer</i></p>

<p style="margin-left:17%;">Set the log level offset.</p>

<p style="margin-left:11%;"><b>slices</b> <i>integer</i>
<b>(</b><i>encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Number of slices, used in
parallelized encoding.</p>

<p style="margin-left:11%;"><b>thread_type</b> <i>flags</i>
<b>(</b><i>decoding/encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Select which multithreading
methods to use.</p>

<p style="margin-left:17%; margin-top: 1em">Use of
<b>frame</b> will increase decoding delay by one frame per
thread, so clients which cannot provide future frames should
not use it.</p>

<p style="margin-left:17%; margin-top: 1em">Possible
values: <b><br>
slice</b></p>

<p style="margin-left:23%;">Decode more than one part of a
single frame at once.</p>

<p style="margin-left:23%; margin-top: 1em">Multithreading
using slices works only when the video was encoded with
slices.</p>

<p style="margin-left:17%;"><b>frame</b></p>

<p style="margin-left:23%;">Decode more than one frame at
once.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is <b>slice+frame</b>.</p>

<p style="margin-left:11%;"><b>audio_service_type</b>
<i>integer</i> <b>(</b><i>encoding,audio</i><b>)</b></p>

<p style="margin-left:17%;">Set audio service type.</p>

<p style="margin-left:17%; margin-top: 1em">Possible
values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>ma</b></p></td>
<td width="3%"></td>
<td width="28%">


<p>Main Audio Service</p></td>
<td width="49%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>ef</b></p></td>
<td width="3%"></td>
<td width="28%">


<p>Effects</p></td>
<td width="49%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>vi</b></p></td>
<td width="3%"></td>
<td width="28%">


<p>Visually Impaired</p></td>
<td width="49%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>hi</b></p></td>
<td width="3%"></td>
<td width="28%">


<p>Hearing Impaired</p></td>
<td width="49%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>di</b></p></td>
<td width="3%"></td>
<td width="28%">


<p>Dialogue</p></td>
<td width="49%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>co</b></p></td>
<td width="3%"></td>
<td width="28%">


<p>Commentary</p></td>
<td width="49%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>em</b></p></td>
<td width="3%"></td>
<td width="28%">


<p>Emergency</p></td>
<td width="49%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>vo</b></p></td>
<td width="3%"></td>
<td width="28%">


<p>Voice Over</p></td>
<td width="49%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>ka</b></p></td>
<td width="3%"></td>
<td width="28%">


<p>Karaoke</p></td>
<td width="49%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>request_sample_fmt</b>
<i>sample_fmt</i> <b>(</b><i>decoding,audio</i><b>)</b></p>

<p style="margin-left:17%;">Set sample format audio
decoders should prefer. Default value is
&quot;none&quot;.</p>

<p style="margin-left:11%;"><b>pkt_timebase</b> <i>rational
number</i> <b><br>
sub_charenc</b> <i>encoding</i>
<b>(</b><i>decoding,subtitles</i><b>)</b></p>

<p style="margin-left:17%;">Set the input subtitles
character encoding.</p>

<p style="margin-left:11%;"><b>field_order</b>
<i>field_order</i> <b>(</b><i>video</i><b>)</b></p>

<p style="margin-left:17%;">Set/override the field order of
the video. Possible values: <b><br>
progressive</b></p>

<p style="margin-left:23%;">Progressive video</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>tt</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>Interlaced video, top field coded and displayed
first</p> </td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>bb</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>Interlaced video, bottom field coded and displayed
first</p> </td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>tb</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>Interlaced video, top coded first, bottom displayed
first</p> </td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>bt</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>Interlaced video, bottom coded first, top displayed
first</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>skip_alpha</b> <i>bool</i>
<b>(</b><i>decoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Set to 1 to disable processing
alpha (transparency). This works like the <b>gray</b> flag
in the <b>flags</b> option which skips chroma information
instead of alpha. Default is 0.</p>

<p style="margin-left:11%;"><b>codec_whitelist</b>
<i>list</i> <b>(</b><i>input</i><b>)</b></p>

<p style="margin-left:17%;">&quot;,&quot; separated list of
allowed decoders. By default all are allowed.</p>

<p style="margin-left:11%;"><b>dump_separator</b>
<i>string</i> <b>(</b><i>input</i><b>)</b></p>

<p style="margin-left:17%;">Separator used to separate the
fields printed on the command line about the Stream
parameters. For example, to separate the fields with
newlines and indentation:</p>

<p style="margin-left:17%; margin-top: 1em">ffprobe
-dump_separator &quot; <br>
&quot; -i ~/videos/matrixbench_mpeg2.mpg</p>

<p style="margin-left:11%;"><b>max_pixels</b>
<i>integer</i>
<b>(</b><i>decoding/encoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Maximum number of pixels per
image. This value can be used to avoid out of memory
failures due to large images.</p>

<p style="margin-left:11%;"><b>apply_cropping</b>
<i>bool</i> <b>(</b><i>decoding,video</i><b>)</b></p>

<p style="margin-left:17%;">Enable cropping if cropping
parameters are multiples of the required alignment for the
left and top parameters. If the alignment is not met the
cropping will be partially applied to maintain alignment.
Default is 1 (enabled). Note: The required alignment depends
on if &quot;AV_CODEC_FLAG_UNALIGNED&quot; is set and the
<small>CPU.</small> &quot;AV_CODEC_FLAG_UNALIGNED&quot;
cannot be changed from the command line. Also hardware
decoders will not apply left/top Cropping.</p>

<h2>DECODERS
<a name="DECODERS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Decoders are
configured elements in FFmpeg which allow the decoding of
multimedia streams.</p>

<p style="margin-left:11%; margin-top: 1em">When you
configure your FFmpeg build, all the supported native
decoders are enabled by default. Decoders requiring an
external library must be enabled manually via the
corresponding &quot;--enable-lib&quot; option. You can list
all available decoders using the configure option
&quot;--list-decoders&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">You can disable
all the decoders with the configure option
&quot;--disable-decoders&quot; and selectively enable /
disable single decoders with the options
&quot;--enable-decoder=<i>DECODER</i>&quot; /
&quot;--disable-decoder=<i>DECODER</i>&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">The option
&quot;-decoders&quot; of the ff* tools will display the list
of enabled decoders.</p>

<h2>VIDEO DECODERS
<a name="VIDEO DECODERS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">A description
of some of the currently available video decoders
follows.</p>


<p style="margin-left:11%; margin-top: 1em"><b>rawvideo</b>
<br>
Raw video decoder.</p>

<p style="margin-left:11%; margin-top: 1em">This decoder
decodes rawvideo streams.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Options</i>
<b><br>
top</b> <i>top_field_first</i></p>

<p style="margin-left:17%;">Specify the assumed field type
of the input video.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>-1</b></p></td>
<td width="3%"></td>
<td width="74%">


<p>the video is assumed to be progressive (default)</p></td>
<td width="3%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>0</b></p></td>
<td width="3%"></td>
<td width="74%">


<p>bottom-field-first is assumed</p></td>
<td width="3%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>1</b></p></td>
<td width="3%"></td>
<td width="74%">


<p>top-field-first is assumed</p></td>
<td width="3%">
</td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><b>libdav1d</b>
<br>
dav1d <small>AV1</small> decoder.</p>

<p style="margin-left:11%; margin-top: 1em">libdav1d allows
libavcodec to decode the AOMedia Video 1 (
<small>AV1</small> ) codec. Requires the presence of the
libdav1d headers and library during configuration. You need
to explicitly configure the build with
&quot;--enable-libdav1d&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Options</i></p>

<p style="margin-left:11%; margin-top: 1em">The following
option is supported by the libdav1d wrapper. <b><br>
framethreads</b></p>

<p style="margin-left:17%;">Set amount of frame threads to
use during decoding. The default value is 0
(autodetect).</p>

<p style="margin-left:11%;"><b>tilethreads</b></p>

<p style="margin-left:17%;">Set amount of tile threads to
use during decoding. The default value is 0
(autodetect).</p>

<p style="margin-left:11%;"><b>filmgrain</b></p>

<p style="margin-left:17%;">Apply film grain to the decoded
video if present in the bitstream. The default value is
true.</p>


<p style="margin-left:11%; margin-top: 1em"><b>libdavs2</b>
<small><br>
AVS2-P2/IEEE1857.4</small> video decoder wrapper.</p>

<p style="margin-left:11%; margin-top: 1em">This decoder
allows libavcodec to decode <small>AVS2</small> streams with
davs2 library.</p>

<h2>AUDIO DECODERS
<a name="AUDIO DECODERS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">A description
of some of the currently available audio decoders
follows.</p>

<p style="margin-left:11%; margin-top: 1em"><b>ac3</b>
<small><br>
AC-3</small> audio decoder.</p>

<p style="margin-left:11%; margin-top: 1em">This decoder
implements part of <small>ATSC A/52:2010</small> and
<small>ETSI TS 102 366,</small> as well as the undocumented
RealAudio 3 (a.k.a. dnet).</p>


<p style="margin-left:11%; margin-top: 1em"><i><small>AC-3</small>
Decoder Options</i> <b><br>
-drc_scale</b> <i>value</i></p>

<p style="margin-left:17%;">Dynamic Range Scale Factor. The
factor to apply to dynamic range values from the
<small>AC-3</small> stream. This factor is applied
exponentially. There are 3 notable scale factor ranges:
<b><br>
drc_scale == 0</b></p>

<p style="margin-left:23%;"><small>DRC</small> disabled.
Produces full range audio.</p>

<p style="margin-left:17%;"><b>0 &lt; drc_scale &lt;=
1</b></p>

<p style="margin-left:23%;"><small>DRC</small> enabled.
Applies a fraction of the stream <small>DRC</small> value.
Audio reproduction is between full range and full
compression.</p>

<p style="margin-left:17%;"><b>drc_scale &gt; 1</b></p>

<p style="margin-left:23%;"><small>DRC</small> enabled.
Applies drc_scale asymmetrically. Loud sounds are fully
compressed. Soft sounds are enhanced.</p>

<p style="margin-left:11%; margin-top: 1em"><b>flac</b>
<small><br>
FLAC</small> audio decoder.</p>

<p style="margin-left:11%; margin-top: 1em">This decoder
aims to implement the complete <small>FLAC</small>
specification from Xiph.</p>


<p style="margin-left:11%; margin-top: 1em"><i><small>FLAC</small>
Decoder options</i> <b><br>
-use_buggy_lpc</b></p>

<p style="margin-left:17%;">The lavc <small>FLAC</small>
encoder used to produce buggy streams with high lpc values
(like the default value). This option makes it possible to
decode such streams correctly by using lavc&rsquo;s old
buggy lpc logic for decoding.</p>


<p style="margin-left:11%; margin-top: 1em"><b>ffwavesynth</b>
<br>
Internal wave synthesizer.</p>

<p style="margin-left:11%; margin-top: 1em">This decoder
generates wave patterns according to predefined sequences.
Its use is purely internal and the format of the data it
accepts is not publicly documented.</p>

<p style="margin-left:11%; margin-top: 1em"><b>libcelt</b>
<br>
libcelt decoder wrapper.</p>

<p style="margin-left:11%; margin-top: 1em">libcelt allows
libavcodec to decode the Xiph <small>CELT</small> ultra-low
delay audio codec. Requires the presence of the libcelt
headers and library during configuration. You need to
explicitly configure the build with
&quot;--enable-libcelt&quot;.</p>

<p style="margin-left:11%; margin-top: 1em"><b>libgsm</b>
<br>
libgsm decoder wrapper.</p>

<p style="margin-left:11%; margin-top: 1em">libgsm allows
libavcodec to decode the <small>GSM</small> full rate audio
codec. Requires the presence of the libgsm headers and
library during configuration. You need to explicitly
configure the build with &quot;--enable-libgsm&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">This decoder
supports both the ordinary <small>GSM</small> and the
Microsoft variant.</p>

<p style="margin-left:11%; margin-top: 1em"><b>libilbc</b>
<br>
libilbc decoder wrapper.</p>

<p style="margin-left:11%; margin-top: 1em">libilbc allows
libavcodec to decode the Internet Low Bitrate Codec (iLBC)
audio codec. Requires the presence of the libilbc headers
and library during configuration. You need to explicitly
configure the build with &quot;--enable-libilbc&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Options</i></p>

<p style="margin-left:11%; margin-top: 1em">The following
option is supported by the libilbc wrapper. <b><br>
enhance</b></p>

<p style="margin-left:17%;">Enable the enhancement of the
decoded audio when set to 1. The default value is 0
(disabled).</p>


<p style="margin-left:11%; margin-top: 1em"><b>libopencore-amrnb</b>
<br>
libopencore-amrnb decoder wrapper.</p>


<p style="margin-left:11%; margin-top: 1em">libopencore-amrnb
allows libavcodec to decode the Adaptive Multi-Rate
Narrowband audio codec. Using it requires the presence of
the libopencore-amrnb headers and library during
configuration. You need to explicitly configure the build
with &quot;--enable-libopencore-amrnb&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">An FFmpeg
native decoder for AMR-NB exists, so users can decode AMR-NB
without this library.</p>


<p style="margin-left:11%; margin-top: 1em"><b>libopencore-amrwb</b>
<br>
libopencore-amrwb decoder wrapper.</p>


<p style="margin-left:11%; margin-top: 1em">libopencore-amrwb
allows libavcodec to decode the Adaptive Multi-Rate Wideband
audio codec. Using it requires the presence of the
libopencore-amrwb headers and library during configuration.
You need to explicitly configure the build with
&quot;--enable-libopencore-amrwb&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">An FFmpeg
native decoder for AMR-WB exists, so users can decode AMR-WB
without this library.</p>

<p style="margin-left:11%; margin-top: 1em"><b>libopus</b>
<br>
libopus decoder wrapper.</p>

<p style="margin-left:11%; margin-top: 1em">libopus allows
libavcodec to decode the Opus Interactive Audio Codec.
Requires the presence of the libopus headers and library
during configuration. You need to explicitly configure the
build with &quot;--enable-libopus&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">An FFmpeg
native decoder for Opus exists, so users can decode Opus
without this library.</p>

<h2>SUBTITLES DECODERS
<a name="SUBTITLES DECODERS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>libaribb24</b>
<small><br>
ARIB STD-B24</small> caption decoder.</p>

<p style="margin-left:11%; margin-top: 1em">Implements
profiles A and C of the <small>ARIB STD-B24</small>
standard.</p>

<p style="margin-left:11%; margin-top: 1em"><i>libaribb24
Decoder Options</i> <b><br>
-aribb24-base-path</b> <i>path</i></p>

<p style="margin-left:17%;">Sets the base path for the
libaribb24 library. This is utilized for reading of
configuration files (for custom unicode conversions), and
for dumping of non-text symbols as images under that
location.</p>

<p style="margin-left:17%; margin-top: 1em">Unset by
default.</p>

<p style="margin-left:11%;"><b>-aribb24-skip-ruby-text</b>
<i>boolean</i></p>

<p style="margin-left:17%;">Tells the decoder wrapper to
skip text blocks that contain half-height ruby text.</p>

<p style="margin-left:17%; margin-top: 1em">Enabled by
default.</p>

<p style="margin-left:11%; margin-top: 1em"><b>dvbsub</b>
<i><br>
Options</i> <b><br>
compute_clut</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>-1</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>Compute clut if no matching <small>CLUT</small> is in
the stream.</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>0</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>Never compute <small>CLUT</small></p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>1</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>Always compute <small>CLUT</small> and override the one
provided in the stream.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>dvb_substream</b></p>

<p style="margin-left:17%;">Selects the dvb substream, or
all substreams if -1 which is default.</p>

<p style="margin-left:11%; margin-top: 1em"><b>dvdsub</b>
<br>
This codec decodes the bitmap subtitles used in DVDs; the
same subtitles can also be found in VobSub file pairs and in
some Matroska files.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Options</i>
<b><br>
palette</b></p>

<p style="margin-left:17%;">Specify the global palette used
by the bitmaps. When stored in VobSub, the palette is
normally specified in the index file; in Matroska, the
palette is stored in the codec extra-data in the same format
as in VobSub. In DVDs, the palette is stored in the
<small>IFO</small> file, and therefore not available when
reading from dumped <small>VOB</small> files.</p>

<p style="margin-left:17%; margin-top: 1em">The format for
this option is a string containing 16 24-bits hexadecimal
numbers (without 0x prefix) separated by comas, for example
&quot;0d00ee, ee450d, 101010, eaeaea, 0ce60b, ec14ed,
ebff0b, 0d617a, 7b7b7b, d1d1d1, 7b2a0e, 0d950c, 0f007b,
cf0dec, cfa80c, 7c127b&quot;.</p>

<p style="margin-left:11%;"><b>ifo_palette</b></p>

<p style="margin-left:17%;">Specify the <small>IFO</small>
file from which the global palette is obtained.
(experimental)</p>

<p style="margin-left:11%;"><b>forced_subs_only</b></p>

<p style="margin-left:17%;">Only decode subtitle entries
marked as forced. Some titles have forced and non-forced
subtitles in the same track. Setting this flag to 1 will
only keep the forced subtitles. Default value is 0.</p>


<p style="margin-left:11%; margin-top: 1em"><b>libzvbi-teletext</b>
<br>
Libzvbi allows libavcodec to decode <small>DVB</small>
teletext pages and <small>DVB</small> teletext subtitles.
Requires the presence of the libzvbi headers and library
during configuration. You need to explicitly configure the
build with &quot;--enable-libzvbi&quot;.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Options</i>
<b><br>
txt_page</b></p>

<p style="margin-left:17%;">List of teletext page numbers
to decode. Pages that do not match the specified list are
dropped. You may use the special &quot;*&quot; string to
match all pages, or &quot;subtitle&quot; to match all
subtitle pages. Default value is *.</p>

<p style="margin-left:11%;"><b>txt_chop_top</b></p>

<p style="margin-left:17%;">Discards the top teletext line.
Default value is 1.</p>

<p style="margin-left:11%;"><b>txt_format</b></p>

<p style="margin-left:17%;">Specifies the format of the
decoded subtitles. <b><br>
bitmap</b></p>

<p style="margin-left:23%;">The default format, you should
use this for teletext pages, because certain graphics and
colors cannot be expressed in simple text or even
<small>ASS.</small></p>

<p style="margin-left:17%;"><b>text</b></p>

<p style="margin-left:23%;">Simple text based output
without formatting.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>ass</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>Formatted <small>ASS</small> output, subtitle pages and
teletext pages are returned in different styles, subtitle
pages are stripped down to text, but an effort is made to
keep the text alignment and the formatting.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>txt_left</b></p>

<p style="margin-left:17%;">X offset of generated bitmaps,
default is 0.</p>

<p style="margin-left:11%;"><b>txt_top</b></p>

<p style="margin-left:17%;">Y offset of generated bitmaps,
default is 0.</p>

<p style="margin-left:11%;"><b>txt_chop_spaces</b></p>

<p style="margin-left:17%;">Chops leading and trailing
spaces and removes empty lines from the generated text. This
option is useful for teletext based subtitles where empty
spaces may be present at the start or at the end of the
lines or empty lines may be present between the subtitle
lines because of double-sized teletext characters. Default
value is 1.</p>

<p style="margin-left:11%;"><b>txt_duration</b></p>

<p style="margin-left:17%;">Sets the display duration of
the decoded teletext pages or subtitles in milliseconds.
Default value is -1 which means infinity or until the next
subtitle event comes.</p>

<p style="margin-left:11%;"><b>txt_transparent</b></p>

<p style="margin-left:17%;">Force transparent background of
the generated teletext bitmaps. Default value is 0 which
means an opaque background.</p>

<p style="margin-left:11%;"><b>txt_opacity</b></p>

<p style="margin-left:17%;">Sets the opacity (0-255) of the
teletext background. If <b>txt_transparent</b> is not set,
it only affects characters between a start box and an end
box, typically subtitles. Default value is 0 if
<b>txt_transparent</b> is set, 255 otherwise.</p>

<h2>ENCODERS
<a name="ENCODERS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Encoders are
configured elements in FFmpeg which allow the encoding of
multimedia streams.</p>

<p style="margin-left:11%; margin-top: 1em">When you
configure your FFmpeg build, all the supported native
encoders are enabled by default. Encoders requiring an
external library must be enabled manually via the
corresponding &quot;--enable-lib&quot; option. You can list
all available encoders using the configure option
&quot;--list-encoders&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">You can disable
all the encoders with the configure option
&quot;--disable-encoders&quot; and selectively enable /
disable single encoders with the options
&quot;--enable-encoder=<i>ENCODER</i>&quot; /
&quot;--disable-encoder=<i>ENCODER</i>&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">The option
&quot;-encoders&quot; of the ff* tools will display the list
of enabled encoders.</p>

<h2>AUDIO ENCODERS
<a name="AUDIO ENCODERS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">A description
of some of the currently available audio encoders
follows.</p>

<p style="margin-left:11%; margin-top: 1em"><b>aac</b> <br>
Advanced Audio Coding ( <small>AAC</small> ) encoder.</p>

<p style="margin-left:11%; margin-top: 1em">This encoder is
the default <small>AAC</small> encoder, natively implemented
into FFmpeg. Its quality is on par or better than libfdk_aac
at the default bitrate of 128kbps. This encoder also
implements more options, profiles and samplerates than other
encoders (with only the AAC-HE profile pending to be
implemented) so this encoder has become the default and is
the recommended choice.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Options</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>b</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set bit rate in bits/s. Setting this automatically
activates constant bit rate ( <small>CBR</small> ) mode. If
this option is unspecified it is set to 128kbps.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>q</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set quality for variable bit rate ( <small>VBR</small> )
mode. This option is valid only using the <b>ffmpeg</b>
command-line tool. For library interface users, use
<b>global_quality</b>.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>cutoff</b></p>

<p style="margin-left:17%;">Set cutoff frequency. If
unspecified will allow the encoder to dynamically adjust the
cutoff to improve clarity on low bitrates.</p>

<p style="margin-left:11%;"><b>aac_coder</b></p>

<p style="margin-left:17%;">Set <small>AAC</small> encoder
coding method. Possible values: <b><br>
twoloop</b></p>

<p style="margin-left:23%;">Two loop searching (
<small>TLS</small> ) method.</p>

<p style="margin-left:23%; margin-top: 1em">This method
first sets quantizers depending on band thresholds and then
tries to find an optimal combination by adding or
subtracting a specific value from all quantizers and
adjusting some individual quantizer a little. Will tune
itself based on whether <b>aac_is</b>, <b>aac_ms</b> and
<b>aac_pns</b> are enabled.</p>

<p style="margin-left:17%;"><b>anmr</b></p>

<p style="margin-left:23%;">Average noise to mask ratio (
<small>ANMR</small> ) trellis-based solution.</p>

<p style="margin-left:23%; margin-top: 1em">This is an
experimental coder which currently produces a lower quality,
is more unstable and is slower than the default twoloop
coder but has potential. Currently has no support for the
<b>aac_is</b> or <b>aac_pns</b> options. Not currently
recommended.</p>

<p style="margin-left:17%;"><b>fast</b></p>

<p style="margin-left:23%;">Constant quantizer method.</p>

<p style="margin-left:23%; margin-top: 1em">Uses a cheaper
version of twoloop algorithm that doesn&rsquo;t try to do as
many clever adjustments. Worse with low bitrates (less than
64kbps), but is better and much faster at higher bitrates.
This is the default choice for a coder</p>

<p style="margin-left:11%;"><b>aac_ms</b></p>

<p style="margin-left:17%;">Sets mid/side coding mode. The
default value of &quot;auto&quot; will automatically use M/S
with bands which will benefit from such coding. Can be
forced for all bands using the value &quot;enable&quot;,
which is mainly useful for debugging or disabled using
&quot;disable&quot;.</p>

<p style="margin-left:11%;"><b>aac_is</b></p>

<p style="margin-left:17%;">Sets intensity stereo coding
tool usage. By default, it&rsquo;s enabled and will
automatically toggle <small>IS</small> for similar pairs of
stereo bands if it&rsquo;s beneficial. Can be disabled for
debugging by setting the value to &quot;disable&quot;.</p>

<p style="margin-left:11%;"><b>aac_pns</b></p>

<p style="margin-left:17%;">Uses perceptual noise
substitution to replace low entropy high frequency bands
with imperceptible white noise during the decoding process.
By default, it&rsquo;s enabled, but can be disabled for
debugging purposes by using &quot;disable&quot;.</p>

<p style="margin-left:11%;"><b>aac_tns</b></p>

<p style="margin-left:17%;">Enables the use of a multitap
<small>FIR</small> filter which spans through the high
frequency bands to hide quantization noise during the
encoding process and is reverted by the decoder. As well as
decreasing unpleasant artifacts in the high range this also
reduces the entropy in the high bands and allows for more
bits to be used by the mid-low bands. By default it&rsquo;s
enabled but can be disabled for debugging by setting the
option to &quot;disable&quot;.</p>

<p style="margin-left:11%;"><b>aac_ltp</b></p>

<p style="margin-left:17%;">Enables the use of the long
term prediction extension which increases coding efficiency
in very low bandwidth situations such as encoding of voice
or solo piano music by extending constant harmonic peaks in
bands throughout frames. This option is implied by profile:a
aac_low and is incompatible with aac_pred. Use in
conjunction with <b>-ar</b> to decrease the samplerate.</p>

<p style="margin-left:11%;"><b>aac_pred</b></p>

<p style="margin-left:17%;">Enables the use of a more
traditional style of prediction where the spectral
coefficients transmitted are replaced by the difference of
the current coefficients minus the previous
&quot;predicted&quot; coefficients. In theory and sometimes
in practice this can improve quality for low to mid bitrate
audio. This option implies the aac_main profile and is
incompatible with aac_ltp.</p>

<p style="margin-left:11%;"><b>profile</b></p>

<p style="margin-left:17%;">Sets the encoding profile,
possible values: <b><br>
aac_low</b></p>

<p style="margin-left:23%;">The default, <small>AAC</small>
&quot;Low-complexity&quot; profile. Is the most compatible
and produces decent quality.</p>

<p style="margin-left:17%;"><b>mpeg2_aac_low</b></p>

<p style="margin-left:23%;">Equivalent to &quot;-profile:a
aac_low -aac_pns 0&quot;. <small>PNS</small> was introduced
with the <small>MPEG4</small> specifications.</p>

<p style="margin-left:17%;"><b>aac_ltp</b></p>

<p style="margin-left:23%;">Long term prediction profile,
is enabled by and will enable the <b>aac_ltp</b> option.
Introduced in <small>MPEG4.</small></p>

<p style="margin-left:17%;"><b>aac_main</b></p>

<p style="margin-left:23%;">Main-type prediction profile,
is enabled by and will enable the <b>aac_pred</b> option.
Introduced in <small>MPEG2.</small></p>

<p style="margin-left:17%; margin-top: 1em">If this option
is unspecified it is set to <b>aac_low</b>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>ac3 and
ac3_fixed</b> <small><br>
AC-3</small> audio encoders.</p>

<p style="margin-left:11%; margin-top: 1em">These encoders
implement part of <small>ATSC A/52:2010</small> and
<small>ETSI TS 102 366,</small> as well as the undocumented
RealAudio 3 (a.k.a. dnet).</p>

<p style="margin-left:11%; margin-top: 1em">The <i>ac3</i>
encoder uses floating-point math, while the <i>ac3_fixed</i>
encoder only uses fixed-point integer math. This does not
mean that one is always faster, just that one or the other
may be better suited to a particular system. The
floating-point encoder will generally produce better quality
audio for a given bitrate. The <i>ac3_fixed</i> encoder is
not the default codec for any of the output formats, so it
must be specified explicitly using the option &quot;-acodec
ac3_fixed&quot; in order to use it.</p>


<p style="margin-left:11%; margin-top: 1em"><i><small>AC-3</small>
Metadata</i></p>

<p style="margin-left:11%; margin-top: 1em">The
<small>AC-3</small> metadata options are used to set
parameters that describe the audio, but in most cases do not
affect the audio encoding itself. Some of the options do
directly affect or influence the decoding and playback of
the resulting bitstream, while others are just for
informational purposes. A few of the options will add bits
to the output stream that could otherwise be used for audio
data, and will thus affect the quality of the output. Those
will be indicated accordingly with a note in the option list
below.</p>

<p style="margin-left:11%; margin-top: 1em">These
parameters are described in detail in several
publicly-available documents. <br>

*&lt;&lt;<b>http://www.atsc.org/cms/standards/a_52-2010.pdf</b>&gt;&gt;
<br>

*&lt;&lt;<b>http://www.atsc.org/cms/standards/a_54a_with_corr_1.pdf</b>&gt;&gt;
<br>

*&lt;&lt;<b>http://www.dolby.com/uploadedFiles/zz-_Shared_Assets/English_PDFs/Professional/18_Metadata.Guide.pdf</b>&gt;&gt;
<br>

*&lt;&lt;<b>http://www.dolby.com/uploadedFiles/zz-_Shared_Assets/English_PDFs/Professional/46_DDEncodingGuidelines.pdf</b>&gt;&gt;</p>

<p style="margin-left:11%; margin-top: 1em">Metadata
Control Options <b><br>
-per_frame_metadata</b> <i>boolean</i></p>

<p style="margin-left:17%;">Allow Per-Frame Metadata.
Specifies if the encoder should check for changing metadata
for each frame.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>0</b></p></td>
<td width="5%"></td>
<td width="77%">


<p>The metadata values set at initialization will be used
for every frame in the stream. (default)</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>1</b></p></td>
<td width="5%"></td>
<td width="77%">


<p>Metadata values can be changed before encoding each
frame.</p> </td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Downmix Levels
<b><br>
-center_mixlev</b> <i>level</i></p>

<p style="margin-left:17%;">Center Mix Level. The amount of
gain the decoder should apply to the center channel when
downmixing to stereo. This field will only be written to the
bitstream if a center channel is present. The value is
specified as a scale factor. There are 3 valid values:
<b><br>
0.707</b></p>

<p style="margin-left:23%;">Apply -3dB gain</p>

<p style="margin-left:17%;"><b>0.595</b></p>

<p style="margin-left:23%;">Apply -4.5dB gain (default)</p>

<p style="margin-left:17%;"><b>0.500</b></p>

<p style="margin-left:23%;">Apply -6dB gain</p>

<p style="margin-left:11%;"><b>-surround_mixlev</b>
<i>level</i></p>

<p style="margin-left:17%;">Surround Mix Level. The amount
of gain the decoder should apply to the surround channel(s)
when downmixing to stereo. This field will only be written
to the bitstream if one or more surround channels are
present. The value is specified as a scale factor. There are
3 valid values: <b><br>
0.707</b></p>

<p style="margin-left:23%;">Apply -3dB gain</p>

<p style="margin-left:17%;"><b>0.500</b></p>

<p style="margin-left:23%;">Apply -6dB gain (default)</p>

<p style="margin-left:17%;"><b>0.000</b></p>

<p style="margin-left:23%;">Silence Surround Channel(s)</p>

<p style="margin-left:11%; margin-top: 1em">Audio
Production Information</p>

<p style="margin-left:11%; margin-top: 1em">Audio
Production Information is optional information describing
the mixing environment. Either none or both of the fields
are written to the bitstream. <b><br>
-mixing_level</b> <i>number</i></p>

<p style="margin-left:17%;">Mixing Level. Specifies peak
sound pressure level ( <small>SPL</small> ) in the
production environment when the mix was mastered. Valid
values are 80 to 111, or -1 for unknown or not indicated.
The default value is -1, but that value cannot be used if
the Audio Production Information is written to the
bitstream. Therefore, if the &quot;room_type&quot; option is
not the default value, the &quot;mixing_level&quot; option
must not be -1.</p>

<p style="margin-left:11%;"><b>-room_type</b>
<i>type</i></p>

<p style="margin-left:17%;">Room Type. Describes the
equalization used during the final mixing session at the
studio or on the dubbing stage. A large room is a dubbing
stage with the industry standard X-curve equalization; a
small room has flat equalization. This field will not be
written to the bitstream if both the
&quot;mixing_level&quot; option and the
&quot;room_type&quot; option have the default values.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>0</b></p></td>
<td width="82%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>notindicated</b></p>

<p style="margin-left:23%;">Not Indicated (default)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>1</b></p></td>
<td width="82%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>large</b></p>

<p style="margin-left:23%;">Large Room</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>2</b></p></td>
<td width="82%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>small</b></p>

<p style="margin-left:23%;">Small Room</p>

<p style="margin-left:11%; margin-top: 1em">Other Metadata
Options <b><br>
-copyright</b> <i>boolean</i></p>

<p style="margin-left:17%;">Copyright Indicator. Specifies
whether a copyright exists for this audio.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>0</b></p></td>
<td width="1%"></td>
<td width="45%">
</td>
<td width="32%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>off</b></p></td>
<td width="1%"></td>
<td width="45%">


<p>No Copyright Exists (default)</p></td>
<td width="32%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>1</b></p></td>
<td width="1%"></td>
<td width="45%">
</td>
<td width="32%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>on</b></p></td>
<td width="1%"></td>
<td width="45%">


<p>Copyright Exists</p></td>
<td width="32%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>-dialnorm</b>
<i>value</i></p>

<p style="margin-left:17%;">Dialogue Normalization.
Indicates how far the average dialogue level of the program
is below digital 100% full scale (0 dBFS). This parameter
determines a level shift during audio reproduction that sets
the average volume of the dialogue to a preset level. The
goal is to match volume level between program sources. A
value of -31dB will result in no volume level change,
relative to the source volume, during audio reproduction.
Valid values are whole numbers in the range -31 to -1, with
-31 being the default.</p>

<p style="margin-left:11%;"><b>-dsur_mode</b>
<i>mode</i></p>

<p style="margin-left:17%;">Dolby Surround Mode. Specifies
whether the stereo signal uses Dolby Surround (Pro Logic).
This field will only be written to the bitstream if the
audio stream is stereo. Using this option does
<b><small>NOT</small></b> mean the encoder will actually
apply Dolby Surround processing.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>0</b></p></td>
<td width="82%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>notindicated</b></p>

<p style="margin-left:23%;">Not Indicated (default)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>1</b></p></td>
<td width="1%"></td>
<td width="40%">
</td>
<td width="37%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>off</b></p></td>
<td width="1%"></td>
<td width="40%">


<p>Not Dolby Surround Encoded</p></td>
<td width="37%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>2</b></p></td>
<td width="1%"></td>
<td width="40%">
</td>
<td width="37%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>on</b></p></td>
<td width="1%"></td>
<td width="40%">


<p>Dolby Surround Encoded</p></td>
<td width="37%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>-original</b>
<i>boolean</i></p>

<p style="margin-left:17%;">Original Bit Stream Indicator.
Specifies whether this audio is from the original source and
not a copy.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>0</b></p></td>
<td width="1%"></td>
<td width="39%">
</td>
<td width="38%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>off</b></p></td>
<td width="1%"></td>
<td width="39%">


<p>Not Original Source</p></td>
<td width="38%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>1</b></p></td>
<td width="1%"></td>
<td width="39%">
</td>
<td width="38%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>on</b></p></td>
<td width="1%"></td>
<td width="39%">


<p>Original Source (default)</p></td>
<td width="38%">
</td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><i>Extended
Bitstream Information</i></p>

<p style="margin-left:11%; margin-top: 1em">The extended
bitstream options are part of the Alternate Bit Stream
Syntax as specified in Annex D of the A/52:2010 standard. It
is grouped into 2 parts. If any one parameter in a group is
specified, all values in that group will be written to the
bitstream. Default values are used for those that are
written but have not been specified. If the mixing levels
are written, the decoder will use these values instead of
the ones specified in the &quot;center_mixlev&quot; and
&quot;surround_mixlev&quot; options if it supports the
Alternate Bit Stream Syntax.</p>

<p style="margin-left:11%; margin-top: 1em">Extended
Bitstream Information - Part 1 <b><br>
-dmix_mode</b> <i>mode</i></p>

<p style="margin-left:17%;">Preferred Stereo Downmix Mode.
Allows the user to select either Lt/Rt (Dolby Surround) or
Lo/Ro (normal stereo) as the preferred stereo downmix
mode.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>0</b></p></td>
<td width="82%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>notindicated</b></p>

<p style="margin-left:23%;">Not Indicated (default)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>1</b></p></td>
<td width="82%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>ltrt</b></p>

<p style="margin-left:23%;">Lt/Rt Downmix Preferred</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>2</b></p></td>
<td width="82%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>loro</b></p>

<p style="margin-left:23%;">Lo/Ro Downmix Preferred</p>

<p style="margin-left:11%;"><b>-ltrt_cmixlev</b>
<i>level</i></p>

<p style="margin-left:17%;">Lt/Rt Center Mix Level. The
amount of gain the decoder should apply to the center
channel when downmixing to stereo in Lt/Rt mode. <b><br>
1.414</b></p>

<p style="margin-left:23%;">Apply +3dB gain</p>

<p style="margin-left:17%;"><b>1.189</b></p>

<p style="margin-left:23%;">Apply +1.5dB gain</p>

<p style="margin-left:17%;"><b>1.000</b></p>

<p style="margin-left:23%;">Apply 0dB gain</p>

<p style="margin-left:17%;"><b>0.841</b></p>

<p style="margin-left:23%;">Apply -1.5dB gain</p>

<p style="margin-left:17%;"><b>0.707</b></p>

<p style="margin-left:23%;">Apply -3.0dB gain</p>

<p style="margin-left:17%;"><b>0.595</b></p>

<p style="margin-left:23%;">Apply -4.5dB gain (default)</p>

<p style="margin-left:17%;"><b>0.500</b></p>

<p style="margin-left:23%;">Apply -6.0dB gain</p>

<p style="margin-left:17%;"><b>0.000</b></p>

<p style="margin-left:23%;">Silence Center Channel</p>

<p style="margin-left:11%;"><b>-ltrt_surmixlev</b>
<i>level</i></p>

<p style="margin-left:17%;">Lt/Rt Surround Mix Level. The
amount of gain the decoder should apply to the surround
channel(s) when downmixing to stereo in Lt/Rt mode. <b><br>
0.841</b></p>

<p style="margin-left:23%;">Apply -1.5dB gain</p>

<p style="margin-left:17%;"><b>0.707</b></p>

<p style="margin-left:23%;">Apply -3.0dB gain</p>

<p style="margin-left:17%;"><b>0.595</b></p>

<p style="margin-left:23%;">Apply -4.5dB gain</p>

<p style="margin-left:17%;"><b>0.500</b></p>

<p style="margin-left:23%;">Apply -6.0dB gain (default)</p>

<p style="margin-left:17%;"><b>0.000</b></p>

<p style="margin-left:23%;">Silence Surround Channel(s)</p>

<p style="margin-left:11%;"><b>-loro_cmixlev</b>
<i>level</i></p>

<p style="margin-left:17%;">Lo/Ro Center Mix Level. The
amount of gain the decoder should apply to the center
channel when downmixing to stereo in Lo/Ro mode. <b><br>
1.414</b></p>

<p style="margin-left:23%;">Apply +3dB gain</p>

<p style="margin-left:17%;"><b>1.189</b></p>

<p style="margin-left:23%;">Apply +1.5dB gain</p>

<p style="margin-left:17%;"><b>1.000</b></p>

<p style="margin-left:23%;">Apply 0dB gain</p>

<p style="margin-left:17%;"><b>0.841</b></p>

<p style="margin-left:23%;">Apply -1.5dB gain</p>

<p style="margin-left:17%;"><b>0.707</b></p>

<p style="margin-left:23%;">Apply -3.0dB gain</p>

<p style="margin-left:17%;"><b>0.595</b></p>

<p style="margin-left:23%;">Apply -4.5dB gain (default)</p>

<p style="margin-left:17%;"><b>0.500</b></p>

<p style="margin-left:23%;">Apply -6.0dB gain</p>

<p style="margin-left:17%;"><b>0.000</b></p>

<p style="margin-left:23%;">Silence Center Channel</p>

<p style="margin-left:11%;"><b>-loro_surmixlev</b>
<i>level</i></p>

<p style="margin-left:17%;">Lo/Ro Surround Mix Level. The
amount of gain the decoder should apply to the surround
channel(s) when downmixing to stereo in Lo/Ro mode. <b><br>
0.841</b></p>

<p style="margin-left:23%;">Apply -1.5dB gain</p>

<p style="margin-left:17%;"><b>0.707</b></p>

<p style="margin-left:23%;">Apply -3.0dB gain</p>

<p style="margin-left:17%;"><b>0.595</b></p>

<p style="margin-left:23%;">Apply -4.5dB gain</p>

<p style="margin-left:17%;"><b>0.500</b></p>

<p style="margin-left:23%;">Apply -6.0dB gain (default)</p>

<p style="margin-left:17%;"><b>0.000</b></p>

<p style="margin-left:23%;">Silence Surround Channel(s)</p>

<p style="margin-left:11%; margin-top: 1em">Extended
Bitstream Information - Part 2 <b><br>
-dsurex_mode</b> <i>mode</i></p>

<p style="margin-left:17%;">Dolby Surround
<small>EX</small> Mode. Indicates whether the stream uses
Dolby Surround <small>EX</small> (7.1 matrixed to 5.1).
Using this option does <b><small>NOT</small></b> mean the
encoder will actually apply Dolby Surround <small>EX</small>
processing.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>0</b></p></td>
<td width="82%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>notindicated</b></p>

<p style="margin-left:23%;">Not Indicated (default)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>1</b></p></td>
<td width="1%"></td>
<td width="32%">
</td>
<td width="45%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>on</b></p></td>
<td width="1%"></td>
<td width="32%">


<p>Dolby Surround <small>EX</small> Off</p></td>
<td width="45%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>2</b></p></td>
<td width="1%"></td>
<td width="32%">
</td>
<td width="45%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>off</b></p></td>
<td width="1%"></td>
<td width="32%">


<p>Dolby Surround <small>EX</small> On</p></td>
<td width="45%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>-dheadphone_mode</b>
<i>mode</i></p>

<p style="margin-left:17%;">Dolby Headphone Mode. Indicates
whether the stream uses Dolby Headphone encoding
(multi-channel matrixed to 2.0 for use with headphones).
Using this option does <b><small>NOT</small></b> mean the
encoder will actually apply Dolby Headphone processing.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>0</b></p></td>
<td width="82%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>notindicated</b></p>

<p style="margin-left:23%;">Not Indicated (default)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>1</b></p></td>
<td width="1%"></td>
<td width="29%">
</td>
<td width="48%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>on</b></p></td>
<td width="1%"></td>
<td width="29%">


<p>Dolby Headphone Off</p></td>
<td width="48%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>2</b></p></td>
<td width="1%"></td>
<td width="29%">
</td>
<td width="48%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>off</b></p></td>
<td width="1%"></td>
<td width="29%">


<p>Dolby Headphone On</p></td>
<td width="48%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>-ad_conv_type</b>
<i>type</i></p>

<p style="margin-left:17%;">A/D Converter Type. Indicates
whether the audio has passed through <small>HDCD A/D</small>
conversion.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>0</b></p></td>
<td width="82%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>standard</b></p>

<p style="margin-left:23%;">Standard A/D Converter
(default)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>1</b></p></td>
<td width="82%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>hdcd</b></p>

<p style="margin-left:23%;"><small>HDCD A/D</small>
Converter</p>

<p style="margin-left:11%; margin-top: 1em"><i>Other
<small>AC-3</small> Encoding Options</i> <b><br>
-stereo_rematrixing</b> <i>boolean</i></p>

<p style="margin-left:17%;">Stereo Rematrixing.
Enables/Disables use of rematrixing for stereo input. This
is an optional <small>AC-3</small> feature that increases
quality by selectively encoding the left/right channels as
mid/side. This option is enabled by default, and it is
highly recommended that it be left as enabled except for
testing purposes.</p>

<p style="margin-left:11%;"><b>cutoff</b>
<i>frequency</i></p>

<p style="margin-left:17%;">Set lowpass cutoff frequency.
If unspecified, the encoder selects a default determined by
various other encoding parameters.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Floating-Point-Only
<small>AC-3</small> Encoding Options</i></p>

<p style="margin-left:11%; margin-top: 1em">These options
are only valid for the floating-point encoder and do not
exist for the fixed-point encoder due to the corresponding
features not being implemented in fixed-point. <b><br>
-channel_coupling</b> <i>boolean</i></p>

<p style="margin-left:17%;">Enables/Disables use of channel
coupling, which is an optional <small>AC-3</small> feature
that increases quality by combining high frequency
information from multiple channels into a single channel.
The per-channel high frequency information is sent with less
accuracy in both the frequency and time domains. This allows
more bits to be used for lower frequencies while preserving
enough information to reconstruct the high frequencies. This
option is enabled by default for the floating-point encoder
and should generally be left as enabled except for testing
purposes or to increase encoding speed.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>-1</b></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>auto</b></p>

<p style="margin-left:23%;">Selected by Encoder
(default)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>0</b></p></td>
<td width="1%"></td>
<td width="37%">
</td>
<td width="40%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>off</b></p></td>
<td width="1%"></td>
<td width="37%">


<p>Disable Channel Coupling</p></td>
<td width="40%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>1</b></p></td>
<td width="1%"></td>
<td width="37%">
</td>
<td width="40%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>on</b></p></td>
<td width="1%"></td>
<td width="37%">


<p>Enable Channel Coupling</p></td>
<td width="40%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>-cpl_start_band</b>
<i>number</i></p>

<p style="margin-left:17%;">Coupling Start Band. Sets the
channel coupling start band, from 1 to 15. If a value higher
than the bandwidth is used, it will be reduced to 1 less
than the coupling end band. If <i>auto</i> is used, the
start band will be determined by the encoder based on the
bit rate, sample rate, and channel layout. This option has
no effect if channel coupling is disabled.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>-1</b></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>auto</b></p>

<p style="margin-left:23%;">Selected by Encoder
(default)</p>

<p style="margin-left:11%; margin-top: 1em"><b>flac</b>
<small><br>
FLAC</small> (Free Lossless Audio Codec) Encoder</p>


<p style="margin-left:11%; margin-top: 1em"><i>Options</i></p>

<p style="margin-left:11%; margin-top: 1em">The following
options are supported by FFmpeg&rsquo;s flac encoder.
<b><br>
compression_level</b></p>

<p style="margin-left:17%;">Sets the compression level,
which chooses defaults for many other options if they are
not set explicitly. Valid values are from 0 to 12, 5 is the
default.</p>

<p style="margin-left:11%;"><b>frame_size</b></p>

<p style="margin-left:17%;">Sets the size of the frames in
samples per channel.</p>

<p style="margin-left:11%;"><b>lpc_coeff_precision</b></p>

<p style="margin-left:17%;">Sets the <small>LPC</small>
coefficient precision, valid values are from 1 to 15, 15 is
the default.</p>

<p style="margin-left:11%;"><b>lpc_type</b></p>

<p style="margin-left:17%;">Sets the first stage
<small>LPC</small> algorithm <b><br>
none</b></p>

<p style="margin-left:23%;"><small>LPC</small> is not
used</p>

<p style="margin-left:17%;"><b>fixed</b></p>

<p style="margin-left:23%;">fixed <small>LPC</small>
coefficients</p>

<p style="margin-left:17%;"><b>levinson <br>
cholesky</b></p>

<p style="margin-left:11%;"><b>lpc_passes</b></p>

<p style="margin-left:17%;">Number of passes to use for
Cholesky factorization during <small>LPC</small>
analysis</p>

<p style="margin-left:11%;"><b>min_partition_order</b></p>

<p style="margin-left:17%;">The minimum partition order</p>

<p style="margin-left:11%;"><b>max_partition_order</b></p>

<p style="margin-left:17%;">The maximum partition order</p>


<p style="margin-left:11%;"><b>prediction_order_method</b></p>

<p style="margin-left:17%;"><b>estimation <br>
2level <br>
4level <br>
8level <br>
search</b></p>

<p style="margin-left:23%;">Bruteforce search</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>log</b></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>ch_mode</b></p>

<p style="margin-left:17%;">Channel mode <b><br>
auto</b></p>

<p style="margin-left:23%;">The mode is chosen
automatically for each frame</p>

<p style="margin-left:17%;"><b>indep</b></p>

<p style="margin-left:23%;">Channels are independently
coded</p>

<p style="margin-left:17%;"><b>left_side <br>
right_side <br>
mid_side</b></p>


<p style="margin-left:11%;"><b>exact_rice_parameters</b></p>

<p style="margin-left:17%;">Chooses if rice parameters are
calculated exactly or approximately. if set to 1 then they
are chosen exactly, which slows the code down slightly and
improves compression slightly.</p>

<p style="margin-left:11%;"><b>multi_dim_quant</b></p>

<p style="margin-left:17%;">Multi Dimensional Quantization.
If set to 1 then a 2nd stage <small>LPC</small> algorithm is
applied after the first stage to finetune the coefficients.
This is quite slow and slightly improves compression.</p>

<p style="margin-left:11%; margin-top: 1em"><b>opus</b>
<br>
Opus encoder.</p>

<p style="margin-left:11%; margin-top: 1em">This is a
native FFmpeg encoder for the Opus format. Currently its in
development and only implements the <small>CELT</small> part
of the codec. Its quality is usually worse and at best is
equal to the libopus encoder.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Options</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>b</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set bit rate in bits/s. If unspecified it uses the
number of channels and the layout to make a good guess.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>opus_delay</b></p>

<p style="margin-left:17%;">Sets the maximum delay in
milliseconds. Lower delays than 20ms will very quickly
decrease quality.</p>


<p style="margin-left:11%; margin-top: 1em"><b>libfdk_aac</b>
<br>
libfdk-aac <small>AAC</small> (Advanced Audio Coding)
encoder wrapper.</p>

<p style="margin-left:11%; margin-top: 1em">The libfdk-aac
library is based on the Fraunhofer <small>FDK AAC</small>
code from the Android project.</p>

<p style="margin-left:11%; margin-top: 1em">Requires the
presence of the libfdk-aac headers and library during
configuration. You need to explicitly configure the build
with &quot;--enable-libfdk-aac&quot;. The library is also
incompatible with <small>GPL,</small> so if you allow the
use of <small>GPL,</small> you should configure with
&quot;--enable-gpl --enable-nonfree
--enable-libfdk-aac&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">This encoder is
considered to produce output on par or worse at 128kbps to
the <b>the native FFmpeg <small>AAC</small> encoder</b> but
can often produce better sounding audio at identical or
lower bitrates and has support for the AAC-HE profiles.</p>


<p style="margin-left:11%; margin-top: 1em"><small>VBR</small>
encoding, enabled through the <b>vbr</b> or <b>flags
+qscale</b> options, is experimental and only works with
some combinations of parameters.</p>

<p style="margin-left:11%; margin-top: 1em">Support for
encoding 7.1 audio is only available with libfdk-aac 0.1.3
or higher.</p>

<p style="margin-left:11%; margin-top: 1em">For more
information see the fdk-aac project at
&lt;<b>http://sourceforge.net/p/opencore-amr/fdk-aac/</b>&gt;.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Options</i></p>

<p style="margin-left:11%; margin-top: 1em">The following
options are mapped on the shared FFmpeg codec options.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>b</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set bit rate in bits/s. If the bitrate is not explicitly
specified, it is automatically set to a suitable value
depending on the selected profile.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">In case
<small>VBR</small> mode is enabled the option is
ignored.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>ar</b></p></td>
<td width="3%"></td>
<td width="49%">


<p style="margin-top: 1em">Set audio sampling rate (in
Hz).</p> </td>
<td width="34%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>channels</b></p>

<p style="margin-left:17%;">Set the number of audio
channels.</p>

<p style="margin-left:11%;"><b>flags +qscale</b></p>

<p style="margin-left:17%;">Enable fixed quality,
<small>VBR</small> (Variable Bit Rate) mode. Note that
<small>VBR</small> is implicitly enabled when the <b>vbr</b>
value is positive.</p>

<p style="margin-left:11%;"><b>cutoff</b></p>

<p style="margin-left:17%;">Set cutoff frequency. If not
specified (or explicitly set to 0) it will use a value
automatically computed by the library. Default value is
0.</p>

<p style="margin-left:11%;"><b>profile</b></p>

<p style="margin-left:17%;">Set audio profile.</p>

<p style="margin-left:17%; margin-top: 1em">The following
profiles are recognized: <b><br>
aac_low</b></p>

<p style="margin-left:23%;">Low Complexity
<small>AAC</small> ( <small>LC</small> )</p>

<p style="margin-left:17%;"><b>aac_he</b></p>

<p style="margin-left:23%;">High Efficiency
<small>AAC</small> (HE-AAC)</p>

<p style="margin-left:17%;"><b>aac_he_v2</b></p>

<p style="margin-left:23%;">High Efficiency
<small>AAC</small> version 2 (HE-AACv2)</p>

<p style="margin-left:17%;"><b>aac_ld</b></p>

<p style="margin-left:23%;">Low Delay <small>AAC</small> (
<small>LD</small> )</p>

<p style="margin-left:17%;"><b>aac_eld</b></p>

<p style="margin-left:23%;">Enhanced Low Delay
<small>AAC</small> ( <small>ELD</small> )</p>

<p style="margin-left:17%; margin-top: 1em">If not
specified it is set to <b>aac_low</b>.</p>

<p style="margin-left:11%; margin-top: 1em">The following
are private options of the libfdk_aac encoder. <b><br>
afterburner</b></p>

<p style="margin-left:17%;">Enable afterburner feature if
set to 1, disabled if set to 0. This improves the quality
but also the required processing power.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is 1.</p>

<p style="margin-left:11%;"><b>eld_sbr</b></p>

<p style="margin-left:17%;">Enable <small>SBR</small>
(Spectral Band Replication) for <small>ELD</small> if set to
1, disabled if set to 0.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is 0.</p>

<p style="margin-left:11%;"><b>eld_v2</b></p>

<p style="margin-left:17%;">Enable ELDv2 (LD-MPS extension
for <small>ELD</small> stereo signals) for ELDv2 if set to
1, disabled if set to 0.</p>

<p style="margin-left:17%; margin-top: 1em">Note that
option is available when fdk-aac version (
<small>AACENCODER_LIB_VL0.AACENCODER_LIB_VL1.AACENCODER_LIB_VL2</small>
) &gt; (4.0.0).</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is 0.</p>

<p style="margin-left:11%;"><b>signaling</b></p>

<p style="margin-left:17%;">Set <small>SBR/PS</small>
signaling style.</p>

<p style="margin-left:17%; margin-top: 1em">It can assume
one of the following values: <b><br>
default</b></p>

<p style="margin-left:23%;">choose signaling implicitly
(explicit hierarchical by default, implicit if global header
is disabled)</p>

<p style="margin-left:17%;"><b>implicit</b></p>

<p style="margin-left:23%;">implicit backwards compatible
signaling</p>

<p style="margin-left:17%;"><b>explicit_sbr</b></p>

<p style="margin-left:23%;">explicit <small>SBR,</small>
implicit <small>PS</small> signaling</p>


<p style="margin-left:17%;"><b>explicit_hierarchical</b></p>

<p style="margin-left:23%;">explicit hierarchical
signaling</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is <b>default</b>.</p>

<p style="margin-left:11%;"><b>latm</b></p>

<p style="margin-left:17%;">Output <small>LATM/LOAS</small>
encapsulated data if set to 1, disabled if set to 0.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is 0.</p>

<p style="margin-left:11%;"><b>header_period</b></p>

<p style="margin-left:17%;">Set StreamMuxConfig and
<small>PCE</small> repetition period (in frames) for sending
in-band configuration buffers within
<small>LATM/LOAS</small> transport layer.</p>

<p style="margin-left:17%; margin-top: 1em">Must be a
16-bits non-negative integer.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is 0.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>vbr</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set <small>VBR</small> mode, from 1 to 5. 1 is lowest
quality (though still pretty good) and 5 is highest quality.
A value of 0 will disable <small>VBR,</small> and
<small>CBR</small> (Constant Bit Rate) is enabled.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Currently only
the <b>aac_low</b> profile supports <small>VBR</small>
encoding.</p>


<p style="margin-left:17%; margin-top: 1em"><small>VBR</small>
modes 1-5 correspond to roughly the following average bit
rates:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p style="margin-top: 1em"><b>1</b></p></td>
<td width="5%"></td>
<td width="37%">


<p style="margin-top: 1em">32 kbps/channel</p></td>
<td width="40%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>2</b></p></td>
<td width="5%"></td>
<td width="37%">


<p>40 kbps/channel</p></td>
<td width="40%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>3</b></p></td>
<td width="5%"></td>
<td width="37%">


<p>48-56 kbps/channel</p></td>
<td width="40%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>4</b></p></td>
<td width="5%"></td>
<td width="37%">


<p>64 kbps/channel</p></td>
<td width="40%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>5</b></p></td>
<td width="5%"></td>
<td width="37%">


<p>about 80-96 kbps/channel</p></td>
<td width="40%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Default value
is 0.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Use <b>ffmpeg</b> to convert an
audio file to <small>VBR AAC</small> in an M4A (
<small>MP4</small> ) container:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
input.wav -codec:a libfdk_aac -vbr 3 output.m4a</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Use <b>ffmpeg</b> to convert an
audio file to <small>CBR</small> 64k kbps
<small>AAC,</small> using the High-Efficiency
<small>AAC</small> profile:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
input.wav -c:a libfdk_aac -profile:a aac_he -b:a 64k
output.m4a</p>


<p style="margin-left:11%; margin-top: 1em"><b>libmp3lame</b>
<small><br>
LAME</small> (Lame Ain&rsquo;t an <small>MP3</small>
Encoder) <small>MP3</small> encoder wrapper.</p>

<p style="margin-left:11%; margin-top: 1em">Requires the
presence of the libmp3lame headers and library during
configuration. You need to explicitly configure the build
with &quot;--enable-libmp3lame&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">See
<b>libshine</b> for a fixed-point <small>MP3</small>
encoder, although with a lower quality.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Options</i></p>

<p style="margin-left:11%; margin-top: 1em">The following
options are supported by the libmp3lame wrapper. The
<b>lame</b>-equivalent of the options are listed in
parentheses. <b><br>
b (</b><i>-b</i><b>)</b></p>

<p style="margin-left:17%;">Set bitrate expressed in bits/s
for <small>CBR</small> or <small>ABR. LAME</small>
&quot;bitrate&quot; is expressed in kilobits/s.</p>

<p style="margin-left:11%;"><b>q (</b><i>-V</i><b>)</b></p>

<p style="margin-left:17%;">Set constant quality setting
for <small>VBR.</small> This option is valid only using the
<b>ffmpeg</b> command-line tool. For library interface
users, use <b>global_quality</b>.</p>

<p style="margin-left:11%;"><b>compression_level
(</b><i>-q</i><b>)</b></p>

<p style="margin-left:17%;">Set algorithm quality. Valid
arguments are integers in the 0-9 range, with 0 meaning
highest quality but slowest, and 9 meaning fastest while
producing the worst quality.</p>

<p style="margin-left:11%;"><b>cutoff
(</b><i>--lowpass</i><b>)</b></p>

<p style="margin-left:17%;">Set lowpass cutoff frequency.
If unspecified, the encoder dynamically adjusts the
cutoff.</p>

<p style="margin-left:11%;"><b>reservoir</b></p>

<p style="margin-left:17%;">Enable use of bit reservoir
when set to 1. Default value is 1. <small>LAME</small> has
this enabled by default, but can be overridden by use
<b>--nores</b> option.</p>

<p style="margin-left:11%;"><b>joint_stereo (</b><i>-m
j</i><b>)</b></p>

<p style="margin-left:17%;">Enable the encoder to use (on a
frame by frame basis) either L/R stereo or mid/side stereo.
Default value is 1.</p>

<p style="margin-left:11%;"><b>abr
(</b><i>--abr</i><b>)</b></p>

<p style="margin-left:17%;">Enable the encoder to use
<small>ABR</small> when set to 1. The <b>lame --abr</b> sets
the target bitrate, while this options only tells FFmpeg to
use <small>ABR</small> still relies on <b>b</b> to set
bitrate.</p>


<p style="margin-left:11%; margin-top: 1em"><b>libopencore-amrnb</b>
<br>
OpenCORE Adaptive Multi-Rate Narrowband encoder.</p>

<p style="margin-left:11%; margin-top: 1em">Requires the
presence of the libopencore-amrnb headers and library during
configuration. You need to explicitly configure the build
with &quot;--enable-libopencore-amrnb
--enable-version3&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">This is a
mono-only encoder. Officially it only supports 8000Hz sample
rate, but you can override it by setting <b>strict</b> to
<b>unofficial</b> or lower.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Options</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>b</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set bitrate in bits per second. Only the following
bitrates are supported, otherwise libavcodec will round to
the nearest valid bitrate.</p></td></tr>
</table>

<p style="margin-left:17%;"><b>4750 <br>
5150 <br>
5900 <br>
6700 <br>
7400 <br>
7950 <br>
10200 <br>
12200</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>dtx</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Allow discontinuous transmission (generate comfort
noise) when set to 1. The default value is 0 (disabled).</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>libopus</b>
<br>
libopus Opus Interactive Audio Codec encoder wrapper.</p>

<p style="margin-left:11%; margin-top: 1em">Requires the
presence of the libopus headers and library during
configuration. You need to explicitly configure the build
with &quot;--enable-libopus&quot;.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Option
Mapping</i></p>

<p style="margin-left:11%; margin-top: 1em">Most libopus
options are modelled after the <b>opusenc</b> utility from
opus-tools. The following is an option mapping chart
describing options supported by the libopus wrapper, and
their <b>opusenc</b>-equivalent in parentheses. <b><br>
b (</b><i>bitrate</i><b>)</b></p>

<p style="margin-left:17%;">Set the bit rate in bits/s.
FFmpeg&rsquo;s <b>b</b> option is expressed in bits/s, while
<b>opusenc</b>&rsquo;s <b>bitrate</b> in kilobits/s.</p>

<p style="margin-left:11%;"><b>vbr (</b><i>vbr</i><b>,</b>
<i>hard-cbr</i><b>, and</b> <i>cvbr</i><b>)</b></p>

<p style="margin-left:17%;">Set <small>VBR</small> mode.
The FFmpeg <b>vbr</b> option has the following valid
arguments, with the <b>opusenc</b> equivalent options in
parentheses: <b><br>
off (</b><i>hard-cbr</i><b>)</b></p>

<p style="margin-left:23%;">Use constant bit rate
encoding.</p>

<p style="margin-left:17%;"><b>on
(</b><i>vbr</i><b>)</b></p>

<p style="margin-left:23%;">Use variable bit rate encoding
(the default).</p>

<p style="margin-left:17%;"><b>constrained
(</b><i>cvbr</i><b>)</b></p>

<p style="margin-left:23%;">Use constrained variable bit
rate encoding.</p>

<p style="margin-left:11%;"><b>compression_level
(</b><i>comp</i><b>)</b></p>

<p style="margin-left:17%;">Set encoding algorithm
complexity. Valid options are integers in the 0-10 range. 0
gives the fastest encodes but lower quality, while 10 gives
the highest quality but slowest encoding. The default is
10.</p>

<p style="margin-left:11%;"><b>frame_duration
(</b><i>framesize</i><b>)</b></p>

<p style="margin-left:17%;">Set maximum frame size, or
duration of a frame in milliseconds. The argument must be
exactly the following: 2.5, 5, 10, 20, 40, 60. Smaller frame
sizes achieve lower latency but less quality at a given
bitrate. Sizes greater than 20ms are only interesting at
fairly low bitrates. The default is 20ms.</p>

<p style="margin-left:11%;"><b>packet_loss
(</b><i>expect-loss</i><b>)</b></p>

<p style="margin-left:17%;">Set expected packet loss
percentage. The default is 0.</p>

<p style="margin-left:11%;"><b>application (N.A.)</b></p>

<p style="margin-left:17%;">Set intended application type.
Valid options are listed below: <b><br>
voip</b></p>

<p style="margin-left:23%;">Favor improved speech
intelligibility.</p>

<p style="margin-left:17%;"><b>audio</b></p>

<p style="margin-left:23%;">Favor faithfulness to the input
(the default).</p>

<p style="margin-left:17%;"><b>lowdelay</b></p>

<p style="margin-left:23%;">Restrict to only the lowest
delay modes.</p>

<p style="margin-left:11%;"><b>cutoff (N.A.)</b></p>

<p style="margin-left:17%;">Set cutoff bandwidth in Hz. The
argument must be exactly one of the following: 4000, 6000,
8000, 12000, or 20000, corresponding to narrowband,
mediumband, wideband, super wideband, and fullband
respectively. The default is 0 (cutoff disabled).</p>

<p style="margin-left:11%;"><b>mapping_family
(</b><i>mapping_family</i><b>)</b></p>

<p style="margin-left:17%;">Set channel mapping family to
be used by the encoder. The default value of -1 uses mapping
family 0 for mono and stereo inputs, and mapping family 1
otherwise. The default also disables the surround masking
and <small>LFE</small> bandwidth optimzations in libopus,
and requires that the input contains 8 channels or
fewer.</p>

<p style="margin-left:17%; margin-top: 1em">Other values
include 0 for mono and stereo, 1 for surround sound with
masking and <small>LFE</small> bandwidth optimizations, and
255 for independent streams with an unspecified channel
layout.</p>

<p style="margin-left:11%;"><b>apply_phase_inv (N.A.)
(requires libopus &gt;= 1.2)</b></p>

<p style="margin-left:17%;">If set to 0, disables the use
of phase inversion for intensity stereo, improving the
quality of mono downmixes, but slightly reducing normal
stereo quality. The default is 1 (phase inversion
enabled).</p>


<p style="margin-left:11%; margin-top: 1em"><b>libshine</b>
<br>
Shine Fixed-Point <small>MP3</small> encoder wrapper.</p>

<p style="margin-left:11%; margin-top: 1em">Shine is a
fixed-point <small>MP3</small> encoder. It has a far better
performance on platforms without an <small>FPU,</small> e.g.
armel CPUs, and some phones and tablets. However, as it is
more targeted on performance than quality, it is not on par
with <small>LAME</small> and other production-grade encoders
quality-wise. Also, according to the project&rsquo;s
homepage, this encoder may not be free of bugs as the code
was written a long time ago and the project was dead for at
least 5 years.</p>

<p style="margin-left:11%; margin-top: 1em">This encoder
only supports stereo and mono input. This is also
CBR-only.</p>

<p style="margin-left:11%; margin-top: 1em">The original
project (last updated in early 2007) is at
&lt;<b>http://sourceforge.net/projects/libshine-fxp/</b>&gt;.
We only support the updated fork by the Savonet/Liquidsoap
project at
&lt;<b>https://github.com/savonet/shine</b>&gt;.</p>

<p style="margin-left:11%; margin-top: 1em">Requires the
presence of the libshine headers and library during
configuration. You need to explicitly configure the build
with &quot;--enable-libshine&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">See also
<b>libmp3lame</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Options</i></p>

<p style="margin-left:11%; margin-top: 1em">The following
options are supported by the libshine wrapper. The
<b>shineenc</b>-equivalent of the options are listed in
parentheses. <b><br>
b (</b><i>-b</i><b>)</b></p>

<p style="margin-left:17%;">Set bitrate expressed in bits/s
for <small>CBR.</small> <b>shineenc -b</b> option is
expressed in kilobits/s.</p>


<p style="margin-left:11%; margin-top: 1em"><b>libtwolame</b>
<br>
TwoLAME <small>MP2</small> encoder wrapper.</p>

<p style="margin-left:11%; margin-top: 1em">Requires the
presence of the libtwolame headers and library during
configuration. You need to explicitly configure the build
with &quot;--enable-libtwolame&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Options</i></p>

<p style="margin-left:11%; margin-top: 1em">The following
options are supported by the libtwolame wrapper. The
<b>twolame</b>-equivalent options follow the FFmpeg ones and
are in parentheses. <b><br>
b (</b><i>-b</i><b>)</b></p>

<p style="margin-left:17%;">Set bitrate expressed in bits/s
for <small>CBR.</small> <b>twolame b</b> option is expressed
in kilobits/s. Default value is 128k.</p>

<p style="margin-left:11%;"><b>q (</b><i>-V</i><b>)</b></p>

<p style="margin-left:17%;">Set quality for experimental
<small>VBR</small> support. Maximum value range is from -50
to 50, useful range is from -10 to 10. The higher the value,
the better the quality. This option is valid only using the
<b>ffmpeg</b> command-line tool. For library interface
users, use <b>global_quality</b>.</p>

<p style="margin-left:11%;"><b>mode
(</b><i>--mode</i><b>)</b></p>

<p style="margin-left:17%;">Set the mode of the resulting
audio. Possible values: <b><br>
auto</b></p>

<p style="margin-left:23%;">Choose mode automatically based
on the input. This is the default.</p>

<p style="margin-left:17%;"><b>stereo</b></p>

<p style="margin-left:23%;">Stereo</p>

<p style="margin-left:17%;"><b>joint_stereo</b></p>

<p style="margin-left:23%;">Joint stereo</p>

<p style="margin-left:17%;"><b>dual_channel</b></p>

<p style="margin-left:23%;">Dual channel</p>

<p style="margin-left:17%;"><b>mono</b></p>

<p style="margin-left:23%;">Mono</p>

<p style="margin-left:11%;"><b>psymodel
(</b><i>--psyc-mode</i><b>)</b></p>

<p style="margin-left:17%;">Set psychoacoustic model to use
in encoding. The argument must be an integer between -1 and
4, inclusive. The higher the value, the better the quality.
The default value is 3.</p>

<p style="margin-left:11%;"><b>energy_levels
(</b><i>--energy</i><b>)</b></p>

<p style="margin-left:17%;">Enable energy levels extensions
when set to 1. The default value is 0 (disabled).</p>

<p style="margin-left:11%;"><b>error_protection
(</b><i>--protect</i><b>)</b></p>

<p style="margin-left:17%;">Enable <small>CRC</small> error
protection when set to 1. The default value is 0
(disabled).</p>

<p style="margin-left:11%;"><b>copyright
(</b><i>--copyright</i><b>)</b></p>

<p style="margin-left:17%;">Set <small>MPEG</small> audio
copyright flag when set to 1. The default value is 0
(disabled).</p>

<p style="margin-left:11%;"><b>original
(</b><i>--original</i><b>)</b></p>

<p style="margin-left:17%;">Set <small>MPEG</small> audio
original flag when set to 1. The default value is 0
(disabled).</p>


<p style="margin-left:11%; margin-top: 1em"><b>libvo-amrwbenc</b>
<br>
VisualOn Adaptive Multi-Rate Wideband encoder.</p>

<p style="margin-left:11%; margin-top: 1em">Requires the
presence of the libvo-amrwbenc headers and library during
configuration. You need to explicitly configure the build
with &quot;--enable-libvo-amrwbenc
--enable-version3&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">This is a
mono-only encoder. Officially it only supports 16000Hz
sample rate, but you can override it by setting
<b>strict</b> to <b>unofficial</b> or lower.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Options</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>b</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set bitrate in bits/s. Only the following bitrates are
supported, otherwise libavcodec will round to the nearest
valid bitrate.</p></td></tr>
</table>

<p style="margin-left:17%;"><b>6600 <br>
8850 <br>
12650 <br>
14250 <br>
15850 <br>
18250 <br>
19850 <br>
23050 <br>
23850</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>dtx</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Allow discontinuous transmission (generate comfort
noise) when set to 1. The default value is 0 (disabled).</p></td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><b>libvorbis</b>
<br>
libvorbis encoder wrapper.</p>

<p style="margin-left:11%; margin-top: 1em">Requires the
presence of the libvorbisenc headers and library during
configuration. You need to explicitly configure the build
with &quot;--enable-libvorbis&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Options</i></p>

<p style="margin-left:11%; margin-top: 1em">The following
options are supported by the libvorbis wrapper. The
<b>oggenc</b>-equivalent of the options are listed in
parentheses.</p>

<p style="margin-left:11%; margin-top: 1em">To get a more
accurate and extensive documentation of the libvorbis
options, consult the libvorbisenc&rsquo;s and
<b>oggenc</b>&rsquo;s documentations. See
&lt;<b>http://xiph.org/vorbis/</b>&gt;,
&lt;<b>http://wiki.xiph.org/Vorbis-tools</b>&gt;, and
<b>oggenc</b>(1). <b><br>
b (</b><i>-b</i><b>)</b></p>

<p style="margin-left:17%;">Set bitrate expressed in bits/s
for <small>ABR.</small> <b>oggenc -b</b> is expressed in
kilobits/s.</p>

<p style="margin-left:11%;"><b>q (</b><i>-q</i><b>)</b></p>

<p style="margin-left:17%;">Set constant quality setting
for <small>VBR.</small> The value should be a float number
in the range of -1.0 to 10.0. The higher the value, the
better the quality. The default value is <b>3.0</b>.</p>

<p style="margin-left:17%; margin-top: 1em">This option is
valid only using the <b>ffmpeg</b> command-line tool. For
library interface users, use <b>global_quality</b>.</p>

<p style="margin-left:11%;"><b>cutoff
(</b><i>--advanced-encode-option
lowpass_frequency=N</i><b>)</b></p>

<p style="margin-left:17%;">Set cutoff bandwidth in Hz, a
value of 0 disables cutoff. <b>oggenc</b>&rsquo;s related
option is expressed in kHz. The default value is <b>0</b>
(cutoff disabled).</p>

<p style="margin-left:11%;"><b>minrate
(</b><i>-m</i><b>)</b></p>

<p style="margin-left:17%;">Set minimum bitrate expressed
in bits/s. <b>oggenc -m</b> is expressed in kilobits/s.</p>

<p style="margin-left:11%;"><b>maxrate
(</b><i>-M</i><b>)</b></p>

<p style="margin-left:17%;">Set maximum bitrate expressed
in bits/s. <b>oggenc -M</b> is expressed in kilobits/s. This
only has effect on <small>ABR</small> mode.</p>

<p style="margin-left:11%;"><b>iblock
(</b><i>--advanced-encode-option
impulse_noisetune=N</i><b>)</b></p>

<p style="margin-left:17%;">Set noise floor bias for
impulse blocks. The value is a float number from -15.0 to
0.0. A negative bias instructs the encoder to pay special
attention to the crispness of transients in the encoded
audio. The tradeoff for better transient response is a
higher bitrate.</p>


<p style="margin-left:11%; margin-top: 1em"><b>libwavpack</b>
<br>
A wrapper providing WavPack encoding through libwavpack.</p>

<p style="margin-left:11%; margin-top: 1em">Only lossless
mode using 32-bit integer samples is supported
currently.</p>

<p style="margin-left:11%; margin-top: 1em">Requires the
presence of the libwavpack headers and library during
configuration. You need to explicitly configure the build
with &quot;--enable-libwavpack&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">Note that a
libavcodec-native encoder for the WavPack codec exists so
users can encode audios with this codec without using this
encoder. See <b>wavpackenc</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Options</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>wavpack</b>
command line utility&rsquo;s corresponding options are
listed in parentheses, if any. <b><br>
frame_size (</b><i>--blocksize</i><b>)</b></p>

<p style="margin-left:17%;">Default is 32768.</p>

<p style="margin-left:11%;"><b>compression_level</b></p>

<p style="margin-left:17%;">Set speed vs. compression
tradeoff. Acceptable arguments are listed below: <b><br>
0 (</b><i>-f</i><b>)</b></p>

<p style="margin-left:23%;">Fast mode.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>1</b></p></td>
<td width="5%"></td>
<td width="40%">


<p>Normal (default) settings.</p></td>
<td width="37%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>2 (</b><i>-h</i><b>)</b></p>

<p style="margin-left:23%;">High quality.</p>

<p style="margin-left:17%;"><b>3
(</b><i>-hh</i><b>)</b></p>

<p style="margin-left:23%;">Very high quality.</p>

<p style="margin-left:17%;"><b>4-8 (</b><i>-hh -x
<small>EXTRAPROC</small></i> <b>)</b></p>

<p style="margin-left:23%;">Same as <b>3</b>, but with
extra processing enabled.</p>

<p style="margin-left:23%; margin-top: 1em"><b>4</b> is the
same as <b>-x2</b> and <b>8</b> is the same as
<b>-x6</b>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>mjpeg</b>
<br>
Motion <small>JPEG</small> encoder.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Options</i>
<b><br>
huffman</b></p>

<p style="margin-left:17%;">Set the huffman encoding
strategy. Possible values: <b><br>
default</b></p>

<p style="margin-left:23%;">Use the default huffman tables.
This is the default strategy.</p>

<p style="margin-left:17%;"><b>optimal</b></p>

<p style="margin-left:23%;">Compute and use optimal huffman
tables.</p>

<p style="margin-left:11%; margin-top: 1em"><b>wavpack</b>
<br>
WavPack lossless audio encoder.</p>

<p style="margin-left:11%; margin-top: 1em">This is a
libavcodec-native WavPack encoder. There is also an encoder
based on libwavpack, but there is virtually no reason to use
that encoder.</p>

<p style="margin-left:11%; margin-top: 1em">See also
<b>libwavpack</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Options</i></p>

<p style="margin-left:11%; margin-top: 1em">The equivalent
options for <b>wavpack</b> command line utility are listed
in parentheses.</p>

<p style="margin-left:11%; margin-top: 1em">Shared
options</p>

<p style="margin-left:11%; margin-top: 1em">The following
shared options are effective for this encoder. Only special
notes about this particular encoder will be documented here.
For the general meaning of the options, see <b>the Codec
Options chapter</b>. <b><br>
frame_size (</b><i>--blocksize</i><b>)</b></p>

<p style="margin-left:17%;">For this encoder, the range for
this option is between 128 and 131072. Default is
automatically decided based on sample rate and number of
channel.</p>

<p style="margin-left:17%; margin-top: 1em">For the
complete formula of calculating default, see
<i>libavcodec/wavpackenc.c</i>.</p>

<p style="margin-left:11%;"><b>compression_level
(</b><i>-f</i><b>,</b> <i>-h</i><b>,</b> <i>-hh</i><b>,
and</b> <i>-x</i><b>)</b></p>

<p style="margin-left:17%;">This option&rsquo;s syntax is
consistent with <b>libwavpack</b>&rsquo;s.</p>

<p style="margin-left:11%; margin-top: 1em">Private options
<b><br>
joint_stereo (</b><i>-j</i><b>)</b></p>

<p style="margin-left:17%;">Set whether to enable joint
stereo. Valid values are: <b><br>
on (</b><i>1</i><b>)</b></p>

<p style="margin-left:23%;">Force mid/side audio
encoding.</p>

<p style="margin-left:17%;"><b>off
(</b><i>0</i><b>)</b></p>

<p style="margin-left:23%;">Force left/right audio
encoding.</p>

<p style="margin-left:17%;"><b>auto</b></p>

<p style="margin-left:23%;">Let the encoder decide
automatically.</p>

<p style="margin-left:11%;"><b>optimize_mono</b></p>

<p style="margin-left:17%;">Set whether to enable
optimization for mono. This option is only effective for
non-mono streams. Available values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>on</b></p></td>
<td width="1%"></td>
<td width="12%">


<p>enabled</p></td>
<td width="65%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>off</b></p></td>
<td width="1%"></td>
<td width="12%">


<p>disabled</p></td>
<td width="65%">
</td></tr>
</table>

<h2>VIDEO ENCODERS
<a name="VIDEO ENCODERS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">A description
of some of the currently available video encoders
follows.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Hap</b> <br>
Vidvox Hap video encoder.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Options</i>
<b><br>
format</b> <i>integer</i></p>

<p style="margin-left:17%;">Specifies the Hap format to
encode.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>hap</b></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>hap_alpha <br>
hap_q</b></p>

<p style="margin-left:17%; margin-top: 1em">Default value
is <b>hap</b>.</p>

<p style="margin-left:11%;"><b>chunks</b>
<i>integer</i></p>

<p style="margin-left:17%;">Specifies the number of chunks
to split frames into, between 1 and 64. This permits
multithreaded decoding of large frames, potentially at the
cost of data-rate. The encoder may modify this value to
divide frames evenly.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is <i>1</i>.</p>

<p style="margin-left:11%;"><b>compressor</b>
<i>integer</i></p>

<p style="margin-left:17%;">Specifies the second-stage
compressor to use. If set to <b>none</b>, <b>chunks</b> will
be limited to 1, as chunked uncompressed frames offer no
benefit. <b><br>
none <br>
snappy</b></p>

<p style="margin-left:17%; margin-top: 1em">Default value
is <b>snappy</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>jpeg2000</b>
<br>
The native jpeg 2000 encoder is lossy by default, the
&quot;-q:v&quot; option can be used to set the encoding
quality. Lossless encoding can be selected with &quot;-pred
1&quot;.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Options</i>
<b><br>
format</b></p>

<p style="margin-left:17%;">Can be set to either
&quot;j2k&quot; or &quot;jp2&quot; (the default) that makes
it possible to store non-rgb pix_fmts.</p>


<p style="margin-left:11%; margin-top: 1em"><b>libaom-av1</b>
<br>
libaom <small>AV1</small> encoder wrapper.</p>

<p style="margin-left:11%; margin-top: 1em">Requires the
presence of the libaom headers and library during
configuration. You need to explicitly configure the build
with &quot;--enable-libaom&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Options</i></p>

<p style="margin-left:11%; margin-top: 1em">The wrapper
supports the following standard libavcodec options:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>b</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set bitrate target in bits/second. By default this will
use variable-bitrate mode. If <b>maxrate</b> and
<b>minrate</b> are also set to the same value then it will
use constant-bitrate mode, otherwise if <b>crf</b> is set as
well then it will use constrained-quality mode.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>g keyint_min</b></p>

<p style="margin-left:17%;">Set key frame placement. The
<small>GOP</small> size sets the maximum distance between
key frames; if zero the output stream will be intra-only.
The minimum distance is ignored unless it is the same as the
<small>GOP</small> size, in which case key frames will
always appear at a fixed interval. Not set by default, so
without this option the library has completely free choice
about where to place key frames.</p>

<p style="margin-left:11%;"><b>qmin qmax</b></p>

<p style="margin-left:17%;">Set minimum/maximum
quantisation values. Valid range is from 0 to 63 (warning:
this does not match the quantiser values actually used by
<small>AV1</small> - divide by four to map real quantiser
values to this range). Defaults to min/max (no
constraint).</p>

<p style="margin-left:11%;"><b>minrate maxrate bufsize
rc_init_occupancy</b></p>

<p style="margin-left:17%;">Set rate control buffering
parameters. Not used if not set - defaults to unconstrained
variable bitrate.</p>

<p style="margin-left:11%;"><b>threads</b></p>

<p style="margin-left:17%;">Set the number of threads to
use while encoding. This may require the <b>tiles</b> or
<b>row-mt</b> options to also be set to actually use the
specified number of threads fully. Defaults to the number of
hardware threads supported by the host machine.</p>

<p style="margin-left:11%;"><b>profile</b></p>

<p style="margin-left:17%;">Set the encoding profile.
Defaults to using the profile which matches the bit depth
and chroma subsampling of the input.</p>

<p style="margin-left:11%; margin-top: 1em">The wrapper
also has some specific options: <b><br>
cpu-used</b></p>

<p style="margin-left:17%;">Set the quality/encoding speed
tradeoff. Valid range is from 0 to 8, higher numbers
indicating greater speed and lower quality. The default
value is 1, which will be slow and high quality.</p>

<p style="margin-left:11%;"><b>auto-alt-ref</b></p>

<p style="margin-left:17%;">Enable use of alternate
reference frames. Defaults to the internal default of the
library.</p>

<p style="margin-left:11%;"><b>arnr-max-frames
(</b><i>frames</i><b>)</b></p>

<p style="margin-left:17%;">Set altref noise reduction max
frame count. Default is -1.</p>

<p style="margin-left:11%;"><b>arnr-strength
(</b><i>strength</i><b>)</b></p>

<p style="margin-left:17%;">Set altref noise reduction
filter strength. Range is -1 to 6. Default is -1.</p>

<p style="margin-left:11%;"><b>aq-mode
(</b><i>aq-mode</i><b>)</b></p>

<p style="margin-left:17%;">Set adaptive quantization mode.
Possible values: <b><br>
none (</b><i>0</i><b>)</b></p>

<p style="margin-left:23%;">Disabled.</p>

<p style="margin-left:17%;"><b>variance
(</b><i>1</i><b>)</b></p>

<p style="margin-left:23%;">Variance-based.</p>

<p style="margin-left:17%;"><b>complexity
(</b><i>2</i><b>)</b></p>

<p style="margin-left:23%;">Complexity-based.</p>

<p style="margin-left:17%;"><b>cyclic
(</b><i>3</i><b>)</b></p>

<p style="margin-left:23%;">Cyclic refresh.</p>

<p style="margin-left:11%;"><b>lag-in-frames</b></p>

<p style="margin-left:17%;">Set the maximum number of
frames which the encoder may keep in flight at any one time
for lookahead purposes. Defaults to the internal default of
the library.</p>

<p style="margin-left:11%;"><b>error-resilience</b></p>

<p style="margin-left:17%;">Enable error resilience
features: <b><br>
default</b></p>

<p style="margin-left:23%;">Improve resilience against
losses of whole frames.</p>

<p style="margin-left:17%; margin-top: 1em">Not enabled by
default.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>crf</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set the quality/size tradeoff for constant-quality (no
bitrate target) and constrained-quality (with maximum
bitrate target) modes. Valid range is 0 to 63, higher
numbers indicating lower quality and smaller output size.
Only used if set; by default only the bitrate target is
used.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>static-thresh</b></p>

<p style="margin-left:17%;">Set a change threshold on
blocks below which they will be skipped by the encoder.
Defined in arbitrary units as a nonnegative integer,
defaulting to zero (no blocks are skipped).</p>

<p style="margin-left:11%;"><b>drop-threshold</b></p>

<p style="margin-left:17%;">Set a threshold for dropping
frames when close to rate control bounds. Defined as a
percentage of the target buffer - when the rate control
buffer falls below this percentage, frames will be dropped
until it has refilled above the threshold. Defaults to zero
(no frames are dropped).</p>

<p style="margin-left:11%;"><b>denoise-noise-level
(</b><i>level</i><b>)</b></p>

<p style="margin-left:17%;">Amount of noise to be removed
for grain synthesis. Grain synthesis is disabled if this
option is not set or set to 0.</p>

<p style="margin-left:11%;"><b>denoise-block-size
(</b><i>pixels</i><b>)</b></p>

<p style="margin-left:17%;">Block size used for denoising
for grain synthesis. If not set, <small>AV1</small> codec
uses the default value of 32.</p>

<p style="margin-left:11%;"><b>undershoot-pct
(</b><i>pct</i><b>)</b></p>

<p style="margin-left:17%;">Set datarate undershoot (min)
percentage of the target bitrate. Range is -1 to 100.
Default is -1.</p>

<p style="margin-left:11%;"><b>overshoot-pct
(</b><i>pct</i><b>)</b></p>

<p style="margin-left:17%;">Set datarate overshoot (max)
percentage of the target bitrate. Range is -1 to 1000.
Default is -1.</p>

<p style="margin-left:11%;"><b>minsection-pct
(</b><i>pct</i><b>)</b></p>

<p style="margin-left:17%;">Minimum percentage variation of
the <small>GOP</small> bitrate from the target bitrate. If
minsection-pct is not set, the libaomenc wrapper computes it
as follows: &quot;(minrate * 100 / bitrate)&quot;. Range is
-1 to 100. Default is -1 (unset).</p>

<p style="margin-left:11%;"><b>maxsection-pct
(</b><i>pct</i><b>)</b></p>

<p style="margin-left:17%;">Maximum percentage variation of
the <small>GOP</small> bitrate from the target bitrate. If
maxsection-pct is not set, the libaomenc wrapper computes it
as follows: &quot;(maxrate * 100 / bitrate)&quot;. Range is
-1 to 5000. Default is -1 (unset).</p>

<p style="margin-left:11%;"><b>frame-parallel
(</b><i>boolean</i><b>)</b></p>

<p style="margin-left:17%;">Enable frame parallel
decodability features. Default is true.</p>

<p style="margin-left:11%;"><b>tiles</b></p>

<p style="margin-left:17%;">Set the number of tiles to
encode the input video with, as columns x rows. Larger
numbers allow greater parallelism in both encoding and
decoding, but may decrease coding efficiency. Defaults to
the minimum number of tiles required by the size of the
input video (this is 1x1 (that is, a single tile) for sizes
up to and including 4K).</p>

<p style="margin-left:11%;"><b>tile-columns
tile-rows</b></p>

<p style="margin-left:17%;">Set the number of tiles as log2
of the number of tile rows and columns. Provided for
compatibility with libvpx/VP9.</p>

<p style="margin-left:11%;"><b>row-mt (Requires libaom
&gt;= 1.0.0-759-g90a15f4f2)</b></p>

<p style="margin-left:17%;">Enable row based
multi-threading. Disabled by default.</p>

<p style="margin-left:11%;"><b>enable-cdef
(</b><i>boolean</i><b>)</b></p>

<p style="margin-left:17%;">Enable Constrained Directional
Enhancement Filter. The libaom-av1 encoder enables
<small>CDEF</small> by default.</p>

<p style="margin-left:11%;"><b>enable-global-motion
(</b><i>boolean</i><b>)</b></p>

<p style="margin-left:17%;">Enable the use of global motion
for block prediction. Default is true.</p>

<p style="margin-left:11%;"><b>enable-intrabc
(</b><i>boolean</i><b>)</b></p>

<p style="margin-left:17%;">Enable block copy mode for
intra block prediction. This mode is useful for screen
content. Default is true.</p>


<p style="margin-left:11%; margin-top: 1em"><b>libkvazaar</b>
<br>
Kvazaar H.265/HEVC encoder.</p>

<p style="margin-left:11%; margin-top: 1em">Requires the
presence of the libkvazaar headers and library during
configuration. You need to explicitly configure the build
with <b>--enable-libkvazaar</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Options</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>b</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set target video bitrate in bit/s and enable rate
control.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>kvazaar-params</b></p>

<p style="margin-left:17%;">Set kvazaar parameters as a
list of <i>name</i>=<i>value</i> pairs separated by commas
(,). See kvazaar documentation for a list of options.</p>


<p style="margin-left:11%; margin-top: 1em"><b>libopenh264</b>
<br>
Cisco libopenh264 H.264/MPEG-4 <small>AVC</small> encoder
wrapper.</p>

<p style="margin-left:11%; margin-top: 1em">This encoder
requires the presence of the libopenh264 headers and library
during configuration. You need to explicitly configure the
build with &quot;--enable-libopenh264&quot;. The library is
detected using <b>pkg-config</b>.</p>

<p style="margin-left:11%; margin-top: 1em">For more
information about the library see
&lt;<b>http://www.openh264.org</b>&gt;.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Options</i></p>

<p style="margin-left:11%; margin-top: 1em">The following
FFmpeg global options affect the configurations of the
libopenh264 encoder.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>b</b></p></td>
<td width="5%"></td>
<td width="75%">


<p>Set the bitrate (as a number of bits per second).</p></td>
<td width="8%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>g</b></p></td>
<td width="5%"></td>
<td width="75%">


<p>Set the <small>GOP</small> size.</p></td>
<td width="8%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>maxrate</b></p>

<p style="margin-left:17%;">Set the max bitrate (as a
number of bits per second).</p>

<p style="margin-left:11%;"><b>flags +global_header</b></p>

<p style="margin-left:17%;">Set global header in the
bitstream.</p>

<p style="margin-left:11%;"><b>slices</b></p>

<p style="margin-left:17%;">Set the number of slices, used
in parallelized encoding. Default value is 0. This is only
used when <b>slice_mode</b> is set to <b>fixed</b>.</p>

<p style="margin-left:11%;"><b>slice_mode</b></p>

<p style="margin-left:17%;">Set slice mode. Can assume one
of the following possible values: <b><br>
fixed</b></p>

<p style="margin-left:23%;">a fixed number of slices</p>

<p style="margin-left:17%;"><b>rowmb</b></p>

<p style="margin-left:23%;">one slice per row of
macroblocks</p>

<p style="margin-left:17%;"><b>auto</b></p>

<p style="margin-left:23%;">automatic number of slices
according to number of threads</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>dyn</b></p></td>
<td width="1%"></td>
<td width="23%">


<p>dynamic slicing</p></td>
<td width="54%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Default value
is <b>auto</b>.</p>

<p style="margin-left:11%;"><b>loopfilter</b></p>

<p style="margin-left:17%;">Enable loop filter, if set to 1
(automatically enabled). To disable set a value of 0.</p>

<p style="margin-left:11%;"><b>profile</b></p>

<p style="margin-left:17%;">Set profile restrictions. If
set to the value of <b>main</b> enable <small>CABAC</small>
(set the &quot;SEncParamExt.iEntropyCodingModeFlag&quot;
flag to 1).</p>

<p style="margin-left:11%;"><b>max_nal_size</b></p>

<p style="margin-left:17%;">Set maximum <small>NAL</small>
size in bytes.</p>

<p style="margin-left:11%;"><b>allow_skip_frames</b></p>

<p style="margin-left:17%;">Allow skipping frames to hit
the target bitrate if set to 1.</p>


<p style="margin-left:11%; margin-top: 1em"><b>libtheora</b>
<br>
libtheora Theora encoder wrapper.</p>

<p style="margin-left:11%; margin-top: 1em">Requires the
presence of the libtheora headers and library during
configuration. You need to explicitly configure the build
with &quot;--enable-libtheora&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">For more
information about the libtheora project see
&lt;<b>http://www.theora.org/</b>&gt;.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Options</i></p>

<p style="margin-left:11%; margin-top: 1em">The following
global options are mapped to internal libtheora options
which affect the quality and the bitrate of the encoded
stream.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>b</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set the video bitrate in bit/s for <small>CBR</small>
(Constant Bit Rate) mode. In case <small>VBR</small>
(Variable Bit Rate) mode is enabled this option is
ignored.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>flags</b></p>

<p style="margin-left:17%;">Used to enable constant quality
mode ( <small>VBR</small> ) encoding through the
<b>qscale</b> flag, and to enable the &quot;pass1&quot; and
&quot;pass2&quot; modes.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>g</b></p></td>
<td width="5%"></td>
<td width="26%">


<p>Set the <small>GOP</small> size.</p></td>
<td width="57%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>global_quality</b></p>

<p style="margin-left:17%;">Set the global quality as an
integer in lambda units.</p>

<p style="margin-left:17%; margin-top: 1em">Only relevant
when <small>VBR</small> mode is enabled with &quot;flags
+qscale&quot;. The value is converted to <small>QP</small>
units by dividing it by &quot;FF_QP2LAMBDA&quot;, clipped in
the [0 - 10] range, and then multiplied by 6.3 to get a
value in the native libtheora range [0-63]. A higher value
corresponds to a higher quality.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>q</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Enable <small>VBR</small> mode when set to a
non-negative value, and set constant quality value as a
double floating point value in <small>QP</small> units.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The value is
clipped in the [0-10] range, and then multiplied by 6.3 to
get a value in the native libtheora range [0-63].</p>

<p style="margin-left:17%; margin-top: 1em">This option is
valid only using the <b>ffmpeg</b> command-line tool. For
library interface users, use <b>global_quality</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Set maximum constant quality (
<small>VBR</small> ) encoding with <b>ffmpeg</b>:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i INPUT
-codec:v libtheora -q:v 10 OUTPUT.ogg</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Use <b>ffmpeg</b> to convert a
<small>CBR 1000</small> kbps Theora video stream:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i INPUT
-codec:v libtheora -b:v 1000k OUTPUT.ogg</p>

<p style="margin-left:11%; margin-top: 1em"><b>libvpx</b>
<small><br>
VP8/VP9</small> format supported through libvpx.</p>

<p style="margin-left:11%; margin-top: 1em">Requires the
presence of the libvpx headers and library during
configuration. You need to explicitly configure the build
with &quot;--enable-libvpx&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Options</i></p>

<p style="margin-left:11%; margin-top: 1em">The following
options are supported by the libvpx wrapper. The
<b>vpxenc</b>-equivalent options or values are listed in
parentheses for easy migration.</p>

<p style="margin-left:11%; margin-top: 1em">To reduce the
duplication of documentation, only the private options and
some others requiring special attention are documented here.
For the documentation of the undocumented generic options,
see <b>the Codec Options chapter</b>.</p>

<p style="margin-left:11%; margin-top: 1em">To get more
documentation of the libvpx options, invoke the command
<b>ffmpeg -h encoder=libvpx</b>, <b>ffmpeg -h
encoder=libvpx-vp9</b> or <b>vpxenc --help</b>. Further
information is available in the libvpx <small>API</small>
documentation. <b><br>
b (</b><i>target-bitrate</i><b>)</b></p>

<p style="margin-left:17%;">Set bitrate in bits/s. Note
that FFmpeg&rsquo;s <b>b</b> option is expressed in bits/s,
while <b>vpxenc</b>&rsquo;s <b>target-bitrate</b> is in
kilobits/s.</p>

<p style="margin-left:11%;"><b>g
(</b><i>kf-max-dist</i><b>) <br>
keyint_min (</b><i>kf-min-dist</i><b>) <br>
qmin (</b><i>min-q</i><b>) <br>
qmax (</b><i>max-q</i><b>) <br>
bufsize (</b><i>buf-sz</i><b>,</b>
<i>buf-optimal-sz</i><b>)</b></p>

<p style="margin-left:17%;">Set ratecontrol buffer size (in
bits). Note <b>vpxenc</b>&rsquo;s options are specified in
milliseconds, the libvpx wrapper converts this value as
follows: &quot;buf-sz = bufsize * 1000 / bitrate&quot;,
&quot;buf-optimal-sz = bufsize * 1000 / bitrate * 5 /
6&quot;.</p>

<p style="margin-left:11%;"><b>rc_init_occupancy
(</b><i>buf-initial-sz</i><b>)</b></p>

<p style="margin-left:17%;">Set number of bits which should
be loaded into the rc buffer before decoding starts. Note
<b>vpxenc</b>&rsquo;s option is specified in milliseconds,
the libvpx wrapper converts this value as follows:
&quot;rc_init_occupancy * 1000 / bitrate&quot;.</p>

<p style="margin-left:11%;"><b>undershoot-pct</b></p>

<p style="margin-left:17%;">Set datarate undershoot (min)
percentage of the target bitrate.</p>

<p style="margin-left:11%;"><b>overshoot-pct</b></p>

<p style="margin-left:17%;">Set datarate overshoot (max)
percentage of the target bitrate.</p>

<p style="margin-left:11%;"><b>skip_threshold
(</b><i>drop-frame</i><b>) <br>
qcomp (</b><i>bias-pct</i><b>) <br>
maxrate (</b><i>maxsection-pct</i><b>)</b></p>

<p style="margin-left:17%;">Set <small>GOP</small> max
bitrate in bits/s. Note <b>vpxenc</b>&rsquo;s option is
specified as a percentage of the target bitrate, the libvpx
wrapper converts this value as follows: &quot;(maxrate * 100
/ bitrate)&quot;.</p>

<p style="margin-left:11%;"><b>minrate
(</b><i>minsection-pct</i><b>)</b></p>

<p style="margin-left:17%;">Set <small>GOP</small> min
bitrate in bits/s. Note <b>vpxenc</b>&rsquo;s option is
specified as a percentage of the target bitrate, the libvpx
wrapper converts this value as follows: &quot;(minrate * 100
/ bitrate)&quot;.</p>

<p style="margin-left:11%;"><b>minrate, maxrate, b</b>
<i>end-usage=cbr</i></p>

<p style="margin-left:17%;">&quot;(minrate == maxrate ==
bitrate)&quot;.</p>

<p style="margin-left:11%;"><b>crf
(</b><i>end-usage=cq</i><b>,</b> <i>cq-level</i><b>) <br>
tune (</b><i>tune</i><b>)</b></p>

<p style="margin-left:17%;"><b>psnr (</b><i>psnr</i><b>)
<br>
ssim (</b><i>ssim</i><b>)</b></p>

<p style="margin-left:11%;"><b>quality, deadline
(</b><i>deadline</i><b>)</b></p>

<p style="margin-left:17%;"><b>best</b></p>

<p style="margin-left:23%;">Use best quality deadline.
Poorly named and quite slow, this option should be avoided
as it may give worse quality output than good.</p>

<p style="margin-left:17%;"><b>good</b></p>

<p style="margin-left:23%;">Use good quality deadline. This
is a good trade-off between speed and quality when used with
the <b>cpu-used</b> option.</p>

<p style="margin-left:17%;"><b>realtime</b></p>

<p style="margin-left:23%;">Use realtime quality
deadline.</p>

<p style="margin-left:11%;"><b>speed, cpu-used
(</b><i>cpu-used</i><b>)</b></p>

<p style="margin-left:17%;">Set quality/speed ratio
modifier. Higher values speed up the encode at the cost of
quality.</p>

<p style="margin-left:11%;"><b>nr
(</b><i>noise-sensitivity</i><b>) <br>
static-thresh</b></p>

<p style="margin-left:17%;">Set a change threshold on
blocks below which they will be skipped by the encoder.</p>

<p style="margin-left:11%;"><b>slices
(</b><i>token-parts</i><b>)</b></p>

<p style="margin-left:17%;">Note that FFmpeg&rsquo;s
<b>slices</b> option gives the total number of partitions,
while <b>vpxenc</b>&rsquo;s <b>token-parts</b> is given as
&quot;log2(partitions)&quot;.</p>

<p style="margin-left:11%;"><b>max-intra-rate</b></p>

<p style="margin-left:17%;">Set maximum I-frame bitrate as
a percentage of the target bitrate. A value of 0 means
unlimited.</p>

<p style="margin-left:11%;"><b>force_key_frames</b></p>


<p style="margin-left:17%;">&quot;VPX_EFLAG_FORCE_KF&quot;</p>

<p style="margin-left:11%;"><b>Alternate reference frame
related</b></p>

<p style="margin-left:17%;"><b>auto-alt-ref</b></p>

<p style="margin-left:23%;">Enable use of alternate
reference frames (2-pass only). Values greater than 1 enable
multi-layer alternate reference frames ( <small>VP9</small>
only).</p>

<p style="margin-left:17%;"><b>arnr-maxframes</b></p>

<p style="margin-left:23%;">Set altref noise reduction max
frame count.</p>

<p style="margin-left:17%;"><b>arnr-type</b></p>

<p style="margin-left:23%;">Set altref noise reduction
filter type: backward, forward, centered.</p>

<p style="margin-left:17%;"><b>arnr-strength</b></p>

<p style="margin-left:23%;">Set altref noise reduction
filter strength.</p>

<p style="margin-left:17%;"><b>rc-lookahead, lag-in-frames
(</b><i>lag-in-frames</i><b>)</b></p>

<p style="margin-left:23%;">Set number of frames to look
ahead for frametype and ratecontrol.</p>

<p style="margin-left:11%;"><b>error-resilient</b></p>

<p style="margin-left:17%;">Enable error resiliency
features.</p>

<p style="margin-left:11%;"><b>sharpness</b>
<i>integer</i></p>

<p style="margin-left:17%;">Increase sharpness at the
expense of lower <small>PSNR.</small> The valid range is [0,
7].</p>

<p style="margin-left:11%;"><b>VP8-specific options</b></p>

<p style="margin-left:17%;"><b>ts-parameters</b></p>

<p style="margin-left:23%;">Sets the temporal scalability
configuration using a :-separated list of key=value pairs.
For example, to specify temporal scalability parameters with
&quot;ffmpeg&quot;:</p>

<p style="margin-left:23%; margin-top: 1em">ffmpeg -i INPUT
-c:v libvpx -ts-parameters ts_number_layers=3:\ <br>

ts_target_bitrate=250000,500000,1000000:ts_rate_decimator=4,2,1:\
<br>
ts_periodicity=4:ts_layer_id=0,2,1,2 OUTPUT</p>

<p style="margin-left:23%; margin-top: 1em">Below is a
brief explanation of each of the parameters, please refer to
&quot;struct vpx_codec_enc_cfg&quot; in
&quot;vpx/vpx_encoder.h&quot; for more details. <b><br>
ts_number_layers</b></p>

<p style="margin-left:29%;">Number of temporal coding
layers.</p>

<p style="margin-left:23%;"><b>ts_target_bitrate</b></p>

<p style="margin-left:29%;">Target bitrate for each
temporal layer.</p>

<p style="margin-left:23%;"><b>ts_rate_decimator</b></p>

<p style="margin-left:29%;">Frame rate decimation factor
for each temporal layer.</p>

<p style="margin-left:23%;"><b>ts_periodicity</b></p>

<p style="margin-left:29%;">Length of the sequence defining
frame temporal layer membership.</p>

<p style="margin-left:23%;"><b>ts_layer_id</b></p>

<p style="margin-left:29%;">Template defining the
membership of frames to temporal layers.</p>

<p style="margin-left:11%;"><b>VP9-specific options</b></p>

<p style="margin-left:17%;"><b>lossless</b></p>

<p style="margin-left:23%;">Enable lossless mode.</p>

<p style="margin-left:17%;"><b>tile-columns</b></p>

<p style="margin-left:23%;">Set number of tile columns to
use. Note this is given as &quot;log2(tile_columns)&quot;.
For example, 8 tile columns would be requested by setting
the <b>tile-columns</b> option to 3.</p>

<p style="margin-left:17%;"><b>tile-rows</b></p>

<p style="margin-left:23%;">Set number of tile rows to use.
Note this is given as &quot;log2(tile_rows)&quot;. For
example, 4 tile rows would be requested by setting the
<b>tile-rows</b> option to 2.</p>

<p style="margin-left:17%;"><b>frame-parallel</b></p>

<p style="margin-left:23%;">Enable frame parallel
decodability features.</p>

<p style="margin-left:17%;"><b>aq-mode</b></p>

<p style="margin-left:23%;">Set adaptive quantization mode
(0: off (default), 1: variance 2: complexity, 3: cyclic
refresh, 4: equator360).</p>

<p style="margin-left:17%;"><b>colorspace</b>
<i>color-space</i></p>

<p style="margin-left:23%;">Set input color space. The
<small>VP9</small> bitstream supports signaling the
following colorspaces: <b><br>
rgb</b> <b><i>sRGB</i></b> <b><br>
bt709</b> <b><i>bt709</i></b> <b><br>
unspecified</b> <b><i>unknown</i></b> <b><br>
bt470bg</b> <b><i>bt601</i></b> <b><br>
smpte170m</b> <b><i>smpte170</i></b> <b><br>
smpte240m</b> <b><i>smpte240</i></b> <b><br>
bt2020_ncl</b> <b><i>bt2020</i></b></p>

<p style="margin-left:17%;"><b>row-mt</b>
<i>boolean</i></p>

<p style="margin-left:23%;">Enable row based
multi-threading.</p>

<p style="margin-left:17%;"><b>tune-content</b></p>

<p style="margin-left:23%;">Set content type: default (0),
screen (1), film (2).</p>

<p style="margin-left:17%;"><b>corpus-complexity</b></p>

<p style="margin-left:23%;">Corpus <small>VBR</small> mode
is a variant of standard <small>VBR</small> where the
complexity distribution midpoint is passed in rather than
calculated for a specific clip or chunk.</p>

<p style="margin-left:23%; margin-top: 1em">The valid range
is [0, 10000]. 0 (default) uses standard
<small>VBR.</small></p>

<p style="margin-left:17%;"><b>enable-tpl</b>
<i>boolean</i></p>

<p style="margin-left:23%;">Enable temporal dependency
model.</p>

<p style="margin-left:11%; margin-top: 1em">For more
information about libvpx see:
&lt;<b>http://www.webmproject.org/</b>&gt;</p>

<p style="margin-left:11%; margin-top: 1em"><b>libwebp</b>
<br>
libwebp WebP Image encoder wrapper</p>

<p style="margin-left:11%; margin-top: 1em">libwebp is
Google&rsquo;s official encoder for WebP images. It can
encode in either lossy or lossless mode. Lossy images are
essentially a wrapper around a <small>VP8</small> frame.
Lossless images are a separate codec developed by
Google.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Pixel
Format</i></p>

<p style="margin-left:11%; margin-top: 1em">Currently,
libwebp only supports <small>YUV420</small> for lossy and
<small>RGB</small> for lossless due to limitations of the
format and libwebp. Alpha is supported for either mode.
Because of <small>API</small> limitations, if
<small>RGB</small> is passed in when encoding lossy or
<small>YUV</small> is passed in for encoding lossless, the
pixel format will automatically be converted using functions
from libwebp. This is not ideal and is done only for
convenience.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Options</i>
<b><br>
-lossless</b> <i>boolean</i></p>

<p style="margin-left:17%;">Enables/Disables use of
lossless mode. Default is 0.</p>

<p style="margin-left:11%;"><b>-compression_level</b>
<i>integer</i></p>

<p style="margin-left:17%;">For lossy, this is a
quality/speed tradeoff. Higher values give better quality
for a given size at the cost of increased encoding time. For
lossless, this is a size/speed tradeoff. Higher values give
smaller size at the cost of increased encoding time. More
specifically, it controls the number of extra algorithms and
compression tools used, and varies the combination of these
tools. This maps to the <i>method</i> option in libwebp. The
valid range is 0 to 6. Default is 4.</p>

<p style="margin-left:11%;"><b>-qscale</b> <i>float</i></p>

<p style="margin-left:17%;">For lossy encoding, this
controls image quality, 0 to 100. For lossless encoding,
this controls the effort and time spent at compressing more.
The default value is 75. Note that for usage via libavcodec,
this option is called <i>global_quality</i> and must be
multiplied by <i><small>FF_QP2LAMBDA</small></i> .</p>

<p style="margin-left:11%;"><b>-preset</b> <i>type</i></p>

<p style="margin-left:17%;">Configuration preset. This does
some automatic settings based on the general type of the
image. <b><br>
none</b></p>

<p style="margin-left:23%;">Do not use a preset.</p>

<p style="margin-left:17%;"><b>default</b></p>

<p style="margin-left:23%;">Use the encoder default.</p>

<p style="margin-left:17%;"><b>picture</b></p>

<p style="margin-left:23%;">Digital picture, like portrait,
inner shot</p>

<p style="margin-left:17%;"><b>photo</b></p>

<p style="margin-left:23%;">Outdoor photograph, with
natural lighting</p>

<p style="margin-left:17%;"><b>drawing</b></p>

<p style="margin-left:23%;">Hand or line drawing, with
high-contrast details</p>

<p style="margin-left:17%;"><b>icon</b></p>

<p style="margin-left:23%;">Small-sized colorful images</p>

<p style="margin-left:17%;"><b>text</b></p>

<p style="margin-left:23%;">Text-like</p>

<p style="margin-left:11%; margin-top: 1em"><b>libx264,
libx264rgb</b> <br>
x264 H.264/MPEG-4 <small>AVC</small> encoder wrapper.</p>

<p style="margin-left:11%; margin-top: 1em">This encoder
requires the presence of the libx264 headers and library
during configuration. You need to explicitly configure the
build with &quot;--enable-libx264&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">libx264
supports an impressive number of features, including 8x8 and
4x4 adaptive spatial transform, adaptive B-frame placement,
<small>CAVLC/CABAC</small> entropy coding, interlacing (
<small>MBAFF</small> ), lossless mode, psy optimizations for
detail retention (adaptive quantization, psy-RD,
psy-trellis).</p>

<p style="margin-left:11%; margin-top: 1em">Many libx264
encoder options are mapped to FFmpeg global codec options,
while unique encoder options are provided through private
options. Additionally the <b>x264opts</b> and
<b>x264-params</b> private options allows one to pass a list
of key=value tuples as accepted by the libx264
&quot;x264_param_parse&quot; function.</p>

<p style="margin-left:11%; margin-top: 1em">The x264
project website is at
&lt;<b>http://www.videolan.org/developers/x264.html</b>&gt;.</p>

<p style="margin-left:11%; margin-top: 1em">The libx264rgb
encoder is the same as libx264, except it accepts packed
<small>RGB</small> pixel formats as input instead of
<small>YUV.</small></p>

<p style="margin-left:11%; margin-top: 1em"><i>Supported
Pixel Formats</i></p>

<p style="margin-left:11%; margin-top: 1em">x264 supports
8- to 10-bit color spaces. The exact bit depth is controlled
at x264&rsquo;s configure time. FFmpeg only supports one bit
depth in one particular build. In other words, it is not
possible to build one FFmpeg with multiple versions of x264
with different bit depths.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Options</i></p>

<p style="margin-left:11%; margin-top: 1em">The following
options are supported by the libx264 wrapper. The
<b>x264</b>-equivalent options or values are listed in
parentheses for easy migration.</p>

<p style="margin-left:11%; margin-top: 1em">To reduce the
duplication of documentation, only the private options and
some others requiring special attention are documented here.
For the documentation of the undocumented generic options,
see <b>the Codec Options chapter</b>.</p>

<p style="margin-left:11%; margin-top: 1em">To get a more
accurate and extensive documentation of the libx264 options,
invoke the command <b>x264 --fullhelp</b> or consult the
libx264 documentation. <b><br>
b (</b><i>bitrate</i><b>)</b></p>

<p style="margin-left:17%;">Set bitrate in bits/s. Note
that FFmpeg&rsquo;s <b>b</b> option is expressed in bits/s,
while <b>x264</b>&rsquo;s <b>bitrate</b> is in
kilobits/s.</p>

<p style="margin-left:11%;"><b>bf (</b><i>bframes</i><b>)
<br>
g (</b><i>keyint</i><b>) <br>
qmin (</b><i>qpmin</i><b>)</b></p>

<p style="margin-left:17%;">Minimum quantizer scale.</p>

<p style="margin-left:11%;"><b>qmax
(</b><i>qpmax</i><b>)</b></p>

<p style="margin-left:17%;">Maximum quantizer scale.</p>

<p style="margin-left:11%;"><b>qdiff
(</b><i>qpstep</i><b>)</b></p>

<p style="margin-left:17%;">Maximum difference between
quantizer scales.</p>

<p style="margin-left:11%;"><b>qblur
(</b><i>qblur</i><b>)</b></p>

<p style="margin-left:17%;">Quantizer curve blur</p>

<p style="margin-left:11%;"><b>qcomp
(</b><i>qcomp</i><b>)</b></p>

<p style="margin-left:17%;">Quantizer curve compression
factor</p>

<p style="margin-left:11%;"><b>refs
(</b><i>ref</i><b>)</b></p>

<p style="margin-left:17%;">Number of reference frames each
P-frame can use. The range is from <i>0-16</i>.</p>

<p style="margin-left:11%;"><b>sc_threshold
(</b><i>scenecut</i><b>)</b></p>

<p style="margin-left:17%;">Sets the threshold for the
scene change detection.</p>

<p style="margin-left:11%;"><b>trellis
(</b><i>trellis</i><b>)</b></p>

<p style="margin-left:17%;">Performs Trellis quantization
to increase efficiency. Enabled by default.</p>

<p style="margin-left:11%;"><b>nr (</b><i>nr</i><b>) <br>
me_range (</b><i>merange</i><b>)</b></p>

<p style="margin-left:17%;">Maximum range of the motion
search in pixels.</p>

<p style="margin-left:11%;"><b>me_method
(</b><i>me</i><b>)</b></p>

<p style="margin-left:17%;">Set motion estimation method.
Possible values in the decreasing order of speed: <b><br>
dia (</b><i>dia</i><b>) <br>
epzs (</b><i>dia</i><b>)</b></p>

<p style="margin-left:23%;">Diamond search with radius 1
(fastest). <b>epzs</b> is an alias for <b>dia</b>.</p>

<p style="margin-left:17%;"><b>hex
(</b><i>hex</i><b>)</b></p>

<p style="margin-left:23%;">Hexagonal search with radius
2.</p>

<p style="margin-left:17%;"><b>umh
(</b><i>umh</i><b>)</b></p>

<p style="margin-left:23%;">Uneven multi-hexagon
search.</p>

<p style="margin-left:17%;"><b>esa
(</b><i>esa</i><b>)</b></p>

<p style="margin-left:23%;">Exhaustive search.</p>

<p style="margin-left:17%;"><b>tesa
(</b><i>tesa</i><b>)</b></p>

<p style="margin-left:23%;">Hadamard exhaustive search
(slowest).</p>

<p style="margin-left:11%;"><b>forced-idr</b></p>

<p style="margin-left:17%;">Normally, when forcing a
I-frame type, the encoder can select any type of I-frame.
This option forces it to choose an IDR-frame.</p>

<p style="margin-left:11%;"><b>subq
(</b><i>subme</i><b>)</b></p>

<p style="margin-left:17%;">Sub-pixel motion estimation
method.</p>

<p style="margin-left:11%;"><b>b_strategy
(</b><i>b-adapt</i><b>)</b></p>

<p style="margin-left:17%;">Adaptive B-frame placement
decision algorithm. Use only on first-pass.</p>

<p style="margin-left:11%;"><b>keyint_min
(</b><i>min-keyint</i><b>)</b></p>

<p style="margin-left:17%;">Minimum <small>GOP</small>
size.</p>

<p style="margin-left:11%;"><b>coder</b></p>

<p style="margin-left:17%;">Set entropy encoder. Possible
values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>ac</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>Enable <small>CABAC.</small></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>vlc</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>Enable <small>CAVLC</small> and disable
<small>CABAC.</small> It generates the same effect as
<b>x264</b>&rsquo;s <b>--no-cabac</b> option.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>cmp</b></p></td>
<td width="1%"></td>
<td width="77%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Set full pixel
motion estimation comparison algorithm. Possible values:
<b><br>
chroma</b></p>

<p style="margin-left:23%;">Enable chroma in motion
estimation.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>sad</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>Ignore chroma in motion estimation. It generates the
same effect as <b>x264</b>&rsquo;s <b>--no-chroma-me</b>
option.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>threads
(</b><i>threads</i><b>)</b></p>

<p style="margin-left:17%;">Number of encoding threads.</p>

<p style="margin-left:11%;"><b>thread_type</b></p>

<p style="margin-left:17%;">Set multithreading technique.
Possible values: <b><br>
slice</b></p>

<p style="margin-left:23%;">Slice-based multithreading. It
generates the same effect as <b>x264</b>&rsquo;s
<b>--sliced-threads</b> option.</p>

<p style="margin-left:17%;"><b>frame</b></p>

<p style="margin-left:23%;">Frame-based multithreading.</p>

<p style="margin-left:11%;"><b>flags</b></p>

<p style="margin-left:17%;">Set encoding flags. It can be
used to disable closed <small>GOP</small> and enable open
<small>GOP</small> by setting it to &quot;-cgop&quot;. The
result is similar to the behavior of <b>x264</b>&rsquo;s
<b>--open-gop</b> option.</p>

<p style="margin-left:11%;"><b>rc_init_occupancy
(</b><i>vbv-init</i><b>) <br>
preset (</b><i>preset</i><b>)</b></p>

<p style="margin-left:17%;">Set the encoding preset.</p>

<p style="margin-left:11%;"><b>tune
(</b><i>tune</i><b>)</b></p>

<p style="margin-left:17%;">Set tuning of the encoding
params.</p>

<p style="margin-left:11%;"><b>profile
(</b><i>profile</i><b>)</b></p>

<p style="margin-left:17%;">Set profile restrictions.</p>

<p style="margin-left:11%;"><b>fastfirstpass</b></p>

<p style="margin-left:17%;">Enable fast settings when
encoding first pass, when set to 1. When set to 0, it has
the same effect of <b>x264</b>&rsquo;s
<b>--slow-firstpass</b> option.</p>

<p style="margin-left:11%;"><b>crf
(</b><i>crf</i><b>)</b></p>

<p style="margin-left:17%;">Set the quality for constant
quality mode.</p>

<p style="margin-left:11%;"><b>crf_max
(</b><i>crf-max</i><b>)</b></p>

<p style="margin-left:17%;">In <small>CRF</small> mode,
prevents <small>VBV</small> from lowering quality beyond
this point.</p>

<p style="margin-left:11%;"><b>qp
(</b><i>qp</i><b>)</b></p>

<p style="margin-left:17%;">Set constant quantization rate
control method parameter.</p>

<p style="margin-left:11%;"><b>aq-mode
(</b><i>aq-mode</i><b>)</b></p>

<p style="margin-left:17%;">Set <small>AQ</small> method.
Possible values: <b><br>
none (</b><i>0</i><b>)</b></p>

<p style="margin-left:23%;">Disabled.</p>

<p style="margin-left:17%;"><b>variance
(</b><i>1</i><b>)</b></p>

<p style="margin-left:23%;">Variance <small>AQ</small>
(complexity mask).</p>

<p style="margin-left:17%;"><b>autovariance
(</b><i>2</i><b>)</b></p>

<p style="margin-left:23%;">Auto-variance <small>AQ</small>
(experimental).</p>

<p style="margin-left:11%;"><b>aq-strength
(</b><i>aq-strength</i><b>)</b></p>

<p style="margin-left:17%;">Set <small>AQ</small> strength,
reduce blocking and blurring in flat and textured areas.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>psy</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Use psychovisual optimizations when set to 1. When set
to 0, it has the same effect as <b>x264</b>&rsquo;s
<b>--no-psy</b> option.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>psy-rd
(</b><i>psy-rd</i><b>)</b></p>

<p style="margin-left:17%;">Set strength of psychovisual
optimization, in <i>psy-rd</i>:<i>psy-trellis</i>
format.</p>

<p style="margin-left:11%;"><b>rc-lookahead
(</b><i>rc-lookahead</i><b>)</b></p>

<p style="margin-left:17%;">Set number of frames to look
ahead for frametype and ratecontrol.</p>

<p style="margin-left:11%;"><b>weightb</b></p>

<p style="margin-left:17%;">Enable weighted prediction for
B-frames when set to 1. When set to 0, it has the same
effect as <b>x264</b>&rsquo;s <b>--no-weightb</b>
option.</p>

<p style="margin-left:11%;"><b>weightp
(</b><i>weightp</i><b>)</b></p>

<p style="margin-left:17%;">Set weighted prediction method
for P-frames. Possible values: <b><br>
none (</b><i>0</i><b>)</b></p>

<p style="margin-left:23%;">Disabled</p>

<p style="margin-left:17%;"><b>simple
(</b><i>1</i><b>)</b></p>

<p style="margin-left:23%;">Enable only weighted refs</p>

<p style="margin-left:17%;"><b>smart
(</b><i>2</i><b>)</b></p>

<p style="margin-left:23%;">Enable both weighted refs and
duplicates</p>

<p style="margin-left:11%;"><b>ssim
(</b><i>ssim</i><b>)</b></p>

<p style="margin-left:17%;">Enable calculation and printing
<small>SSIM</small> stats after the encoding.</p>

<p style="margin-left:11%;"><b>intra-refresh
(</b><i>intra-refresh</i><b>)</b></p>

<p style="margin-left:17%;">Enable the use of Periodic
Intra Refresh instead of <small>IDR</small> frames when set
to 1.</p>

<p style="margin-left:11%;"><b>avcintra-class
(</b><i>class</i><b>)</b></p>

<p style="margin-left:17%;">Configure the encoder to
generate AVC-Intra. Valid values are 50,100 and 200</p>

<p style="margin-left:11%;"><b>bluray-compat
(</b><i>bluray-compat</i><b>)</b></p>

<p style="margin-left:17%;">Configure the encoder to be
compatible with the bluray standard. It is a shorthand for
setting &quot;bluray-compat=1 force-cfr=1&quot;.</p>

<p style="margin-left:11%;"><b>b-bias
(</b><i>b-bias</i><b>)</b></p>

<p style="margin-left:17%;">Set the influence on how often
B-frames are used.</p>

<p style="margin-left:11%;"><b>b-pyramid
(</b><i>b-pyramid</i><b>)</b></p>

<p style="margin-left:17%;">Set method for keeping of some
B-frames as references. Possible values: <b><br>
none (</b><i>none</i><b>)</b></p>

<p style="margin-left:23%;">Disabled.</p>

<p style="margin-left:17%;"><b>strict
(</b><i>strict</i><b>)</b></p>

<p style="margin-left:23%;">Strictly hierarchical
pyramid.</p>

<p style="margin-left:17%;"><b>normal
(</b><i>normal</i><b>)</b></p>

<p style="margin-left:23%;">Non-strict (not Blu-ray
compatible).</p>

<p style="margin-left:11%;"><b>mixed-refs</b></p>

<p style="margin-left:17%;">Enable the use of one reference
per partition, as opposed to one reference per macroblock
when set to 1. When set to 0, it has the same effect as
<b>x264</b>&rsquo;s <b>--no-mixed-refs</b> option.</p>

<p style="margin-left:11%;"><b>8x8dct</b></p>

<p style="margin-left:17%;">Enable adaptive spatial
transform (high profile 8x8 transform) when set to 1. When
set to 0, it has the same effect as <b>x264</b>&rsquo;s
<b>--no-8x8dct</b> option.</p>

<p style="margin-left:11%;"><b>fast-pskip</b></p>

<p style="margin-left:17%;">Enable early
<small>SKIP</small> detection on P-frames when set to 1.
When set to 0, it has the same effect as <b>x264</b>&rsquo;s
<b>--no-fast-pskip</b> option.</p>

<p style="margin-left:11%;"><b>aud
(</b><i>aud</i><b>)</b></p>

<p style="margin-left:17%;">Enable use of access unit
delimiters when set to 1.</p>

<p style="margin-left:11%;"><b>mbtree</b></p>

<p style="margin-left:17%;">Enable use macroblock tree
ratecontrol when set to 1. When set to 0, it has the same
effect as <b>x264</b>&rsquo;s <b>--no-mbtree</b> option.</p>

<p style="margin-left:11%;"><b>deblock
(</b><i>deblock</i><b>)</b></p>

<p style="margin-left:17%;">Set loop filter parameters, in
<i>alpha</i>:<i>beta</i> form.</p>

<p style="margin-left:11%;"><b>cplxblur
(</b><i>cplxblur</i><b>)</b></p>

<p style="margin-left:17%;">Set fluctuations reduction in
<small>QP</small> (before curve compression).</p>

<p style="margin-left:11%;"><b>partitions
(</b><i>partitions</i><b>)</b></p>

<p style="margin-left:17%;">Set partitions to consider as a
comma-separated list of. Possible values in the list:
<b><br>
p8x8</b></p>

<p style="margin-left:23%;">8x8 P-frame partition.</p>

<p style="margin-left:17%;"><b>p4x4</b></p>

<p style="margin-left:23%;">4x4 P-frame partition.</p>

<p style="margin-left:17%;"><b>b8x8</b></p>

<p style="margin-left:23%;">4x4 B-frame partition.</p>

<p style="margin-left:17%;"><b>i8x8</b></p>

<p style="margin-left:23%;">8x8 I-frame partition.</p>

<p style="margin-left:17%;"><b>i4x4</b></p>

<p style="margin-left:23%;">4x4 I-frame partition.
(Enabling <b>p4x4</b> requires <b>p8x8</b> to be enabled.
Enabling <b>i8x8</b> requires adaptive spatial transform
(<b>8x8dct</b> option) to be enabled.)</p>

<p style="margin-left:17%;"><b>none
(</b><i>none</i><b>)</b></p>

<p style="margin-left:23%;">Do not consider any
partitions.</p>

<p style="margin-left:17%;"><b>all
(</b><i>all</i><b>)</b></p>

<p style="margin-left:23%;">Consider every partition.</p>

<p style="margin-left:11%;"><b>direct-pred
(</b><i>direct</i><b>)</b></p>

<p style="margin-left:17%;">Set direct <small>MV</small>
prediction mode. Possible values: <b><br>
none (</b><i>none</i><b>)</b></p>

<p style="margin-left:23%;">Disable <small>MV</small>
prediction.</p>

<p style="margin-left:17%;"><b>spatial
(</b><i>spatial</i><b>)</b></p>

<p style="margin-left:23%;">Enable spatial predicting.</p>

<p style="margin-left:17%;"><b>temporal
(</b><i>temporal</i><b>)</b></p>

<p style="margin-left:23%;">Enable temporal predicting.</p>

<p style="margin-left:17%;"><b>auto
(</b><i>auto</i><b>)</b></p>

<p style="margin-left:23%;">Automatically decided.</p>

<p style="margin-left:11%;"><b>slice-max-size
(</b><i>slice-max-size</i><b>)</b></p>

<p style="margin-left:17%;">Set the limit of the size of
each slice in bytes. If not specified but <small>RTP</small>
payload size (<b>ps</b>) is specified, that is used.</p>

<p style="margin-left:11%;"><b>stats
(</b><i>stats</i><b>)</b></p>

<p style="margin-left:17%;">Set the file name for
multi-pass stats.</p>

<p style="margin-left:11%;"><b>nal-hrd
(</b><i>nal-hrd</i><b>)</b></p>

<p style="margin-left:17%;">Set signal <small>HRD</small>
information (requires <b>vbv-bufsize</b> to be set).
Possible values: <b><br>
none (</b><i>none</i><b>)</b></p>

<p style="margin-left:23%;">Disable <small>HRD</small>
information signaling.</p>

<p style="margin-left:17%;"><b>vbr
(</b><i>vbr</i><b>)</b></p>

<p style="margin-left:23%;">Variable bit rate.</p>

<p style="margin-left:17%;"><b>cbr
(</b><i>cbr</i><b>)</b></p>

<p style="margin-left:23%;">Constant bit rate (not allowed
in <small>MP4</small> container).</p>

<p style="margin-left:11%;"><b>x264opts (N.A.)</b></p>

<p style="margin-left:17%;">Set any x264 option, see
<b>x264 --fullhelp</b> for a list.</p>

<p style="margin-left:17%; margin-top: 1em">Argument is a
list of <i>key</i>=<i>value</i> couples separated by
&quot;:&quot;. In <i>filter</i> and <i>psy-rd</i> options
that use &quot;:&quot; as a separator themselves, use
&quot;,&quot; instead. They accept it as well since long ago
but this is kept undocumented for some reason.</p>

<p style="margin-left:17%; margin-top: 1em">For example to
specify libx264 encoding options with <b>ffmpeg</b>:</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
foo.mpg -c:v libx264 -x264opts keyint=123:min-keyint=20 -an
out.mkv</p>

<p style="margin-left:11%;"><b>a53cc</b> <i>boolean</i></p>

<p style="margin-left:17%;">Import closed captions (which
must be <small>ATSC</small> compatible format) into output.
Only the mpeg2 and h264 decoders provide these. Default is 1
(on).</p>

<p style="margin-left:11%;"><b>x264-params (N.A.)</b></p>

<p style="margin-left:17%;">Override the x264 configuration
using a :-separated list of key=value parameters.</p>

<p style="margin-left:17%; margin-top: 1em">This option is
functionally the same as the <b>x264opts</b>, but is
duplicated for compatibility with the Libav fork.</p>

<p style="margin-left:17%; margin-top: 1em">For example to
specify libx264 encoding options with <b>ffmpeg</b>:</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i INPUT
-c:v libx264 -x264-params level=30:bframes=0:weightp=0:\
<br>

cabac=0:ref=1:vbv-maxrate=768:vbv-bufsize=2000:analyse=all:me=umh:\
<br>
no-fast-pskip=1:subq=6:8x8dct=0:trellis=0 OUTPUT</p>

<p style="margin-left:11%; margin-top: 1em">Encoding
ffpresets for common usages are provided so they can be used
with the general presets system (e.g. passing the <b>pre</b>
option).</p>

<p style="margin-left:11%; margin-top: 1em"><b>libx265</b>
<br>
x265 H.265/HEVC encoder wrapper.</p>

<p style="margin-left:11%; margin-top: 1em">This encoder
requires the presence of the libx265 headers and library
during configuration. You need to explicitly configure the
build with <b>--enable-libx265</b>.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Options</i>
<b><br>
preset</b></p>

<p style="margin-left:17%;">Set the x265 preset.</p>

<p style="margin-left:11%;"><b>tune</b></p>

<p style="margin-left:17%;">Set the x265 tune
parameter.</p>

<p style="margin-left:11%;"><b>profile</b></p>

<p style="margin-left:17%;">Set profile restrictions.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>crf</b></p></td>
<td width="2%"></td>
<td width="65%">


<p>Set the quality for constant quality mode.</p></td>
<td width="18%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>forced-idr</b></p>

<p style="margin-left:17%;">Normally, when forcing a
I-frame type, the encoder can select any type of I-frame.
This option forces it to choose an IDR-frame.</p>

<p style="margin-left:11%;"><b>x265-params</b></p>

<p style="margin-left:17%;">Set x265 options using a list
of <i>key</i>=<i>value</i> couples separated by
&quot;:&quot;. See <b>x265 --help</b> for a list of
options.</p>

<p style="margin-left:17%; margin-top: 1em">For example to
specify libx265 encoding options with
<b>-x265-params</b>:</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i input
-c:v libx265 -x265-params crf=26:psy-rd=1 output.mp4</p>


<p style="margin-left:11%; margin-top: 1em"><b>libxavs2</b>
<br>
xavs2 <small>AVS2-P2/IEEE1857.4</small> encoder wrapper.</p>

<p style="margin-left:11%; margin-top: 1em">This encoder
requires the presence of the libxavs2 headers and library
during configuration. You need to explicitly configure the
build with <b>--enable-libxavs2</b>.</p>

<p style="margin-left:11%; margin-top: 1em">The following
standard libavcodec options are used:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="26%">


<p><b>b</b> / <b>bit_rate</b></p></td>
<td width="57%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="26%">


<p><b>g</b> / <b>gop_size</b></p></td>
<td width="57%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="26%">


<p><b>bf</b> / <b>max_b_frames</b></p></td>
<td width="57%">
</td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">The encoder
also has its own specific options:</p>

<p style="margin-left:11%; margin-top: 1em"><i>Options</i>
<b><br>
lcu_row_threads</b></p>

<p style="margin-left:17%;">Set the number of parallel
threads for rows from 1 to 8 (default 5).</p>

<p style="margin-left:11%;"><b>initial_qp</b></p>

<p style="margin-left:17%;">Set the xavs2 quantization
parameter from 1 to 63 (default 34). This is used to set the
initial qp for the first frame.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>qp</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Set the xavs2 quantization parameter from 1 to 63
(default 34). This is used to set the qp value under
constant-QP mode.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>max_qp</b></p>

<p style="margin-left:17%;">Set the max qp for rate control
from 1 to 63 (default 55).</p>

<p style="margin-left:11%;"><b>min_qp</b></p>

<p style="margin-left:17%;">Set the min qp for rate control
from 1 to 63 (default 20).</p>

<p style="margin-left:11%;"><b>speed_level</b></p>

<p style="margin-left:17%;">Set the Speed level from 0 to 9
(default 0). Higher is better but slower.</p>

<p style="margin-left:11%;"><b>log_level</b></p>

<p style="margin-left:17%;">Set the log level from -1 to 3
(default 0). -1: none, 0: error, 1: warning, 2: info, 3:
debug.</p>

<p style="margin-left:11%;"><b>xavs2-params</b></p>

<p style="margin-left:17%;">Set xavs2 options using a list
of <i>key</i>=<i>value</i> couples separated by
&quot;:&quot;.</p>

<p style="margin-left:17%; margin-top: 1em">For example to
specify libxavs2 encoding options with
<b>-xavs2-params</b>:</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i input
-c:v libxavs2 -xavs2-params RdoqLevel=0 output.avs2</p>

<p style="margin-left:11%; margin-top: 1em"><b>libxvid</b>
<br>
Xvid <small>MPEG-4</small> Part 2 encoder wrapper.</p>

<p style="margin-left:11%; margin-top: 1em">This encoder
requires the presence of the libxvidcore headers and library
during configuration. You need to explicitly configure the
build with &quot;--enable-libxvid --enable-gpl&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">The native
&quot;mpeg4&quot; encoder supports the <small>MPEG-4</small>
Part 2 format, so users can encode to this format without
this library.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Options</i></p>

<p style="margin-left:11%; margin-top: 1em">The following
options are supported by the libxvid wrapper. Some of the
following options are listed but are not documented, and
correspond to shared codec options. See <b>the Codec Options
chapter</b> for their documentation. The other shared
options which are not listed have no effect for the libxvid
encoder.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>b</b></p></td>
<td width="88%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>g</b></p></td>
<td width="88%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>qmin <br>
qmax <br>
mpeg_quant <br>
threads</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>bf</b></p></td>
<td width="86%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>b_qfactor <br>
b_qoffset <br>
flags</b></p>

<p style="margin-left:17%;">Set specific encoding flags.
Possible values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>mv4</b></p></td>
<td width="1%"></td>
<td width="57%">


<p>Use four motion vector by macroblock.</p></td>
<td width="20%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>aic</b></p></td>
<td width="1%"></td>
<td width="57%">


<p>Enable high quality <small>AC</small> prediction.</p></td>
<td width="20%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>gray</b></p>

<p style="margin-left:23%;">Only encode grayscale.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>gmc</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>Enable the use of global motion compensation (
<small>GMC</small> ).</p></td></tr>
</table>

<p style="margin-left:17%;"><b>qpel</b></p>

<p style="margin-left:23%;">Enable quarter-pixel motion
compensation.</p>

<p style="margin-left:17%;"><b>cgop</b></p>

<p style="margin-left:23%;">Enable closed
<small>GOP.</small></p>

<p style="margin-left:17%;"><b>global_header</b></p>

<p style="margin-left:23%;">Place global headers in
extradata instead of every keyframe.</p>

<p style="margin-left:11%;"><b>trellis <br>
me_method</b></p>

<p style="margin-left:17%;">Set motion estimation method.
Possible values in decreasing order of speed and increasing
order of quality: <b><br>
zero</b></p>

<p style="margin-left:23%;">Use no motion estimation
(default).</p>

<p style="margin-left:17%;"><b>phods</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>x1</b></p></td>
<td width="1%"></td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>log</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>Enable advanced diamond zonal search for 16x16 blocks
and half-pixel refinement for 16x16 blocks. <b>x1</b> and
<b>log</b> are aliases for <b>phods</b>.</p></td></tr>
</table>

<p style="margin-left:17%;"><b>epzs</b></p>

<p style="margin-left:23%;">Enable all of the things
described above, plus advanced diamond zonal search for 8x8
blocks, half-pixel refinement for 8x8 blocks, and motion
estimation on chroma planes.</p>

<p style="margin-left:17%;"><b>full</b></p>

<p style="margin-left:23%;">Enable all of the things
described above, plus extended 16x16 and 8x8 blocks
search.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>mbd</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set macroblock decision algorithm. Possible values in
the increasing order of quality:</p></td></tr>
</table>

<p style="margin-left:17%;"><b>simple</b></p>

<p style="margin-left:23%;">Use macroblock comparing
function algorithm (default).</p>

<p style="margin-left:17%;"><b>bits</b></p>

<p style="margin-left:23%;">Enable rate distortion-based
half pixel and quarter pixel refinement for 16x16
blocks.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>rd</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>Enable all of the things described above, plus rate
distortion-based half pixel and quarter pixel refinement for
8x8 blocks, and rate distortion-based search using square
pattern.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>lumi_aq</b></p>

<p style="margin-left:17%;">Enable lumi masking adaptive
quantization when set to 1. Default is 0 (disabled).</p>

<p style="margin-left:11%;"><b>variance_aq</b></p>

<p style="margin-left:17%;">Enable variance adaptive
quantization when set to 1. Default is 0 (disabled).</p>

<p style="margin-left:17%; margin-top: 1em">When combined
with <b>lumi_aq</b>, the resulting quality will not be
better than any of the two specified individually. In other
words, the resulting quality will be the worse one of the
two effects.</p>

<p style="margin-left:11%;"><b>ssim</b></p>

<p style="margin-left:17%;">Set structural similarity (
<small>SSIM</small> ) displaying method. Possible
values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>off</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>Disable displaying of <small>SSIM</small>
information.</p> </td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>avg</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>Output average <small>SSIM</small> at the end of
encoding to stdout. The format of showing the average
<small>SSIM</small> is:</p></td></tr>
</table>

<p style="margin-left:23%; margin-top: 1em">Average SSIM:
%f</p>

<p style="margin-left:23%; margin-top: 1em">For users who
are not familiar with C, %f means a float number, or a
decimal (e.g. 0.939232).</p>

<p style="margin-left:17%;"><b>frame</b></p>

<p style="margin-left:23%;">Output both per-frame
<small>SSIM</small> data during encoding and average
<small>SSIM</small> at the end of encoding to stdout. The
format of per-frame information is:</p>

<p style="margin-left:23%; margin-top: 1em">SSIM: avg:
%1.3f min: %1.3f max: %1.3f</p>

<p style="margin-left:23%; margin-top: 1em">For users who
are not familiar with C, %1.3f means a float number rounded
to 3 digits after the dot (e.g. 0.932).</p>

<p style="margin-left:11%;"><b>ssim_acc</b></p>

<p style="margin-left:17%;">Set <small>SSIM</small>
accuracy. Valid options are integers within the range of
0-4, while 0 gives the most accurate result and 4 computes
the fastest.</p>

<p style="margin-left:11%; margin-top: 1em"><b>mpeg2</b>
<small><br>
MPEG-2</small> video encoder.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Options</i>
<b><br>
seq_disp_ext</b> <i>integer</i></p>

<p style="margin-left:17%;">Specifies if the encoder should
write a sequence_display_extension to the output.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>-1</b></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>auto</b></p>

<p style="margin-left:23%;">Decide automatically to write
it or not (this is the default) by checking if the data to
be written is different from the default or unspecified
values.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>0</b></p></td>
<td width="82%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>never</b></p>

<p style="margin-left:23%;">Never write it.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>1</b></p></td>
<td width="82%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>always</b></p>

<p style="margin-left:23%;">Always write it.</p>

<p style="margin-left:11%;"><b>video_format</b>
<i>integer</i></p>

<p style="margin-left:17%;">Specifies the video_format
written into the sequence display extension indicating the
source of the video pictures. The default is
<b>unspecified</b>, can be <b>component</b>, <b>pal</b>,
<b>ntsc</b>, <b>secam</b> or <b>mac</b>. For maximum
compatibility, use <b>component</b>.</p>

<p style="margin-left:11%;"><b>a53cc</b> <i>boolean</i></p>

<p style="margin-left:17%;">Import closed captions (which
must be <small>ATSC</small> compatible format) into output.
Default is 1 (on).</p>

<p style="margin-left:11%; margin-top: 1em"><b>png</b>
<small><br>
PNG</small> image encoder.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Private
options</i> <b><br>
dpi</b> <i>integer</i></p>

<p style="margin-left:17%;">Set physical density of pixels,
in dots per inch, unset by default</p>

<p style="margin-left:11%;"><b>dpm</b> <i>integer</i></p>

<p style="margin-left:17%;">Set physical density of pixels,
in dots per meter, unset by default</p>

<p style="margin-left:11%; margin-top: 1em"><b>ProRes</b>
<br>
Apple ProRes encoder.</p>

<p style="margin-left:11%; margin-top: 1em">FFmpeg contains
2 ProRes encoders, the prores-aw and prores-ks encoder. The
used encoder can be chosen with the &quot;-vcodec&quot;
option.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Private
Options for prores-ks</i> <b><br>
profile</b> <i>integer</i></p>

<p style="margin-left:17%;">Select the ProRes profile to
encode <b><br>
proxy</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>lt</b></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>standard</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>hq</b></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>4444 <br>
4444xq</b></p>

<p style="margin-left:11%;"><b>quant_mat</b>
<i>integer</i></p>

<p style="margin-left:17%;">Select quantization matrix.
<b><br>
auto <br>
default <br>
proxy</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>lt</b></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>standard</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>hq</b></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%;">If set to <i>auto</i>, the
matrix matching the profile will be picked. If not set, the
matrix providing the highest quality, <i>default</i>, will
be picked.</p>

<p style="margin-left:11%;"><b>bits_per_mb</b>
<i>integer</i></p>

<p style="margin-left:17%;">How many bits to allot for
coding one macroblock. Different profiles use between 200
and 2400 bits per macroblock, the maximum is 8000.</p>

<p style="margin-left:11%;"><b>mbs_per_slice</b>
<i>integer</i></p>

<p style="margin-left:17%;">Number of macroblocks in each
slice (1-8); the default value (8) should be good in almost
all situations.</p>

<p style="margin-left:11%;"><b>vendor</b> <i>string</i></p>

<p style="margin-left:17%;">Override the 4-byte vendor
<small>ID. A</small> custom vendor <small>ID</small> like
<i>apl0</i> would claim the stream was produced by the Apple
encoder.</p>

<p style="margin-left:11%;"><b>alpha_bits</b>
<i>integer</i></p>

<p style="margin-left:17%;">Specify number of bits for
alpha component. Possible values are <i>0</i>, <i>8</i> and
<i>16</i>. Use <i>0</i> to disable alpha plane coding.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Speed
considerations</i></p>

<p style="margin-left:11%; margin-top: 1em">In the default
mode of operation the encoder has to honor frame constraints
(i.e. not produce frames with size bigger than requested)
while still making output picture as good as possible. A
frame containing a lot of small details is harder to
compress and the encoder would spend more time searching for
appropriate quantizers for each slice.</p>

<p style="margin-left:11%; margin-top: 1em">Setting a
higher <b>bits_per_mb</b> limit will improve the speed.</p>

<p style="margin-left:11%; margin-top: 1em">For the fastest
encoding speed set the <b>qscale</b> parameter (4 is the
recommended value) and do not set a size constraint.</p>


<p style="margin-left:11%; margin-top: 1em"><b><small>QSV</small>
encoders</b> <br>
The family of Intel QuickSync Video encoders (
<small>MPEG-2, H.264</small> and <small>HEVC</small> )</p>

<p style="margin-left:11%; margin-top: 1em">The ratecontrol
method is selected as follows:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>When <b>global_quality</b> is specified, a quality-based
mode is used. Specifically this means either</p></td></tr>
</table>

<p style="margin-left:17%;">-</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%"></td>
<td width="5%"></td>
<td width="77%">


<p style="margin-top: 1em"><i><small>CQP</small></i> -
constant quantizer scale, when the <b>qscale</b> codec flag
is also set (the <b>-qscale</b> ffmpeg option).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p>-</p></td>
<td width="5%"></td>
<td width="77%">


<p><i><small>LA_ICQ</small></i> - intelligent constant
quality with lookahead, when the <b>look_ahead</b> option is
also set.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p>-</p></td>
<td width="5%"></td>
<td width="77%">


<p><i><small>ICQ</small></i> -- intelligent constant
quality otherwise.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="77%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Otherwise, a
bitrate-based mode is used. For all of those, you should
specify at least the desired average bitrate with the
<b>b</b> option.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p style="margin-top: 1em">-</p></td>
<td width="5%"></td>
<td width="77%">


<p style="margin-top: 1em"><i><small>LA</small></i> -
<small>VBR</small> with lookahead, when the
<b>look_ahead</b> option is specified.</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p>-</p></td>
<td width="5%"></td>
<td width="77%">


<p><i><small>VCM</small></i> - video conferencing mode,
when the <b>vcm</b> option is set.</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p>-</p></td>
<td width="5%"></td>
<td width="77%">


<p><i><small>CBR</small></i> - constant bitrate, when
<b>maxrate</b> is specified and equal to the average
bitrate.</p> </td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p>-</p></td>
<td width="5%"></td>
<td width="77%">


<p><i><small>VBR</small></i> - variable bitrate, when
<b>maxrate</b> is specified, but is higher than the average
bitrate.</p> </td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p>-</p></td>
<td width="5%"></td>
<td width="77%">


<p><i><small>AVBR</small></i> - average <small>VBR</small>
mode, when <b>maxrate</b> is not specified. This mode is
further configured by the <b>avbr_accuracy</b> and
<b>avbr_convergence</b> options.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Note that
depending on your system, a different mode than the one you
specified may be selected by the encoder. Set the verbosity
level to <i>verbose</i> or higher to see the actual settings
used by the <small>QSV</small> runtime.</p>

<p style="margin-left:11%; margin-top: 1em">Additional
libavcodec global options are mapped to <small>MSDK</small>
options as follows:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em"><b>g/gop_size</b> -&gt;
<b>GopPicSize</b></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><b>bf/max_b_frames</b>+1 -&gt; <b>GopRefDist</b></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><b>rc_init_occupancy/rc_initial_buffer_occupancy</b>
-&gt; <b>InitialDelayInKB</b></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><b>slices</b> -&gt; <b>NumSlice</b></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><b>refs</b> -&gt; <b>NumRefFrame</b></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><b>b_strategy/b_frame_strategy</b> -&gt;
<b>BRefType</b></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><b>cgop/CLOSED_GOP</b> codec flag -&gt;
<b>GopOptFlag</b></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>For the <i><small>CQP</small></i> mode, the
<b>i_qfactor/i_qoffset</b> and <b>b_qfactor/b_qoffset</b>
set the difference between <i><small>QPP</small></i> and
<i><small>QPI</small></i> , and <i><small>QPP</small></i>
and <i><small>QPB</small></i> respectively.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Setting the <b>coder</b> option to the value <i>vlc</i>
will make the H.264 encoder use <small>CAVLC</small> instead
of <small>CABAC.</small></p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>snow</b>
<i><br>
Options</i> <b><br>
iterative_dia_size</b></p>

<p style="margin-left:17%;">dia size for the iterative
motion estimation</p>


<p style="margin-left:11%; margin-top: 1em"><b><small>VAAPI</small>
encoders</b> <br>
Wrappers for hardware encoders accessible via
<small>VAAPI.</small></p>

<p style="margin-left:11%; margin-top: 1em">These encoders
only accept input in <small>VAAPI</small> hardware surfaces.
If you have input in software frames, use the
<b>hwupload</b> filter to upload them to the
<small>GPU.</small></p>

<p style="margin-left:11%; margin-top: 1em">The following
standard libavcodec options are used:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="26%">


<p><b>g</b> / <b>gop_size</b></p></td>
<td width="57%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="26%">


<p><b>bf</b> / <b>max_b_frames</b></p></td>
<td width="57%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="26%">


<p><b>profile</b></p></td>
<td width="57%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">If not set,
this will be determined automatically from the format of the
input frames and the profiles supported by the driver.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="72%">


<p style="margin-top: 1em"><b>level</b></p></td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="72%">


<p><b>b</b> / <b>bit_rate</b></p></td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="72%">


<p><b>maxrate</b> / <b>rc_max_rate</b></p></td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="72%">


<p><b>bufsize</b> / <b>rc_buffer_size</b></p></td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="72%">


<p><b>rc_init_occupancy</b> /
<b>rc_initial_buffer_occupancy</b></p> </td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="72%">


<p><b>compression_level</b></p></td>
<td width="11%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Speed / quality
tradeoff: higher values are faster / worse quality.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="28%">


<p style="margin-top: 1em"><b>q</b> /
<b>global_quality</b></p> </td>
<td width="55%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Size / quality
tradeoff: higher values are smaller / worse quality.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="40%">


<p style="margin-top: 1em"><b>qmin</b></p></td>
<td width="43%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="40%">


<p><b>qmax</b></p></td>
<td width="43%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="40%">


<p><b>i_qfactor</b> / <b>i_quant_factor</b></p></td>
<td width="43%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="40%">


<p><b>i_qoffset</b> / <b>i_quant_offset</b></p></td>
<td width="43%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="40%">


<p><b>b_qfactor</b> / <b>b_quant_factor</b></p></td>
<td width="43%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="40%">


<p><b>b_qoffset</b> / <b>b_quant_offset</b></p></td>
<td width="43%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="40%">


<p><b>slices</b></p></td>
<td width="43%">
</td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">All encoders
support the following options: <b><br>
low_power</b></p>

<p style="margin-left:17%;">Some drivers/platforms offer a
second encoder for some codecs intended to use less power
than the default encoder; setting this option will attempt
to use that encoder. Note that it may support a reduced
feature set, so some other options may not be available in
this mode.</p>

<p style="margin-left:11%;"><b>idr_interval</b></p>

<p style="margin-left:17%;">Set the number of normal intra
frames between full-refresh ( <small>IDR</small> ) frames in
open-GOP mode. The intra frames are still IRAPs, but will
not include global headers and may have non-decodable
leading pictures.</p>

<p style="margin-left:11%;"><b>b_depth</b></p>

<p style="margin-left:17%;">Set the B-frame reference
depth. When set to one (the default), all B-frames will
refer only to P- or I-frames. When set to greater values
multiple layers of B-frames will be present, frames in each
layer only referring to frames in higher layers.</p>

<p style="margin-left:11%;"><b>rc_mode</b></p>

<p style="margin-left:17%;">Set the rate control mode to
use. A given driver may only support a subset of modes.</p>

<p style="margin-left:17%; margin-top: 1em">Possible modes:
<b><br>
auto</b></p>

<p style="margin-left:23%;">Choose the mode automatically
based on driver support and the other options. This is the
default.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b><small>CQP</small></b></p></td>
<td width="1%"></td>
<td width="45%">


<p>Constant-quality.</p></td>
<td width="32%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b><small>CBR</small></b></p></td>
<td width="1%"></td>
<td width="45%">


<p>Constant-bitrate.</p></td>
<td width="32%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b><small>VBR</small></b></p></td>
<td width="1%"></td>
<td width="45%">


<p>Variable-bitrate.</p></td>
<td width="32%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b><small>ICQ</small></b></p></td>
<td width="1%"></td>
<td width="45%">


<p>Intelligent constant-quality.</p></td>
<td width="32%">
</td></tr>
</table>

<p style="margin-left:17%;"><b><small>QVBR</small></b></p>

<p style="margin-left:23%;">Quality-defined
variable-bitrate.</p>

<p style="margin-left:17%;"><b><small>AVBR</small></b></p>

<p style="margin-left:23%;">Average variable bitrate.</p>

<p style="margin-left:11%; margin-top: 1em">Each encoder
also has its own specific options: <b><br>
h264_vaapi</b></p>

<p style="margin-left:17%;"><b>profile</b> sets the value
of <i>profile_idc</i> and the <i>constraint_set*_flag</i>s.
<b>level</b> sets the value of <i>level_idc</i>. <b><br>
coder</b></p>

<p style="margin-left:23%;">Set entropy encoder (default is
<i>cabac</i>). Possible values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td>
<td width="3%">


<p><b>ac</b></p></td>
<td width="74%">
</td></tr>
</table>

<p style="margin-left:23%;"><b>cabac</b></p>

<p style="margin-left:29%;">Use <small>CABAC.</small></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td>
<td width="5%">


<p><b>vlc</b></p></td>
<td width="72%">
</td></tr>
</table>

<p style="margin-left:23%;"><b>cavlc</b></p>

<p style="margin-left:29%;">Use <small>CAVLC.</small></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>aud</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>Include access unit delimiters in the stream (not
included by default).</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>sei</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>Set <small>SEI</small> message types to include. Some
combination of the following values:</p></td></tr>
</table>

<p style="margin-left:23%;"><b>identifier</b></p>

<p style="margin-left:29%;">Include a
<i>user_data_unregistered</i> message containing information
about the encoder.</p>

<p style="margin-left:23%;"><b>timing</b></p>

<p style="margin-left:29%;">Include picture timing
parameters (<i>buffering_period</i> and <i>pic_timing</i>
messages).</p>

<p style="margin-left:23%;"><b>recovery_point</b></p>

<p style="margin-left:29%;">Include recovery points where
appropriate (<i>recovery_point</i> messages).</p>

<p style="margin-left:11%;"><b>hevc_vaapi</b></p>

<p style="margin-left:17%;"><b>profile</b> and <b>level</b>
set the values of <i>general_profile_idc</i> and
<i>general_level_idc</i> respectively.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>aud</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>Include access unit delimiters in the stream (not
included by default).</p></td></tr>
</table>

<p style="margin-left:17%;"><b>tier</b></p>

<p style="margin-left:23%;">Set <i>general_tier_flag</i>.
This may affect the level chosen for the stream if it is not
explicitly specified.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>sei</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>Set <small>SEI</small> message types to include. Some
combination of the following values:</p></td></tr>
</table>

<p style="margin-left:23%;"><b>hdr</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="29%"></td>
<td width="71%">


<p style="margin-top: 1em">Include <small>HDR</small>
metadata if the input frames have it
(<i>mastering_display_colour_volume</i> and
<i>content_light_level</i> messages).</p></td></tr>
</table>

<p style="margin-left:11%;"><b>mjpeg_vaapi</b></p>

<p style="margin-left:17%;">Only baseline
<small>DCT</small> encoding is supported. The encoder always
uses the standard quantisation and huffman tables -
<b>global_quality</b> scales the standard quantisation table
(range 1-100).</p>

<p style="margin-left:17%; margin-top: 1em">For <small>YUV,
4:2:0, 4:2:2</small> and 4:4:4 subsampling modes are
supported. <small>RGB</small> is also supported, and will
create an <small>RGB JPEG.</small> <b><br>
jfif</b></p>

<p style="margin-left:23%;">Include <small>JFIF</small>
header in each frame (not included by default).</p>

<p style="margin-left:17%;"><b>huffman</b></p>

<p style="margin-left:23%;">Include standard huffman tables
(on by default). Turning this off will save a few hundred
bytes in each output frame, but may lose compatibility with
some <small>JPEG</small> decoders which don&rsquo;t fully
handle <small>MJPEG.</small></p>

<p style="margin-left:11%;"><b>mpeg2_vaapi</b></p>

<p style="margin-left:17%;"><b>profile</b> and <b>level</b>
set the value of <i>profile_and_level_indication</i>.</p>

<p style="margin-left:11%;"><b>vp8_vaapi</b></p>

<p style="margin-left:17%;">B-frames are not supported.</p>


<p style="margin-left:17%; margin-top: 1em"><b>global_quality</b>
sets the <i>q_idx</i> used for non-key frames (range 0-127).
<b><br>
loop_filter_level <br>
loop_filter_sharpness</b></p>

<p style="margin-left:23%;">Manually set the loop filter
parameters.</p>

<p style="margin-left:11%;"><b>vp9_vaapi</b></p>

<p style="margin-left:17%;"><b>global_quality</b> sets the
<i>q_idx</i> used for P-frames (range 0-255). <b><br>
loop_filter_level <br>
loop_filter_sharpness</b></p>

<p style="margin-left:23%;">Manually set the loop filter
parameters.</p>

<p style="margin-left:17%; margin-top: 1em">B-frames are
supported, but the output stream is always in encode order
rather than display order. If B-frames are enabled, it may
be necessary to use the <b>vp9_raw_reorder</b> bitstream
filter to modify the output stream to display frames in the
correct order.</p>

<p style="margin-left:17%; margin-top: 1em">Only normal
frames are produced - the <b>vp9_superframe</b> bitstream
filter may be required to produce a stream usable with all
decoders.</p>

<p style="margin-left:11%; margin-top: 1em"><b>vc2</b>
<small><br>
SMPTE VC-2</small> (previously <small>BBC</small> Dirac
Pro). This codec was primarily aimed at professional
broadcasting but since it supports yuv420, yuv422 and yuv444
at 8 (limited range or full range), 10 or 12 bits, this
makes it suitable for other tasks which require low overhead
and low compression (like screen recording).</p>


<p style="margin-left:11%; margin-top: 1em"><i>Options</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>b</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Sets target video bitrate. Usually that&rsquo;s around
1:6 of the uncompressed video bitrate (e.g. for 1920x1080
50fps yuv422p10 that&rsquo;s around 400Mbps). Higher values
(close to the uncompressed bitrate) turn on lossless
compression mode.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>field_order</b></p>

<p style="margin-left:17%;">Enables field coding when set
(e.g. to tt - top field first) for interlaced inputs. Should
increase compression with interlaced content as it splits
the fields and encodes each separately.</p>

<p style="margin-left:11%;"><b>wavelet_depth</b></p>

<p style="margin-left:17%;">Sets the total amount of
wavelet transforms to apply, between 1 and 5 (default).
Lower values reduce compression and quality. Less capable
decoders may not be able to handle values of
<b>wavelet_depth</b> over 3.</p>

<p style="margin-left:11%;"><b>wavelet_type</b></p>

<p style="margin-left:17%;">Sets the transform type.
Currently only <i>5_3</i> (LeGall) and <i>9_7</i>
(Deslauriers-Dubuc) are implemented, with 9_7 being the one
with better compression and thus is the default.</p>

<p style="margin-left:11%;"><b>slice_width <br>
slice_height</b></p>

<p style="margin-left:17%;">Sets the slice size for each
slice. Larger values result in better compression. For
compatibility with other more limited decoders use
<b>slice_width</b> of 32 and <b>slice_height</b> of 8.</p>

<p style="margin-left:11%;"><b>tolerance</b></p>

<p style="margin-left:17%;">Sets the undershoot tolerance
of the rate control system in percent. This is to prevent an
expensive search from being run.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>qm</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Sets the quantization matrix preset to use by default or
when <b>wavelet_depth</b> is set to 5</p></td></tr>
</table>

<p style="margin-left:17%;">-</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%"></td>
<td width="5%"></td>
<td width="77%">


<p style="margin-top: 1em"><i>default</i> Uses the default
quantization matrix from the specifications, extended with
values for the fifth level. This provides a good balance
between keeping detail and omitting artifacts.</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p>-</p></td>
<td width="5%"></td>
<td width="77%">


<p><i>flat</i> Use a completely zeroed out quantization
matrix. This increases <small>PSNR</small> but might reduce
perception. Use in bogus benchmarks.</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p>-</p></td>
<td width="5%"></td>
<td width="77%">


<p><i>color</i> Reduces detail but attempts to preserve
color at extremely low bitrates.</p></td></tr>
</table>

<h2>SUBTITLES ENCODERS
<a name="SUBTITLES ENCODERS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>dvdsub</b>
<br>
This codec encodes the bitmap subtitle format that is used
in DVDs. Typically they are stored in <small>VOBSUB</small>
file pairs (*.idx + *.sub), and they can also be used in
Matroska files.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Options</i>
<b><br>
even_rows_fix</b></p>

<p style="margin-left:17%;">When set to 1, enable a
work-around that makes the number of pixel rows even in all
subtitles. This fixes a problem with some players that cut
off the bottom row if the number is odd. The work-around
just adds a fully transparent row if needed. The overhead is
low, typically one byte per subtitle on average.</p>

<p style="margin-left:17%; margin-top: 1em">By default,
this work-around is disabled.</p>

<h2>BITSTREAM FILTERS
<a name="BITSTREAM FILTERS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">When you
configure your FFmpeg build, all the supported bitstream
filters are enabled by default. You can list all available
ones using the configure option &quot;--list-bsfs&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">You can disable
all the bitstream filters using the configure option
&quot;--disable-bsfs&quot;, and selectively enable any
bitstream filter using the option
&quot;--enable-bsf=BSF&quot;, or you can disable a
particular bitstream filter using the option
&quot;--disable-bsf=BSF&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">The option
&quot;-bsfs&quot; of the ff* tools will display the list of
all the supported bitstream filters included in your
build.</p>

<p style="margin-left:11%; margin-top: 1em">The ff* tools
have a -bsf option applied per stream, taking a
comma-separated list of filters, whose parameters follow the
filter name after a &rsquo;=&rsquo;.</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i INPUT
-c:v copy -bsf:v filter1[=opt1=str1:opt2=str2][,filter2]
OUTPUT</p>

<p style="margin-left:11%; margin-top: 1em">Below is a
description of the currently available bitstream filters,
with their parameters, if any.</p>


<p style="margin-left:11%; margin-top: 1em"><b>aac_adtstoasc</b>
<br>
Convert <small>MPEG-2/4 AAC ADTS</small> to an
<small>MPEG-4</small> Audio Specific Configuration
bitstream.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
creates an <small>MPEG-4</small> AudioSpecificConfig from an
<small>MPEG-2/4 ADTS</small> header and removes the
<small>ADTS</small> header.</p>

<p style="margin-left:11%; margin-top: 1em">This filter is
required for example when copying an <small>AAC</small>
stream from a raw <small>ADTS AAC</small> or an MPEG-TS
container to <small>MP4A-LATM,</small> to an
<small>FLV</small> file, or to <small>MOV/MP4</small> files
and related formats such as 3GP or M4A. Please note that it
is auto-inserted for <small>MP4A-LATM</small> and
<small>MOV/MP4</small> and related formats.</p>


<p style="margin-left:11%; margin-top: 1em"><b>av1_metadata</b>
<br>
Modify metadata embedded in an <small>AV1</small>
stream.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>td</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Insert or remove temporal delimiter OBUs in all temporal
units of the stream.</p></td></tr>
</table>

<p style="margin-left:17%;"><b>insert</b></p>

<p style="margin-left:23%;">Insert a <small>TD</small> at
the beginning of every <small>TU</small> which does not
already have one.</p>

<p style="margin-left:17%;"><b>remove</b></p>

<p style="margin-left:23%;">Remove the <small>TD</small>
from the beginning of every <small>TU</small> which has
one.</p>

<p style="margin-left:11%;"><b>color_primaries <br>
transfer_characteristics <br>
matrix_coefficients</b></p>

<p style="margin-left:17%;">Set the color description
fields in the stream (see <small>AV1</small> section
6.4.2).</p>

<p style="margin-left:11%;"><b>color_range</b></p>

<p style="margin-left:17%;">Set the color range in the
stream (see <small>AV1</small> section 6.4.2; note that this
cannot be set for streams using <small>BT.709</small>
primaries, sRGB transfer characteristic and identity (
<small>RGB</small> ) matrix coefficients).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>tv</b></p></td>
<td width="3%"></td>
<td width="22%">


<p>Limited range.</p></td>
<td width="55%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>pc</b></p></td>
<td width="3%"></td>
<td width="22%">


<p>Full range.</p></td>
<td width="55%">
</td></tr>
</table>


<p style="margin-left:11%;"><b>chroma_sample_position</b></p>

<p style="margin-left:17%;">Set the chroma sample location
in the stream (see <small>AV1</small> section 6.4.2). This
can only be set for 4:2:0 streams. <b><br>
vertical</b></p>

<p style="margin-left:23%;">Left position (matching the
default in <small>MPEG-2</small> and H.264).</p>

<p style="margin-left:17%;"><b>colocated</b></p>

<p style="margin-left:23%;">Top-left position.</p>

<p style="margin-left:11%;"><b>tick_rate</b></p>

<p style="margin-left:17%;">Set the tick rate
(<i>num_units_in_display_tick / time_scale</i>) in the
timing info in the sequence header.</p>


<p style="margin-left:11%;"><b>num_ticks_per_picture</b></p>

<p style="margin-left:17%;">Set the number of ticks in each
picture, to indicate that the stream has a fixed framerate.
Ignored if <b>tick_rate</b> is not also set.</p>

<p style="margin-left:11%;"><b>delete_padding</b></p>

<p style="margin-left:17%;">Deletes Padding OBUs.</p>

<p style="margin-left:11%; margin-top: 1em"><b>chomp</b>
<br>
Remove zero padding at the end of a packet.</p>


<p style="margin-left:11%; margin-top: 1em"><b>dca_core</b>
<br>
Extract the core from a <small>DCA/DTS</small> stream,
dropping extensions such as DTS-HD.</p>


<p style="margin-left:11%; margin-top: 1em"><b>dump_extra</b>
<br>
Add extradata to the beginning of the filtered packets
except when said packets already exactly begin with the
extradata that is intended to be added. <b><br>
freq</b></p>

<p style="margin-left:17%;">The additional argument
specifies which packets should be filtered. It accepts the
values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>k</b></p></td>
<td width="82%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>keyframe</b></p>

<p style="margin-left:23%;">add extradata to all key
packets</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>e</b></p></td>
<td width="1%"></td>
<td width="43%">
</td>
<td width="34%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>all</b></p></td>
<td width="1%"></td>
<td width="43%">


<p>add extradata to all packets</p></td>
<td width="34%">
</td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">If not
specified it is assumed <b>k</b>.</p>

<p style="margin-left:11%; margin-top: 1em">For example the
following <b>ffmpeg</b> command forces a global header (thus
disabling individual packet headers) in the H.264 packets
generated by the &quot;libx264&quot; encoder, but corrects
them by adding the header stored in extradata to the key
packets:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i INPUT
-map 0 -flags:v +global_header -c:v libx264 -bsf:v
dump_extra out.ts</p>


<p style="margin-left:11%; margin-top: 1em"><b>eac3_core</b>
<br>
Extract the core from a E-AC-3 stream, dropping extra
channels.</p>


<p style="margin-left:11%; margin-top: 1em"><b>extract_extradata</b>
<br>
Extract the in-band extradata.</p>

<p style="margin-left:11%; margin-top: 1em">Certain codecs
allow the long-term headers (e.g. <small>MPEG-2</small>
sequence headers, or H.264/HEVC ( <small>VPS/</small>
)SPS/PPS) to be transmitted either &quot;in-band&quot; (i.e.
as a part of the bitstream containing the coded frames) or
&quot;out of band&quot; (e.g. on the container level). This
latter form is called &quot;extradata&quot; in FFmpeg
terminology.</p>

<p style="margin-left:11%; margin-top: 1em">This bitstream
filter detects the in-band headers and makes them available
as extradata. <b><br>
remove</b></p>

<p style="margin-left:17%;">When this option is enabled,
the long-term headers are removed from the bitstream after
extraction.</p>


<p style="margin-left:11%; margin-top: 1em"><b>filter_units</b>
<br>
Remove units with types in or not in a given set from the
stream. <b><br>
pass_types</b></p>

<p style="margin-left:17%;">List of unit types or ranges of
unit types to pass through while removing all others. This
is specified as a &rsquo;|&rsquo;-separated list of unit
type values or ranges of values with &rsquo;-&rsquo;.</p>

<p style="margin-left:11%;"><b>remove_types</b></p>

<p style="margin-left:17%;">Identical to <b>pass_types</b>,
except the units in the given set removed and all others
passed through.</p>

<p style="margin-left:11%; margin-top: 1em">Extradata is
unchanged by this transformation, but note that if the
stream contains inline parameter sets then the output may be
unusable if they are removed.</p>

<p style="margin-left:11%; margin-top: 1em">For example, to
remove all non-VCL <small>NAL</small> units from an H.264
stream:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i INPUT
-c:v copy -bsf:v 'filter_units=pass_types=1-5' OUTPUT</p>

<p style="margin-left:11%; margin-top: 1em">To remove all
AUDs, <small>SEI</small> and filler from an H.265
stream:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i INPUT
-c:v copy -bsf:v 'filter_units=remove_types=35|38-40'
OUTPUT</p>


<p style="margin-left:11%; margin-top: 1em"><b>hapqa_extract</b>
<br>
Extract Rgb or Alpha part of an <small>HAPQA</small> file,
without recompression, in order to create an
<small>HAPQ</small> or an HAPAlphaOnly file. <b><br>
texture</b></p>

<p style="margin-left:17%;">Specifies the texture to keep.
<b><br>
color <br>
alpha</b></p>

<p style="margin-left:11%; margin-top: 1em">Convert
<small>HAPQA</small> to <small>HAPQ</small></p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i
hapqa_inputfile.mov -c copy -bsf:v
hapqa_extract=texture=color -tag:v HapY -metadata:s:v:0
encoder=&quot;HAPQ&quot; hapq_file.mov</p>

<p style="margin-left:11%; margin-top: 1em">Convert
<small>HAPQA</small> to HAPAlphaOnly</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i
hapqa_inputfile.mov -c copy -bsf:v
hapqa_extract=texture=alpha -tag:v HapA -metadata:s:v:0
encoder=&quot;HAPAlpha Only&quot; hapalphaonly_file.mov</p>


<p style="margin-left:11%; margin-top: 1em"><b>h264_metadata</b>
<br>
Modify metadata embedded in an H.264 stream.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>aud</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Insert or remove <small>AUD NAL</small> units in all
access units of the stream.</p></td></tr>
</table>

<p style="margin-left:17%;"><b>insert <br>
remove</b></p>

<p style="margin-left:11%;"><b>sample_aspect_ratio</b></p>

<p style="margin-left:17%;">Set the sample aspect ratio of
the stream in the <small>VUI</small> parameters.</p>

<p style="margin-left:11%;"><b>video_format <br>
video_full_range_flag</b></p>

<p style="margin-left:17%;">Set the video format in the
stream (see H.264 section E.2.1 and table E-2).</p>

<p style="margin-left:11%;"><b>colour_primaries <br>
transfer_characteristics <br>
matrix_coefficients</b></p>

<p style="margin-left:17%;">Set the colour description in
the stream (see H.264 section E.2.1 and tables E-3, E-4 and
E-5).</p>


<p style="margin-left:11%;"><b>chroma_sample_loc_type</b></p>

<p style="margin-left:17%;">Set the chroma sample location
in the stream (see H.264 section E.2.1 and figure E-1).</p>

<p style="margin-left:11%;"><b>tick_rate</b></p>

<p style="margin-left:17%;">Set the tick rate
(num_units_in_tick / time_scale) in the <small>VUI</small>
parameters. This is the smallest time unit representable in
the stream, and in many cases represents the field rate of
the stream (double the frame rate).</p>


<p style="margin-left:11%;"><b>fixed_frame_rate_flag</b></p>

<p style="margin-left:17%;">Set whether the stream has
fixed framerate - typically this indicates that the
framerate is exactly half the tick rate, but the exact
meaning is dependent on interlacing and the picture
structure (see H.264 section E.2.1 and table E-6).</p>

<p style="margin-left:11%;"><b>crop_left <br>
crop_right <br>
crop_top <br>
crop_bottom</b></p>

<p style="margin-left:17%;">Set the frame cropping offsets
in the <small>SPS.</small> These values will replace the
current ones if the stream is already cropped.</p>

<p style="margin-left:17%; margin-top: 1em">These fields
are set in pixels. Note that some sizes may not be
representable if the chroma is subsampled or the stream is
interlaced (see H.264 section 7.4.2.1.1).</p>

<p style="margin-left:11%;"><b>sei_user_data</b></p>

<p style="margin-left:17%;">Insert a string as
<small>SEI</small> unregistered user data. The argument must
be of the form <i>UUID+string</i>, where the
<small>UUID</small> is as hex digits possibly separated by
hyphens, and the string can be anything.</p>

<p style="margin-left:17%; margin-top: 1em">For example,
<b>086f3693-b7b3-4f2c-9653-21492feee5b8+hello</b> will
insert the string &rsquo;&rsquo;hello&rsquo;&rsquo;
associated with the given <small>UUID.</small></p>

<p style="margin-left:11%;"><b>delete_filler</b></p>

<p style="margin-left:17%;">Deletes both filler
<small>NAL</small> units and filler <small>SEI</small>
messages.</p>

<p style="margin-left:11%;"><b>level</b></p>

<p style="margin-left:17%;">Set the level in the
<small>SPS.</small> Refer to H.264 section A.3 and tables
A-1 to A-5.</p>

<p style="margin-left:17%; margin-top: 1em">The argument
must be the name of a level (for example, <b>4.2</b>), a
level_idc value (for example, <b>42</b>), or the special
name <b>auto</b> indicating that the filter should attempt
to guess the level from the input stream properties.</p>


<p style="margin-left:11%; margin-top: 1em"><b>h264_mp4toannexb</b>
<br>
Convert an H.264 bitstream from length prefixed mode to
start code prefixed mode (as defined in the Annex B of the
ITU-T H.264 specification).</p>

<p style="margin-left:11%; margin-top: 1em">This is
required by some streaming formats, typically the
<small>MPEG-2</small> transport stream format (muxer
&quot;mpegts&quot;).</p>

<p style="margin-left:11%; margin-top: 1em">For example to
remux an <small>MP4</small> file containing an H.264 stream
to mpegts format with <b>ffmpeg</b>, you can use the
command:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i
INPUT.mp4 -codec copy -bsf:v h264_mp4toannexb OUTPUT.ts</p>

<p style="margin-left:11%; margin-top: 1em">Please note
that this filter is auto-inserted for MPEG-TS (muxer
&quot;mpegts&quot;) and raw H.264 (muxer &quot;h264&quot;)
output formats.</p>


<p style="margin-left:11%; margin-top: 1em"><b>h264_redundant_pps</b>
<br>
This applies a specific fixup to some Blu-ray streams which
contain redundant PPSs modifying irrelevant parameters of
the stream which confuse other transformations which require
correct extradata.</p>

<p style="margin-left:11%; margin-top: 1em">A new single
global <small>PPS</small> is created, and all of the
redundant PPSs within the stream are removed.</p>


<p style="margin-left:11%; margin-top: 1em"><b>hevc_metadata</b>
<br>
Modify metadata embedded in an <small>HEVC</small>
stream.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>aud</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Insert or remove <small>AUD NAL</small> units in all
access units of the stream.</p></td></tr>
</table>

<p style="margin-left:17%;"><b>insert <br>
remove</b></p>

<p style="margin-left:11%;"><b>sample_aspect_ratio</b></p>

<p style="margin-left:17%;">Set the sample aspect ratio in
the stream in the <small>VUI</small> parameters.</p>

<p style="margin-left:11%;"><b>video_format <br>
video_full_range_flag</b></p>

<p style="margin-left:17%;">Set the video format in the
stream (see H.265 section E.3.1 and table E.2).</p>

<p style="margin-left:11%;"><b>colour_primaries <br>
transfer_characteristics <br>
matrix_coefficients</b></p>

<p style="margin-left:17%;">Set the colour description in
the stream (see H.265 section E.3.1 and tables E.3, E.4 and
E.5).</p>


<p style="margin-left:11%;"><b>chroma_sample_loc_type</b></p>

<p style="margin-left:17%;">Set the chroma sample location
in the stream (see H.265 section E.3.1 and figure E.1).</p>

<p style="margin-left:11%;"><b>tick_rate</b></p>

<p style="margin-left:17%;">Set the tick rate in the
<small>VPS</small> and <small>VUI</small> parameters
(num_units_in_tick / time_scale). Combined with
<b>num_ticks_poc_diff_one</b>, this can set a constant
framerate in the stream. Note that it is likely to be
overridden by container parameters when the stream is in a
container.</p>


<p style="margin-left:11%;"><b>num_ticks_poc_diff_one</b></p>

<p style="margin-left:17%;">Set
poc_proportional_to_timing_flag in <small>VPS</small> and
<small>VUI</small> and use this value to set
num_ticks_poc_diff_one_minus1 (see H.265 sections 7.4.3.1
and E.3.1). Ignored if <b>tick_rate</b> is not also set.</p>

<p style="margin-left:11%;"><b>crop_left <br>
crop_right <br>
crop_top <br>
crop_bottom</b></p>

<p style="margin-left:17%;">Set the conformance window
cropping offsets in the <small>SPS.</small> These values
will replace the current ones if the stream is already
cropped.</p>

<p style="margin-left:17%; margin-top: 1em">These fields
are set in pixels. Note that some sizes may not be
representable if the chroma is subsampled (H.265 section
7.4.3.2.1).</p>

<p style="margin-left:11%;"><b>level</b></p>

<p style="margin-left:17%;">Set the level in the
<small>VPS</small> and <small>SPS.</small> See H.265 section
A.4 and tables A.6 and A.7.</p>

<p style="margin-left:17%; margin-top: 1em">The argument
must be the name of a level (for example, <b>5.1</b>), a
<i>general_level_idc</i> value (for example, <b>153</b> for
level 5.1), or the special name <b>auto</b> indicating that
the filter should attempt to guess the level from the input
stream properties.</p>


<p style="margin-left:11%; margin-top: 1em"><b>hevc_mp4toannexb</b>
<br>
Convert an <small>HEVC/H.265</small> bitstream from length
prefixed mode to start code prefixed mode (as defined in the
Annex B of the ITU-T H.265 specification).</p>

<p style="margin-left:11%; margin-top: 1em">This is
required by some streaming formats, typically the
<small>MPEG-2</small> transport stream format (muxer
&quot;mpegts&quot;).</p>

<p style="margin-left:11%; margin-top: 1em">For example to
remux an <small>MP4</small> file containing an
<small>HEVC</small> stream to mpegts format with
<b>ffmpeg</b>, you can use the command:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i
INPUT.mp4 -codec copy -bsf:v hevc_mp4toannexb OUTPUT.ts</p>

<p style="margin-left:11%; margin-top: 1em">Please note
that this filter is auto-inserted for MPEG-TS (muxer
&quot;mpegts&quot;) and raw <small>HEVC/H.265</small> (muxer
&quot;h265&quot; or &quot;hevc&quot;) output formats.</p>

<p style="margin-left:11%; margin-top: 1em"><b>imxdump</b>
<br>
Modifies the bitstream to fit in <small>MOV</small> and to
be usable by the Final Cut Pro decoder. This filter only
applies to the mpeg2video codec, and is likely not needed
for Final Cut Pro 7 and newer with the appropriate
<b>-tag:v</b>.</p>

<p style="margin-left:11%; margin-top: 1em">For example, to
remux 30 MB/sec <small>NTSC IMX</small> to
<small>MOV:</small></p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i
input.mxf -c copy -bsf:v imxdump -tag:v mx3n output.mov</p>


<p style="margin-left:11%; margin-top: 1em"><b>mjpeg2jpeg</b>
<br>
Convert <small>MJPEG/AVI1</small> packets to full
<small>JPEG/JFIF</small> packets.</p>


<p style="margin-left:11%; margin-top: 1em"><small>MJPEG</small>
is a video codec wherein each video frame is essentially a
<small>JPEG</small> image. The individual frames can be
extracted without loss, e.g. by</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i
../some_mjpeg.avi -c:v copy frames_%d.jpg</p>

<p style="margin-left:11%; margin-top: 1em">Unfortunately,
these chunks are incomplete <small>JPEG</small> images,
because they lack the <small>DHT</small> segment required
for decoding. Quoting from
&lt;<b>http://www.digitalpreservation.gov/formats/fdd/fdd000063.shtml</b>&gt;:</p>

<p style="margin-left:11%; margin-top: 1em">Avery Lee,
writing in the rec.video.desktop newsgroup in 2001,
commented that &quot; <small>MJPEG,</small> or at least the
<small>MJPEG</small> in AVIs having the <small>MJPG</small>
fourcc, is restricted <small>JPEG</small> with a fixed --
and *omitted* -- Huffman table. The <small>JPEG</small> must
be YCbCr colorspace, it must be 4:2:2, and it must use basic
Huffman encoding, not arithmetic or progressive. . . . You
can indeed extract the <small>MJPEG</small> frames and
decode them with a regular <small>JPEG</small> decoder, but
you have to prepend the <small>DHT</small> segment to them,
or else the decoder won&rsquo;t have any idea how to
decompress the data. The exact table necessary is given in
the OpenDML spec.&quot;</p>

<p style="margin-left:11%; margin-top: 1em">This bitstream
filter patches the header of frames extracted from an
<small>MJPEG</small> stream (carrying the
<small>AVI1</small> header <small>ID</small> and lacking a
<small>DHT</small> segment) to produce fully qualified
<small>JPEG</small> images.</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i
mjpeg-movie.avi -c:v copy -bsf:v mjpeg2jpeg frame_%d.jpg
<br>
exiftran -i -9 frame*.jpg <br>
ffmpeg -i frame_%d.jpg -c:v copy rotated.avi</p>


<p style="margin-left:11%; margin-top: 1em"><b>mjpegadump</b>
<br>
Add an <small>MJPEG A</small> header to the bitstream, to
enable decoding by Quicktime.</p>


<p style="margin-left:11%; margin-top: 1em"><b>mov2textsub</b>
<br>
Extract a representable text file from <small>MOV</small>
subtitles, stripping the metadata header from each subtitle
packet.</p>

<p style="margin-left:11%; margin-top: 1em">See also the
<b>text2movsub</b> filter.</p>


<p style="margin-left:11%; margin-top: 1em"><b>mp3decomp</b>
<br>
Decompress non-standard compressed <small>MP3</small> audio
headers.</p>


<p style="margin-left:11%; margin-top: 1em"><b>mpeg2_metadata</b>
<br>
Modify metadata embedded in an <small>MPEG-2</small> stream.
<b><br>
display_aspect_ratio</b></p>

<p style="margin-left:17%;">Set the display aspect ratio in
the stream.</p>

<p style="margin-left:17%; margin-top: 1em">The following
fixed values are supported:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>4/3</b></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>16/9 <br>
221/100</b></p>

<p style="margin-left:17%; margin-top: 1em">Any other value
will result in square pixels being signalled instead (see
H.262 section 6.3.3 and table 6-3).</p>

<p style="margin-left:11%;"><b>frame_rate</b></p>

<p style="margin-left:17%;">Set the frame rate in the
stream. This is constructed from a table of known values
combined with a small multiplier and divisor - if the
supplied value is not exactly representable, the nearest
representable value will be used instead (see H.262 section
6.3.3 and table 6-4).</p>

<p style="margin-left:11%;"><b>video_format</b></p>

<p style="margin-left:17%;">Set the video format in the
stream (see H.262 section 6.3.6 and table 6-6).</p>

<p style="margin-left:11%;"><b>colour_primaries <br>
transfer_characteristics <br>
matrix_coefficients</b></p>

<p style="margin-left:17%;">Set the colour description in
the stream (see H.262 section 6.3.6 and tables 6-7, 6-8 and
6-9).</p>


<p style="margin-left:11%; margin-top: 1em"><b>mpeg4_unpack_bframes</b>
<br>
Unpack DivX-style packed B-frames.</p>

<p style="margin-left:11%; margin-top: 1em">DivX-style
packed B-frames are not valid <small>MPEG-4</small> and were
only a workaround for the broken Video for Windows
subsystem. They use more space, can cause minor
<small>AV</small> sync issues, require more
<small>CPU</small> power to decode (unless the player has
some decoded picture queue to compensate the 2,0,2,0 frame
per packet style) and cause trouble if copied into a
standard container like mp4 or mpeg-ps/ts, because
<small>MPEG-4</small> decoders may not be able to decode
them, since they are not valid <small>MPEG-4.</small></p>

<p style="margin-left:11%; margin-top: 1em">For example to
fix an <small>AVI</small> file containing an
<small>MPEG-4</small> stream with DivX-style packed B-frames
using <b>ffmpeg</b>, you can use the command:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i
INPUT.avi -codec copy -bsf:v mpeg4_unpack_bframes
OUTPUT.avi</p>

<p style="margin-left:11%; margin-top: 1em"><b>noise</b>
<br>
Damages the contents of packets or simply drops them without
damaging the container. Can be used for fuzzing or testing
error resilience/concealment.</p>

<p style="margin-left:11%; margin-top: 1em">Parameters:
<b><br>
amount</b></p>

<p style="margin-left:17%;">A numeral string, whose value
is related to how often output bytes will be modified.
Therefore, values below or equal to 0 are forbidden, and the
lower the more frequent bytes will be modified, with 1
meaning every byte is modified.</p>

<p style="margin-left:11%;"><b>dropamount</b></p>

<p style="margin-left:17%;">A numeral string, whose value
is related to how often packets will be dropped. Therefore,
values below or equal to 0 are forbidden, and the lower the
more frequent packets will be dropped, with 1 meaning every
packet is dropped.</p>

<p style="margin-left:11%; margin-top: 1em">The following
example applies the modification to every byte but does not
drop any packets.</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i INPUT
-c copy -bsf noise[=1] output.mkv</p>

<p style="margin-left:11%; margin-top: 1em"><b>null</b>
<br>
This bitstream filter passes the packets through
unchanged.</p>


<p style="margin-left:11%; margin-top: 1em"><b>prores_metadata</b>
<br>
Modify color property metadata embedded in prores stream.
<b><br>
color_primaries</b></p>

<p style="margin-left:17%;">Set the color primaries.
Available values are: <b><br>
auto</b></p>

<p style="margin-left:23%;">Keep the same color primaries
property (default).</p>

<p style="margin-left:17%;"><b>unknown <br>
bt709 <br>
bt470bg</b></p>

<p style="margin-left:23%;"><small>BT601 625</small></p>

<p style="margin-left:17%;"><b>smpte170m</b></p>

<p style="margin-left:23%;"><small>BT601 525</small></p>

<p style="margin-left:17%;"><b>bt2020 <br>
smpte431</b></p>

<p style="margin-left:23%;"><small>DCI P3</small></p>

<p style="margin-left:17%;"><b>smpte432</b></p>

<p style="margin-left:23%;">P3 D65</p>


<p style="margin-left:11%;"><b>transfer_characteristics</b></p>

<p style="margin-left:17%;">Set the color transfer.
Available values are: <b><br>
auto</b></p>

<p style="margin-left:23%;">Keep the same transfer
characteristics property (default).</p>

<p style="margin-left:17%;"><b>unknown <br>
bt709</b></p>

<p style="margin-left:23%;"><small>BT 601, BT 709, BT
2020</small></p>

<p style="margin-left:11%;"><b>matrix_coefficients</b></p>

<p style="margin-left:17%;">Set the matrix coefficient.
Available values are: <b><br>
auto</b></p>

<p style="margin-left:23%;">Keep the same transfer
characteristics property (default).</p>

<p style="margin-left:17%;"><b>unknown <br>
bt709 <br>
smpte170m</b></p>

<p style="margin-left:23%;"><small>BT 601</small></p>

<p style="margin-left:17%;"><b>bt2020nc</b></p>

<p style="margin-left:11%; margin-top: 1em">Set Rec709
colorspace for each frame of the file</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i INPUT
-c copy -bsf:v
prores_metadata=color_primaries=bt709:color_trc=bt709:colorspace=bt709
output.mov</p>


<p style="margin-left:11%; margin-top: 1em"><b>remove_extra</b>
<br>
Remove extradata from packets.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameter: <b><br>
freq</b></p>

<p style="margin-left:17%;">Set which frame types to remove
extradata from.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>k</b></p></td>
<td width="5%"></td>
<td width="63%">


<p>Remove extradata from non-keyframes only.</p></td>
<td width="14%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>keyframe</b></p>

<p style="margin-left:23%;">Remove extradata from keyframes
only.</p>

<p style="margin-left:17%;"><b>e, all</b></p>

<p style="margin-left:23%;">Remove extradata from all
frames.</p>


<p style="margin-left:11%; margin-top: 1em"><b>text2movsub</b>
<br>
Convert text subtitles to <small>MOV</small> subtitles (as
used by the &quot;mov_text&quot; codec) with metadata
headers.</p>

<p style="margin-left:11%; margin-top: 1em">See also the
<b>mov2textsub</b> filter.</p>


<p style="margin-left:11%; margin-top: 1em"><b>trace_headers</b>
<br>
Log trace output containing all syntax elements in the coded
stream headers (everything above the level of individual
coded blocks). This can be useful for debugging low-level
stream issues.</p>

<p style="margin-left:11%; margin-top: 1em">Supports
<small>AV1, H.264, H.265,</small> (M)JPEG,
<small>MPEG-2</small> and <small>VP9,</small> but depending
on the build only a subset of these may be available.</p>


<p style="margin-left:11%; margin-top: 1em"><b>truehd_core</b>
<br>
Extract the core from a TrueHD stream, dropping
<small>ATMOS</small> data.</p>


<p style="margin-left:11%; margin-top: 1em"><b>vp9_metadata</b>
<br>
Modify metadata embedded in a <small>VP9</small> stream.
<b><br>
color_space</b></p>

<p style="margin-left:17%;">Set the color space value in
the frame header. <b><br>
unknown <br>
bt601 <br>
bt709 <br>
smpte170 <br>
smpte240 <br>
bt2020</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>rgb</b></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>color_range</b></p>

<p style="margin-left:17%;">Set the color range value in
the frame header. Note that this cannot be set in
<small>RGB</small> streams.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>tv</b></p></td>
<td width="80%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>pc</b></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>vp9_superframe</b> <br>
Merge <small>VP9</small> invisible (alt-ref) frames back
into <small>VP9</small> superframes. This fixes merging of
split/segmented <small>VP9</small> streams where the alt-ref
frame was split from its visible counterpart.</p>


<p style="margin-left:11%; margin-top: 1em"><b>vp9_superframe_split</b>
<br>
Split <small>VP9</small> superframes into single frames.</p>


<p style="margin-left:11%; margin-top: 1em"><b>vp9_raw_reorder</b>
<br>
Given a <small>VP9</small> stream with correct timestamps
but possibly out of order, insert additional
show-existing-frame packets to correct the ordering.</p>

<h2>FORMAT OPTIONS
<a name="FORMAT OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The libavformat
library provides some generic global options, which can be
set on all the muxers and demuxers. In addition each muxer
or demuxer may support so-called private options, which are
specific for that component.</p>

<p style="margin-left:11%; margin-top: 1em">Options may be
set by specifying -<i>option value</i> in the FFmpeg tools,
or by setting the value explicitly in the
&quot;AVFormatContext&quot; options or using the
<i>libavutil/opt.h</i> <small>API</small> for programmatic
use.</p>

<p style="margin-left:11%; margin-top: 1em">The list of
supported options follows: <b><br>
avioflags</b> <i>flags</i>
<b>(</b><i>input/output</i><b>)</b></p>

<p style="margin-left:17%;">Possible values: <b><br>
direct</b></p>

<p style="margin-left:23%;">Reduce buffering.</p>

<p style="margin-left:11%;"><b>probesize</b> <i>integer</i>
<b>(</b><i>input</i><b>)</b></p>

<p style="margin-left:17%;">Set probing size in bytes, i.e.
the size of the data to analyze to get stream information. A
higher value will enable detecting more information in case
it is dispersed into the stream, but will increase latency.
Must be an integer not lesser than 32. It is 5000000 by
default.</p>

<p style="margin-left:11%;"><b>packetsize</b>
<i>integer</i> <b>(</b><i>output</i><b>)</b></p>

<p style="margin-left:17%;">Set packet size.</p>

<p style="margin-left:11%;"><b>fflags</b> <i>flags</i></p>

<p style="margin-left:17%;">Set format flags. Some are
implemented for a limited number of formats.</p>

<p style="margin-left:17%; margin-top: 1em">Possible values
for input files: <b><br>
discardcorrupt</b></p>

<p style="margin-left:23%;">Discard corrupted packets.</p>

<p style="margin-left:17%;"><b>fastseek</b></p>

<p style="margin-left:23%;">Enable fast, but inaccurate
seeks for some formats.</p>

<p style="margin-left:17%;"><b>genpts</b></p>

<p style="margin-left:23%;">Generate missing
<small>PTS</small> if <small>DTS</small> is present.</p>

<p style="margin-left:17%;"><b>igndts</b></p>

<p style="margin-left:23%;">Ignore <small>DTS</small> if
<small>PTS</small> is set. Inert when nofillin is set.</p>

<p style="margin-left:17%;"><b>ignidx</b></p>

<p style="margin-left:23%;">Ignore index.</p>

<p style="margin-left:17%;"><b>keepside
(</b><i>deprecated</i><b>,</b><i>inert</i><b>) <br>
nobuffer</b></p>

<p style="margin-left:23%;">Reduce the latency introduced
by buffering during initial input streams analysis.</p>

<p style="margin-left:17%;"><b>nofillin</b></p>

<p style="margin-left:23%;">Do not fill in missing values
in packet fields that can be exactly calculated.</p>

<p style="margin-left:17%;"><b>noparse</b></p>

<p style="margin-left:23%;">Disable AVParsers, this needs
&quot;+nofillin&quot; too.</p>

<p style="margin-left:17%;"><b>sortdts</b></p>

<p style="margin-left:23%;">Try to interleave output
packets by <small>DTS.</small> At present, available only
for AVIs with an index.</p>

<p style="margin-left:17%; margin-top: 1em">Possible values
for output files: <b><br>
autobsf</b></p>

<p style="margin-left:23%;">Automatically apply bitstream
filters as required by the output format. Enabled by
default.</p>

<p style="margin-left:17%;"><b>bitexact</b></p>

<p style="margin-left:23%;">Only write platform-, build-
and time-independent data. This ensures that file and data
checksums are reproducible and match between platforms. Its
primary use is for regression testing.</p>

<p style="margin-left:17%;"><b>flush_packets</b></p>

<p style="margin-left:23%;">Write out packets
immediately.</p>

<p style="margin-left:17%;"><b>latm
(</b><i>deprecated</i><b>,</b><i>inert</i><b>) <br>
shortest</b></p>

<p style="margin-left:23%;">Stop muxing at the end of the
shortest stream. It may be needed to increase
max_interleave_delta to avoid flushing the longer streams
before <small>EOF.</small></p>

<p style="margin-left:11%;"><b>seek2any</b> <i>integer</i>
<b>(</b><i>input</i><b>)</b></p>

<p style="margin-left:17%;">Allow seeking to non-keyframes
on demuxer level when supported if set to 1. Default is
0.</p>

<p style="margin-left:11%;"><b>analyzeduration</b>
<i>integer</i> <b>(</b><i>input</i><b>)</b></p>

<p style="margin-left:17%;">Specify how many microseconds
are analyzed to probe the input. A higher value will enable
detecting more accurate information, but will increase
latency. It defaults to 5,000,000 microseconds = 5
seconds.</p>

<p style="margin-left:11%;"><b>cryptokey</b> <i>hexadecimal
string</i> <b>(</b><i>input</i><b>)</b></p>

<p style="margin-left:17%;">Set decryption key.</p>

<p style="margin-left:11%;"><b>indexmem</b> <i>integer</i>
<b>(</b><i>input</i><b>)</b></p>

<p style="margin-left:17%;">Set max memory used for
timestamp index (per stream).</p>

<p style="margin-left:11%;"><b>rtbufsize</b> <i>integer</i>
<b>(</b><i>input</i><b>)</b></p>

<p style="margin-left:17%;">Set max memory used for
buffering real-time frames.</p>

<p style="margin-left:11%;"><b>fdebug</b> <i>flags</i>
<b>(</b><i>input/output</i><b>)</b></p>

<p style="margin-left:17%;">Print specific debug info.</p>

<p style="margin-left:17%; margin-top: 1em">Possible
values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>ts</b></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>max_delay</b> <i>integer</i>
<b>(</b><i>input/output</i><b>)</b></p>

<p style="margin-left:17%;">Set maximum muxing or demuxing
delay in microseconds.</p>

<p style="margin-left:11%;"><b>fpsprobesize</b>
<i>integer</i> <b>(</b><i>input</i><b>)</b></p>

<p style="margin-left:17%;">Set number of frames used to
probe fps.</p>

<p style="margin-left:11%;"><b>audio_preload</b>
<i>integer</i> <b>(</b><i>output</i><b>)</b></p>

<p style="margin-left:17%;">Set microseconds by which audio
packets should be interleaved earlier.</p>

<p style="margin-left:11%;"><b>chunk_duration</b>
<i>integer</i> <b>(</b><i>output</i><b>)</b></p>

<p style="margin-left:17%;">Set microseconds for each
chunk.</p>

<p style="margin-left:11%;"><b>chunk_size</b>
<i>integer</i> <b>(</b><i>output</i><b>)</b></p>

<p style="margin-left:17%;">Set size in bytes for each
chunk.</p>

<p style="margin-left:11%;"><b>err_detect, f_err_detect</b>
<i>flags</i> <b>(</b><i>input</i><b>)</b></p>

<p style="margin-left:17%;">Set error detection flags.
&quot;f_err_detect&quot; is deprecated and should be used
only via the <b>ffmpeg</b> tool.</p>

<p style="margin-left:17%; margin-top: 1em">Possible
values: <b><br>
crccheck</b></p>

<p style="margin-left:23%;">Verify embedded CRCs.</p>

<p style="margin-left:17%;"><b>bitstream</b></p>

<p style="margin-left:23%;">Detect bitstream specification
deviations.</p>

<p style="margin-left:17%;"><b>buffer</b></p>

<p style="margin-left:23%;">Detect improper bitstream
length.</p>

<p style="margin-left:17%;"><b>explode</b></p>

<p style="margin-left:23%;">Abort decoding on minor error
detection.</p>

<p style="margin-left:17%;"><b>careful</b></p>

<p style="margin-left:23%;">Consider things that violate
the spec and have not been seen in the wild as errors.</p>

<p style="margin-left:17%;"><b>compliant</b></p>

<p style="margin-left:23%;">Consider all spec non
compliancies as errors.</p>

<p style="margin-left:17%;"><b>aggressive</b></p>

<p style="margin-left:23%;">Consider things that a sane
encoder should not do as an error.</p>

<p style="margin-left:11%;"><b>max_interleave_delta</b>
<i>integer</i> <b>(</b><i>output</i><b>)</b></p>

<p style="margin-left:17%;">Set maximum buffering duration
for interleaving. The duration is expressed in microseconds,
and defaults to 1000000 (1 second).</p>

<p style="margin-left:17%; margin-top: 1em">To ensure all
the streams are interleaved correctly, libavformat will wait
until it has at least one packet for each stream before
actually writing any packets to the output file. When some
streams are &quot;sparse&quot; (i.e. there are large gaps
between successive packets), this can result in excessive
buffering.</p>

<p style="margin-left:17%; margin-top: 1em">This field
specifies the maximum difference between the timestamps of
the first and the last packet in the muxing queue, above
which libavformat will output a packet regardless of whether
it has queued a packet for all the streams.</p>

<p style="margin-left:17%; margin-top: 1em">If set to 0,
libavformat will continue buffering packets until it has a
packet for each stream, regardless of the maximum timestamp
difference between the buffered packets.</p>


<p style="margin-left:11%;"><b>use_wallclock_as_timestamps</b>
<i>integer</i> <b>(</b><i>input</i><b>)</b></p>

<p style="margin-left:17%;">Use wallclock as timestamps if
set to 1. Default is 0.</p>

<p style="margin-left:11%;"><b>avoid_negative_ts</b>
<i>integer</i> <b>(</b><i>output</i><b>)</b></p>

<p style="margin-left:17%;">Possible values: <b><br>
make_non_negative</b></p>

<p style="margin-left:23%;">Shift timestamps to make them
non-negative. Also note that this affects only leading
negative timestamps, and not non-monotonic negative
timestamps.</p>

<p style="margin-left:17%;"><b>make_zero</b></p>

<p style="margin-left:23%;">Shift timestamps so that the
first timestamp is 0.</p>

<p style="margin-left:17%;"><b>auto (default)</b></p>

<p style="margin-left:23%;">Enables shifting when required
by the target format.</p>

<p style="margin-left:17%;"><b>disabled</b></p>

<p style="margin-left:23%;">Disables shifting of
timestamp.</p>

<p style="margin-left:17%; margin-top: 1em">When shifting
is enabled, all output timestamps are shifted by the same
amount. Audio, video, and subtitles desynching and relative
timestamp differences are preserved compared to how they
would have been without shifting.</p>

<p style="margin-left:11%;"><b>skip_initial_bytes</b>
<i>integer</i> <b>(</b><i>input</i><b>)</b></p>

<p style="margin-left:17%;">Set number of bytes to skip
before reading header and frames if set to 1. Default is
0.</p>

<p style="margin-left:11%;"><b>correct_ts_overflow</b>
<i>integer</i> <b>(</b><i>input</i><b>)</b></p>

<p style="margin-left:17%;">Correct single timestamp
overflows if set to 1. Default is 1.</p>

<p style="margin-left:11%;"><b>flush_packets</b>
<i>integer</i> <b>(</b><i>output</i><b>)</b></p>

<p style="margin-left:17%;">Flush the underlying I/O stream
after each packet. Default is -1 (auto), which means that
the underlying protocol will decide, 1 enables it, and has
the effect of reducing the latency, 0 disables it and may
increase <small>IO</small> throughput in some cases.</p>

<p style="margin-left:11%;"><b>output_ts_offset</b>
<i>offset</i> <b>(</b><i>output</i><b>)</b></p>

<p style="margin-left:17%;">Set the output time offset.</p>

<p style="margin-left:17%; margin-top: 1em"><i>offset</i>
must be a time duration specification, see <b>the Time
duration section in the ffmpeg-utils(1) manual</b>.</p>

<p style="margin-left:17%; margin-top: 1em">The offset is
added by the muxer to the output timestamps.</p>

<p style="margin-left:17%; margin-top: 1em">Specifying a
positive offset means that the corresponding streams are
delayed bt the time duration specified in <i>offset</i>.
Default value is 0 (meaning that no offset is applied).</p>

<p style="margin-left:11%;"><b>format_whitelist</b>
<i>list</i> <b>(</b><i>input</i><b>)</b></p>

<p style="margin-left:17%;">&quot;,&quot; separated list of
allowed demuxers. By default all are allowed.</p>

<p style="margin-left:11%;"><b>dump_separator</b>
<i>string</i> <b>(</b><i>input</i><b>)</b></p>

<p style="margin-left:17%;">Separator used to separate the
fields printed on the command line about the Stream
parameters. For example, to separate the fields with
newlines and indentation:</p>

<p style="margin-left:17%; margin-top: 1em">ffprobe
-dump_separator &quot; <br>
&quot; -i ~/videos/matrixbench_mpeg2.mpg</p>

<p style="margin-left:11%;"><b>max_streams</b>
<i>integer</i> <b>(</b><i>input</i><b>)</b></p>

<p style="margin-left:17%;">Specifies the maximum number of
streams. This can be used to reject files that would require
too many resources due to a large number of streams.</p>


<p style="margin-left:11%;"><b>skip_estimate_duration_from_pts</b>
<i>bool</i> <b>(</b><i>input</i><b>)</b></p>

<p style="margin-left:17%;">Skip estimation of input
duration when calculated using <small>PTS.</small> At
present, applicable for MPEG-PS and MPEG-TS.</p>

<p style="margin-left:11%;"><b>strict, f_strict</b>
<i>integer</i> <b>(</b><i>input/output</i><b>)</b></p>

<p style="margin-left:17%;">Specify how strictly to follow
the standards. &quot;f_strict&quot; is deprecated and should
be used only via the <b>ffmpeg</b> tool.</p>

<p style="margin-left:17%; margin-top: 1em">Possible
values: <b><br>
very</b></p>

<p style="margin-left:23%;">strictly conform to an older
more strict version of the spec or reference software</p>

<p style="margin-left:17%;"><b>strict</b></p>

<p style="margin-left:23%;">strictly conform to all the
things in the spec no matter what consequences</p>

<p style="margin-left:17%;"><b>normal <br>
unofficial</b></p>

<p style="margin-left:23%;">allow unofficial extensions</p>

<p style="margin-left:17%;"><b>experimental</b></p>

<p style="margin-left:23%;">allow non standardized
experimental things, experimental (unfinished/work in
progress/not well tested) decoders and encoders. Note:
experimental decoders can pose a security risk, do not use
this for decoding untrusted input.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Format
stream specifiers</b> <br>
Format stream specifiers allow selection of one or more
streams that match specific properties.</p>

<p style="margin-left:11%; margin-top: 1em">The exact
semantics of stream specifiers is defined by the
&quot;avformat_match_stream_specifier()&quot; function
declared in the <i>libavformat/avformat.h</i> header and
documented in the <b>Stream specifiers section in the
ffmpeg(1) manual</b>.</p>

<h2>DEMUXERS
<a name="DEMUXERS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Demuxers are
configured elements in FFmpeg that can read the multimedia
streams from a particular type of file.</p>

<p style="margin-left:11%; margin-top: 1em">When you
configure your FFmpeg build, all the supported demuxers are
enabled by default. You can list all available ones using
the configure option &quot;--list-demuxers&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">You can disable
all the demuxers using the configure option
&quot;--disable-demuxers&quot;, and selectively enable a
single demuxer with the option
&quot;--enable-demuxer=<i>DEMUXER</i>&quot;, or disable it
with the option
&quot;--disable-demuxer=<i>DEMUXER</i>&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">The option
&quot;-demuxers&quot; of the ff* tools will display the list
of enabled demuxers. Use &quot;-formats&quot; to view a
combined list of enabled demuxers and muxers.</p>

<p style="margin-left:11%; margin-top: 1em">The description
of some of the currently available demuxers follows.</p>

<p style="margin-left:11%; margin-top: 1em"><b>aa</b> <br>
Audible Format 2, 3, and 4 demuxer.</p>

<p style="margin-left:11%; margin-top: 1em">This demuxer is
used to demux Audible Format 2, 3, and 4 (.aa) files.</p>

<p style="margin-left:11%; margin-top: 1em"><b>apng</b>
<br>
Animated Portable Network Graphics demuxer.</p>

<p style="margin-left:11%; margin-top: 1em">This demuxer is
used to demux <small>APNG</small> files. All headers, but
the <small>PNG</small> signature, up to (but not including)
the first fcTL chunk are transmitted as extradata. Frames
are then split as being all the chunks between two fcTL
ones, or between the last fcTL and <small>IEND</small>
chunks. <b><br>
-ignore_loop</b> <i>bool</i></p>

<p style="margin-left:17%;">Ignore the loop variable in the
file if set.</p>

<p style="margin-left:11%;"><b>-max_fps</b> <i>int</i></p>

<p style="margin-left:17%;">Maximum framerate in frames per
second (0 for no limit).</p>

<p style="margin-left:11%;"><b>-default_fps</b>
<i>int</i></p>

<p style="margin-left:17%;">Default framerate in frames per
second when none is specified in the file (0 meaning as fast
as possible).</p>

<p style="margin-left:11%; margin-top: 1em"><b>asf</b> <br>
Advanced Systems Format demuxer.</p>

<p style="margin-left:11%; margin-top: 1em">This demuxer is
used to demux <small>ASF</small> files and
<small>MMS</small> network streams. <b><br>
-no_resync_search</b> <i>bool</i></p>

<p style="margin-left:17%;">Do not try to resynchronize by
looking for a certain optional start code.</p>

<p style="margin-left:11%; margin-top: 1em"><b>concat</b>
<br>
Virtual concatenation script demuxer.</p>

<p style="margin-left:11%; margin-top: 1em">This demuxer
reads a list of files and other directives from a text file
and demuxes them one after the other, as if all their
packets had been muxed together.</p>

<p style="margin-left:11%; margin-top: 1em">The timestamps
in the files are adjusted so that the first file starts at 0
and each next file starts where the previous one finishes.
Note that it is done globally and may cause gaps if all
streams do not have exactly the same length.</p>

<p style="margin-left:11%; margin-top: 1em">All files must
have the same streams (same codecs, same time base,
etc.).</p>

<p style="margin-left:11%; margin-top: 1em">The duration of
each file is used to adjust the timestamps of the next file:
if the duration is incorrect (because it was computed using
the bit-rate or because the file is truncated, for example),
it can cause artifacts. The &quot;duration&quot; directive
can be used to override the duration stored in each
file.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Syntax</i></p>

<p style="margin-left:11%; margin-top: 1em">The script is a
text file in extended-ASCII, with one directive per line.
Empty lines, leading spaces and lines starting with
&rsquo;#&rsquo; are ignored. The following directive is
recognized: <b><br>
&quot;file path&quot;</b></p>

<p style="margin-left:17%;">Path to a file to read; special
characters and spaces must be escaped with backslash or
single quotes.</p>

<p style="margin-left:17%; margin-top: 1em">All subsequent
file-related directives apply to that file.</p>

<p style="margin-left:11%;"><b>&quot;ffconcat version
1.0&quot;</b></p>

<p style="margin-left:17%;">Identify the script type and
version. It also sets the <b>safe</b> option to 1 if it was
-1.</p>

<p style="margin-left:17%; margin-top: 1em">To make FFmpeg
recognize the format automatically, this directive must
appear exactly as is (no extra space or byte-order-mark) on
the very first line of the script.</p>

<p style="margin-left:11%;"><b>&quot;duration
dur&quot;</b></p>

<p style="margin-left:17%;">Duration of the file. This
information can be specified from the file; specifying it
here may be more efficient or help if the information from
the file is not available or accurate.</p>

<p style="margin-left:17%; margin-top: 1em">If the duration
is set for all files, then it is possible to seek in the
whole concatenated video.</p>

<p style="margin-left:11%;"><b>&quot;inpoint
timestamp&quot;</b></p>

<p style="margin-left:17%;">In point of the file. When the
demuxer opens the file it instantly seeks to the specified
timestamp. Seeking is done so that all streams can be
presented successfully at In point.</p>

<p style="margin-left:17%; margin-top: 1em">This directive
works best with intra frame codecs, because for non-intra
frame ones you will usually get extra packets before the
actual In point and the decoded content will most likely
contain frames before In point too.</p>

<p style="margin-left:17%; margin-top: 1em">For each file,
packets before the file In point will have timestamps less
than the calculated start timestamp of the file (negative in
case of the first file), and the duration of the files (if
not specified by the &quot;duration&quot; directive) will be
reduced based on their specified In point.</p>

<p style="margin-left:17%; margin-top: 1em">Because of
potential packets before the specified In point, packet
timestamps may overlap between two concatenated files.</p>

<p style="margin-left:11%;"><b>&quot;outpoint
timestamp&quot;</b></p>

<p style="margin-left:17%;">Out point of the file. When the
demuxer reaches the specified decoding timestamp in any of
the streams, it handles it as an end of file condition and
skips the current and all the remaining packets from all
streams.</p>

<p style="margin-left:17%; margin-top: 1em">Out point is
exclusive, which means that the demuxer will not output
packets with a decoding timestamp greater or equal to Out
point.</p>

<p style="margin-left:17%; margin-top: 1em">This directive
works best with intra frame codecs and formats where all
streams are tightly interleaved. For non-intra frame codecs
you will usually get additional packets with presentation
timestamp after Out point therefore the decoded content will
most likely contain frames after Out point too. If your
streams are not tightly interleaved you may not get all the
packets from all streams before Out point and you may only
will be able to decode the earliest stream until Out
point.</p>

<p style="margin-left:17%; margin-top: 1em">The duration of
the files (if not specified by the &quot;duration&quot;
directive) will be reduced based on their specified Out
point.</p>

<p style="margin-left:11%;"><b>&quot;file_packet_metadata
key=value&quot;</b></p>

<p style="margin-left:17%;">Metadata of the packets of the
file. The specified metadata will be set for each file
packet. You can specify this directive multiple times to add
multiple metadata entries.</p>

<p style="margin-left:11%;"><b>&quot;stream&quot;</b></p>

<p style="margin-left:17%;">Introduce a stream in the
virtual file. All subsequent stream-related directives apply
to the last introduced stream. Some streams properties must
be set in order to allow identifying the matching streams in
the subfiles. If no streams are defined in the script, the
streams from the first file are copied.</p>

<p style="margin-left:11%;"><b>&quot;exact_stream_id
id&quot;</b></p>

<p style="margin-left:17%;">Set the id of the stream. If
this directive is given, the string with the corresponding
id in the subfiles will be used. This is especially useful
for MPEG-PS ( <small>VOB</small> ) files, where the order of
the streams is not reliable.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Options</i></p>

<p style="margin-left:11%; margin-top: 1em">This demuxer
accepts the following option: <b><br>
safe</b></p>

<p style="margin-left:17%;">If set to 1, reject unsafe file
paths. A file path is considered safe if it does not contain
a protocol specification and is relative and all components
only contain characters from the portable character set
(letters, digits, period, underscore and hyphen) and have no
period at the beginning of a component.</p>

<p style="margin-left:17%; margin-top: 1em">If set to 0,
any file name is accepted.</p>

<p style="margin-left:17%; margin-top: 1em">The default is
1.</p>

<p style="margin-left:17%; margin-top: 1em">-1 is
equivalent to 1 if the format was automatically probed and 0
otherwise.</p>

<p style="margin-left:11%;"><b>auto_convert</b></p>

<p style="margin-left:17%;">If set to 1, try to perform
automatic conversions on packet data to make the streams
concatenable. The default is 1.</p>

<p style="margin-left:17%; margin-top: 1em">Currently, the
only conversion is adding the h264_mp4toannexb bitstream
filter to H.264 streams in <small>MP4</small> format. This
is necessary in particular if there are resolution
changes.</p>


<p style="margin-left:11%;"><b>segment_time_metadata</b></p>

<p style="margin-left:17%;">If set to 1, every packet will
contain the <i>lavf.concat.start_time</i> and the
<i>lavf.concat.duration</i> packet metadata values which are
the start_time and the duration of the respective file
segments in the concatenated output expressed in
microseconds. The duration metadata is only set if it is
known based on the concat file. The default is 0.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="75%">


<p>Use absolute filenames and include some comments:</p></td>
<td width="8%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em"># my first
filename <br>
file /mnt/share/file-1.wav <br>
# my second filename including whitespace <br>
file '/mnt/share/file 2.wav' <br>
# my third filename including whitespace plus single quote
<br>
file '/mnt/share/file 3'\''.wav'</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Allow for input format
auto-probing, use safe filenames and set the duration of the
first file:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffconcat
version 1.0 <br>
file file-1.wav <br>
duration 20.0 <br>
file subdir/file-2.wav</p>

<p style="margin-left:11%; margin-top: 1em"><b>dash</b>
<br>
Dynamic Adaptive Streaming over <small>HTTP</small>
demuxer.</p>

<p style="margin-left:11%; margin-top: 1em">This demuxer
presents all AVStreams found in the manifest. By setting the
discard flags on AVStreams the caller can decide which
streams to actually receive. Each stream mirrors the
&quot;id&quot; and &quot;bandwidth&quot; properties from the
&quot;&lt;Representation&gt;&quot; as metadata keys named
&quot;id&quot; and &quot;variant_bitrate&quot;
respectively.</p>

<p style="margin-left:11%; margin-top: 1em"><b>flv,
live_flv</b> <br>
Adobe Flash Video Format demuxer.</p>

<p style="margin-left:11%; margin-top: 1em">This demuxer is
used to demux <small>FLV</small> files and
<small>RTMP</small> network streams. In case of live network
streams, if you force format, you may use live_flv option
instead of flv to survive timestamp discontinuities.</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -f flv
-i myfile.flv ... <br>
ffmpeg -f live_flv -i rtmp://&lt;any.server&gt;/anything/key
.... <b><br>
-flv_metadata</b> <i>bool</i></p>

<p style="margin-left:17%;">Allocate the streams according
to the onMetaData array content.</p>

<p style="margin-left:11%;"><b>-flv_ignore_prevtag</b>
<i>bool</i></p>

<p style="margin-left:17%;">Ignore the size of previous tag
value.</p>

<p style="margin-left:11%;"><b>-flv_full_metadata</b>
<i>bool</i></p>

<p style="margin-left:17%;">Output all context of the
onMetadata.</p>

<p style="margin-left:11%; margin-top: 1em"><b>gif</b> <br>
Animated <small>GIF</small> demuxer.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following options: <b><br>
min_delay</b></p>

<p style="margin-left:17%;">Set the minimum valid delay
between frames in hundredths of seconds. Range is 0 to 6000.
Default value is 2.</p>

<p style="margin-left:11%;"><b>max_gif_delay</b></p>

<p style="margin-left:17%;">Set the maximum valid delay
between frames in hundredth of seconds. Range is 0 to 65535.
Default value is 65535 (nearly eleven minutes), the maximum
value allowed by the specification.</p>

<p style="margin-left:11%;"><b>default_delay</b></p>

<p style="margin-left:17%;">Set the default delay between
frames in hundredths of seconds. Range is 0 to 6000. Default
value is 10.</p>

<p style="margin-left:11%;"><b>ignore_loop</b></p>

<p style="margin-left:17%;"><small>GIF</small> files can
contain information to loop a certain number of times (or
infinitely). If <b>ignore_loop</b> is set to 1, then the
loop setting from the input will be ignored and looping will
not occur. If set to 0, then looping will occur and will
cycle the number of times according to the
<small>GIF.</small> Default value is 1.</p>

<p style="margin-left:11%; margin-top: 1em">For example,
with the overlay filter, place an infinitely looping
<small>GIF</small> over another video:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i
input.mp4 -ignore_loop 0 -i input.gif -filter_complex
overlay=shortest=1 out.mkv</p>

<p style="margin-left:11%; margin-top: 1em">Note that in
the above example the shortest option for overlay filter is
used to end the output video at the length of the shortest
input file, which in this case is <i>input.mp4</i> as the
<small>GIF</small> in this example loops infinitely.</p>

<p style="margin-left:11%; margin-top: 1em"><b>hls</b>
<small><br>
HLS</small> demuxer</p>

<p style="margin-left:11%; margin-top: 1em">Apple
<small>HTTP</small> Live Streaming demuxer.</p>

<p style="margin-left:11%; margin-top: 1em">This demuxer
presents all AVStreams from all variant streams. The id
field is set to the bitrate variant index number. By setting
the discard flags on AVStreams (by pressing &rsquo;a&rsquo;
or &rsquo;v&rsquo; in ffplay), the caller can decide which
variant streams to actually receive. The total bitrate of
the variant that the stream belongs to is available in a
metadata key named &quot;variant_bitrate&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following options: <b><br>
live_start_index</b></p>

<p style="margin-left:17%;">segment index to start live
streams at (negative values are from the end).</p>

<p style="margin-left:11%;"><b>allowed_extensions</b></p>

<p style="margin-left:17%;">&rsquo;,&rsquo; separated list
of file extensions that hls is allowed to access.</p>

<p style="margin-left:11%;"><b>max_reload</b></p>

<p style="margin-left:17%;">Maximum number of times a
insufficient list is attempted to be reloaded. Default value
is 1000.</p>

<p style="margin-left:11%;"><b>http_persistent</b></p>

<p style="margin-left:17%;">Use persistent
<small>HTTP</small> connections. Applicable only for
<small>HTTP</small> streams. Enabled by default.</p>

<p style="margin-left:11%;"><b>http_multiple</b></p>

<p style="margin-left:17%;">Use multiple
<small>HTTP</small> connections for downloading
<small>HTTP</small> segments. Enabled by default for
<small>HTTP/1.1</small> servers.</p>

<p style="margin-left:11%; margin-top: 1em"><b>image2</b>
<br>
Image file demuxer.</p>

<p style="margin-left:11%; margin-top: 1em">This demuxer
reads from a list of image files specified by a pattern. The
syntax and meaning of the pattern is specified by the option
<i>pattern_type</i>.</p>

<p style="margin-left:11%; margin-top: 1em">The pattern may
contain a suffix which is used to automatically determine
the format of the images contained in the files.</p>

<p style="margin-left:11%; margin-top: 1em">The size, the
pixel format, and the format of each image must be the same
for all the files in the sequence.</p>

<p style="margin-left:11%; margin-top: 1em">This demuxer
accepts the following options: <b><br>
framerate</b></p>

<p style="margin-left:17%;">Set the frame rate for the
video stream. It defaults to 25.</p>

<p style="margin-left:11%;"><b>loop</b></p>

<p style="margin-left:17%;">If set to 1, loop over the
input. Default value is 0.</p>

<p style="margin-left:11%;"><b>pattern_type</b></p>

<p style="margin-left:17%;">Select the pattern type used to
interpret the provided filename.</p>


<p style="margin-left:17%; margin-top: 1em"><i>pattern_type</i>
accepts one of the following values. <b><br>
none</b></p>

<p style="margin-left:23%;">Disable pattern matching,
therefore the video will only contain the specified image.
You should use this option if you do not want to create
sequences from multiple images and your filenames may
contain special pattern characters.</p>

<p style="margin-left:17%;"><b>sequence</b></p>

<p style="margin-left:23%;">Select a sequence pattern type,
used to specify a sequence of files indexed by sequential
numbers.</p>

<p style="margin-left:23%; margin-top: 1em">A sequence
pattern may contain the string &quot;%d&quot; or
&quot;%0<i>N</i>d&quot;, which specifies the position of the
characters representing a sequential number in each filename
matched by the pattern. If the form &quot;%d0<i>N</i>d&quot;
is used, the string representing the number in each filename
is 0-padded and <i>N</i> is the total number of 0-padded
digits representing the number. The literal character
&rsquo;%&rsquo; can be specified in the pattern with the
string &quot;%%&quot;.</p>

<p style="margin-left:23%; margin-top: 1em">If the sequence
pattern contains &quot;%d&quot; or &quot;%0<i>N</i>d&quot;,
the first filename of the file list specified by the pattern
must contain a number inclusively contained between
<i>start_number</i> and
<i>start_number</i>+<i>start_number_range</i>-1, and all the
following numbers must be sequential.</p>

<p style="margin-left:23%; margin-top: 1em">For example the
pattern &quot;img-%03d.bmp&quot; will match a sequence of
filenames of the form <i>img-001.bmp</i>,
<i>img-002.bmp</i>, ..., <i>img-010.bmp</i>, etc.; the
pattern &quot;i%%m%%g-%d.jpg&quot; will match a sequence of
filenames of the form <i>i%m%g-1.jpg</i>,
<i>i%m%g-2.jpg</i>, ..., <i>i%m%g-10.jpg</i>, etc.</p>

<p style="margin-left:23%; margin-top: 1em">Note that the
pattern must not necessarily contain &quot;%d&quot; or
&quot;%0<i>N</i>d&quot;, for example to convert a single
image file <i>img.jpeg</i> you can employ the command:</p>

<p style="margin-left:23%; margin-top: 1em">ffmpeg -i
img.jpeg img.png</p>

<p style="margin-left:17%;"><b>glob</b></p>

<p style="margin-left:23%;">Select a glob wildcard pattern
type.</p>

<p style="margin-left:23%; margin-top: 1em">The pattern is
interpreted like a &quot;glob()&quot; pattern. This is only
selectable if libavformat was compiled with globbing
support.</p>

<p style="margin-left:17%;"><b>glob_sequence</b>
<i>(deprecated, will be removed)</i></p>

<p style="margin-left:23%;">Select a mixed glob
wildcard/sequence pattern.</p>

<p style="margin-left:23%; margin-top: 1em">If your version
of libavformat was compiled with globbing support, and the
provided pattern contains at least one glob meta character
among &quot;%*?[]{}&quot; that is preceded by an unescaped
&quot;%&quot;, the pattern is interpreted like a
&quot;glob()&quot; pattern, otherwise it is interpreted like
a sequence pattern.</p>

<p style="margin-left:23%; margin-top: 1em">All glob
special characters &quot;%*?[]{}&quot; must be prefixed with
&quot;%&quot;. To escape a literal &quot;%&quot; you shall
use &quot;%%&quot;.</p>

<p style="margin-left:23%; margin-top: 1em">For example the
pattern &quot;foo-%*.jpeg&quot; will match all the filenames
prefixed by &quot;foo-&quot; and terminating with
&quot;.jpeg&quot;, and &quot;foo-%?%?%?.jpeg&quot; will
match all the filenames prefixed with &quot;foo-&quot;,
followed by a sequence of three characters, and terminating
with &quot;.jpeg&quot;.</p>

<p style="margin-left:23%; margin-top: 1em">This pattern
type is deprecated in favor of <i>glob</i> and
<i>sequence</i>.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is <i>glob_sequence</i>.</p>

<p style="margin-left:11%;"><b>pixel_format</b></p>

<p style="margin-left:17%;">Set the pixel format of the
images to read. If not specified the pixel format is guessed
from the first image file in the sequence.</p>

<p style="margin-left:11%;"><b>start_number</b></p>

<p style="margin-left:17%;">Set the index of the file
matched by the image file pattern to start to read from.
Default value is 0.</p>

<p style="margin-left:11%;"><b>start_number_range</b></p>

<p style="margin-left:17%;">Set the index interval range to
check when looking for the first image file in the sequence,
starting from <i>start_number</i>. Default value is 5.</p>

<p style="margin-left:11%;"><b>ts_from_file</b></p>

<p style="margin-left:17%;">If set to 1, will set frame
timestamp to modification time of image file. Note that
monotonity of timestamps is not provided: images go in the
same order as without this option. Default value is 0. If
set to 2, will set frame timestamp to the modification time
of the image file in nanosecond precision.</p>

<p style="margin-left:11%;"><b>video_size</b></p>

<p style="margin-left:17%;">Set the video size of the
images to read. If not specified the video size is guessed
from the first image file in the sequence.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Use <b>ffmpeg</b> for creating a video from the images
in the file sequence <i>img-001.jpeg</i>,
<i>img-002.jpeg</i>, ..., assuming an input frame rate of 10
frames per second:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg
-framerate 10 -i 'img-%03d.jpeg' out.mkv</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">As above, but start by reading
from a file with index 100 in the sequence:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg
-framerate 10 -start_number 100 -i 'img-%03d.jpeg'
out.mkv</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Read images matching the
&quot;*.png&quot; glob pattern , that is all the files
terminating with the &quot;.png&quot; suffix:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg
-framerate 10 -pattern_type glob -i &quot;*.png&quot;
out.mkv</p>

<p style="margin-left:11%; margin-top: 1em"><b>libgme</b>
<br>
The Game Music Emu library is a collection of video game
music file emulators.</p>

<p style="margin-left:11%; margin-top: 1em">See
&lt;<b>https://bitbucket.org/mpyne/game-music-emu/overview</b>&gt;
for more information.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following options: <b><br>
track_index</b></p>

<p style="margin-left:17%;">Set the index of which track to
demux. The demuxer can only export one track. Track indexes
start at 0. Default is to pick the first track. Number of
tracks is exported as <i>tracks</i> metadata entry.</p>

<p style="margin-left:11%;"><b>sample_rate</b></p>

<p style="margin-left:17%;">Set the sampling rate of the
exported track. Range is 1000 to 999999. Default is
44100.</p>

<p style="margin-left:11%;"><b>max_size</b>
<i>(bytes)</i></p>

<p style="margin-left:17%;">The demuxer buffers the entire
file into memory. Adjust this value to set the maximum
buffer size, which in turn, acts as a ceiling for the size
of files that can be read. Default is 50 MiB.</p>


<p style="margin-left:11%; margin-top: 1em"><b>libmodplug</b>
<br>
ModPlug based module demuxer</p>

<p style="margin-left:11%; margin-top: 1em">See
&lt;<b>https://github.com/Konstanty/libmodplug</b>&gt;</p>

<p style="margin-left:11%; margin-top: 1em">It will export
one 2-channel 16-bit 44.1 kHz audio stream. Optionally, a
&quot;pal8&quot; 16-color video stream can be exported with
or without printed metadata.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following options: <b><br>
noise_reduction</b></p>

<p style="margin-left:17%;">Apply a simple low-pass filter.
Can be 1 (on) or 0 (off). Default is 0.</p>

<p style="margin-left:11%;"><b>reverb_depth</b></p>

<p style="margin-left:17%;">Set amount of reverb. Range
0-100. Default is 0.</p>

<p style="margin-left:11%;"><b>reverb_delay</b></p>

<p style="margin-left:17%;">Set delay in ms, clamped to
40-250 ms. Default is 0.</p>

<p style="margin-left:11%;"><b>bass_amount</b></p>

<p style="margin-left:17%;">Apply bass expansion a.k.a.
XBass or megabass. Range is 0 (quiet) to 100 (loud). Default
is 0.</p>

<p style="margin-left:11%;"><b>bass_range</b></p>

<p style="margin-left:17%;">Set cutoff i.e. upper-bound for
bass frequencies. Range is 10-100 Hz. Default is 0.</p>

<p style="margin-left:11%;"><b>surround_depth</b></p>

<p style="margin-left:17%;">Apply a Dolby Pro-Logic
surround effect. Range is 0 (quiet) to 100 (heavy). Default
is 0.</p>

<p style="margin-left:11%;"><b>surround_delay</b></p>

<p style="margin-left:17%;">Set surround delay in ms,
clamped to 5-40 ms. Default is 0.</p>

<p style="margin-left:11%;"><b>max_size</b></p>

<p style="margin-left:17%;">The demuxer buffers the entire
file into memory. Adjust this value to set the maximum
buffer size, which in turn, acts as a ceiling for the size
of files that can be read. Range is 0 to 100 MiB. 0 removes
buffer size limit (not recommended). Default is 5 MiB.</p>

<p style="margin-left:11%;"><b>video_stream_expr</b></p>

<p style="margin-left:17%;">String which is evaluated using
the eval <small>API</small> to assign colors to the
generated video stream. Variables which can be used are
&quot;x&quot;, &quot;y&quot;, &quot;w&quot;, &quot;h&quot;,
&quot;t&quot;, &quot;speed&quot;, &quot;tempo&quot;,
&quot;order&quot;, &quot;pattern&quot; and
&quot;row&quot;.</p>

<p style="margin-left:11%;"><b>video_stream</b></p>

<p style="margin-left:17%;">Generate video stream. Can be 1
(on) or 0 (off). Default is 0.</p>

<p style="margin-left:11%;"><b>video_stream_w</b></p>

<p style="margin-left:17%;">Set video frame width in
&rsquo;chars&rsquo; where one char indicates 8 pixels. Range
is 20-512. Default is 30.</p>

<p style="margin-left:11%;"><b>video_stream_h</b></p>

<p style="margin-left:17%;">Set video frame height in
&rsquo;chars&rsquo; where one char indicates 8 pixels. Range
is 20-512. Default is 30.</p>

<p style="margin-left:11%;"><b>video_stream_ptxt</b></p>

<p style="margin-left:17%;">Print metadata on video stream.
Includes &quot;speed&quot;, &quot;tempo&quot;,
&quot;order&quot;, &quot;pattern&quot;, &quot;row&quot; and
&quot;ts&quot; (time in ms). Can be 1 (on) or 0 (off).
Default is 1.</p>


<p style="margin-left:11%; margin-top: 1em"><b>libopenmpt</b>
<br>
libopenmpt based module demuxer</p>

<p style="margin-left:11%; margin-top: 1em">See
&lt;<b>https://lib.openmpt.org/libopenmpt/</b>&gt; for more
information.</p>

<p style="margin-left:11%; margin-top: 1em">Some files have
multiple subsongs (tracks) this can be set with the
<b>subsong</b> option.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following options: <b><br>
subsong</b></p>

<p style="margin-left:17%;">Set the subsong index. This can
be either &rsquo;all&rsquo;, &rsquo;auto&rsquo;, or the
index of the subsong. Subsong indexes start at 0. The
default is &rsquo;auto&rsquo;.</p>

<p style="margin-left:17%; margin-top: 1em">The default
value is to let libopenmpt choose.</p>

<p style="margin-left:11%;"><b>layout</b></p>

<p style="margin-left:17%;">Set the channel layout. Valid
values are 1, 2, and 4 channel layouts. The default value is
<small>STEREO.</small></p>

<p style="margin-left:11%;"><b>sample_rate</b></p>

<p style="margin-left:17%;">Set the sample rate for
libopenmpt to output. Range is from 1000 to
<small>INT_MAX.</small> The value default is 48000.</p>


<p style="margin-left:11%; margin-top: 1em"><b>mov/mp4/3gp/QuickTime</b>
<br>
QuickTime / <small>MP4</small> demuxer.</p>

<p style="margin-left:11%; margin-top: 1em">This demuxer
accepts the following options: <b><br>
enable_drefs</b></p>

<p style="margin-left:17%;">Enable loading of external
tracks, disabled by default. Enabling this can theoretically
leak information in some use cases.</p>

<p style="margin-left:11%;"><b>use_absolute_path</b></p>

<p style="margin-left:17%;">Allows loading of external
tracks via absolute paths, disabled by default. Enabling
this poses a security risk. It should only be enabled if the
source is known to be non malicious.</p>

<p style="margin-left:11%; margin-top: 1em"><b>mpegts</b>
<small><br>
MPEG-2</small> transport stream demuxer.</p>

<p style="margin-left:11%; margin-top: 1em">This demuxer
accepts the following options: <b><br>
resync_size</b></p>

<p style="margin-left:17%;">Set size limit for looking up a
new synchronization. Default value is 65536.</p>

<p style="margin-left:11%;"><b>skip_unknown_pmt</b></p>

<p style="margin-left:17%;">Skip PMTs for programs not
defined in the <small>PAT.</small> Default value is 0.</p>

<p style="margin-left:11%;"><b>fix_teletext_pts</b></p>

<p style="margin-left:17%;">Override teletext packet
<small>PTS</small> and <small>DTS</small> values with the
timestamps calculated from the <small>PCR</small> of the
first program which the teletext stream is part of and is
not discarded. Default value is 1, set this option to 0 if
you want your teletext packet <small>PTS</small> and
<small>DTS</small> values untouched.</p>

<p style="margin-left:11%;"><b>ts_packetsize</b></p>

<p style="margin-left:17%;">Output option carrying the raw
packet size in bytes. Show the detected raw packet size,
cannot be set by the user.</p>

<p style="margin-left:11%;"><b>scan_all_pmts</b></p>

<p style="margin-left:17%;">Scan and combine all PMTs. The
value is an integer with value from -1 to 1 (-1 means
automatic setting, 1 means enabled, 0 means disabled).
Default value is -1.</p>

<p style="margin-left:11%;"><b>merge_pmt_versions</b></p>

<p style="margin-left:17%;">Re-use existing streams when a
<small>PMT</small> &rsquo;s version is updated and
elementary streams move to different PIDs. Default value is
0.</p>

<p style="margin-left:11%; margin-top: 1em"><b>mpjpeg</b>
<small><br>
MJPEG</small> encapsulated in multi-part <small>MIME</small>
demuxer.</p>

<p style="margin-left:11%; margin-top: 1em">This demuxer
allows reading of <small>MJPEG,</small> where each frame is
represented as a part of multipart/x-mixed-replace stream.
<b><br>
strict_mime_boundary</b></p>

<p style="margin-left:17%;">Default implementation applies
a relaxed standard to multi-part <small>MIME</small>
boundary detection, to prevent regression with numerous
existing endpoints not generating a proper <small>MIME
MJPEG</small> stream. Turning this option on by setting it
to 1 will result in a stricter check of the boundary
value.</p>


<p style="margin-left:11%; margin-top: 1em"><b>rawvideo</b>
<br>
Raw video demuxer.</p>

<p style="margin-left:11%; margin-top: 1em">This demuxer
allows one to read raw video data. Since there is no header
specifying the assumed video parameters, the user must
specify them in order to be able to decode the data
correctly.</p>

<p style="margin-left:11%; margin-top: 1em">This demuxer
accepts the following options: <b><br>
framerate</b></p>

<p style="margin-left:17%;">Set input video frame rate.
Default value is 25.</p>

<p style="margin-left:11%;"><b>pixel_format</b></p>

<p style="margin-left:17%;">Set the input video pixel
format. Default value is &quot;yuv420p&quot;.</p>

<p style="margin-left:11%;"><b>video_size</b></p>

<p style="margin-left:17%;">Set the input video size. This
value must be specified explicitly.</p>

<p style="margin-left:11%; margin-top: 1em">For example to
read a rawvideo file <i>input.raw</i> with <b>ffplay</b>,
assuming a pixel format of &quot;rgb24&quot;, a video size
of &quot;320x240&quot;, and a frame rate of 10 images per
second, use the command:</p>

<p style="margin-left:11%; margin-top: 1em">ffplay -f
rawvideo -pixel_format rgb24 -video_size 320x240 -framerate
10 input.raw</p>

<p style="margin-left:11%; margin-top: 1em"><b>sbg</b> <br>
SBaGen script demuxer.</p>

<p style="margin-left:11%; margin-top: 1em">This demuxer
reads the script language used by SBaGen
&lt;<b>http://uazu.net/sbagen/</b>&gt; to generate binaural
beats sessions. A <small>SBG</small> script looks like
that:</p>

<p style="margin-left:11%; margin-top: 1em">-SE <br>
a: 300-2.5/3 440+4.5/0 <br>
b: 300-2.5/0 440+4.5/3 <br>
off: - <br>
NOW == a <br>
+0:07:00 == b <br>
+0:14:00 == a <br>
+0:21:00 == b <br>
+0:30:00 off</p>

<p style="margin-left:11%; margin-top: 1em">A
<small>SBG</small> script can mix absolute and relative
timestamps. If the script uses either only absolute
timestamps (including the script start time) or only
relative ones, then its layout is fixed, and the conversion
is straightforward. On the other hand, if the script mixes
both kind of timestamps, then the <i><small>NOW</small></i>
reference for relative timestamps will be taken from the
current time of day at the time the script is read, and the
script layout will be frozen according to that reference.
That means that if the script is directly played, the actual
times will match the absolute timestamps up to the sound
controller&rsquo;s clock accuracy, but if the user somehow
pauses the playback or seeks, all times will be shifted
accordingly.</p>


<p style="margin-left:11%; margin-top: 1em"><b>tedcaptions</b>
<small><br>
JSON</small> captions used for
&lt;<b>http://www.ted.com/</b>&gt;.</p>


<p style="margin-left:11%; margin-top: 1em"><small>TED</small>
does not provide links to the captions, but they can be
guessed from the page. The file
<i>tools/bookmarklets.html</i> from the FFmpeg source tree
contains a bookmarklet to expose them.</p>

<p style="margin-left:11%; margin-top: 1em">This demuxer
accepts the following option: <b><br>
start_time</b></p>

<p style="margin-left:17%;">Set the start time of the
<small>TED</small> talk, in milliseconds. The default is
15000 (15s). It is used to sync the captions with the
downloadable videos, because they include a 15s intro.</p>

<p style="margin-left:11%; margin-top: 1em">Example:
convert the captions to a format most players
understand:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i
http://www.ted.com/talks/subtitles/id/1/lang/en
talk1-en.srt</p>


<p style="margin-left:11%; margin-top: 1em"><b>vapoursynth</b>
<br>
Vapoursynth wrapper.</p>

<p style="margin-left:11%; margin-top: 1em">Due to security
concerns, Vapoursynth scripts will not be autodetected so
the input format has to be forced. For ff*
<small>CLI</small> tools, add &quot;-f vapoursynth&quot;
before the input &quot;-i yourscript.vpy&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">This demuxer
accepts the following option: <b><br>
max_script_size</b></p>

<p style="margin-left:17%;">The demuxer buffers the entire
script into memory. Adjust this value to set the maximum
buffer size, which in turn, acts as a ceiling for the size
of scripts that can be read. Default is 1 MiB.</p>

<h2>MUXERS
<a name="MUXERS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Muxers are
configured elements in FFmpeg which allow writing multimedia
streams to a particular type of file.</p>

<p style="margin-left:11%; margin-top: 1em">When you
configure your FFmpeg build, all the supported muxers are
enabled by default. You can list all available muxers using
the configure option &quot;--list-muxers&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">You can disable
all the muxers with the configure option
&quot;--disable-muxers&quot; and selectively enable /
disable single muxers with the options
&quot;--enable-muxer=<i>MUXER</i>&quot; /
&quot;--disable-muxer=<i>MUXER</i>&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">The option
&quot;-muxers&quot; of the ff* tools will display the list
of enabled muxers. Use &quot;-formats&quot; to view a
combined list of enabled demuxers and muxers.</p>

<p style="margin-left:11%; margin-top: 1em">A description
of some of the currently available muxers follows.</p>

<p style="margin-left:11%; margin-top: 1em"><b>aiff</b>
<br>
Audio Interchange File Format muxer.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Options</i></p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following options: <b><br>
write_id3v2</b></p>

<p style="margin-left:17%;">Enable ID3v2 tags writing when
set to 1. Default is 0 (disabled).</p>

<p style="margin-left:11%;"><b>id3v2_version</b></p>

<p style="margin-left:17%;">Select ID3v2 version to write.
Currently only version 3 and 4 (aka. ID3v2.3 and ID3v2.4)
are supported. The default is version 4.</p>

<p style="margin-left:11%; margin-top: 1em"><b>asf</b> <br>
Advanced Systems Format muxer.</p>

<p style="margin-left:11%; margin-top: 1em">Note that
Windows Media Audio (wma) and Windows Media Video (wmv) use
this muxer too.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Options</i></p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following options: <b><br>
packet_size</b></p>

<p style="margin-left:17%;">Set the muxer packet size. By
tuning this setting you may reduce data fragmentation or
muxer overhead depending on your source. Default value is
3200, minimum is 100, maximum is 64k.</p>

<p style="margin-left:11%; margin-top: 1em"><b>avi</b> <br>
Audio Video Interleaved muxer.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Options</i></p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following options: <b><br>
reserve_index_space</b></p>

<p style="margin-left:17%;">Reserve the specified amount of
bytes for the OpenDML master index of each stream within the
file header. By default additional master indexes are
embedded within the data packets if there is no space left
in the first master index and are linked together as a chain
of indexes. This index structure can cause problems for some
use cases, e.g. third-party software strictly relying on the
OpenDML index specification or when file seeking is slow.
Reserving enough index space in the file header avoids these
problems.</p>

<p style="margin-left:17%; margin-top: 1em">The required
index space depends on the output file size and should be
about 16 bytes per gigabyte. When this option is omitted or
set to zero the necessary index space is guessed.</p>

<p style="margin-left:11%;"><b>write_channel_mask</b></p>

<p style="margin-left:17%;">Write the channel layout mask
into the audio stream header.</p>

<p style="margin-left:17%; margin-top: 1em">This option is
enabled by default. Disabling the channel mask can be useful
in specific scenarios, e.g. when merging multiple audio
streams into one for compatibility with software that only
supports a single audio stream in <small>AVI</small> (see
<b>the &quot;amerge&quot; section in the ffmpeg-filters
manual</b>).</p>


<p style="margin-left:11%; margin-top: 1em"><b>chromaprint</b>
<br>
Chromaprint fingerprinter.</p>

<p style="margin-left:11%; margin-top: 1em">This muxer
feeds audio data to the Chromaprint library, which generates
a fingerprint for the provided audio data. See
&lt;<b>https://acoustid.org/chromaprint</b>&gt;</p>

<p style="margin-left:11%; margin-top: 1em">It takes a
single signed native-endian 16-bit raw audio stream of at
most 2 channels.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Options</i>
<b><br>
silence_threshold</b></p>

<p style="margin-left:17%;">Threshold for detecting
silence, ranges from -1 to 32767. -1 disables silence
detection and is required for use with the AcoustID service.
Default is -1.</p>

<p style="margin-left:11%;"><b>algorithm</b></p>

<p style="margin-left:17%;">Version of algorithm to
fingerprint with. Range is 0 to 4. Version 2 requires that
silence detection be enabled. Default is 1.</p>

<p style="margin-left:11%;"><b>fp_format</b></p>

<p style="margin-left:17%;">Format to output the
fingerprint as. Accepts the following options:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>raw</b></p></td>
<td width="1%"></td>
<td width="34%">


<p>Binary raw fingerprint</p></td>
<td width="43%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>compressed</b></p>

<p style="margin-left:23%;">Binary compressed
fingerprint</p>

<p style="margin-left:17%;"><b>base64</b></p>

<p style="margin-left:23%;">Base64 compressed fingerprint
<i>(default)</i></p>

<p style="margin-left:11%; margin-top: 1em"><b>crc</b>
<small><br>
CRC</small> (Cyclic Redundancy Check) testing format.</p>

<p style="margin-left:11%; margin-top: 1em">This muxer
computes and prints the Adler-32 <small>CRC</small> of all
the input audio and video frames. By default audio frames
are converted to signed 16-bit raw audio and video frames to
raw video before computing the <small>CRC.</small></p>

<p style="margin-left:11%; margin-top: 1em">The output of
the muxer consists of a single line of the form: CRC=0x
<i><small>CRC</small></i> , where <i><small>CRC</small></i>
is a hexadecimal number 0-padded to 8 digits containing the
<small>CRC</small> for all the decoded input frames.</p>

<p style="margin-left:11%; margin-top: 1em">See also the
<b>framecrc</b> muxer.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<p style="margin-left:11%; margin-top: 1em">For example to
compute the <small>CRC</small> of the input, and store it in
the file <i>out.crc</i>:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i INPUT
-f crc out.crc</p>

<p style="margin-left:11%; margin-top: 1em">You can print
the <small>CRC</small> to stdout with the command:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i INPUT
-f crc -</p>

<p style="margin-left:11%; margin-top: 1em">You can select
the output format of each frame with <b>ffmpeg</b> by
specifying the audio and video codec and format. For example
to compute the <small>CRC</small> of the input audio
converted to <small>PCM</small> unsigned 8-bit and the input
video converted to <small>MPEG-2</small> video, use the
command:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i INPUT
-c:a pcm_u8 -c:v mpeg2video -f crc -</p>

<p style="margin-left:11%; margin-top: 1em"><b>flv</b> <br>
Adobe Flash Video Format muxer.</p>

<p style="margin-left:11%; margin-top: 1em">This muxer
accepts the following options: <b><br>
flvflags</b> <i>flags</i></p>

<p style="margin-left:17%;">Possible values: <b><br>
aac_seq_header_detect</b></p>

<p style="margin-left:23%;">Place <small>AAC</small>
sequence header based on audio stream data.</p>

<p style="margin-left:17%;"><b>no_sequence_end</b></p>

<p style="margin-left:23%;">Disable sequence end tag.</p>

<p style="margin-left:17%;"><b>no_metadata</b></p>

<p style="margin-left:23%;">Disable metadata tag.</p>


<p style="margin-left:17%;"><b>no_duration_filesize</b></p>

<p style="margin-left:23%;">Disable duration and filesize
in metadata when they are equal to zero at the end of
stream. (Be used to non-seekable living stream).</p>

<p style="margin-left:17%;"><b>add_keyframe_index</b></p>

<p style="margin-left:23%;">Used to facilitate seeking;
particularly for <small>HTTP</small> pseudo streaming.</p>

<p style="margin-left:11%; margin-top: 1em"><b>dash</b>
<br>
Dynamic Adaptive Streaming over <small>HTTP</small> (
<small>DASH</small> ) muxer that creates segments and
manifest files according to the MPEG-DASH standard
<small>ISO/IEC 23009-1:2014.</small></p>

<p style="margin-left:11%; margin-top: 1em">For more
information see:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><small>ISO DASH</small> Specification:
&lt;<b>http://standards.iso.org/ittf/PubliclyAvailableStandards/c065274_ISO_IEC_23009-1_2014.zip</b>&gt;</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>WebM <small>DASH</small> Specification:
&lt;<b>https://sites.google.com/a/webmproject.org/wiki/adaptive-streaming/webm-dash-specification</b>&gt;</p> </td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">It creates a
<small>MPD</small> manifest file and segment files for each
stream.</p>

<p style="margin-left:11%; margin-top: 1em">The segment
filename might contain pre-defined identifiers used with
SegmentTemplate as defined in section 5.3.9.4.4 of the
standard. Available identifiers are
&quot;$RepresentationID$&quot;, &quot;$Number$&quot;,
&quot;$Bandwidth$&quot; and &quot;$Time$&quot;. In addition
to the standard identifiers, an ffmpeg-specific
&quot;$ext$&quot; identifier is also supported. When
specified ffmpeg will replace $ext$ in the file name with
muxing format&rsquo;s extensions such as mp4, webm etc.,</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -re -i
&lt;input&gt; -map 0 -map 0 -c:a libfdk_aac -c:v libx264 \
<br>
-b:v:0 800k -b:v:1 300k -s:v:1 320x170 -profile:v:1 baseline
\ <br>
-profile:v:0 main -bf 1 -keyint_min 120 -g 120 -sc_threshold
0 \ <br>
-b_strategy 0 -ar:a:1 22050 -use_timeline 1 -use_template 1
\ <br>
-window_size 5 -adaptation_sets &quot;id=0,streams=v
id=1,streams=a&quot; \ <br>
-f dash /path/to/out.mpd <b><br>
min_seg_duration</b> <i>microseconds</i></p>

<p style="margin-left:17%;">This is a deprecated option to
set the segment length in microseconds, use
<i>seg_duration</i> instead.</p>

<p style="margin-left:11%;"><b>seg_duration</b>
<i>duration</i></p>

<p style="margin-left:17%;">Set the segment length in
seconds (fractional value can be set). The value is treated
as average segment duration when <i>use_template</i> is
enabled and <i>use_timeline</i> is disabled and as minimum
segment duration for all the other use cases.</p>

<p style="margin-left:11%;"><b>window_size</b>
<i>size</i></p>

<p style="margin-left:17%;">Set the maximum number of
segments kept in the manifest.</p>

<p style="margin-left:11%;"><b>extra_window_size</b>
<i>size</i></p>

<p style="margin-left:17%;">Set the maximum number of
segments kept outside of the manifest before removing from
disk.</p>

<p style="margin-left:11%;"><b>remove_at_exit</b>
<i>remove</i></p>

<p style="margin-left:17%;">Enable (1) or disable (0)
removal of all segments when finished.</p>

<p style="margin-left:11%;"><b>use_template</b>
<i>template</i></p>

<p style="margin-left:17%;">Enable (1) or disable (0) use
of SegmentTemplate instead of SegmentList.</p>

<p style="margin-left:11%;"><b>use_timeline</b>
<i>timeline</i></p>

<p style="margin-left:17%;">Enable (1) or disable (0) use
of SegmentTimeline in SegmentTemplate.</p>

<p style="margin-left:11%;"><b>single_file</b>
<i>single_file</i></p>

<p style="margin-left:17%;">Enable (1) or disable (0)
storing all segments in one file, accessed using byte
ranges.</p>

<p style="margin-left:11%;"><b>single_file_name</b>
<i>file_name</i></p>

<p style="margin-left:17%;">DASH-templated name to be used
for baseURL. Implies <i>single_file</i> set to
&quot;1&quot;. In the template, &quot;$ext$&quot; is
replaced with the file name extension specific for the
segment format.</p>

<p style="margin-left:11%;"><b>init_seg_name</b>
<i>init_name</i></p>

<p style="margin-left:17%;">DASH-templated name to used for
the initialization segment. Default is
&quot;init-stream$RepresentationID$.$ext$&quot;.
&quot;$ext$&quot; is replaced with the file name extension
specific for the segment format.</p>

<p style="margin-left:11%;"><b>media_seg_name</b>
<i>segment_name</i></p>

<p style="margin-left:17%;">DASH-templated name to used for
the media segments. Default is
&quot;chunk-stream$RepresentationID$-$Number%05d$.$ext$&quot;.
&quot;$ext$&quot; is replaced with the file name extension
specific for the segment format.</p>

<p style="margin-left:11%;"><b>utc_timing_url</b>
<i>utc_url</i></p>

<p style="margin-left:17%;"><small>URL</small> of the page
that will return the <small>UTC</small> timestamp in
<small>ISO</small> format. Example:
&quot;https://time.akamai.com/?iso&quot;</p>

<p style="margin-left:11%;"><b>method</b> <i>method</i></p>

<p style="margin-left:17%;">Use the given
<small>HTTP</small> method to create output files. Generally
set to <small>PUT</small> or <small>POST.</small></p>

<p style="margin-left:11%;"><b>http_user_agent</b>
<i>user_agent</i></p>

<p style="margin-left:17%;">Override User-Agent field in
<small>HTTP</small> header. Applicable only for
<small>HTTP</small> output.</p>

<p style="margin-left:11%;"><b>http_persistent</b>
<i>http_persistent</i></p>

<p style="margin-left:17%;">Use persistent
<small>HTTP</small> connections. Applicable only for
<small>HTTP</small> output.</p>

<p style="margin-left:11%;"><b>hls_playlist</b>
<i>hls_playlist</i></p>

<p style="margin-left:17%;">Generate <small>HLS</small>
playlist files as well. The master playlist is generated
with the filename master.m3u8. One media playlist file is
generated for each stream with filenames media_0.m3u8,
media_1.m3u8, etc.</p>

<p style="margin-left:11%;"><b>streaming</b>
<i>streaming</i></p>

<p style="margin-left:17%;">Enable (1) or disable (0) chunk
streaming mode of output. In chunk streaming mode, each
frame will be a moof fragment which forms a chunk.</p>

<p style="margin-left:11%;"><b>adaptation_sets</b>
<i>adaptation_sets</i></p>

<p style="margin-left:17%;">Assign streams to
AdaptationSets. Syntax is &quot;id=x,streams=a,b,c
id=y,streams=d,e&quot; with x and y being the IDs of the
adaptation sets and a,b,c,d and e are the indices of the
mapped streams.</p>

<p style="margin-left:17%; margin-top: 1em">To map all
video (or audio) streams to an AdaptationSet, &quot;v&quot;
(or &quot;a&quot;) can be used as stream identifier instead
of IDs.</p>

<p style="margin-left:17%; margin-top: 1em">When no
assignment is defined, this defaults to an AdaptationSet for
each stream.</p>

<p style="margin-left:11%;"><b>timeout</b>
<i>timeout</i></p>

<p style="margin-left:17%;">Set timeout for socket I/O
operations. Applicable only for <small>HTTP</small>
output.</p>

<p style="margin-left:11%;"><b>index_correction</b>
<i>index_correction</i></p>

<p style="margin-left:17%;">Enable (1) or Disable (0)
segment index correction logic. Applicable only when
<i>use_template</i> is enabled and <i>use_timeline</i> is
disabled.</p>

<p style="margin-left:17%; margin-top: 1em">When enabled,
the logic monitors the flow of segment indexes. If a
streams&rsquo;s segment index value is not at the expected
real time position, then the logic corrects that index
value.</p>

<p style="margin-left:17%; margin-top: 1em">Typically this
logic is needed in live streaming use cases. The network
bandwidth fluctuations are common during long run streaming.
Each fluctuation can cause the segment indexes fall behind
the expected real time position.</p>

<p style="margin-left:11%;"><b>format_options</b>
<i>options_list</i></p>

<p style="margin-left:17%;">Set container format (mp4/webm)
options using a &quot;:&quot; separated list of key=value
parameters. Values containing &quot;:&quot; special
characters must be escaped.</p>

<p style="margin-left:11%;"><b>global_sidx</b>
<i>global_sidx</i></p>

<p style="margin-left:17%;">Write global
<small>SIDX</small> atom. Applicable only for single file,
mp4 output, non-streaming mode.</p>

<p style="margin-left:11%;"><b>dash_segment_type</b>
<i>dash_segment_type</i></p>

<p style="margin-left:17%;">Possible values: <b><br>
auto</b></p>

<p style="margin-left:23%;">If this flag is set, the dash
segment files format will be selected based on the stream
codec. This is the default mode.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>mp4</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>If this flag is set, the dash segment files will be in
in <small>ISOBMFF</small> format.</p></td></tr>
</table>

<p style="margin-left:17%;"><b>webm</b></p>

<p style="margin-left:23%;">If this flag is set, the dash
segment files will be in in WebM format.</p>

<p style="margin-left:11%;"><b>ignore_io_errors</b>
<i>ignore_io_errors</i></p>

<p style="margin-left:17%;">Ignore <small>IO</small> errors
during open and write. Useful for long-duration runs with
network output.</p>

<p style="margin-left:11%;"><b>lhls</b> <i>lhls</i></p>

<p style="margin-left:17%;">Enable Low-latency
<small>HLS</small> ( <small>LHLS</small> ). Adds
#EXT-X-PREFETCH tag with current segment&rsquo;s
<small>URI.</small> Apple doesn&rsquo;t have an official
spec for <small>LHLS.</small> Meanwhile hls.js player folks
are trying to standardize a open <small>LHLS</small> spec.
The draft spec is available in
https://github.com/video-dev/hlsjs-rfcs/blob/lhls-spec/proposals/0001-lhls.md
This option will also try to comply with the above open
spec, till Apple&rsquo;s spec officially supports it.
Applicable only when <i>streaming</i> and
<i>hls_playlist</i> options are enabled. This is an
experimental feature.</p>


<p style="margin-left:11%;"><b>master_m3u8_publish_rate</b>
<i>master_m3u8_publish_rate</i></p>

<p style="margin-left:17%;">Publish master playlist
repeatedly every after specified number of segment
intervals.</p>


<p style="margin-left:11%; margin-top: 1em"><b>framecrc</b>
<br>
Per-packet <small>CRC</small> (Cyclic Redundancy Check)
testing format.</p>

<p style="margin-left:11%; margin-top: 1em">This muxer
computes and prints the Adler-32 <small>CRC</small> for each
audio and video packet. By default audio frames are
converted to signed 16-bit raw audio and video frames to raw
video before computing the <small>CRC.</small></p>

<p style="margin-left:11%; margin-top: 1em">The output of
the muxer consists of a line for each audio and video packet
of the form:</p>


<p style="margin-left:11%; margin-top: 1em">&lt;stream_index&gt;,
&lt;packet_dts&gt;, &lt;packet_pts&gt;,
&lt;packet_duration&gt;, &lt;packet_size&gt;,
0x&lt;CRC&gt;</p>


<p style="margin-left:11%; margin-top: 1em"><i><small>CRC</small></i>
is a hexadecimal number 0-padded to 8 digits containing the
<small>CRC</small> of the packet.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<p style="margin-left:11%; margin-top: 1em">For example to
compute the <small>CRC</small> of the audio and video frames
in <i><small>INPUT</small></i> , converted to raw audio and
video packets, and store it in the file <i>out.crc</i>:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i INPUT
-f framecrc out.crc</p>

<p style="margin-left:11%; margin-top: 1em">To print the
information to stdout, use the command:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i INPUT
-f framecrc -</p>

<p style="margin-left:11%; margin-top: 1em">With
<b>ffmpeg</b>, you can select the output format to which the
audio and video frames are encoded before computing the
<small>CRC</small> for each packet by specifying the audio
and video codec. For example, to compute the
<small>CRC</small> of each decoded input audio frame
converted to <small>PCM</small> unsigned 8-bit and of each
decoded input video frame converted to <small>MPEG-2</small>
video, use the command:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i INPUT
-c:a pcm_u8 -c:v mpeg2video -f framecrc -</p>

<p style="margin-left:11%; margin-top: 1em">See also the
<b>crc</b> muxer.</p>


<p style="margin-left:11%; margin-top: 1em"><b>framehash</b>
<br>
Per-packet hash testing format.</p>

<p style="margin-left:11%; margin-top: 1em">This muxer
computes and prints a cryptographic hash for each audio and
video packet. This can be used for packet-by-packet equality
checks without having to individually do a binary comparison
on each.</p>

<p style="margin-left:11%; margin-top: 1em">By default
audio frames are converted to signed 16-bit raw audio and
video frames to raw video before computing the hash, but the
output of explicit conversions to other codecs can also be
used. It uses the <small>SHA-256</small> cryptographic hash
function by default, but supports several other
algorithms.</p>

<p style="margin-left:11%; margin-top: 1em">The output of
the muxer consists of a line for each audio and video packet
of the form:</p>


<p style="margin-left:11%; margin-top: 1em">&lt;stream_index&gt;,
&lt;packet_dts&gt;, &lt;packet_pts&gt;,
&lt;packet_duration&gt;, &lt;packet_size&gt;,
&lt;hash&gt;</p>

<p style="margin-left:11%; margin-top: 1em"><i>hash</i> is
a hexadecimal number representing the computed hash for the
packet. <b><br>
hash</b> <i>algorithm</i></p>

<p style="margin-left:17%;">Use the cryptographic hash
function specified by the string <i>algorithm</i>. Supported
values include &quot;MD5&quot;, &quot;murmur3&quot;,
&quot;RIPEMD128&quot;, &quot;RIPEMD160&quot;,
&quot;RIPEMD256&quot;, &quot;RIPEMD320&quot;,
&quot;SHA160&quot;, &quot;SHA224&quot;, &quot;SHA256&quot;
(default), &quot;SHA512/224&quot;, &quot;SHA512/256&quot;,
&quot;SHA384&quot;, &quot;SHA512&quot;, &quot;CRC32&quot;
and &quot;adler32&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<p style="margin-left:11%; margin-top: 1em">To compute the
<small>SHA-256</small> hash of the audio and video frames in
<i><small>INPUT</small></i> , converted to raw audio and
video packets, and store it in the file
<i>out.sha256</i>:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i INPUT
-f framehash out.sha256</p>

<p style="margin-left:11%; margin-top: 1em">To print the
information to stdout, using the <small>MD5</small> hash
function, use the command:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i INPUT
-f framehash -hash md5 -</p>

<p style="margin-left:11%; margin-top: 1em">See also the
<b>hash</b> muxer.</p>


<p style="margin-left:11%; margin-top: 1em"><b>framemd5</b>
<br>
Per-packet <small>MD5</small> testing format.</p>

<p style="margin-left:11%; margin-top: 1em">This is a
variant of the <b>framehash</b> muxer. Unlike that muxer, it
defaults to using the <small>MD5</small> hash function.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<p style="margin-left:11%; margin-top: 1em">To compute the
<small>MD5</small> hash of the audio and video frames in
<i><small>INPUT</small></i> , converted to raw audio and
video packets, and store it in the file <i>out.md5</i>:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i INPUT
-f framemd5 out.md5</p>

<p style="margin-left:11%; margin-top: 1em">To print the
information to stdout, use the command:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i INPUT
-f framemd5 -</p>

<p style="margin-left:11%; margin-top: 1em">See also the
<b>framehash</b> and <b>md5</b> muxers.</p>

<p style="margin-left:11%; margin-top: 1em"><b>gif</b> <br>
Animated <small>GIF</small> muxer.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following options: <b><br>
loop</b></p>

<p style="margin-left:17%;">Set the number of times to loop
the output. Use &quot;-1&quot; for no loop, 0 for looping
indefinitely (default).</p>

<p style="margin-left:11%;"><b>final_delay</b></p>

<p style="margin-left:17%;">Force the delay (expressed in
centiseconds) after the last frame. Each frame ends with a
delay until the next frame. The default is &quot;-1&quot;,
which is a special value to tell the muxer to re-use the
previous delay. In case of a loop, you might want to
customize this value to mark a pause for instance.</p>

<p style="margin-left:11%; margin-top: 1em">For example, to
encode a gif looping 10 times, with a 5 seconds delay
between the loops:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i INPUT
-loop 10 -final_delay 500 out.gif</p>

<p style="margin-left:11%; margin-top: 1em">Note 1: if you
wish to extract the frames into separate <small>GIF</small>
files, you need to force the <b>image2</b> muxer:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i INPUT
-c:v gif -f image2 &quot;out%d.gif&quot;</p>

<p style="margin-left:11%; margin-top: 1em">Note 2: the
<small>GIF</small> format has a very large time base: the
delay between two frames can therefore not be smaller than
one centi second.</p>

<p style="margin-left:11%; margin-top: 1em"><b>hash</b>
<br>
Hash testing format.</p>

<p style="margin-left:11%; margin-top: 1em">This muxer
computes and prints a cryptographic hash of all the input
audio and video frames. This can be used for equality checks
without having to do a complete binary comparison.</p>

<p style="margin-left:11%; margin-top: 1em">By default
audio frames are converted to signed 16-bit raw audio and
video frames to raw video before computing the hash, but the
output of explicit conversions to other codecs can also be
used. Timestamps are ignored. It uses the
<small>SHA-256</small> cryptographic hash function by
default, but supports several other algorithms.</p>

<p style="margin-left:11%; margin-top: 1em">The output of
the muxer consists of a single line of the form:
<i>algo</i>=<i>hash</i>, where <i>algo</i> is a short string
representing the hash function used, and <i>hash</i> is a
hexadecimal number representing the computed hash. <b><br>
hash</b> <i>algorithm</i></p>

<p style="margin-left:17%;">Use the cryptographic hash
function specified by the string <i>algorithm</i>. Supported
values include &quot;MD5&quot;, &quot;murmur3&quot;,
&quot;RIPEMD128&quot;, &quot;RIPEMD160&quot;,
&quot;RIPEMD256&quot;, &quot;RIPEMD320&quot;,
&quot;SHA160&quot;, &quot;SHA224&quot;, &quot;SHA256&quot;
(default), &quot;SHA512/224&quot;, &quot;SHA512/256&quot;,
&quot;SHA384&quot;, &quot;SHA512&quot;, &quot;CRC32&quot;
and &quot;adler32&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<p style="margin-left:11%; margin-top: 1em">To compute the
<small>SHA-256</small> hash of the input converted to raw
audio and video, and store it in the file
<i>out.sha256</i>:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i INPUT
-f hash out.sha256</p>

<p style="margin-left:11%; margin-top: 1em">To print an
<small>MD5</small> hash to stdout use the command:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i INPUT
-f hash -hash md5 -</p>

<p style="margin-left:11%; margin-top: 1em">See also the
<b>framehash</b> muxer.</p>

<p style="margin-left:11%; margin-top: 1em"><b>hls</b> <br>
Apple <small>HTTP</small> Live Streaming muxer that segments
MPEG-TS according to the <small>HTTP</small> Live Streaming
( <small>HLS</small> ) specification.</p>

<p style="margin-left:11%; margin-top: 1em">It creates a
playlist file, and one or more segment files. The output
filename specifies the playlist filename.</p>

<p style="margin-left:11%; margin-top: 1em">By default, the
muxer creates a file for each segment produced. These files
have the same name as the playlist, followed by a sequential
number and a .ts extension.</p>

<p style="margin-left:11%; margin-top: 1em">Make sure to
require a closed <small>GOP</small> when encoding and to set
the <small>GOP</small> size to fit your segment time
constraint.</p>

<p style="margin-left:11%; margin-top: 1em">For example, to
convert an input file with <b>ffmpeg</b>:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i
in.mkv -c:v h264 -flags +cgop -g 30 -hls_time 1 out.m3u8</p>

<p style="margin-left:11%; margin-top: 1em">This example
will produce the playlist, <i>out.m3u8</i>, and segment
files: <i>out0.ts</i>, <i>out1.ts</i>, <i>out2.ts</i>,
etc.</p>

<p style="margin-left:11%; margin-top: 1em">See also the
<b>segment</b> muxer, which provides a more generic and
flexible implementation of a segmenter, and can be used to
perform <small>HLS</small> segmentation.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Options</i></p>

<p style="margin-left:11%; margin-top: 1em">This muxer
supports the following options: <b><br>
hls_init_time</b> <i>seconds</i></p>

<p style="margin-left:17%;">Set the initial target segment
length in seconds. Default value is <i>0</i>. Segment will
be cut on the next key frame after this time has passed on
the first m3u8 list. After the initial playlist is filled
<b>ffmpeg</b> will cut segments at duration equal to
&quot;hls_time&quot;</p>

<p style="margin-left:11%;"><b>hls_time</b>
<i>seconds</i></p>

<p style="margin-left:17%;">Set the target segment length
in seconds. Default value is 2. Segment will be cut on the
next key frame after this time has passed.</p>

<p style="margin-left:11%;"><b>hls_list_size</b>
<i>size</i></p>

<p style="margin-left:17%;">Set the maximum number of
playlist entries. If set to 0 the list file will contain all
the segments. Default value is 5.</p>

<p style="margin-left:11%;"><b>hls_delete_threshold</b>
<i>size</i></p>

<p style="margin-left:17%;">Set the number of unreferenced
segments to keep on disk before &quot;hls_flags
delete_segments&quot; deletes them. Increase this to allow
continue clients to download segments which were recently
referenced in the playlist. Default value is 1, meaning
segments older than &quot;hls_list_size+1&quot; will be
deleted.</p>

<p style="margin-left:11%;"><b>hls_ts_options</b>
<i>options_list</i></p>

<p style="margin-left:17%;">Set output format options using
a :-separated list of key=value parameters. Values
containing &quot;:&quot; special characters must be
escaped.</p>

<p style="margin-left:11%;"><b>hls_wrap</b> <i>wrap</i></p>

<p style="margin-left:17%;">This is a deprecated option,
you can use &quot;hls_list_size&quot; and &quot;hls_flags
delete_segments&quot; instead it</p>

<p style="margin-left:17%; margin-top: 1em">This option is
useful to avoid to fill the disk with many segment files,
and limits the maximum number of segment files written to
disk to <i>wrap</i>.</p>


<p style="margin-left:11%;"><b>hls_start_number_source</b></p>

<p style="margin-left:17%;">Start the playlist sequence
number (&quot;#EXT-X-MEDIA-SEQUENCE&quot;) according to the
specified source. Unless &quot;hls_flags single_file&quot;
is set, it also specifies source of starting sequence
numbers of segment and subtitle filenames. In any case, if
&quot;hls_flags append_list&quot; is set and read playlist
sequence number is greater than the specified start sequence
number, then that value will be used as start value.</p>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values: <b><br>
generic (default)</b></p>

<p style="margin-left:23%;">Set the starting sequence
numbers according to <i>start_number</i> option value.</p>

<p style="margin-left:17%;"><b>epoch</b></p>

<p style="margin-left:23%;">The start number will be the
seconds since epoch (1970-01-01 00:00:00)</p>

<p style="margin-left:17%;"><b>datetime</b></p>

<p style="margin-left:23%;">The start number will be based
on the current date/time as YYYYmmddHHMMSS. e.g.
20161231235759.</p>

<p style="margin-left:11%;"><b>start_number</b>
<i>number</i></p>

<p style="margin-left:17%;">Start the playlist sequence
number (&quot;#EXT-X-MEDIA-SEQUENCE&quot;) from the
specified <i>number</i> when <i>hls_start_number_source</i>
value is <i>generic</i>. (This is the default case.) Unless
&quot;hls_flags single_file&quot; is set, it also specifies
starting sequence numbers of segment and subtitle filenames.
Default value is 0.</p>

<p style="margin-left:11%;"><b>hls_allow_cache</b>
<i>allowcache</i></p>

<p style="margin-left:17%;">Explicitly set whether the
client <small>MAY</small> (1) or <small>MUST NOT</small> (0)
cache media segments.</p>

<p style="margin-left:11%;"><b>hls_base_url</b>
<i>baseurl</i></p>

<p style="margin-left:17%;">Append <i>baseurl</i> to every
entry in the playlist. Useful to generate playlists with
absolute paths.</p>

<p style="margin-left:17%; margin-top: 1em">Note that the
playlist sequence number must be unique for each segment and
it is not to be confused with the segment filename sequence
number which can be cyclic, for example if the <b>wrap</b>
option is specified.</p>

<p style="margin-left:11%;"><b>hls_segment_filename</b>
<i>filename</i></p>

<p style="margin-left:17%;">Set the segment filename.
Unless &quot;hls_flags single_file&quot; is set,
<i>filename</i> is used as a string format with the segment
number:</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
in.nut -hls_segment_filename 'file%03d.ts' out.m3u8</p>

<p style="margin-left:17%; margin-top: 1em">This example
will produce the playlist, <i>out.m3u8</i>, and segment
files: <i>file000.ts</i>, <i>file001.ts</i>,
<i>file002.ts</i>, etc.</p>


<p style="margin-left:17%; margin-top: 1em"><i>filename</i>
may contain full path or relative path specification, but
only the file name part without any path info will be
contained in the m3u8 segment list. Should a relative path
be specified, the path of the created segment files will be
relative to the current working directory. When
strftime_mkdir is set, the whole expanded value of
<i>filename</i> will be written into the m3u8 segment
list.</p>

<p style="margin-left:17%; margin-top: 1em">When
&quot;var_stream_map&quot; is set with two or more variant
streams, the <i>filename</i> pattern must contain the string
&quot;%v&quot;, this string specifies the position of
variant stream index in the generated segment file
names.</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i in.ts
-b:v:0 1000k -b:v:1 256k -b:a:0 64k -b:a:1 32k \ <br>
-map 0:v -map 0:a -map 0:v -map 0:a -f hls -var_stream_map
&quot;v:0,a:0 v:1,a:1&quot; \ <br>
-hls_segment_filename 'file_%v_%03d.ts' out_%v.m3u8</p>

<p style="margin-left:17%; margin-top: 1em">This example
will produce the playlists segment file sets:
<i>file_0_000.ts</i>, <i>file_0_001.ts</i>,
<i>file_0_002.ts</i>, etc. and <i>file_1_000.ts</i>,
<i>file_1_001.ts</i>, <i>file_1_002.ts</i>, etc.</p>

<p style="margin-left:17%; margin-top: 1em">The string
&quot;%v&quot; may be present in the filename or in the last
directory name containing the file, but only in one of them.
(Additionally, %v may appear multiple times in the last
sub-directory or filename.) If the string %v is present in
the directory name, then sub-directories are created after
expanding the directory name pattern. This enables creation
of segments corresponding to different variant streams in
subdirectories.</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i in.ts
-b:v:0 1000k -b:v:1 256k -b:a:0 64k -b:a:1 32k \ <br>
-map 0:v -map 0:a -map 0:v -map 0:a -f hls -var_stream_map
&quot;v:0,a:0 v:1,a:1&quot; \ <br>
-hls_segment_filename 'vs%v/file_%03d.ts' vs%v/out.m3u8</p>

<p style="margin-left:17%; margin-top: 1em">This example
will produce the playlists segment file sets:
<i>vs0/file_000.ts</i>, <i>vs0/file_001.ts</i>,
<i>vs0/file_002.ts</i>, etc. and <i>vs1/file_000.ts</i>,
<i>vs1/file_001.ts</i>, <i>vs1/file_002.ts</i>, etc.</p>

<p style="margin-left:11%;"><b>use_localtime</b></p>

<p style="margin-left:17%;">Same as strftime option, will
be deprecated.</p>

<p style="margin-left:11%;"><b>strftime</b></p>

<p style="margin-left:17%;">Use <b>strftime()</b> on
<i>filename</i> to expand the segment filename with
localtime. The segment number is also available in this
mode, but to use it, you need to specify
second_level_segment_index hls_flag and %%d will be the
specifier.</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
in.nut -strftime 1 -hls_segment_filename 'file-%Y%m%d-%s.ts'
out.m3u8</p>

<p style="margin-left:17%; margin-top: 1em">This example
will produce the playlist, <i>out.m3u8</i>, and segment
files: <i>file-20160215-1455569023.ts</i>,
<i>file-20160215-1455569024.ts</i>, etc. Note: On some
systems/environments, the %s specifier is not available. See
<br>
&quot;strftime()&quot; documentation.</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
in.nut -strftime 1 -hls_flags second_level_segment_index
-hls_segment_filename 'file-%Y%m%d-%%04d.ts' out.m3u8</p>

<p style="margin-left:17%; margin-top: 1em">This example
will produce the playlist, <i>out.m3u8</i>, and segment
files: <i>file-20160215-0001.ts</i>,
<i>file-20160215-0002.ts</i>, etc.</p>

<p style="margin-left:11%;"><b>use_localtime_mkdir</b></p>

<p style="margin-left:17%;">Same as strftime_mkdir option,
will be deprecated .</p>

<p style="margin-left:11%;"><b>strftime_mkdir</b></p>

<p style="margin-left:17%;">Used together with
-strftime_mkdir, it will create all subdirectories which is
expanded in <i>filename</i>.</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
in.nut -strftime 1 -strftime_mkdir 1 -hls_segment_filename
'%Y%m%d/file-%Y%m%d-%s.ts' out.m3u8</p>

<p style="margin-left:17%; margin-top: 1em">This example
will create a directory 201560215 (if it does not exist),
and then produce the playlist, <i>out.m3u8</i>, and segment
files: <i>20160215/file-20160215-1455569023.ts</i>,
<i>20160215/file-20160215-1455569024.ts</i>, etc.</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
in.nut -strftime 1 -strftime_mkdir 1 -hls_segment_filename
'%Y/%m/%d/file-%Y%m%d-%s.ts' out.m3u8</p>

<p style="margin-left:17%; margin-top: 1em">This example
will create a directory hierarchy 2016/02/15 (if any of them
do not exist), and then produce the playlist,
<i>out.m3u8</i>, and segment files:
<i>2016/02/15/file-20160215-1455569023.ts</i>,
<i>2016/02/15/file-20160215-1455569024.ts</i>, etc.</p>

<p style="margin-left:11%;"><b>hls_key_info_file</b>
<i>key_info_file</i></p>

<p style="margin-left:17%;">Use the information in
<i>key_info_file</i> for segment encryption. The first line
of <i>key_info_file</i> specifies the key <small>URI</small>
written to the playlist. The key <small>URL</small> is used
to access the encryption key during playback. The second
line specifies the path to the key file used to obtain the
key during the encryption process. The key file is read as a
single packed array of 16 octets in binary format. The
optional third line specifies the initialization vector (
<small>IV</small> ) as a hexadecimal string to be used
instead of the segment sequence number (default) for
encryption. Changes to <i>key_info_file</i> will result in
segment encryption with the new key/IV and an entry in the
playlist for the new key <small>URI/IV</small> if
&quot;hls_flags periodic_rekey&quot; is enabled.</p>

<p style="margin-left:17%; margin-top: 1em">Key info file
format:</p>

<p style="margin-left:17%; margin-top: 1em">&lt;key URI&gt;
<br>
&lt;key file path&gt; <br>
&lt;IV&gt; (optional)</p>

<p style="margin-left:17%; margin-top: 1em">Example key
URIs:</p>


<p style="margin-left:17%; margin-top: 1em">http://server/file.key
<br>
/path/to/file.key <br>
file.key</p>

<p style="margin-left:17%; margin-top: 1em">Example key
file paths:</p>

<p style="margin-left:17%; margin-top: 1em">file.key <br>
/path/to/file.key</p>

<p style="margin-left:17%; margin-top: 1em">Example
<small>IV:</small></p>


<p style="margin-left:17%; margin-top: 1em">0123456789ABCDEF0123456789ABCDEF</p>

<p style="margin-left:17%; margin-top: 1em">Key info file
example:</p>


<p style="margin-left:17%; margin-top: 1em">http://server/file.key
<br>
/path/to/file.key <br>
0123456789ABCDEF0123456789ABCDEF</p>

<p style="margin-left:17%; margin-top: 1em">Example shell
script:</p>

<p style="margin-left:17%; margin-top: 1em">#!/bin/sh <br>
BASE_URL=${1:-'.'} <br>
openssl rand 16 &gt; file.key <br>
echo $BASE_URL/file.key &gt; file.keyinfo <br>
echo file.key &gt;&gt; file.keyinfo <br>
echo $(openssl rand -hex 16) &gt;&gt; file.keyinfo <br>
ffmpeg -f lavfi -re -i testsrc -c:v h264 -hls_flags
delete_segments \ <br>
-hls_key_info_file file.keyinfo out.m3u8</p>

<p style="margin-left:11%;"><b>-hls_enc</b> <i>enc</i></p>

<p style="margin-left:17%;">Enable (1) or disable (0) the
<small>AES128</small> encryption. When enabled every segment
generated is encrypted and the encryption key is saved as
<i>playlist name</i>.key.</p>

<p style="margin-left:11%;"><b>-hls_enc_key</b>
<i>key</i></p>

<p style="margin-left:17%;">Hex-coded 16byte key to encrypt
the segments, by default it is randomly generated.</p>

<p style="margin-left:11%;"><b>-hls_enc_key_url</b>
<i>keyurl</i></p>

<p style="margin-left:17%;">If set, <i>keyurl</i> is
prepended instead of <i>baseurl</i> to the key filename in
the playlist.</p>

<p style="margin-left:11%;"><b>-hls_enc_iv</b>
<i>iv</i></p>

<p style="margin-left:17%;">Hex-coded 16byte initialization
vector for every segment instead of the autogenerated
ones.</p>

<p style="margin-left:11%;"><b>hls_segment_type</b>
<i>flags</i></p>

<p style="margin-left:17%;">Possible values: <b><br>
mpegts</b></p>

<p style="margin-left:23%;">Output segment files in
<small>MPEG-2</small> Transport Stream format. This is
compatible with all <small>HLS</small> versions.</p>

<p style="margin-left:17%;"><b>fmp4</b></p>

<p style="margin-left:23%;">Output segment files in
fragmented <small>MP4</small> format, similar to MPEG-DASH.
fmp4 files may be used in <small>HLS</small> version 7 and
above.</p>

<p style="margin-left:11%;"><b>hls_fmp4_init_filename</b>
<i>filename</i></p>

<p style="margin-left:17%;">Set filename to the fragment
files header file, default filename is <i>init.mp4</i>.</p>

<p style="margin-left:17%; margin-top: 1em">When
&quot;var_stream_map&quot; is set with two or more variant
streams, the <i>filename</i> pattern must contain the string
&quot;%v&quot;, this string specifies the position of
variant stream index in the generated init file names. The
string &quot;%v&quot; may be present in the filename or in
the last directory name containing the file. If the string
is present in the directory name, then sub-directories are
created after expanding the directory name pattern. This
enables creation of init files corresponding to different
variant streams in subdirectories.</p>

<p style="margin-left:11%;"><b>hls_flags</b>
<i>flags</i></p>

<p style="margin-left:17%;">Possible values: <b><br>
single_file</b></p>

<p style="margin-left:23%;">If this flag is set, the muxer
will store all segments in a single MPEG-TS file, and will
use byte ranges in the playlist. <small>HLS</small>
playlists generated with this way will have the version
number 4. For example:</p>

<p style="margin-left:23%; margin-top: 1em">ffmpeg -i
in.nut -hls_flags single_file out.m3u8</p>

<p style="margin-left:23%; margin-top: 1em">Will produce
the playlist, <i>out.m3u8</i>, and a single segment file,
<i>out.ts</i>.</p>

<p style="margin-left:17%;"><b>delete_segments</b></p>

<p style="margin-left:23%;">Segment files removed from the
playlist are deleted after a period of time equal to the
duration of the segment plus the duration of the
playlist.</p>

<p style="margin-left:17%;"><b>append_list</b></p>

<p style="margin-left:23%;">Append new segments into the
end of old segment list, and remove the
&quot;#EXT-X-ENDLIST&quot; from the old segment list.</p>

<p style="margin-left:17%;"><b>round_durations</b></p>

<p style="margin-left:23%;">Round the duration info in the
playlist file segment info to integer values, instead of
using floating point.</p>

<p style="margin-left:17%;"><b>discont_start</b></p>

<p style="margin-left:23%;">Add the
&quot;#EXT-X-DISCONTINUITY&quot; tag to the playlist, before
the first segment&rsquo;s information.</p>

<p style="margin-left:17%;"><b>omit_endlist</b></p>

<p style="margin-left:23%;">Do not append the
&quot;EXT-X-ENDLIST&quot; tag at the end of the
playlist.</p>

<p style="margin-left:17%;"><b>periodic_rekey</b></p>

<p style="margin-left:23%;">The file specified by
&quot;hls_key_info_file&quot; will be checked periodically
and detect updates to the encryption info. Be sure to
replace this file atomically, including the file containing
the <small>AES</small> encryption key.</p>


<p style="margin-left:17%;"><b>independent_segments</b></p>

<p style="margin-left:23%;">Add the
&quot;#EXT-X-INDEPENDENT-SEGMENTS&quot; to playlists that
has video segments and when all the segments of that
playlist are guaranteed to start with a Key frame.</p>

<p style="margin-left:17%;"><b>iframes_only</b></p>

<p style="margin-left:23%;">Add the
&quot;#EXT-X-I-FRAMES-ONLY&quot; to playlists that has video
segments and can play only I-frames in the
&quot;#EXT-X-BYTERANGE&quot; mode.</p>

<p style="margin-left:17%;"><b>split_by_time</b></p>

<p style="margin-left:23%;">Allow segments to start on
frames other than keyframes. This improves behavior on some
players when the time between keyframes is inconsistent, but
may make things worse on others, and can cause some oddities
during seeking. This flag should be used with the
&quot;hls_time&quot; option.</p>

<p style="margin-left:17%;"><b>program_date_time</b></p>

<p style="margin-left:23%;">Generate
&quot;EXT-X-PROGRAM-DATE-TIME&quot; tags.</p>


<p style="margin-left:17%;"><b>second_level_segment_index</b></p>

<p style="margin-left:23%;">Makes it possible to use
segment indexes as %%d in hls_segment_filename expression
besides date/time values when strftime is on. To get fixed
width numbers with trailing zeroes, %%0xd format is
available where x is the required width.</p>


<p style="margin-left:17%;"><b>second_level_segment_size</b></p>

<p style="margin-left:23%;">Makes it possible to use
segment sizes (counted in bytes) as %%s in
hls_segment_filename expression besides date/time values
when strftime is on. To get fixed width numbers with
trailing zeroes, %%0xs format is available where x is the
required width.</p>


<p style="margin-left:17%;"><b>second_level_segment_duration</b></p>

<p style="margin-left:23%;">Makes it possible to use
segment duration (calculated in microseconds) as %%t in
hls_segment_filename expression besides date/time values
when strftime is on. To get fixed width numbers with
trailing zeroes, %%0xt format is available where x is the
required width.</p>

<p style="margin-left:23%; margin-top: 1em">ffmpeg -i
sample.mpeg \ <br>
-f hls -hls_time 3 -hls_list_size 5 \ <br>
-hls_flags
second_level_segment_index+second_level_segment_size+second_level_segment_duration
\ <br>
-strftime 1 -strftime_mkdir 1 -hls_segment_filename
&quot;segment_%Y%m%d%H%M%S_%%04d_%%08s_%%013t.ts&quot;
stream.m3u8</p>

<p style="margin-left:23%; margin-top: 1em">This will
produce segments like this:
<i>segment_20170102194334_0003_00122200_0000003000000.ts</i>,
<i>segment_20170102194334_0004_00120072_0000003000000.ts</i>
etc.</p>

<p style="margin-left:17%;"><b>temp_file</b></p>

<p style="margin-left:23%;">Write segment data to
filename.tmp and rename to filename only once the segment is
complete. A webserver serving up segments can be configured
to reject requests to *.tmp to prevent access to in-progress
segments before they have been added to the m3u8 playlist.
This flag also affects how m3u8 playlist files are created.
If this flag is set, all playlist files will written into
temporary file and renamed after they are complete,
similarly as segments are handled. But playlists with
&quot;file&quot; protocol and with type
(&quot;hls_playlist_type&quot;) other than &quot;vod&quot;
are always written into temporary file regardles of this
flag. Master playlist files (&quot;master_pl_name&quot;), if
any, with &quot;file&quot; protocol, are always written into
temporary file regardles of this flag if
&quot;master_pl_publish_rate&quot; value is other than
zero.</p>

<p style="margin-left:11%;"><b>hls_playlist_type
event</b></p>

<p style="margin-left:17%;">Emit
&quot;#EXT-X-PLAYLIST-TYPE:EVENT&quot; in the m3u8 header.
Forces <b>hls_list_size</b> to 0; the playlist can only be
appended to.</p>

<p style="margin-left:11%;"><b>hls_playlist_type
vod</b></p>

<p style="margin-left:17%;">Emit
&quot;#EXT-X-PLAYLIST-TYPE:VOD&quot; in the m3u8 header.
Forces <b>hls_list_size</b> to 0; the playlist must not
change.</p>

<p style="margin-left:11%;"><b>method</b></p>

<p style="margin-left:17%;">Use the given
<small>HTTP</small> method to create the hls files.</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -re -i
in.ts -f hls -method PUT
http://example.com/live/out.m3u8</p>

<p style="margin-left:17%; margin-top: 1em">This example
will upload all the mpegts segment files to the
<small>HTTP</small> server using the <small>HTTP PUT</small>
method, and update the m3u8 files every &quot;refresh&quot;
times using the same method. Note that the
<small>HTTP</small> server must support the given method for
uploading files.</p>

<p style="margin-left:11%;"><b>http_user_agent</b></p>

<p style="margin-left:17%;">Override User-Agent field in
<small>HTTP</small> header. Applicable only for
<small>HTTP</small> output.</p>

<p style="margin-left:11%;"><b>var_stream_map</b></p>

<p style="margin-left:17%;">Map string which specifies how
to group the audio, video and subtitle streams into
different variant streams. The variant stream groups are
separated by space. Expected string format is like this
&quot;a:0,v:0 a:1,v:1 ....&quot;. Here a:, v:, s: are the
keys to specify audio, video and subtitle streams
respectively. Allowed values are 0 to 9 (limited just based
on practical usage).</p>

<p style="margin-left:17%; margin-top: 1em">When there are
two or more variant streams, the output filename pattern
must contain the string &quot;%v&quot;, this string
specifies the position of variant stream index in the output
media playlist filenames. The string &quot;%v&quot; may be
present in the filename or in the last directory name
containing the file. If the string is present in the
directory name, then sub-directories are created after
expanding the directory name pattern. This enables creation
of variant streams in subdirectories.</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -re -i
in.ts -b:v:0 1000k -b:v:1 256k -b:a:0 64k -b:a:1 32k \ <br>
-map 0:v -map 0:a -map 0:v -map 0:a -f hls -var_stream_map
&quot;v:0,a:0 v:1,a:1&quot; \ <br>
http://example.com/live/out_%v.m3u8</p>

<p style="margin-left:17%; margin-top: 1em">This example
creates two hls variant streams. The first variant stream
will contain video stream of bitrate 1000k and audio stream
of bitrate 64k and the second variant stream will contain
video stream of bitrate 256k and audio stream of bitrate
32k. Here, two media playlist with file names out_0.m3u8 and
out_1.m3u8 will be created. If you want something meaningful
text instead of indexes in result names, you may specify
names for each or some of the variants as in the following
example.</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -re -i
in.ts -b:v:0 1000k -b:v:1 256k -b:a:0 64k -b:a:1 32k \ <br>
-map 0:v -map 0:a -map 0:v -map 0:a -f hls -var_stream_map
&quot;v:0,a:0,name:my_hd v:1,a:1,name:my_sd&quot; \ <br>
http://example.com/live/out_%v.m3u8</p>

<p style="margin-left:17%; margin-top: 1em">This example
creates two hls variant streams as in the previous one. But
here, the two media playlist with file names out_my_hd.m3u8
and out_my_sd.m3u8 will be created.</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -re -i
in.ts -b:v:0 1000k -b:v:1 256k -b:a:0 64k \ <br>
-map 0:v -map 0:a -map 0:v -f hls -var_stream_map &quot;v:0
a:0 v:1&quot; \ <br>
http://example.com/live/out_%v.m3u8</p>

<p style="margin-left:17%; margin-top: 1em">This example
creates three hls variant streams. The first variant stream
will be a video only stream with video bitrate 1000k, the
second variant stream will be an audio only stream with
bitrate 64k and the third variant stream will be a video
only stream with bitrate 256k. Here, three media playlist
with file names out_0.m3u8, out_1.m3u8 and out_2.m3u8 will
be created.</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -re -i
in.ts -b:v:0 1000k -b:v:1 256k -b:a:0 64k -b:a:1 32k \ <br>
-map 0:v -map 0:a -map 0:v -map 0:a -f hls -var_stream_map
&quot;v:0,a:0 v:1,a:1&quot; \ <br>
http://example.com/live/vs_%v/out.m3u8</p>

<p style="margin-left:17%; margin-top: 1em">This example
creates the variant streams in subdirectories. Here, the
first media playlist is created at
<i>http://example.com/live/vs_0/out.m3u8</i> and the second
one at <i>http://example.com/live/vs_1/out.m3u8</i>.</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -re -i
in.ts -b:a:0 32k -b:a:1 64k -b:v:0 1000k -b:v:1 3000k \ <br>
-map 0:a -map 0:a -map 0:v -map 0:v -f hls \ <br>
-var_stream_map &quot;a:0,agroup:aud_low a:1,agroup:aud_high
v:0,agroup:aud_low v:1,agroup:aud_high&quot; \ <br>
-master_pl_name master.m3u8 \ <br>
http://example.com/live/out_%v.m3u8</p>

<p style="margin-left:17%; margin-top: 1em">This example
creates two audio only and two video only variant streams.
In addition to the #EXT-X-STREAM-INF tag for each variant
stream in the master playlist, #EXT-X-MEDIA tag is also
added for the two audio only variant streams and they are
mapped to the two video only variant streams with audio
group names &rsquo;aud_low&rsquo; and
&rsquo;aud_high&rsquo;.</p>

<p style="margin-left:17%; margin-top: 1em">By default, a
single hls variant containing all the encoded streams is
created.</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -re -i
in.ts -b:a:0 32k -b:a:1 64k -b:v:0 1000k \ <br>
-map 0:a -map 0:a -map 0:v -f hls \ <br>
-var_stream_map &quot;a:0,agroup:aud_low,default:yes
a:1,agroup:aud_low v:0,agroup:aud_low&quot; \ <br>
-master_pl_name master.m3u8 \ <br>
http://example.com/live/out_%v.m3u8</p>

<p style="margin-left:17%; margin-top: 1em">This example
creates two audio only and one video only variant streams.
In addition to the #EXT-X-STREAM-INF tag for each variant
stream in the master playlist, #EXT-X-MEDIA tag is also
added for the two audio only variant streams and they are
mapped to the one video only variant streams with audio
group name &rsquo;aud_low&rsquo;, and the audio group have
default stat is <small>NO</small> or <small>YES.</small></p>

<p style="margin-left:17%; margin-top: 1em">By default, a
single hls variant containing all the encoded streams is
created.</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -re -i
in.ts -b:a:0 32k -b:a:1 64k -b:v:0 1000k \ <br>
-map 0:a -map 0:a -map 0:v -f hls \ <br>
-var_stream_map
&quot;a:0,agroup:aud_low,default:yes,language:ENG
a:1,agroup:aud_low,language:CHN v:0,agroup:aud_low&quot; \
<br>
-master_pl_name master.m3u8 \ <br>
http://example.com/live/out_%v.m3u8</p>

<p style="margin-left:17%; margin-top: 1em">This example
creates two audio only and one video only variant streams.
In addition to the #EXT-X-STREAM-INF tag for each variant
stream in the master playlist, #EXT-X-MEDIA tag is also
added for the two audio only variant streams and they are
mapped to the one video only variant streams with audio
group name &rsquo;aud_low&rsquo;, and the audio group have
default stat is <small>NO</small> or <small>YES,</small> and
one audio have and language is named <small>ENG,</small> the
other audio language is named <small>CHN.</small></p>

<p style="margin-left:17%; margin-top: 1em">By default, a
single hls variant containing all the encoded streams is
created.</p>

<p style="margin-left:11%;"><b>cc_stream_map</b></p>

<p style="margin-left:17%;">Map string which specifies
different closed captions groups and their attributes. The
closed captions stream groups are separated by space.
Expected string format is like this &quot;ccgroup:&lt;group
name&gt;,instreamid:&lt; <small>INSTREAM-ID</small>
&gt;,language:&lt;language code&gt; ....&quot;.
&rsquo;ccgroup&rsquo; and &rsquo;instreamid&rsquo; are
mandatory attributes. &rsquo;language&rsquo; is an optional
attribute. The closed captions groups configured using this
option are mapped to different variant streams by providing
the same &rsquo;ccgroup&rsquo; name in the
&quot;var_stream_map&quot; string. If
&quot;var_stream_map&quot; is not set, then the first
available ccgroup in &quot;cc_stream_map&quot; is mapped to
the output variant stream. The examples for these two use
cases are given below.</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -re -i
in.ts -b:v 1000k -b:a 64k -a53cc 1 -f hls \ <br>
-cc_stream_map
&quot;ccgroup:cc,instreamid:CC1,language:en&quot; \ <br>
-master_pl_name master.m3u8 \ <br>
http://example.com/live/out.m3u8</p>

<p style="margin-left:17%; margin-top: 1em">This example
adds &quot;#EXT-X-MEDIA&quot; tag with
&quot;TYPE=CLOSED-CAPTIONS&quot; in the master playlist with
group name &rsquo;cc&rsquo;, language &rsquo;en&rsquo;
(english) and INSTREAM-ID &rsquo; <small>CC1</small>
&rsquo;. Also, it adds &quot;CLOSED-CAPTIONS&quot; attribute
with group name &rsquo;cc&rsquo; for the output variant
stream.</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -re -i
in.ts -b:v:0 1000k -b:v:1 256k -b:a:0 64k -b:a:1 32k \ <br>
-a53cc:0 1 -a53cc:1 1\ <br>
-map 0:v -map 0:a -map 0:v -map 0:a -f hls \ <br>
-cc_stream_map &quot;ccgroup:cc,instreamid:CC1,language:en
ccgroup:cc,instreamid:CC2,language:sp&quot; \ <br>
-var_stream_map &quot;v:0,a:0,ccgroup:cc
v:1,a:1,ccgroup:cc&quot; \ <br>
-master_pl_name master.m3u8 \ <br>
http://example.com/live/out_%v.m3u8</p>

<p style="margin-left:17%; margin-top: 1em">This example
adds two &quot;#EXT-X-MEDIA&quot; tags with
&quot;TYPE=CLOSED-CAPTIONS&quot; in the master playlist for
the INSTREAM-IDs &rsquo; <small>CC1</small> &rsquo; and
&rsquo; <small>CC2</small> &rsquo;. Also, it adds
&quot;CLOSED-CAPTIONS&quot; attribute with group name
&rsquo;cc&rsquo; for the two output variant streams.</p>

<p style="margin-left:11%;"><b>master_pl_name</b></p>

<p style="margin-left:17%;">Create <small>HLS</small>
master playlist with the given name.</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -re -i
in.ts -f hls -master_pl_name master.m3u8
http://example.com/live/out.m3u8</p>

<p style="margin-left:17%; margin-top: 1em">This example
creates <small>HLS</small> master playlist with name
master.m3u8 and it is published at
http://example.com/live/</p>


<p style="margin-left:11%;"><b>master_pl_publish_rate</b></p>

<p style="margin-left:17%;">Publish master play list
repeatedly every after specified number of segment
intervals.</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -re -i
in.ts -f hls -master_pl_name master.m3u8 \ <br>
-hls_time 2 -master_pl_publish_rate 30
http://example.com/live/out.m3u8</p>

<p style="margin-left:17%; margin-top: 1em">This example
creates <small>HLS</small> master playlist with name
master.m3u8 and keep publishing it repeatedly every after 30
segments i.e. every after 60s.</p>

<p style="margin-left:11%;"><b>http_persistent</b></p>

<p style="margin-left:17%;">Use persistent
<small>HTTP</small> connections. Applicable only for
<small>HTTP</small> output.</p>

<p style="margin-left:11%;"><b>timeout</b></p>

<p style="margin-left:17%;">Set timeout for socket I/O
operations. Applicable only for <small>HTTP</small>
output.</p>

<p style="margin-left:11%;"><b>-ignore_io_errors</b></p>

<p style="margin-left:17%;">Ignore <small>IO</small> errors
during open, write and delete. Useful for long-duration runs
with network output.</p>

<p style="margin-left:11%;"><b>headers</b></p>

<p style="margin-left:17%;">Set custom <small>HTTP</small>
headers, can override built in default headers. Applicable
only for <small>HTTP</small> output.</p>

<p style="margin-left:11%; margin-top: 1em"><b>ico</b>
<small><br>
ICO</small> file muxer.</p>


<p style="margin-left:11%; margin-top: 1em">Microsoft&rsquo;s
icon file format ( <small>ICO</small> ) has some strict
limitations that should be noted:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Size cannot exceed 256 pixels in any dimension</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Only <small>BMP</small> and <small>PNG</small> images
can be stored</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>If a <small>BMP</small> image is used, it must be one of
the following pixel formats:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">BMP Bit Depth
FFmpeg Pixel Format <br>
1bit pal8 <br>
4bit pal8 <br>
8bit pal8 <br>
16bit rgb555le <br>
24bit bgr24 <br>
32bit bgra</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">If a <small>BMP</small> image is
used, it must use the <small>BITMAPINFOHEADER DIB</small>
header</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>If a <small>PNG</small> image is used, it must use the
rgba pixel format</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>image2</b>
<br>
Image file muxer.</p>

<p style="margin-left:11%; margin-top: 1em">The image file
muxer writes video frames to image files.</p>

<p style="margin-left:11%; margin-top: 1em">The output
filenames are specified by a pattern, which can be used to
produce sequentially numbered series of files. The pattern
may contain the string &quot;%d&quot; or
&quot;%0<i>N</i>d&quot;, this string specifies the position
of the characters representing a numbering in the filenames.
If the form &quot;%0<i>N</i>d&quot; is used, the string
representing the number in each filename is 0-padded to
<i>N</i> digits. The literal character &rsquo;%&rsquo; can
be specified in the pattern with the string
&quot;%%&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">If the pattern
contains &quot;%d&quot; or &quot;%0<i>N</i>d&quot;, the
first filename of the file list specified will contain the
number 1, all the following numbers will be sequential.</p>

<p style="margin-left:11%; margin-top: 1em">The pattern may
contain a suffix which is used to automatically determine
the format of the image files to write.</p>

<p style="margin-left:11%; margin-top: 1em">For example the
pattern &quot;img-%03d.bmp&quot; will specify a sequence of
filenames of the form <i>img-001.bmp</i>,
<i>img-002.bmp</i>, ..., <i>img-010.bmp</i>, etc. The
pattern &quot;img%%-%d.jpg&quot; will specify a sequence of
filenames of the form <i>img%-1.jpg</i>, <i>img%-2.jpg</i>,
..., <i>img%-10.jpg</i>, etc.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<p style="margin-left:11%; margin-top: 1em">The following
example shows how to use <b>ffmpeg</b> for creating a
sequence of files <i>img-001.jpeg</i>, <i>img-002.jpeg</i>,
..., taking one image every second from the input video:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i
in.avi -vsync cfr -r 1 -f image2 'img-%03d.jpeg'</p>

<p style="margin-left:11%; margin-top: 1em">Note that with
<b>ffmpeg</b>, if the format is not specified with the
&quot;-f&quot; option and the output filename specifies an
image file format, the image2 muxer is automatically
selected, so the previous command can be written as:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i
in.avi -vsync cfr -r 1 'img-%03d.jpeg'</p>

<p style="margin-left:11%; margin-top: 1em">Note also that
the pattern must not necessarily contain &quot;%d&quot; or
&quot;%0<i>N</i>d&quot;, for example to create a single
image file <i>img.jpeg</i> from the start of the input video
you can employ the command:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i
in.avi -f image2 -frames:v 1 img.jpeg</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>strftime</b> option allows you to expand the filename
with date and time information. Check the documentation of
the &quot;strftime()&quot; function for the syntax.</p>

<p style="margin-left:11%; margin-top: 1em">For example to
generate image files from the &quot;strftime()&quot;
&quot;%Y-%m-%d_%H-%M-%S&quot; pattern, the following
<b>ffmpeg</b> command can be used:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -f v4l2
-r 1 -i /dev/video0 -f image2 -strftime 1
&quot;%Y-%m-%d_%H-%M-%S.jpg&quot;</p>

<p style="margin-left:11%; margin-top: 1em">You can set the
file name with current frame&rsquo;s <small>PTS:</small></p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -f v4l2
-r 1 -i /dev/video0 -copyts -f image2 -frame_pts true
%d.jpg&quot;</p>

<p style="margin-left:11%; margin-top: 1em"><i>Options</i>
<b><br>
frame_pts</b></p>

<p style="margin-left:17%;">If set to 1, expand the
filename with pts from pkt-&gt;pts. Default value is 0.</p>

<p style="margin-left:11%;"><b>start_number</b></p>

<p style="margin-left:17%;">Start the sequence from the
specified number. Default value is 1.</p>

<p style="margin-left:11%;"><b>update</b></p>

<p style="margin-left:17%;">If set to 1, the filename will
always be interpreted as just a filename, not a pattern, and
the corresponding file will be continuously overwritten with
new images. Default value is 0.</p>

<p style="margin-left:11%;"><b>strftime</b></p>

<p style="margin-left:17%;">If set to 1, expand the
filename with date and time information from
&quot;strftime()&quot;. Default value is 0.</p>

<p style="margin-left:11%; margin-top: 1em">The image muxer
supports the .Y.U.V image file format. This format is
special in that that each image frame consists of three
files, for each of the <small>YUV420P</small> components. To
read or write this image file format, specify the name of
the &rsquo;.Y&rsquo; file. The muxer will automatically open
the &rsquo;.U&rsquo; and &rsquo;.V&rsquo; files as
required.</p>


<p style="margin-left:11%; margin-top: 1em"><b>matroska</b>
<br>
Matroska container muxer.</p>

<p style="margin-left:11%; margin-top: 1em">This muxer
implements the matroska and webm container specs.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Metadata</i></p>

<p style="margin-left:11%; margin-top: 1em">The recognized
metadata settings in this muxer are: <b><br>
title</b></p>

<p style="margin-left:17%;">Set title name provided to a
single track.</p>

<p style="margin-left:11%;"><b>language</b></p>

<p style="margin-left:17%;">Specify the language of the
track in the Matroska languages form.</p>

<p style="margin-left:17%; margin-top: 1em">The language
can be either the 3 letters bibliographic
<small>ISO-639-2</small> ( <small>ISO 639-2/B</small> ) form
(like &quot;fre&quot; for French), or a language code mixed
with a country code for specialities in languages (like
&quot;fre-ca&quot; for Canadian French).</p>

<p style="margin-left:11%;"><b>stereo_mode</b></p>

<p style="margin-left:17%;">Set stereo 3D video layout of
two views in a single video track.</p>

<p style="margin-left:17%; margin-top: 1em">The following
values are recognized: <b><br>
mono</b></p>

<p style="margin-left:23%;">video is not stereo</p>

<p style="margin-left:17%;"><b>left_right</b></p>

<p style="margin-left:23%;">Both views are arranged side by
side, Left-eye view is on the left</p>

<p style="margin-left:17%;"><b>bottom_top</b></p>

<p style="margin-left:23%;">Both views are arranged in
top-bottom orientation, Left-eye view is at bottom</p>

<p style="margin-left:17%;"><b>top_bottom</b></p>

<p style="margin-left:23%;">Both views are arranged in
top-bottom orientation, Left-eye view is on top</p>

<p style="margin-left:17%;"><b>checkerboard_rl</b></p>

<p style="margin-left:23%;">Each view is arranged in a
checkerboard interleaved pattern, Left-eye view being
first</p>

<p style="margin-left:17%;"><b>checkerboard_lr</b></p>

<p style="margin-left:23%;">Each view is arranged in a
checkerboard interleaved pattern, Right-eye view being
first</p>

<p style="margin-left:17%;"><b>row_interleaved_rl</b></p>

<p style="margin-left:23%;">Each view is constituted by a
row based interleaving, Right-eye view is first row</p>

<p style="margin-left:17%;"><b>row_interleaved_lr</b></p>

<p style="margin-left:23%;">Each view is constituted by a
row based interleaving, Left-eye view is first row</p>

<p style="margin-left:17%;"><b>col_interleaved_rl</b></p>

<p style="margin-left:23%;">Both views are arranged in a
column based interleaving manner, Right-eye view is first
column</p>

<p style="margin-left:17%;"><b>col_interleaved_lr</b></p>

<p style="margin-left:23%;">Both views are arranged in a
column based interleaving manner, Left-eye view is first
column</p>

<p style="margin-left:17%;"><b>anaglyph_cyan_red</b></p>

<p style="margin-left:23%;">All frames are in anaglyph
format viewable through red-cyan filters</p>

<p style="margin-left:17%;"><b>right_left</b></p>

<p style="margin-left:23%;">Both views are arranged side by
side, Right-eye view is on the left</p>


<p style="margin-left:17%;"><b>anaglyph_green_magenta</b></p>

<p style="margin-left:23%;">All frames are in anaglyph
format viewable through green-magenta filters</p>

<p style="margin-left:17%;"><b>block_lr</b></p>

<p style="margin-left:23%;">Both eyes laced in one Block,
Left-eye view is first</p>

<p style="margin-left:17%;"><b>block_rl</b></p>

<p style="margin-left:23%;">Both eyes laced in one Block,
Right-eye view is first</p>

<p style="margin-left:11%; margin-top: 1em">For example a
3D WebM clip can be created using the following command
line:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i
sample_left_right_clip.mpg -an -c:v libvpx -metadata
stereo_mode=left_right -y stereo_clip.webm</p>


<p style="margin-left:11%; margin-top: 1em"><i>Options</i></p>

<p style="margin-left:11%; margin-top: 1em">This muxer
supports the following options: <b><br>
reserve_index_space</b></p>

<p style="margin-left:17%;">By default, this muxer writes
the index for seeking (called cues in Matroska terms) at the
end of the file, because it cannot know in advance how much
space to leave for the index at the beginning of the file.
However for some use cases -- e.g. streaming where seeking
is possible but slow -- it is useful to put the index at the
beginning of the file.</p>

<p style="margin-left:17%; margin-top: 1em">If this option
is set to a non-zero value, the muxer will reserve a given
amount of space in the file header and then try to write the
cues there when the muxing finishes. If the available space
does not suffice, muxing will fail. A safe size for most use
cases should be about 50kB per hour of video.</p>

<p style="margin-left:17%; margin-top: 1em">Note that cues
are only written if the output is seekable and this option
will have no effect if it is not.</p>

<p style="margin-left:11%; margin-top: 1em"><b>md5</b>
<small><br>
MD5</small> testing format.</p>

<p style="margin-left:11%; margin-top: 1em">This is a
variant of the <b>hash</b> muxer. Unlike that muxer, it
defaults to using the <small>MD5</small> hash function.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<p style="margin-left:11%; margin-top: 1em">To compute the
<small>MD5</small> hash of the input converted to raw audio
and video, and store it in the file <i>out.md5</i>:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i INPUT
-f md5 out.md5</p>

<p style="margin-left:11%; margin-top: 1em">You can print
the <small>MD5</small> to stdout with the command:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i INPUT
-f md5 -</p>

<p style="margin-left:11%; margin-top: 1em">See also the
<b>hash</b> and <b>framemd5</b> muxers.</p>

<p style="margin-left:11%; margin-top: 1em"><b>mov, mp4,
ismv</b> <small><br>
MOV/MP4/ISMV</small> (Smooth Streaming) muxer.</p>

<p style="margin-left:11%; margin-top: 1em">The
mov/mp4/ismv muxer supports fragmentation. Normally, a
<small>MOV/MP4</small> file has all the metadata about all
packets stored in one location (written at the end of the
file, it can be moved to the start for better playback by
adding <i>faststart</i> to the <i>movflags</i>, or using the
<b>qt-faststart</b> tool). A fragmented file consists of a
number of fragments, where packets and metadata about these
packets are stored together. Writing a fragmented file has
the advantage that the file is decodable even if the writing
is interrupted (while a normal <small>MOV/MP4</small> is
undecodable if it is not properly finished), and it requires
less memory when writing very long files (since writing
normal <small>MOV/MP4</small> files stores info about every
single packet in memory until the file is closed). The
downside is that it is less compatible with other
applications.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Options</i></p>

<p style="margin-left:11%; margin-top: 1em">Fragmentation
is enabled by setting one of the AVOptions that define how
to cut the file into fragments: <b><br>
-moov_size</b> <i>bytes</i></p>

<p style="margin-left:17%;">Reserves space for the moov
atom at the beginning of the file instead of placing the
moov atom at the end. If the space reserved is insufficient,
muxing will fail.</p>

<p style="margin-left:11%;"><b>-movflags
frag_keyframe</b></p>

<p style="margin-left:17%;">Start a new fragment at each
video keyframe.</p>

<p style="margin-left:11%;"><b>-frag_duration</b>
<i>duration</i></p>

<p style="margin-left:17%;">Create fragments that are
<i>duration</i> microseconds long.</p>

<p style="margin-left:11%;"><b>-frag_size</b>
<i>size</i></p>

<p style="margin-left:17%;">Create fragments that contain
up to <i>size</i> bytes of payload data.</p>

<p style="margin-left:11%;"><b>-movflags
frag_custom</b></p>

<p style="margin-left:17%;">Allow the caller to manually
choose when to cut fragments, by calling
&quot;av_write_frame(ctx, NULL)&quot; to write a fragment
with the packets written so far. (This is only useful with
other applications integrating libavformat, not from
<b>ffmpeg</b>.)</p>

<p style="margin-left:11%;"><b>-min_frag_duration</b>
<i>duration</i></p>

<p style="margin-left:17%;">Don&rsquo;t create fragments
that are shorter than <i>duration</i> microseconds long.</p>

<p style="margin-left:11%; margin-top: 1em">If more than
one condition is specified, fragments are cut when one of
the specified conditions is fulfilled. The exception to this
is &quot;-min_frag_duration&quot;, which has to be fulfilled
for any of the other conditions to apply.</p>

<p style="margin-left:11%; margin-top: 1em">Additionally,
the way the output file is written can be adjusted through a
few other options: <b><br>
-movflags empty_moov</b></p>

<p style="margin-left:17%;">Write an initial moov atom
directly at the start of the file, without describing any
samples in it. Generally, an mdat/moov pair is written at
the start of the file, as a normal <small>MOV/MP4</small>
file, containing only a short portion of the file. With this
option set, there is no initial mdat atom, and the moov atom
only describes the tracks but has a zero duration.</p>

<p style="margin-left:17%; margin-top: 1em">This option is
implicitly set when writing ismv (Smooth Streaming)
files.</p>

<p style="margin-left:11%;"><b>-movflags
separate_moof</b></p>

<p style="margin-left:17%;">Write a separate moof (movie
fragment) atom for each track. Normally, packets for all
tracks are written in a moof atom (which is slightly more
efficient), but with this option set, the muxer writes one
moof/mdat pair for each track, making it easier to separate
tracks.</p>

<p style="margin-left:17%; margin-top: 1em">This option is
implicitly set when writing ismv (Smooth Streaming)
files.</p>

<p style="margin-left:11%;"><b>-movflags skip_sidx</b></p>

<p style="margin-left:17%;">Skip writing of sidx atom. When
bitrate overhead due to sidx atom is high, this option could
be used for cases where sidx atom is not mandatory. When
global_sidx flag is enabled, this option will be
ignored.</p>

<p style="margin-left:11%;"><b>-movflags faststart</b></p>

<p style="margin-left:17%;">Run a second pass moving the
index (moov atom) to the beginning of the file. This
operation can take a while, and will not work in various
situations such as fragmented output, thus it is not enabled
by default.</p>

<p style="margin-left:11%;"><b>-movflags rtphint</b></p>

<p style="margin-left:17%;">Add <small>RTP</small> hinting
tracks to the output file.</p>

<p style="margin-left:11%;"><b>-movflags
disable_chpl</b></p>

<p style="margin-left:17%;">Disable Nero chapter markers
(chpl atom). Normally, both Nero chapters and a QuickTime
chapter track are written to the file. With this option set,
only the QuickTime chapter track will be written. Nero
chapters can cause failures when the file is reprocessed
with certain tagging programs, like mp3Tag 2.61a and iTunes
11.3, most likely other versions are affected as well.</p>

<p style="margin-left:11%;"><b>-movflags
omit_tfhd_offset</b></p>

<p style="margin-left:17%;">Do not write any absolute
base_data_offset in tfhd atoms. This avoids tying fragments
to absolute byte positions in the file/streams.</p>

<p style="margin-left:11%;"><b>-movflags
default_base_moof</b></p>

<p style="margin-left:17%;">Similarly to the
omit_tfhd_offset, this flag avoids writing the absolute
base_data_offset field in tfhd atoms, but does so by using
the new default-base-is-moof flag instead. This flag is new
from 14496-12:2012. This may make the fragments easier to
parse in certain circumstances (avoiding basing track
fragment location calculations on the implicit end of the
previous track fragment).</p>

<p style="margin-left:11%;"><b>-write_tmcd</b></p>

<p style="margin-left:17%;">Specify &quot;on&quot; to force
writing a timecode track, &quot;off&quot; to disable it and
&quot;auto&quot; to write a timecode track only for mov and
mp4 output (default).</p>

<p style="margin-left:11%;"><b>-movflags
negative_cts_offsets</b></p>

<p style="margin-left:17%;">Enables utilization of version
1 of the <small>CTTS</small> box, in which the
<small>CTS</small> offsets can be negative. This enables the
initial sample to have <small>DTS/CTS</small> of zero, and
reduces the need for edit lists for some cases such as video
tracks with B-frames. Additionally, eases conformance with
the DASH-IF interoperability guidelines.</p>

<p style="margin-left:17%; margin-top: 1em">This option is
implicitly set when writing ismv (Smooth Streaming)
files.</p>

<p style="margin-left:11%;"><b>-write_prft</b></p>

<p style="margin-left:17%;">Write producer time reference
box ( <small>PRFT</small> ) with a specified time source for
the <small>NTP</small> field in the <small>PRFT</small> box.
Set value as <b>wallclock</b> to specify timesource as
wallclock time and <b>pts</b> to specify timesource as input
packets&rsquo; <small>PTS</small> values.</p>

<p style="margin-left:17%; margin-top: 1em">Setting value
to <b>pts</b> is applicable only for a live encoding use
case, where <small>PTS</small> values are set as as
wallclock time at the source. For example, an encoding use
case with decklink capture source where <b>video_pts</b> and
<b>audio_pts</b> are set to <b>abs_wallclock</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Example</i></p>

<p style="margin-left:11%; margin-top: 1em">Smooth
Streaming content can be pushed in real time to a publishing
point on <small>IIS</small> with this muxer. Example:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -re
&lt;&lt;normal input/transcoding options&gt;&gt; -movflags
isml+frag_keyframe -f ismv
http://server/publishingpoint.isml/Streams(Encoder1)</p>

<p style="margin-left:11%; margin-top: 1em"><i>Audible
<small>AAX</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Audible
<small>AAX</small> files are encrypted M4B files, and they
can be decrypted by specifying a 4 byte activation
secret.</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg
-activation_bytes 1CEB00DA -i test.aax -vn -c:a copy
output.mp4</p>

<p style="margin-left:11%; margin-top: 1em"><b>mp3</b> <br>
The <small>MP3</small> muxer writes a raw <small>MP3</small>
stream with the following optional features:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>An ID3v2 metadata header at the beginning (enabled by
default). Versions 2.3 and 2.4 are supported, the
&quot;id3v2_version&quot; private option controls which one
is used (3 or 4). Setting &quot;id3v2_version&quot; to 0
disables the ID3v2 header completely.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The muxer
supports writing attached pictures ( <small>APIC</small>
frames) to the ID3v2 header. The pictures are supplied to
the muxer in form of a video stream with a single packet.
There can be any number of those streams, each will
correspond to a single <small>APIC</small> frame. The stream
metadata tags <i>title</i> and <i>comment</i> map to
<small>APIC</small> <i>description</i> and <i>picture
type</i> respectively. See
&lt;<b>http://id3.org/id3v2.4.0-frames</b>&gt; for allowed
picture types.</p>

<p style="margin-left:17%; margin-top: 1em">Note that the
<small>APIC</small> frames must be written at the beginning,
so the muxer will buffer the audio frames until it gets all
the pictures. It is therefore advised to provide the
pictures as soon as possible to avoid excessive
buffering.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">A Xing/LAME frame right after
the ID3v2 header (if present). It is enabled by default, but
will be written only if the output is seekable. The
&quot;write_xing&quot; private option can be used to disable
it. The frame contains various information that may be
useful to the decoder, like the audio duration or encoder
delay.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>A legacy ID3v1 tag at the end of the file (disabled by
default). It may be enabled with the &quot;write_id3v1&quot;
private option, but as its capabilities are very limited,
its usage is not recommended.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Examples:</p>

<p style="margin-left:11%; margin-top: 1em">Write an mp3
with an ID3v2.3 header and an ID3v1 footer:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i INPUT
-id3v2_version 3 -write_id3v1 1 out.mp3</p>

<p style="margin-left:11%; margin-top: 1em">To attach a
picture to an mp3 file select both the audio and the picture
stream with &quot;map&quot;:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i
input.mp3 -i cover.png -c copy -map 0 -map 1 <br>
-metadata:s:v title=&quot;Album cover&quot; -metadata:s:v
comment=&quot;Cover (Front)&quot; out.mp3</p>

<p style="margin-left:11%; margin-top: 1em">Write a
&quot;clean&quot; <small>MP3</small> without any extra
features:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i
input.wav -write_xing 0 -id3v2_version 0 out.mp3</p>

<p style="margin-left:11%; margin-top: 1em"><b>mpegts</b>
<small><br>
MPEG</small> transport stream muxer.</p>

<p style="margin-left:11%; margin-top: 1em">This muxer
implements <small>ISO 13818-1</small> and part of
<small>ETSI EN 300 468.</small></p>

<p style="margin-left:11%; margin-top: 1em">The recognized
metadata settings in mpegts muxer are
&quot;service_provider&quot; and &quot;service_name&quot;.
If they are not set the default for
&quot;service_provider&quot; is <b>FFmpeg</b> and the
default for &quot;service_name&quot; is
<b>Service01</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Options</i></p>

<p style="margin-left:11%; margin-top: 1em">The muxer
options are: <b><br>
mpegts_transport_stream_id</b> <i>integer</i></p>

<p style="margin-left:17%;">Set the
<b>transport_stream_id</b>. This identifies a transponder in
<small>DVB.</small> Default is 0x0001.</p>


<p style="margin-left:11%;"><b>mpegts_original_network_id</b>
<i>integer</i></p>

<p style="margin-left:17%;">Set the
<b>original_network_id</b>. This is unique identifier of a
network in <small>DVB.</small> Its main use is in the unique
identification of a service through the path
<b>Original_Network_ID, Transport_Stream_ID</b>. Default is
0x0001.</p>

<p style="margin-left:11%;"><b>mpegts_service_id</b>
<i>integer</i></p>

<p style="margin-left:17%;">Set the <b>service_id</b>, also
known as program in <small>DVB.</small> Default is
0x0001.</p>

<p style="margin-left:11%;"><b>mpegts_service_type</b>
<i>integer</i></p>

<p style="margin-left:17%;">Set the program
<b>service_type</b>. Default is &quot;digital_tv&quot;.
Accepts the following options: <b><br>
hex_value</b></p>

<p style="margin-left:23%;">Any hexadecimal value between
0x01 and 0xff as defined in <small>ETSI 300 468.</small></p>

<p style="margin-left:17%;"><b>digital_tv</b></p>

<p style="margin-left:23%;">Digital <small>TV</small>
service.</p>

<p style="margin-left:17%;"><b>digital_radio</b></p>

<p style="margin-left:23%;">Digital Radio service.</p>

<p style="margin-left:17%;"><b>teletext</b></p>

<p style="margin-left:23%;">Teletext service.</p>


<p style="margin-left:17%;"><b>advanced_codec_digital_radio</b></p>

<p style="margin-left:23%;">Advanced Codec Digital Radio
service.</p>

<p style="margin-left:17%;"><b>mpeg2_digital_hdtv</b></p>

<p style="margin-left:23%;"><small>MPEG2</small> Digital
<small>HDTV</small> service.</p>


<p style="margin-left:17%;"><b>advanced_codec_digital_sdtv</b></p>

<p style="margin-left:23%;">Advanced Codec Digital
<small>SDTV</small> service.</p>


<p style="margin-left:17%;"><b>advanced_codec_digital_hdtv</b></p>

<p style="margin-left:23%;">Advanced Codec Digital
<small>HDTV</small> service.</p>

<p style="margin-left:11%;"><b>mpegts_pmt_start_pid</b>
<i>integer</i></p>

<p style="margin-left:17%;">Set the first
<small>PID</small> for <small>PMT.</small> Default is
0x1000. Max is 0x1f00.</p>

<p style="margin-left:11%;"><b>mpegts_start_pid</b>
<i>integer</i></p>

<p style="margin-left:17%;">Set the first
<small>PID</small> for data packets. Default is 0x0100. Max
is 0x0f00.</p>

<p style="margin-left:11%;"><b>mpegts_m2ts_mode</b>
<i>boolean</i></p>

<p style="margin-left:17%;">Enable m2ts mode if set to 1.
Default value is &quot;-1&quot; which disables m2ts
mode.</p>

<p style="margin-left:11%;"><b>muxrate</b>
<i>integer</i></p>

<p style="margin-left:17%;">Set a constant muxrate. Default
is <small>VBR.</small></p>

<p style="margin-left:11%;"><b>pes_payload_size</b>
<i>integer</i></p>

<p style="margin-left:17%;">Set minimum <small>PES</small>
packet payload in bytes. Default is 2930.</p>

<p style="margin-left:11%;"><b>mpegts_flags</b>
<i>flags</i></p>

<p style="margin-left:17%;">Set mpegts flags. Accepts the
following options: <b><br>
resend_headers</b></p>

<p style="margin-left:23%;">Reemit <small>PAT/PMT</small>
before writing the next packet.</p>

<p style="margin-left:17%;"><b>latm</b></p>

<p style="margin-left:23%;">Use <small>LATM</small>
packetization for <small>AAC.</small></p>

<p style="margin-left:17%;"><b>pat_pmt_at_frames</b></p>

<p style="margin-left:23%;">Reemit <small>PAT</small> and
<small>PMT</small> at each video frame.</p>

<p style="margin-left:17%;"><b>system_b</b></p>

<p style="margin-left:23%;">Conform to System B (
<small>DVB</small> ) instead of System A (
<small>ATSC</small> ).</p>


<p style="margin-left:17%;"><b>initial_discontinuity</b></p>

<p style="margin-left:23%;">Mark the initial packet of each
stream as discontinuity.</p>

<p style="margin-left:11%;"><b>resend_headers</b>
<i>integer</i></p>

<p style="margin-left:17%;">Reemit <small>PAT/PMT</small>
before writing the next packet. This option is deprecated:
use <b>mpegts_flags</b> instead.</p>

<p style="margin-left:11%;"><b>mpegts_copyts</b>
<i>boolean</i></p>

<p style="margin-left:17%;">Preserve original timestamps,
if value is set to 1. Default value is &quot;-1&quot;, which
results in shifting timestamps so that they start from
0.</p>

<p style="margin-left:11%;"><b>omit_video_pes_length</b>
<i>boolean</i></p>

<p style="margin-left:17%;">Omit the <small>PES</small>
packet length for video packets. Default is 1 (true).</p>

<p style="margin-left:11%;"><b>pcr_period</b>
<i>integer</i></p>

<p style="margin-left:17%;">Override the default
<small>PCR</small> retransmission time in milliseconds.
Ignored if variable muxrate is selected. Default is 20.</p>

<p style="margin-left:11%;"><b>pat_period</b>
<i>double</i></p>

<p style="margin-left:17%;">Maximum time in seconds between
<small>PAT/PMT</small> tables.</p>

<p style="margin-left:11%;"><b>sdt_period</b>
<i>double</i></p>

<p style="margin-left:17%;">Maximum time in seconds between
<small>SDT</small> tables.</p>

<p style="margin-left:11%;"><b>tables_version</b>
<i>integer</i></p>

<p style="margin-left:17%;">Set <small>PAT, PMT</small> and
<small>SDT</small> version (default 0, valid values are from
0 to 31, inclusively). This option allows updating stream
structure so that standard consumer may detect the change.
To do so, reopen output &quot;AVFormatContext&quot; (in case
of <small>API</small> usage) or restart <b>ffmpeg</b>
instance, cyclically changing <b>tables_version</b>
value:</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
source1.ts -codec copy -f mpegts -tables_version 0
udp://1.1.1.1:1111 <br>
ffmpeg -i source2.ts -codec copy -f mpegts -tables_version 1
udp://1.1.1.1:1111 <br>
... <br>
ffmpeg -i source3.ts -codec copy -f mpegts -tables_version
31 udp://1.1.1.1:1111 <br>
ffmpeg -i source1.ts -codec copy -f mpegts -tables_version 0
udp://1.1.1.1:1111 <br>
ffmpeg -i source2.ts -codec copy -f mpegts -tables_version 1
udp://1.1.1.1:1111 <br>
...</p>


<p style="margin-left:11%; margin-top: 1em"><i>Example</i></p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i
file.mpg -c copy \ <br>
-mpegts_original_network_id 0x1122 \ <br>
-mpegts_transport_stream_id 0x3344 \ <br>
-mpegts_service_id 0x5566 \ <br>
-mpegts_pmt_start_pid 0x1500 \ <br>
-mpegts_start_pid 0x150 \ <br>
-metadata service_provider=&quot;Some provider&quot; \ <br>
-metadata service_name=&quot;Some Channel&quot; \ <br>
out.ts</p>

<p style="margin-left:11%; margin-top: 1em"><b>mxf,
mxf_d10, mxf_opatom</b> <small><br>
MXF</small> muxer.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Options</i></p>

<p style="margin-left:11%; margin-top: 1em">The muxer
options are: <b><br>
store_user_comments</b> <i>bool</i></p>

<p style="margin-left:17%;">Set if user comments should be
stored if available or never. <small>IRT D-10</small> does
not allow user comments. The default is thus to write them
for mxf and mxf_opatom but not for mxf_d10</p>

<p style="margin-left:11%; margin-top: 1em"><b>null</b>
<br>
Null muxer.</p>

<p style="margin-left:11%; margin-top: 1em">This muxer does
not generate any output file, it is mainly useful for
testing or benchmarking purposes.</p>

<p style="margin-left:11%; margin-top: 1em">For example to
benchmark decoding with <b>ffmpeg</b> you can use the
command:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg
-benchmark -i INPUT -f null out.null</p>

<p style="margin-left:11%; margin-top: 1em">Note that the
above command does not read or write the <i>out.null</i>
file, but specifying the output file is required by the
<b>ffmpeg</b> syntax.</p>

<p style="margin-left:11%; margin-top: 1em">Alternatively
you can write the command as:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg
-benchmark -i INPUT -f null -</p>

<p style="margin-left:11%; margin-top: 1em"><b>nut <br>
-syncpoints</b> <i>flags</i></p>

<p style="margin-left:17%;">Change the syncpoint usage in
nut: <i><br>
default</i> <b>use the normal low-overhead seeking aids.</b>
<i><br>
none</i> <b>do not use the syncpoints at all, reducing the
overhead but <br>
making the stream non-seekable;</b></p>

<p style="margin-left:23%;">Use of this option is not
recommended, as the resulting files are very damage <br>
sensitive and seeking is not possible. Also in general the
overhead from <br>
syncpoints is negligible. Note, -C&lt;write_index&gt; 0 can
be used to disable <br>
all growing data tables, allowing to mux endless streams
with limited memory <br>
and without these disadvantages.</p>

<p style="margin-left:17%;"><i>timestamped</i> <b>extend
the syncpoint with a wallclock field.</b></p>

<p style="margin-left:17%; margin-top: 1em">The <i>none</i>
and <i>timestamped</i> flags are experimental.</p>

<p style="margin-left:11%;"><b>-write_index</b>
<i>bool</i></p>

<p style="margin-left:17%;">Write index at the end, the
default is to write an index.</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i INPUT
-f_strict experimental -syncpoints none - | processor</p>

<p style="margin-left:11%; margin-top: 1em"><b>ogg</b> <br>
Ogg container muxer. <b><br>
-page_duration</b> <i>duration</i></p>

<p style="margin-left:17%;">Preferred page duration, in
microseconds. The muxer will attempt to create pages that
are approximately <i>duration</i> microseconds long. This
allows the user to compromise between seek granularity and
container overhead. The default is 1 second. A value of 0
will fill all segments, making pages as large as possible. A
value of 1 will effectively use 1 packet-per-page in most
situations, giving a small seek granularity at the cost of
additional container overhead.</p>

<p style="margin-left:11%;"><b>-serial_offset</b>
<i>value</i></p>

<p style="margin-left:17%;">Serial value from which to set
the streams serial number. Setting it to different and
sufficiently large values ensures that the produced ogg
files can be safely chained.</p>

<p style="margin-left:11%; margin-top: 1em"><b>segment,
stream_segment, ssegment</b> <br>
Basic stream segmenter.</p>

<p style="margin-left:11%; margin-top: 1em">This muxer
outputs streams to a number of separate files of nearly
fixed duration. Output filename pattern can be set in a
fashion similar to <b>image2</b>, or by using a
&quot;strftime&quot; template if the <b>strftime</b> option
is enabled.</p>


<p style="margin-left:11%; margin-top: 1em">&quot;stream_segment&quot;
is a variant of the muxer used to write to streaming output
formats, i.e. which do not require global headers, and is
recommended for outputting e.g. to <small>MPEG</small>
transport stream segments. &quot;ssegment&quot; is a shorter
alias for &quot;stream_segment&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">Every segment
starts with a keyframe of the selected reference stream,
which is set through the <b>reference_stream</b> option.</p>

<p style="margin-left:11%; margin-top: 1em">Note that if
you want accurate splitting for a video file, you need to
make the input key frames correspond to the exact splitting
times expected by the segmenter, or the segment muxer will
start the new segment with the key frame found next after
the specified start time.</p>

<p style="margin-left:11%; margin-top: 1em">The segment
muxer works best with a single constant frame rate
video.</p>

<p style="margin-left:11%; margin-top: 1em">Optionally it
can generate a list of the created segments, by setting the
option <i>segment_list</i>. The list type is specified by
the <i>segment_list_type</i> option. The entry filenames in
the segment list are set by default to the basename of the
corresponding segment files.</p>

<p style="margin-left:11%; margin-top: 1em">See also the
<b>hls</b> muxer, which provides a more specific
implementation for <small>HLS</small> segmentation.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Options</i></p>

<p style="margin-left:11%; margin-top: 1em">The segment
muxer supports the following options: <b><br>
increment_tc</b> <i>1|0</i></p>

<p style="margin-left:17%;">if set to 1, increment timecode
between each segment If this is selected, the input need to
have a timecode in the first video stream. Default value is
0.</p>

<p style="margin-left:11%;"><b>reference_stream</b>
<i>specifier</i></p>

<p style="margin-left:17%;">Set the reference stream, as
specified by the string <i>specifier</i>. If
<i>specifier</i> is set to &quot;auto&quot;, the reference
is chosen automatically. Otherwise it must be a stream
specifier (see the &rsquo;&rsquo;Stream
specifiers&rsquo;&rsquo; chapter in the ffmpeg manual) which
specifies the reference stream. The default value is
&quot;auto&quot;.</p>

<p style="margin-left:11%;"><b>segment_format</b>
<i>format</i></p>

<p style="margin-left:17%;">Override the inner container
format, by default it is guessed by the filename
extension.</p>

<p style="margin-left:11%;"><b>segment_format_options</b>
<i>options_list</i></p>

<p style="margin-left:17%;">Set output format options using
a :-separated list of key=value parameters. Values
containing the &quot;:&quot; special character must be
escaped.</p>

<p style="margin-left:11%;"><b>segment_list</b>
<i>name</i></p>

<p style="margin-left:17%;">Generate also a listfile named
<i>name</i>. If not specified no listfile is generated.</p>

<p style="margin-left:11%;"><b>segment_list_flags</b>
<i>flags</i></p>

<p style="margin-left:17%;">Set flags affecting the segment
list generation.</p>

<p style="margin-left:17%; margin-top: 1em">It currently
supports the following flags: <b><br>
cache</b></p>

<p style="margin-left:23%;">Allow caching (only affects
M3U8 list files).</p>

<p style="margin-left:17%;"><b>live</b></p>

<p style="margin-left:23%;">Allow live-friendly file
generation.</p>

<p style="margin-left:11%;"><b>segment_list_size</b>
<i>size</i></p>

<p style="margin-left:17%;">Update the list file so that it
contains at most <i>size</i> segments. If 0 the list file
will contain all the segments. Default value is 0.</p>


<p style="margin-left:11%;"><b>segment_list_entry_prefix</b>
<i>prefix</i></p>

<p style="margin-left:17%;">Prepend <i>prefix</i> to each
entry. Useful to generate absolute paths. By default no
prefix is applied.</p>

<p style="margin-left:11%;"><b>segment_list_type</b>
<i>type</i></p>

<p style="margin-left:17%;">Select the listing format.</p>

<p style="margin-left:17%; margin-top: 1em">The following
values are recognized: <b><br>
flat</b></p>

<p style="margin-left:23%;">Generate a flat list for the
created segments, one segment per line.</p>

<p style="margin-left:17%;"><b>csv, ext</b></p>

<p style="margin-left:23%;">Generate a list for the created
segments, one segment per line, each line matching the
format (comma-separated values):</p>


<p style="margin-left:23%; margin-top: 1em">&lt;segment_filename&gt;,&lt;segment_start_time&gt;,&lt;segment_end_time&gt;</p>


<p style="margin-left:23%; margin-top: 1em"><i>segment_filename</i>
is the name of the output file generated by the muxer
according to the provided pattern. <small>CSV</small>
escaping (according to <small>RFC4180</small> ) is applied
if required.</p>


<p style="margin-left:23%; margin-top: 1em"><i>segment_start_time</i>
and <i>segment_end_time</i> specify the segment start and
end time expressed in seconds.</p>

<p style="margin-left:23%; margin-top: 1em">A list file
with the suffix &quot;.csv&quot; or &quot;.ext&quot; will
auto-select this format.</p>

<p style="margin-left:23%; margin-top: 1em"><b>ext</b> is
deprecated in favor or <b>csv</b>.</p>

<p style="margin-left:17%;"><b>ffconcat</b></p>

<p style="margin-left:23%;">Generate an ffconcat file for
the created segments. The resulting file can be read using
the FFmpeg <b>concat</b> demuxer.</p>

<p style="margin-left:23%; margin-top: 1em">A list file
with the suffix &quot;.ffcat&quot; or &quot;.ffconcat&quot;
will auto-select this format.</p>

<p style="margin-left:17%;"><b>m3u8</b></p>

<p style="margin-left:23%;">Generate an extended M3U8 file,
version 3, compliant with
&lt;<b>http://tools.ietf.org/id/draft-pantos-http-live-streaming</b>&gt;.</p>

<p style="margin-left:23%; margin-top: 1em">A list file
with the suffix &quot;.m3u8&quot; will auto-select this
format.</p>

<p style="margin-left:17%; margin-top: 1em">If not
specified the type is guessed from the list file name
suffix.</p>

<p style="margin-left:11%;"><b>segment_time</b>
<i>time</i></p>

<p style="margin-left:17%;">Set segment duration to
<i>time</i>, the value must be a duration specification.
Default value is &quot;2&quot;. See also the
<b>segment_times</b> option.</p>

<p style="margin-left:17%; margin-top: 1em">Note that
splitting may not be accurate, unless you force the
reference stream key-frames at the given time. See the
introductory notice and the examples below.</p>

<p style="margin-left:11%;"><b>segment_atclocktime</b>
<i>1|0</i></p>

<p style="margin-left:17%;">If set to &quot;1&quot; split
at regular clock time intervals starting from 00:00
o&rsquo;clock. The <i>time</i> value specified in
<b>segment_time</b> is used for setting the length of the
splitting interval.</p>

<p style="margin-left:17%; margin-top: 1em">For example
with <b>segment_time</b> set to &quot;900&quot; this makes
it possible to create files at 12:00 o&rsquo;clock, 12:15,
12:30, etc.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is &quot;0&quot;.</p>


<p style="margin-left:11%;"><b>segment_clocktime_offset</b>
<i>duration</i></p>

<p style="margin-left:17%;">Delay the segment splitting
times with the specified duration when using
<b>segment_atclocktime</b>.</p>

<p style="margin-left:17%; margin-top: 1em">For example
with <b>segment_time</b> set to &quot;900&quot; and
<b>segment_clocktime_offset</b> set to &quot;300&quot; this
makes it possible to create files at 12:05, 12:20, 12:35,
etc.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is &quot;0&quot;.</p>


<p style="margin-left:11%;"><b>segment_clocktime_wrap_duration</b>
<i>duration</i></p>

<p style="margin-left:17%;">Force the segmenter to only
start a new segment if a packet reaches the muxer within the
specified duration after the segmenting clock time. This way
you can make the segmenter more resilient to backward local
time jumps, such as leap seconds or transition to standard
time from daylight savings time.</p>

<p style="margin-left:17%; margin-top: 1em">Default is the
maximum possible duration which means starting a new segment
regardless of the elapsed time since the last clock
time.</p>

<p style="margin-left:11%;"><b>segment_time_delta</b>
<i>delta</i></p>

<p style="margin-left:17%;">Specify the accuracy time when
selecting the start time for a segment, expressed as a
duration specification. Default value is &quot;0&quot;.</p>

<p style="margin-left:17%; margin-top: 1em">When delta is
specified a key-frame will start a new segment if its
<small>PTS</small> satisfies the relation:</p>

<p style="margin-left:17%; margin-top: 1em">PTS &gt;=
start_time - time_delta</p>

<p style="margin-left:17%; margin-top: 1em">This option is
useful when splitting video content, which is always split
at <small>GOP</small> boundaries, in case a key frame is
found just before the specified split time.</p>

<p style="margin-left:17%; margin-top: 1em">In particular
may be used in combination with the <i>ffmpeg</i> option
<i>force_key_frames</i>. The key frame times specified by
<i>force_key_frames</i> may not be set accurately because of
rounding issues, with the consequence that a key frame time
may result set just before the specified time. For constant
frame rate videos a value of 1/(2*<i>frame_rate</i>) should
address the worst case mismatch between the specified time
and the time set by <i>force_key_frames</i>.</p>

<p style="margin-left:11%;"><b>segment_times</b>
<i>times</i></p>

<p style="margin-left:17%;">Specify a list of split points.
<i>times</i> contains a list of comma separated duration
specifications, in increasing order. See also the
<b>segment_time</b> option.</p>

<p style="margin-left:11%;"><b>segment_frames</b>
<i>frames</i></p>

<p style="margin-left:17%;">Specify a list of split video
frame numbers. <i>frames</i> contains a list of comma
separated integer numbers, in increasing order.</p>

<p style="margin-left:17%; margin-top: 1em">This option
specifies to start a new segment whenever a reference stream
key frame is found and the sequential number (starting from
0) of the frame is greater or equal to the next value in the
list.</p>

<p style="margin-left:11%;"><b>segment_wrap</b>
<i>limit</i></p>

<p style="margin-left:17%;">Wrap around segment index once
it reaches <i>limit</i>.</p>

<p style="margin-left:11%;"><b>segment_start_number</b>
<i>number</i></p>

<p style="margin-left:17%;">Set the sequence number of the
first segment. Defaults to 0.</p>

<p style="margin-left:11%;"><b>strftime</b> <i>1|0</i></p>

<p style="margin-left:17%;">Use the &quot;strftime&quot;
function to define the name of the new segments to write. If
this is selected, the output segment name must contain a
&quot;strftime&quot; function template. Default value is
0.</p>

<p style="margin-left:11%;"><b>break_non_keyframes</b>
<i>1|0</i></p>

<p style="margin-left:17%;">If enabled, allow segments to
start on frames other than keyframes. This improves behavior
on some players when the time between keyframes is
inconsistent, but may make things worse on others, and can
cause some oddities during seeking. Defaults to 0.</p>

<p style="margin-left:11%;"><b>reset_timestamps</b>
<i>1|0</i></p>

<p style="margin-left:17%;">Reset timestamps at the
beginning of each segment, so that each segment will start
with near-zero timestamps. It is meant to ease the playback
of the generated segments. May not work with some
combinations of muxers/codecs. It is set to 0 by
default.</p>

<p style="margin-left:11%;"><b>initial_offset</b>
<i>offset</i></p>

<p style="margin-left:17%;">Specify timestamp offset to
apply to the output packet timestamps. The argument must be
a time duration specification, and defaults to 0.</p>

<p style="margin-left:11%;"><b>write_empty_segments</b>
<i>1|0</i></p>

<p style="margin-left:17%;">If enabled, write an empty
segment if there are no packets during the period a segment
would usually span. Otherwise, the segment will be filled
with the next packet written. Defaults to 0.</p>

<p style="margin-left:11%; margin-top: 1em">Make sure to
require a closed <small>GOP</small> when encoding and to set
the <small>GOP</small> size to fit your segment time
constraint.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Remux the content of file <i>in.mkv</i> to a list of
segments <i>out-000.nut</i>, <i>out-001.nut</i>, etc., and
write the list of generated segments to <i>out.list</i>:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
in.mkv -codec hevc -flags +cgop -g 60 -map 0 -f segment
-segment_list out.list out%03d.nut</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Segment input and set output
format options for the output segments:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
in.mkv -f segment -segment_time 10 -segment_format_options
movflags=+faststart out%03d.mp4</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Segment the input file according
to the split points specified by the <i>segment_times</i>
option:</p> </td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
in.mkv -codec copy -map 0 -f segment -segment_list out.csv
-segment_times 1,2,3,5,8,13,21 out%03d.nut</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Use the <b>ffmpeg
force_key_frames</b> option to force key frames in the input
at the specified location, together with the segment option
<b>segment_time_delta</b> to account for possible roundings
operated when setting key frame times.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
in.mkv -force_key_frames 1,2,3,5,8,13,21 -codec:v mpeg4
-codec:a pcm_s16le -map 0 \ <br>
-f segment -segment_list out.csv -segment_times
1,2,3,5,8,13,21 -segment_time_delta 0.05 out%03d.nut</p>

<p style="margin-left:17%; margin-top: 1em">In order to
force key frames on the input file, transcoding is
required.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Segment the input file by
splitting the input file according to the frame numbers
sequence specified with the <b>segment_frames</b>
option:</p> </td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
in.mkv -codec copy -map 0 -f segment -segment_list out.csv
-segment_frames 100,200,300,500,800 out%03d.nut</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Convert the <i>in.mkv</i> to
<small>TS</small> segments using the &quot;libx264&quot; and
&quot;aac&quot; encoders:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
in.mkv -map 0 -codec:v libx264 -codec:a aac -f ssegment
-segment_list out.list out%03d.ts</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Segment the input file, and
create an M3U8 live playlist (can be used as live
<small>HLS</small> source):</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -re -i
in.mkv -codec copy -map 0 -f segment -segment_list
playlist.m3u8 \ <br>
-segment_list_flags +live -segment_time 10 out%03d.mkv</p>


<p style="margin-left:11%; margin-top: 1em"><b>smoothstreaming</b>
<br>
Smooth Streaming muxer generates a set of files (Manifest,
chunks) suitable for serving with conventional web server.
<b><br>
window_size</b></p>

<p style="margin-left:17%;">Specify the number of fragments
kept in the manifest. Default 0 (keep all).</p>

<p style="margin-left:11%;"><b>extra_window_size</b></p>

<p style="margin-left:17%;">Specify the number of fragments
kept outside of the manifest before removing from disk.
Default 5.</p>

<p style="margin-left:11%;"><b>lookahead_count</b></p>

<p style="margin-left:17%;">Specify the number of lookahead
fragments. Default 2.</p>

<p style="margin-left:11%;"><b>min_frag_duration</b></p>

<p style="margin-left:17%;">Specify the minimum fragment
duration (in microseconds). Default 5000000.</p>

<p style="margin-left:11%;"><b>remove_at_exit</b></p>

<p style="margin-left:17%;">Specify whether to remove all
fragments when finished. Default 0 (do not remove).</p>

<p style="margin-left:11%; margin-top: 1em"><b>fifo</b>
<br>
The fifo pseudo-muxer allows the separation of encoding and
muxing by using first-in-first-out queue and running the
actual muxer in a separate thread. This is especially useful
in combination with the <b>tee</b> muxer and can be used to
send data to several destinations with different
reliability/writing speed/latency.</p>


<p style="margin-left:11%; margin-top: 1em"><small>API</small>
users should be aware that callback functions
(interrupt_callback, io_open and io_close) used within its
AVFormatContext must be thread-safe.</p>

<p style="margin-left:11%; margin-top: 1em">The behavior of
the fifo muxer if the queue fills up or if the output fails
is selectable,</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>output can be transparently restarted with configurable
delay between retries based on real time or time of the
processed stream.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>encoding can be blocked during temporary failure, or
continue transparently dropping packets in case fifo queue
fills up.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>fifo_format</b></p>

<p style="margin-left:17%;">Specify the format name. Useful
if it cannot be guessed from the output name suffix.</p>

<p style="margin-left:11%;"><b>queue_size</b></p>

<p style="margin-left:17%;">Specify size of the queue
(number of packets). Default value is 60.</p>

<p style="margin-left:11%;"><b>format_opts</b></p>

<p style="margin-left:17%;">Specify format options for the
underlying muxer. Muxer options can be specified as a list
of <i>key</i>=<i>value</i> pairs separated by
&rsquo;:&rsquo;.</p>

<p style="margin-left:11%;"><b>drop_pkts_on_overflow</b>
<i>bool</i></p>

<p style="margin-left:17%;">If set to 1 (true), in case the
fifo queue fills up, packets will be dropped rather than
blocking the encoder. This makes it possible to continue
streaming without delaying the input, at the cost of
omitting part of the stream. By default this option is set
to 0 (false), so in such cases the encoder will be blocked
until the muxer processes some of the packets and none of
them is lost.</p>

<p style="margin-left:11%;"><b>attempt_recovery</b>
<i>bool</i></p>

<p style="margin-left:17%;">If failure occurs, attempt to
recover the output. This is especially useful when used with
network output, since it makes it possible to restart
streaming transparently. By default this option is set to 0
(false).</p>


<p style="margin-left:11%;"><b>max_recovery_attempts</b></p>

<p style="margin-left:17%;">Sets maximum number of
successive unsuccessful recovery attempts after which the
output fails permanently. By default this option is set to 0
(unlimited).</p>

<p style="margin-left:11%;"><b>recovery_wait_time</b>
<i>duration</i></p>

<p style="margin-left:17%;">Waiting time before the next
recovery attempt after previous unsuccessful recovery
attempt. Default value is 5 seconds.</p>


<p style="margin-left:11%;"><b>recovery_wait_streamtime</b>
<i>bool</i></p>

<p style="margin-left:17%;">If set to 0 (false), the real
time is used when waiting for the recovery attempt (i.e. the
recovery will be attempted after at least recovery_wait_time
seconds). If set to 1 (true), the time of the processed
stream is taken into account instead (i.e. the recovery will
be attempted after at least <i>recovery_wait_time</i>
seconds of the stream is omitted). By default, this option
is set to 0 (false).</p>

<p style="margin-left:11%;"><b>recover_any_error</b>
<i>bool</i></p>

<p style="margin-left:17%;">If set to 1 (true), recovery
will be attempted regardless of type of the error causing
the failure. By default this option is set to 0 (false) and
in case of certain (usually permanent) errors the recovery
is not attempted even when <i>attempt_recovery</i> is set to
1.</p>

<p style="margin-left:11%;"><b>restart_with_keyframe</b>
<i>bool</i></p>

<p style="margin-left:17%;">Specify whether to wait for the
keyframe after recovering from queue overflow or failure.
This option is set to 0 (false) by default.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Stream something to rtmp server, continue processing the
stream at real-time rate even in case of temporary failure
(network outage) and attempt to recover streaming every
second indefinitely.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -re -i
... -c:v libx264 -c:a aac -f fifo -fifo_format flv -map 0:v
-map 0:a <br>
-drop_pkts_on_overflow 1 -attempt_recovery 1
-recovery_wait_time 1
rtmp://example.com/live/stream_name</p>

<p style="margin-left:11%; margin-top: 1em"><b>tee</b> <br>
The tee muxer can be used to write the same data to several
outputs, such as files or streams. It can be used, for
example, to stream a video over a network and save it to
disk at the same time.</p>

<p style="margin-left:11%; margin-top: 1em">It is different
from specifying several outputs to the <b>ffmpeg</b>
command-line tool. With the tee muxer, the audio and video
data will be encoded only once. With conventional multiple
outputs, multiple encoding operations in parallel are
initiated, which can be a very expensive process. The tee
muxer is not useful when using the libavformat
<small>API</small> directly because it is then possible to
feed the same packets to several muxers directly.</p>

<p style="margin-left:11%; margin-top: 1em">Since the tee
muxer does not represent any particular output format,
ffmpeg cannot auto-select output streams. So all streams
intended for output must be specified using
&quot;-map&quot;. See the examples below.</p>

<p style="margin-left:11%; margin-top: 1em">Some encoders
may need different options depending on the output format;
the auto-detection of this can not work with the tee muxer,
so they need to be explicitly specified. The main example is
the <b>global_header</b> flag.</p>

<p style="margin-left:11%; margin-top: 1em">The slave
outputs are specified in the file name given to the muxer,
separated by &rsquo;|&rsquo;. If any of the slave name
contains the &rsquo;|&rsquo; separator, leading or trailing
spaces or any special character, those must be escaped (see
<b>the &quot;Quoting and escaping&quot; section in the
ffmpeg-utils(1) manual</b>).</p>

<p style="margin-left:11%; margin-top: 1em"><i>Options</i>
<b><br>
use_fifo</b> <i>bool</i></p>

<p style="margin-left:17%;">If set to 1, slave outputs will
be processed in separate threads using the <b>fifo</b>
muxer. This allows to compensate for different
speed/latency/reliability of outputs and setup transparent
recovery. By default this feature is turned off.</p>

<p style="margin-left:11%;"><b>fifo_options</b></p>

<p style="margin-left:17%;">Options to pass to fifo
pseudo-muxer instances. See <b>fifo</b>.</p>

<p style="margin-left:11%; margin-top: 1em">Muxer options
can be specified for each slave by prepending them as a list
of <i>key</i>=<i>value</i> pairs separated by
&rsquo;:&rsquo;, between square brackets. If the options
values contain a special character or the &rsquo;:&rsquo;
separator, they must be escaped; note that this is a second
level escaping.</p>

<p style="margin-left:11%; margin-top: 1em">The following
special options are also recognized:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>f</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Specify the format name. Required if it cannot be
guessed from the output <small>URL.</small></p></td></tr>
</table>


<p style="margin-left:11%;"><b>bsfs[/</b><i>spec</i><b>]</b></p>

<p style="margin-left:17%;">Specify a list of bitstream
filters to apply to the specified output.</p>

<p style="margin-left:17%; margin-top: 1em">It is possible
to specify to which streams a given bitstream filter
applies, by appending a stream specifier to the option
separated by &quot;/&quot;. <i>spec</i> must be a stream
specifier (see <b>Format stream specifiers</b>).</p>

<p style="margin-left:17%; margin-top: 1em">If the stream
specifier is not specified, the bitstream filters will be
applied to all streams in the output. This will cause that
output operation to fail if the output contains streams to
which the bitstream filter cannot be applied e.g.
&quot;h264_mp4toannexb&quot; being applied to an output
containing an audio stream.</p>

<p style="margin-left:17%; margin-top: 1em">Options for a
bitstream filter must be specified in the form of
&quot;opt=value&quot;.</p>

<p style="margin-left:17%; margin-top: 1em">Several
bitstream filters can be specified, separated by
&quot;,&quot;.</p>

<p style="margin-left:11%;"><b>use_fifo</b> <i>bool</i></p>

<p style="margin-left:17%;">This allows to override tee
muxer use_fifo option for individual slave muxer.</p>

<p style="margin-left:11%;"><b>fifo_options</b></p>

<p style="margin-left:17%;">This allows to override tee
muxer fifo_options for individual slave muxer. See
<b>fifo</b>.</p>

<p style="margin-left:11%;"><b>select</b></p>

<p style="margin-left:17%;">Select the streams that should
be mapped to the slave output, specified by a stream
specifier. If not specified, this defaults to all the mapped
streams. This will cause that output operation to fail if
the output format does not accept all mapped streams.</p>

<p style="margin-left:17%; margin-top: 1em">You may use
multiple stream specifiers separated by commas
(&quot;,&quot;) e.g.: &quot;a:0,v&quot;</p>

<p style="margin-left:11%;"><b>onfail</b></p>

<p style="margin-left:17%;">Specify behaviour on output
failure. This can be set to either &quot;abort&quot; (which
is default) or &quot;ignore&quot;. &quot;abort&quot; will
cause whole process to fail in case of failure on this slave
output. &quot;ignore&quot; will ignore failure on this
output, so other outputs will continue without being
affected.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Encode something and both archive it in a WebM file and
stream it as MPEG-TS over <small>UDP:</small></p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i ...
-c:v libx264 -c:a mp2 -f tee -map 0:v -map 0:a <br>

&quot;archive-20121107.mkv|[f=mpegts]udp://10.0.1.255:1234/&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">As above, but continue streaming
even if output to local file fails (for example local drive
fills up):</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i ...
-c:v libx264 -c:a mp2 -f tee -map 0:v -map 0:a <br>

&quot;[onfail=ignore]archive-20121107.mkv|[f=mpegts]udp://10.0.1.255:1234/&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Use <b>ffmpeg</b> to encode the
input, and send the output to three different destinations.
The &quot;dump_extra&quot; bitstream filter is used to add
extradata information to all the output video keyframes
packets, as requested by the MPEG-TS format. The select
option is applied to <i>out.aac</i> in order to make it
contain only audio packets.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i ...
-map 0 -flags +global_header -c:v libx264 -c:a aac <br>
-f tee
&quot;[bsfs/v=dump_extra=freq=keyframe]out.ts|[movflags=+faststart]out.mp4|[select=a]out.aac&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">As above, but select only stream
&quot;a:1&quot; for the audio output. Note that a second
level escaping must be performed, as &quot;:&quot; is a
special character used to separate options.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i ...
-map 0 -flags +global_header -c:v libx264 -c:a aac <br>
-f tee
&quot;[bsfs/v=dump_extra=freq=keyframe]out.ts|[movflags=+faststart]out.mp4|[select=\'a:1\']out.aac&quot;</p>


<p style="margin-left:11%; margin-top: 1em"><b>webm_dash_manifest</b>
<br>
WebM <small>DASH</small> Manifest muxer.</p>

<p style="margin-left:11%; margin-top: 1em">This muxer
implements the WebM <small>DASH</small> Manifest
specification to generate the <small>DASH</small> manifest
<small>XML.</small> It also supports manifest generation for
<small>DASH</small> live streams.</p>

<p style="margin-left:11%; margin-top: 1em">For more
information see:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">WebM <small>DASH</small>
Specification:
&lt;<b>https://sites.google.com/a/webmproject.org/wiki/adaptive-streaming/webm-dash-specification</b>&gt;</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><small>ISO DASH</small> Specification:
&lt;<b>http://standards.iso.org/ittf/PubliclyAvailableStandards/c065274_ISO_IEC_23009-1_2014.zip</b>&gt;</p> </td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><i>Options</i></p>

<p style="margin-left:11%; margin-top: 1em">This muxer
supports the following options: <b><br>
adaptation_sets</b></p>

<p style="margin-left:17%;">This option has the following
syntax: &quot;id=x,streams=a,b,c id=y,streams=d,e&quot;
where x and y are the unique identifiers of the adaptation
sets and a,b,c,d and e are the indices of the corresponding
audio and video streams. Any number of adaptation sets can
be added using this option.</p>

<p style="margin-left:11%;"><b>live</b></p>

<p style="margin-left:17%;">Set this to 1 to create a live
stream <small>DASH</small> Manifest. Default: 0.</p>

<p style="margin-left:11%;"><b>chunk_start_index</b></p>

<p style="margin-left:17%;">Start index of the first chunk.
This will go in the <b>startNumber</b> attribute of the
<b>SegmentTemplate</b> element in the manifest. Default:
0.</p>

<p style="margin-left:11%;"><b>chunk_duration_ms</b></p>

<p style="margin-left:17%;">Duration of each chunk in
milliseconds. This will go in the <b>duration</b> attribute
of the <b>SegmentTemplate</b> element in the manifest.
Default: 1000.</p>

<p style="margin-left:11%;"><b>utc_timing_url</b></p>

<p style="margin-left:17%;"><small>URL</small> of the page
that will return the <small>UTC</small> timestamp in
<small>ISO</small> format. This will go in the <b>value</b>
attribute of the <b>UTCTiming</b> element in the manifest.
Default: None.</p>


<p style="margin-left:11%;"><b>time_shift_buffer_depth</b></p>

<p style="margin-left:17%;">Smallest time (in seconds)
shifting buffer for which any Representation is guaranteed
to be available. This will go in the
<b>timeShiftBufferDepth</b> attribute of the
<b><small>MPD</small></b> element. Default: 60.</p>


<p style="margin-left:11%;"><b>minimum_update_period</b></p>

<p style="margin-left:17%;">Minimum update period (in
seconds) of the manifest. This will go in the
<b>minimumUpdatePeriod</b> attribute of the
<b><small>MPD</small></b> element. Default: 0.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Example</i></p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -f
webm_dash_manifest -i video1.webm \ <br>
-f webm_dash_manifest -i video2.webm \ <br>
-f webm_dash_manifest -i audio1.webm \ <br>
-f webm_dash_manifest -i audio2.webm \ <br>
-map 0 -map 1 -map 2 -map 3 \ <br>
-c copy \ <br>
-f webm_dash_manifest \ <br>
-adaptation_sets &quot;id=0,streams=0,1
id=1,streams=2,3&quot; \ <br>
manifest.xml</p>


<p style="margin-left:11%; margin-top: 1em"><b>webm_chunk</b>
<br>
WebM Live Chunk Muxer.</p>

<p style="margin-left:11%; margin-top: 1em">This muxer
writes out WebM headers and chunks as separate files which
can be consumed by clients that support WebM Live streams
via <small>DASH.</small></p>


<p style="margin-left:11%; margin-top: 1em"><i>Options</i></p>

<p style="margin-left:11%; margin-top: 1em">This muxer
supports the following options: <b><br>
chunk_start_index</b></p>

<p style="margin-left:17%;">Index of the first chunk
(defaults to 0).</p>

<p style="margin-left:11%;"><b>header</b></p>

<p style="margin-left:17%;">Filename of the header where
the initialization data will be written.</p>


<p style="margin-left:11%;"><b>audio_chunk_duration</b></p>

<p style="margin-left:17%;">Duration of each audio chunk in
milliseconds (defaults to 5000).</p>


<p style="margin-left:11%; margin-top: 1em"><i>Example</i></p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -f v4l2
-i /dev/video0 \ <br>
-f alsa -i hw:0 \ <br>
-map 0:0 \ <br>
-c:v libvpx-vp9 \ <br>
-s 640x360 -keyint_min 30 -g 30 \ <br>
-f webm_chunk \ <br>
-header webm_live_video_360.hdr \ <br>
-chunk_start_index 1 \ <br>
webm_live_video_360_%d.chk \ <br>
-map 1:0 \ <br>
-c:a libvorbis \ <br>
-b:a 128k \ <br>
-f webm_chunk \ <br>
-header webm_live_audio_128.hdr \ <br>
-chunk_start_index 1 \ <br>
-audio_chunk_duration 1000 \ <br>
webm_live_audio_128_%d.chk</p>

<h2>METADATA
<a name="METADATA"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">FFmpeg is able
to dump metadata from media files into a simple
UTF-8-encoded INI-like text file and then load it back using
the metadata muxer/demuxer.</p>

<p style="margin-left:11%; margin-top: 1em">The file format
is as follows:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>1.</p></td>
<td width="3%"></td>
<td width="83%">


<p>A file consists of a header and a number of metadata
tags divided into sections, each on its own line.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>2.</p></td>
<td width="3%"></td>
<td width="83%">


<p>The header is a <b>;FFMETADATA</b> string, followed by a
version number (now 1).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>3.</p></td>
<td width="3%"></td>
<td width="83%">


<p>Metadata tags are of the form <b>key=value</b></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>4.</p></td>
<td width="3%"></td>
<td width="83%">


<p>Immediately after header follows global metadata</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>5.</p></td>
<td width="3%"></td>
<td width="83%">


<p>After global metadata there may be sections with
per-stream/per-chapter metadata.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>6.</p></td>
<td width="3%"></td>
<td width="83%">


<p>A section starts with the section name in uppercase
(i.e. <small>STREAM</small> or <small>CHAPTER</small> ) in
brackets (<b>[</b>, <b>]</b>) and ends with next section or
end of file.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>7.</p></td>
<td width="3%"></td>
<td width="83%">


<p>At the beginning of a chapter section there may be an
optional timebase to be used for start/end values. It must
be in form <b>TIMEBASE=</b><i>num</i><b>/</b><i>den</i>,
where <i>num</i> and <i>den</i> are integers. If the
timebase is missing then start/end times are assumed to be
in nanoseconds.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Next a chapter
section must contain chapter start and end times in form
<b>START=</b><i>num</i>, <b>END=</b><i>num</i>, where
<i>num</i> is a positive integer.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p style="margin-top: 1em">8.</p></td>
<td width="2%"></td>
<td width="83%">


<p style="margin-top: 1em">Empty lines and lines starting
with <b>;</b> or <b>#</b> are ignored.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p>9.</p></td>
<td width="2%"></td>
<td width="83%">


<p>Metadata keys or values containing special characters
(<b>=</b>, <b>;</b>, <b>#</b>, <b>\</b> and a newline) must
be escaped with a backslash <b>\</b>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p>10.</p></td>
<td width="2%"></td>
<td width="83%">


<p>Note that whitespace in metadata (e.g. <b>foo = bar</b>)
is considered to be a part of the tag (in the example above
key is <b>foo</b> , value is</p></td></tr>
</table>

<p style="margin-left:17%;"><b>bar</b>).</p>

<p style="margin-left:11%; margin-top: 1em">A ffmetadata
file might look like this:</p>

<p style="margin-left:11%; margin-top: 1em">;FFMETADATA1
<br>
title=bike\\shed <br>
;this is a comment <br>
artist=FFmpeg troll team <br>
[CHAPTER] <br>
TIMEBASE=1/1000 <br>
START=0 <br>
#chapter ends at 0:01:00 <br>
END=60000 <br>
title=chapter \#1 <br>
[STREAM] <br>
title=multi\ <br>
line</p>

<p style="margin-left:11%; margin-top: 1em">By using the
ffmetadata muxer and demuxer it is possible to extract
metadata from an input file to an ffmetadata file, and then
transcode the file into an output file with the edited
ffmetadata file.</p>

<p style="margin-left:11%; margin-top: 1em">Extracting an
ffmetadata file with <i>ffmpeg</i> goes as follows:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i INPUT
-f ffmetadata FFMETADATAFILE</p>

<p style="margin-left:11%; margin-top: 1em">Reinserting
edited metadata information from the
<small>FFMETADATAFILE</small> file can be done as:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i INPUT
-i FFMETADATAFILE -map_metadata 1 -codec copy OUTPUT</p>

<h2>PROTOCOL OPTIONS
<a name="PROTOCOL OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The libavformat
library provides some generic global options, which can be
set on all the protocols. In addition each protocol may
support so-called private options, which are specific for
that component.</p>

<p style="margin-left:11%; margin-top: 1em">Options may be
set by specifying -<i>option value</i> in the FFmpeg tools,
or by setting the value explicitly in the
&quot;AVFormatContext&quot; options or using the
<i>libavutil/opt.h</i> <small>API</small> for programmatic
use.</p>

<p style="margin-left:11%; margin-top: 1em">The list of
supported options follows: <b><br>
protocol_whitelist</b> <i>list</i>
<b>(</b><i>input</i><b>)</b></p>

<p style="margin-left:17%;">Set a &quot;,&quot;-separated
list of allowed protocols. &quot; <small>ALL&quot;</small>
matches all protocols. Protocols prefixed by &quot;-&quot;
are disabled. All protocols are allowed by default but
protocols used by an another protocol (nested protocols) are
restricted to a per protocol subset.</p>

<h2>PROTOCOLS
<a name="PROTOCOLS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Protocols are
configured elements in FFmpeg that enable access to
resources that require specific protocols.</p>

<p style="margin-left:11%; margin-top: 1em">When you
configure your FFmpeg build, all the supported protocols are
enabled by default. You can list all available ones using
the configure option &quot;--list-protocols&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">You can disable
all the protocols using the configure option
&quot;--disable-protocols&quot;, and selectively enable a
protocol using the option &quot;--enable-protocol=
<i><small>PROTOCOL</small></i> &quot;, or you can disable a
particular protocol using the option
&quot;--disable-protocol= <i><small>PROTOCOL</small></i>
&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">The option
&quot;-protocols&quot; of the ff* tools will display the
list of supported protocols.</p>

<p style="margin-left:11%; margin-top: 1em">All protocols
accept the following options: <b><br>
rw_timeout</b></p>

<p style="margin-left:17%;">Maximum time to wait for
(network) read/write operations to complete, in
microseconds.</p>

<p style="margin-left:11%; margin-top: 1em">A description
of the currently available protocols follows.</p>

<p style="margin-left:11%; margin-top: 1em"><b>async</b>
<br>
Asynchronous data filling wrapper for input stream.</p>

<p style="margin-left:11%; margin-top: 1em">Fill data in a
background thread, to decouple I/O operation from demux
thread.</p>


<p style="margin-left:11%; margin-top: 1em">async:&lt;URL&gt;
<br>
async:http://host/resource <br>
async:cache:http://host/resource</p>

<p style="margin-left:11%; margin-top: 1em"><b>bluray</b>
<br>
Read BluRay playlist.</p>

<p style="margin-left:11%; margin-top: 1em">The accepted
options are: <b><br>
angle</b></p>

<p style="margin-left:17%;">BluRay angle</p>

<p style="margin-left:11%;"><b>chapter</b></p>

<p style="margin-left:17%;">Start chapter (1...N)</p>

<p style="margin-left:11%;"><b>playlist</b></p>

<p style="margin-left:17%;">Playlist to read (
<small>BDMV/PLAYLIST/</small> ?????.mpls)</p>

<p style="margin-left:11%; margin-top: 1em">Examples:</p>

<p style="margin-left:11%; margin-top: 1em">Read longest
playlist from BluRay mounted to /mnt/bluray:</p>


<p style="margin-left:11%; margin-top: 1em">bluray:/mnt/bluray</p>

<p style="margin-left:11%; margin-top: 1em">Read angle 2 of
playlist 4 from BluRay mounted to /mnt/bluray, start from
chapter 2:</p>

<p style="margin-left:11%; margin-top: 1em">-playlist 4
-angle 2 -chapter 2 bluray:/mnt/bluray</p>

<p style="margin-left:11%; margin-top: 1em"><b>cache</b>
<br>
Caching wrapper for input stream.</p>

<p style="margin-left:11%; margin-top: 1em">Cache the input
stream to temporary file. It brings seeking capability to
live streams.</p>


<p style="margin-left:11%; margin-top: 1em">cache:&lt;URL&gt;</p>

<p style="margin-left:11%; margin-top: 1em"><b>concat</b>
<br>
Physical concatenation protocol.</p>

<p style="margin-left:11%; margin-top: 1em">Read and seek
from many resources in sequence as if they were a unique
resource.</p>

<p style="margin-left:11%; margin-top: 1em">A
<small>URL</small> accepted by this protocol has the
syntax:</p>


<p style="margin-left:11%; margin-top: 1em">concat:&lt;URL1&gt;|&lt;URL2&gt;|...|&lt;URLN&gt;</p>

<p style="margin-left:11%; margin-top: 1em">where
<i><small>URL1</small></i> , <i><small>URL2</small></i> ,
..., <i><small>URLN</small></i> are the urls of the resource
to be concatenated, each one possibly specifying a distinct
protocol.</p>

<p style="margin-left:11%; margin-top: 1em">For example to
read a sequence of files <i>split1.mpeg</i>,
<i>split2.mpeg</i>, <i>split3.mpeg</i> with <b>ffplay</b>
use the command:</p>

<p style="margin-left:11%; margin-top: 1em">ffplay
concat:split1.mpeg\|split2.mpeg\|split3.mpeg</p>

<p style="margin-left:11%; margin-top: 1em">Note that you
may need to escape the character &quot;|&quot; which is
special for many shells.</p>

<p style="margin-left:11%; margin-top: 1em"><b>crypto</b>
<br>
AES-encrypted stream reading protocol.</p>

<p style="margin-left:11%; margin-top: 1em">The accepted
options are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>key</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set the <small>AES</small> decryption key binary block
from given hexadecimal representation.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>iv</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set the <small>AES</small> decryption initialization
vector binary block from given hexadecimal
representation.</p> </td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Accepted
<small>URL</small> formats:</p>


<p style="margin-left:11%; margin-top: 1em">crypto:&lt;URL&gt;
<br>
crypto+&lt;URL&gt;</p>

<p style="margin-left:11%; margin-top: 1em"><b>data</b>
<br>
Data in-line in the <small>URI.</small> See
&lt;<b>http://en.wikipedia.org/wiki/Data_URI_scheme</b>&gt;.</p>

<p style="margin-left:11%; margin-top: 1em">For example, to
convert a <small>GIF</small> file given inline with
<b>ffmpeg</b>:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i
&quot;data:image/gif;base64,R0lGODdhCAAIAMIEAAAAAAAA//8AAP//AP///////////////ywAAAAACAAIAAADF0gEDLojDgdGiJdJqUX02iB4E8Q9jUMkADs=&quot;
smiley.png</p>

<p style="margin-left:11%; margin-top: 1em"><b>file</b>
<br>
File access protocol.</p>

<p style="margin-left:11%; margin-top: 1em">Read from or
write to a file.</p>

<p style="margin-left:11%; margin-top: 1em">A file
<small>URL</small> can have the form:</p>


<p style="margin-left:11%; margin-top: 1em">file:&lt;filename&gt;</p>

<p style="margin-left:11%; margin-top: 1em">where
<i>filename</i> is the path of the file to read.</p>

<p style="margin-left:11%; margin-top: 1em">An
<small>URL</small> that does not have a protocol prefix will
be assumed to be a file <small>URL.</small> Depending on the
build, an <small>URL</small> that looks like a Windows path
with the drive letter at the beginning will also be assumed
to be a file <small>URL</small> (usually not the case in
builds for unix-like systems).</p>

<p style="margin-left:11%; margin-top: 1em">For example to
read from a file <i>input.mpeg</i> with <b>ffmpeg</b> use
the command:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i
file:input.mpeg output.mpeg</p>

<p style="margin-left:11%; margin-top: 1em">This protocol
accepts the following options: <b><br>
truncate</b></p>

<p style="margin-left:17%;">Truncate existing files on
write, if set to 1. A value of 0 prevents truncating.
Default value is 1.</p>

<p style="margin-left:11%;"><b>blocksize</b></p>

<p style="margin-left:17%;">Set I/O operation maximum block
size, in bytes. Default value is &quot;INT_MAX&quot;, which
results in not limiting the requested block size. Setting
this value reasonably low improves user termination request
reaction time, which is valuable for files on slow
medium.</p>

<p style="margin-left:11%;"><b>follow</b></p>

<p style="margin-left:17%;">If set to 1, the protocol will
retry reading at the end of the file, allowing reading files
that still are being written. In order for this to
terminate, you either need to use the rw_timeout option, or
use the interrupt callback (for <small>API</small>
users).</p>

<p style="margin-left:11%;"><b>seekable</b></p>

<p style="margin-left:17%;">Controls if seekability is
advertised on the file. 0 means non-seekable, -1 means auto
(seekable for normal files, non-seekable for named
pipes).</p>

<p style="margin-left:17%; margin-top: 1em">Many demuxers
handle seekable and non-seekable resources differently,
overriding this might speed up opening certain files at the
cost of losing some features (e.g. accurate seeking).</p>

<p style="margin-left:11%; margin-top: 1em"><b>ftp</b>
<small><br>
FTP</small> (File Transfer Protocol).</p>

<p style="margin-left:11%; margin-top: 1em">Read from or
write to remote resources using <small>FTP</small>
protocol.</p>

<p style="margin-left:11%; margin-top: 1em">Following
syntax is required.</p>


<p style="margin-left:11%; margin-top: 1em">ftp://[user[:password]@]server[:port]/path/to/remote/resource.mpeg</p>

<p style="margin-left:11%; margin-top: 1em">This protocol
accepts the following options. <b><br>
timeout</b></p>

<p style="margin-left:17%;">Set timeout in microseconds of
socket I/O operations used by the underlying low level
operation. By default it is set to -1, which means that the
timeout is not specified.</p>


<p style="margin-left:11%;"><b>ftp-anonymous-password</b></p>

<p style="margin-left:17%;">Password used when login as
anonymous user. Typically an e-mail address should be
used.</p>

<p style="margin-left:11%;"><b>ftp-write-seekable</b></p>

<p style="margin-left:17%;">Control seekability of
connection during encoding. If set to 1 the resource is
supposed to be seekable, if set to 0 it is assumed not to be
seekable. Default value is 0.</p>


<p style="margin-left:11%; margin-top: 1em"><small>NOTE:</small>
Protocol can be used as output, but it is recommended to not
do it, unless special care is taken (tests, customized
server configuration etc.). Different <small>FTP</small>
servers behave in different way during seek operation. ff*
tools may produce incomplete content due to server
limitations.</p>

<p style="margin-left:11%; margin-top: 1em"><b>gopher</b>
<br>
Gopher protocol.</p>

<p style="margin-left:11%; margin-top: 1em"><b>hls</b> <br>
Read Apple <small>HTTP</small> Live Streaming compliant
segmented stream as a uniform one. The M3U8 playlists
describing the segments can be remote <small>HTTP</small>
resources or local files, accessed using the standard file
protocol. The nested protocol is declared by specifying
&quot;+<i>proto</i>&quot; after the hls <small>URI</small>
scheme name, where <i>proto</i> is either &quot;file&quot;
or &quot;http&quot;.</p>


<p style="margin-left:11%; margin-top: 1em">hls+http://host/path/to/remote/resource.m3u8
<br>
hls+file://path/to/local/resource.m3u8</p>

<p style="margin-left:11%; margin-top: 1em">Using this
protocol is discouraged - the hls demuxer should work just
as well (if not, please report the issues) and is more
complete. To use the hls demuxer instead, simply use the
direct URLs to the m3u8 files.</p>

<p style="margin-left:11%; margin-top: 1em"><b>http</b>
<small><br>
HTTP</small> (Hyper Text Transfer Protocol).</p>

<p style="margin-left:11%; margin-top: 1em">This protocol
accepts the following options: <b><br>
seekable</b></p>

<p style="margin-left:17%;">Control seekability of
connection. If set to 1 the resource is supposed to be
seekable, if set to 0 it is assumed not to be seekable, if
set to -1 it will try to autodetect if it is seekable.
Default value is -1.</p>

<p style="margin-left:11%;"><b>chunked_post</b></p>

<p style="margin-left:17%;">If set to 1 use chunked
Transfer-Encoding for posts, default is 1.</p>

<p style="margin-left:11%;"><b>content_type</b></p>

<p style="margin-left:17%;">Set a specific content type for
the <small>POST</small> messages or for listen mode.</p>

<p style="margin-left:11%;"><b>http_proxy</b></p>

<p style="margin-left:17%;">set <small>HTTP</small> proxy
to tunnel through e.g. http://example.com:1234</p>

<p style="margin-left:11%;"><b>headers</b></p>

<p style="margin-left:17%;">Set custom <small>HTTP</small>
headers, can override built in default headers. The value
must be a string encoding the headers.</p>

<p style="margin-left:11%;"><b>multiple_requests</b></p>

<p style="margin-left:17%;">Use persistent connections if
set to 1, default is 0.</p>

<p style="margin-left:11%;"><b>post_data</b></p>

<p style="margin-left:17%;">Set custom <small>HTTP</small>
post data.</p>

<p style="margin-left:11%;"><b>referer</b></p>

<p style="margin-left:17%;">Set the Referer header. Include
&rsquo;Referer: <small>URL</small> &rsquo; header in
<small>HTTP</small> request.</p>

<p style="margin-left:11%;"><b>user_agent</b></p>

<p style="margin-left:17%;">Override the User-Agent header.
If not specified the protocol will use a string describing
the libavformat build.
(&quot;Lavf/&lt;version&gt;&quot;)</p>

<p style="margin-left:11%;"><b>user-agent</b></p>

<p style="margin-left:17%;">This is a deprecated option,
you can use user_agent instead it.</p>

<p style="margin-left:11%;"><b>timeout</b></p>

<p style="margin-left:17%;">Set timeout in microseconds of
socket I/O operations used by the underlying low level
operation. By default it is set to -1, which means that the
timeout is not specified.</p>

<p style="margin-left:11%;"><b>reconnect_at_eof</b></p>

<p style="margin-left:17%;">If set then eof is treated like
an error and causes reconnection, this is useful for live /
endless streams.</p>

<p style="margin-left:11%;"><b>reconnect_streamed</b></p>

<p style="margin-left:17%;">If set then even streamed/non
seekable streams will be reconnected on errors.</p>

<p style="margin-left:11%;"><b>reconnect_delay_max</b></p>

<p style="margin-left:17%;">Sets the maximum delay in
seconds after which to give up reconnecting</p>

<p style="margin-left:11%;"><b>mime_type</b></p>

<p style="margin-left:17%;">Export the <small>MIME</small>
type.</p>

<p style="margin-left:11%;"><b>http_version</b></p>

<p style="margin-left:17%;">Exports the <small>HTTP</small>
response version number. Usually &quot;1.0&quot; or
&quot;1.1&quot;.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>icy</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>If set to 1 request <small>ICY</small> (SHOUTcast)
metadata from the server. If the server supports this, the
metadata has to be retrieved by the application by reading
the <b>icy_metadata_headers</b> and
<b>icy_metadata_packet</b> options. The default is 1.</p></td></tr>
</table>


<p style="margin-left:11%;"><b>icy_metadata_headers</b></p>

<p style="margin-left:17%;">If the server supports
<small>ICY</small> metadata, this contains the ICY-specific
<small>HTTP</small> reply headers, separated by newline
characters.</p>

<p style="margin-left:11%;"><b>icy_metadata_packet</b></p>

<p style="margin-left:17%;">If the server supports
<small>ICY</small> metadata, and <b>icy</b> was set to 1,
this contains the last non-empty metadata packet sent by the
server. It should be polled in regular intervals by
applications interested in mid-stream metadata updates.</p>

<p style="margin-left:11%;"><b>cookies</b></p>

<p style="margin-left:17%;">Set the cookies to be sent in
future requests. The format of each cookie is the same as
the value of a Set-Cookie <small>HTTP</small> response
field. Multiple cookies can be delimited by a newline
character.</p>

<p style="margin-left:11%;"><b>offset</b></p>

<p style="margin-left:17%;">Set initial byte offset.</p>

<p style="margin-left:11%;"><b>end_offset</b></p>

<p style="margin-left:17%;">Try to limit the request to
bytes preceding this offset.</p>

<p style="margin-left:11%;"><b>method</b></p>

<p style="margin-left:17%;">When used as a client option it
sets the <small>HTTP</small> method for the request.</p>

<p style="margin-left:17%; margin-top: 1em">When used as a
server option it sets the <small>HTTP</small> method that is
going to be expected from the client(s). If the expected and
the received <small>HTTP</small> method do not match the
client will be given a Bad Request response. When unset the
<small>HTTP</small> method is not checked for now. This will
be replaced by autodetection in the future.</p>

<p style="margin-left:11%;"><b>listen</b></p>

<p style="margin-left:17%;">If set to 1 enables
experimental <small>HTTP</small> server. This can be used to
send data when used as an output option, or read data from a
client with <small>HTTP POST</small> when used as an input
option. If set to 2 enables experimental multi-client
<small>HTTP</small> server. This is not yet implemented in
ffmpeg.c and thus must not be used as a command line
option.</p>

<p style="margin-left:17%; margin-top: 1em"># Server side
(sending): <br>
ffmpeg -i somefile.ogg -c copy -listen 1 -f ogg
http://&lt;server&gt;:&lt;port&gt; <br>
# Client side (receiving): <br>
ffmpeg -i http://&lt;server&gt;:&lt;port&gt; -c copy
somefile.ogg <br>
# Client can also be done with wget: <br>
wget http://&lt;server&gt;:&lt;port&gt; -O somefile.ogg <br>
# Server side (receiving): <br>
ffmpeg -listen 1 -i http://&lt;server&gt;:&lt;port&gt; -c
copy somefile.ogg <br>
# Client side (sending): <br>
ffmpeg -i somefile.ogg -chunked_post 0 -c copy -f ogg
http://&lt;server&gt;:&lt;port&gt; <br>
# Client can also be done with wget: <br>
wget --post-file=somefile.ogg
http://&lt;server&gt;:&lt;port&gt;</p>

<p style="margin-left:11%;"><b>send_expect_100</b></p>

<p style="margin-left:17%;">Send an Expect: 100-continue
header for <small>POST.</small> If set to 1 it will send, if
set to 0 it won&rsquo;t, if set to -1 it will try to send if
it is applicable. Default value is -1.</p>


<p style="margin-left:11%; margin-top: 1em"><i><small>HTTP</small>
Cookies</i></p>

<p style="margin-left:11%; margin-top: 1em">Some
<small>HTTP</small> requests will be denied unless cookie
values are passed in with the request. The <b>cookies</b>
option allows these cookies to be specified. At the very
least, each cookie must specify a value along with a path
and domain. <small>HTTP</small> requests that match both the
domain and path will automatically include the cookie value
in the <small>HTTP</small> Cookie header field. Multiple
cookies can be delimited by a newline.</p>

<p style="margin-left:11%; margin-top: 1em">The required
syntax to play a stream specifying a cookie is:</p>

<p style="margin-left:11%; margin-top: 1em">ffplay -cookies
&quot;nlqptid=nltid=tsn; path=/;
domain=somedomain.com;&quot;
http://somedomain.com/somestream.m3u8</p>

<p style="margin-left:11%; margin-top: 1em"><b>Icecast</b>
<br>
Icecast protocol (stream to Icecast servers)</p>

<p style="margin-left:11%; margin-top: 1em">This protocol
accepts the following options: <b><br>
ice_genre</b></p>

<p style="margin-left:17%;">Set the stream genre.</p>

<p style="margin-left:11%;"><b>ice_name</b></p>

<p style="margin-left:17%;">Set the stream name.</p>

<p style="margin-left:11%;"><b>ice_description</b></p>

<p style="margin-left:17%;">Set the stream description.</p>

<p style="margin-left:11%;"><b>ice_url</b></p>

<p style="margin-left:17%;">Set the stream website
<small>URL.</small></p>

<p style="margin-left:11%;"><b>ice_public</b></p>

<p style="margin-left:17%;">Set if the stream should be
public. The default is 0 (not public).</p>

<p style="margin-left:11%;"><b>user_agent</b></p>

<p style="margin-left:17%;">Override the User-Agent header.
If not specified a string of the form
&quot;Lavf/&lt;version&gt;&quot; will be used.</p>

<p style="margin-left:11%;"><b>password</b></p>

<p style="margin-left:17%;">Set the Icecast mountpoint
password.</p>

<p style="margin-left:11%;"><b>content_type</b></p>

<p style="margin-left:17%;">Set the stream content type.
This must be set if it is different from audio/mpeg.</p>

<p style="margin-left:11%;"><b>legacy_icecast</b></p>

<p style="margin-left:17%;">This enables support for
Icecast versions &lt; 2.4.0, that do not support the
<small>HTTP PUT</small> method but the <small>SOURCE</small>
method.</p>


<p style="margin-left:11%; margin-top: 1em">icecast://[&lt;username&gt;[:&lt;password&gt;]@]&lt;server&gt;:&lt;port&gt;/&lt;mountpoint&gt;</p>

<p style="margin-left:11%; margin-top: 1em"><b>mmst</b>
<small><br>
MMS</small> (Microsoft Media Server) protocol over
<small>TCP.</small></p>

<p style="margin-left:11%; margin-top: 1em"><b>mmsh</b>
<small><br>
MMS</small> (Microsoft Media Server) protocol over
<small>HTTP.</small></p>

<p style="margin-left:11%; margin-top: 1em">The required
syntax is:</p>


<p style="margin-left:11%; margin-top: 1em">mmsh://&lt;server&gt;[:&lt;port&gt;][/&lt;app&gt;][/&lt;playpath&gt;]</p>

<p style="margin-left:11%; margin-top: 1em"><b>md5</b>
<small><br>
MD5</small> output protocol.</p>

<p style="margin-left:11%; margin-top: 1em">Computes the
<small>MD5</small> hash of the data to be written, and on
close writes this to the designated output or stdout if none
is specified. It can be used to test muxers without writing
an actual file.</p>

<p style="margin-left:11%; margin-top: 1em">Some examples
follow.</p>

<p style="margin-left:11%; margin-top: 1em"># Write the MD5
hash of the encoded AVI file to the file output.avi.md5.
<br>
ffmpeg -i input.flv -f avi -y md5:output.avi.md5 <br>
# Write the MD5 hash of the encoded AVI file to stdout. <br>
ffmpeg -i input.flv -f avi -y md5:</p>

<p style="margin-left:11%; margin-top: 1em">Note that some
formats (typically <small>MOV</small> ) require the output
protocol to be seekable, so they will fail with the
<small>MD5</small> output protocol.</p>

<p style="margin-left:11%; margin-top: 1em"><b>pipe</b>
<small><br>
UNIX</small> pipe access protocol.</p>

<p style="margin-left:11%; margin-top: 1em">Read and write
from <small>UNIX</small> pipes.</p>

<p style="margin-left:11%; margin-top: 1em">The accepted
syntax is:</p>


<p style="margin-left:11%; margin-top: 1em">pipe:[&lt;number&gt;]</p>

<p style="margin-left:11%; margin-top: 1em"><i>number</i>
is the number corresponding to the file descriptor of the
pipe (e.g. 0 for stdin, 1 for stdout, 2 for stderr). If
<i>number</i> is not specified, by default the stdout file
descriptor will be used for writing, stdin for reading.</p>

<p style="margin-left:11%; margin-top: 1em">For example to
read from stdin with <b>ffmpeg</b>:</p>

<p style="margin-left:11%; margin-top: 1em">cat test.wav |
ffmpeg -i pipe:0 <br>
# ...this is the same as... <br>
cat test.wav | ffmpeg -i pipe:</p>

<p style="margin-left:11%; margin-top: 1em">For writing to
stdout with <b>ffmpeg</b>:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i
test.wav -f avi pipe:1 | cat &gt; test.avi <br>
# ...this is the same as... <br>
ffmpeg -i test.wav -f avi pipe: | cat &gt; test.avi</p>

<p style="margin-left:11%; margin-top: 1em">This protocol
accepts the following options: <b><br>
blocksize</b></p>

<p style="margin-left:17%;">Set I/O operation maximum block
size, in bytes. Default value is &quot;INT_MAX&quot;, which
results in not limiting the requested block size. Setting
this value reasonably low improves user termination request
reaction time, which is valuable if data transmission is
slow.</p>

<p style="margin-left:11%; margin-top: 1em">Note that some
formats (typically <small>MOV</small> ), require the output
protocol to be seekable, so they will fail with the pipe
output protocol.</p>

<p style="margin-left:11%; margin-top: 1em"><b>prompeg</b>
<br>
Pro-MPEG Code of Practice #3 Release 2 <small>FEC</small>
protocol.</p>

<p style="margin-left:11%; margin-top: 1em">The Pro-MPEG
CoP#3 <small>FEC</small> is a 2D parity-check forward error
correction mechanism for <small>MPEG-2</small> Transport
Streams sent over <small>RTP.</small></p>

<p style="margin-left:11%; margin-top: 1em">This protocol
must be used in conjunction with the &quot;rtp_mpegts&quot;
muxer and the &quot;rtp&quot; protocol.</p>

<p style="margin-left:11%; margin-top: 1em">The required
syntax is:</p>

<p style="margin-left:11%; margin-top: 1em">-f rtp_mpegts
-fec prompeg=&lt;option&gt;=&lt;val&gt;...
rtp://&lt;hostname&gt;:&lt;port&gt;</p>

<p style="margin-left:11%; margin-top: 1em">The destination
<small>UDP</small> ports are &quot;port + 2&quot; for the
column <small>FEC</small> stream and &quot;port + 4&quot;
for the row <small>FEC</small> stream.</p>

<p style="margin-left:11%; margin-top: 1em">This protocol
accepts the following options:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>l=</b><i>n</i></p></td>
<td width="2%"></td>
<td width="61%">


<p>The number of columns (4-20, LxD &lt;= 100)</p></td>
<td width="22%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>d=</b><i>n</i></p></td>
<td width="2%"></td>
<td width="61%">


<p>The number of rows (4-20, LxD &lt;= 100)</p></td>
<td width="22%">
</td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Example
usage:</p>

<p style="margin-left:11%; margin-top: 1em">-f rtp_mpegts
-fec prompeg=l=8:d=4 rtp://&lt;hostname&gt;:&lt;port&gt;</p>

<p style="margin-left:11%; margin-top: 1em"><b>rtmp</b>
<br>
Real-Time Messaging Protocol.</p>

<p style="margin-left:11%; margin-top: 1em">The Real-Time
Messaging Protocol ( <small>RTMP</small> ) is used for
streaming multimedia content across a <small>TCP/IP</small>
network.</p>

<p style="margin-left:11%; margin-top: 1em">The required
syntax is:</p>


<p style="margin-left:11%; margin-top: 1em">rtmp://[&lt;username&gt;:&lt;password&gt;@]&lt;server&gt;[:&lt;port&gt;][/&lt;app&gt;][/&lt;instance&gt;][/&lt;playpath&gt;]</p>

<p style="margin-left:11%; margin-top: 1em">The accepted
parameters are: <b><br>
username</b></p>

<p style="margin-left:17%;">An optional username (mostly
for publishing).</p>

<p style="margin-left:11%;"><b>password</b></p>

<p style="margin-left:17%;">An optional password (mostly
for publishing).</p>

<p style="margin-left:11%;"><b>server</b></p>

<p style="margin-left:17%;">The address of the
<small>RTMP</small> server.</p>

<p style="margin-left:11%;"><b>port</b></p>

<p style="margin-left:17%;">The number of the
<small>TCP</small> port to use (by default is 1935).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>app</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>It is the name of the application to access. It usually
corresponds to the path where the application is installed
on the <small>RTMP</small> server (e.g. <i>/ondemand/</i>,
<i>/flash/live/</i>, etc.). You can override the value
parsed from the <small>URI</small> through the
&quot;rtmp_app&quot; option, too.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>playpath</b></p>

<p style="margin-left:17%;">It is the path or name of the
resource to play with reference to the application specified
in <i>app</i>, may be prefixed by &quot;mp4:&quot;. You can
override the value parsed from the <small>URI</small>
through the &quot;rtmp_playpath&quot; option, too.</p>

<p style="margin-left:11%;"><b>listen</b></p>

<p style="margin-left:17%;">Act as a server, listening for
an incoming connection.</p>

<p style="margin-left:11%;"><b>timeout</b></p>

<p style="margin-left:17%;">Maximum time to wait for the
incoming connection. Implies listen.</p>

<p style="margin-left:11%; margin-top: 1em">Additionally,
the following parameters can be set via command line options
(or in code via &quot;AVOption&quot;s): <b><br>
rtmp_app</b></p>

<p style="margin-left:17%;">Name of application to connect
on the <small>RTMP</small> server. This option overrides the
parameter specified in the <small>URI.</small></p>

<p style="margin-left:11%;"><b>rtmp_buffer</b></p>

<p style="margin-left:17%;">Set the client buffer time in
milliseconds. The default is 3000.</p>

<p style="margin-left:11%;"><b>rtmp_conn</b></p>

<p style="margin-left:17%;">Extra arbitrary
<small>AMF</small> connection parameters, parsed from a
string, e.g. like &quot;B:1 S:authMe O:1 NN:code:1.23
NS:flag:ok O:0&quot;. Each value is prefixed by a single
character denoting the type, B for Boolean, N for number, S
for string, O for object, or Z for null, followed by a
colon. For Booleans the data must be either 0 or 1 for
<small>FALSE</small> or <small>TRUE,</small> respectively.
Likewise for Objects the data must be 0 or 1 to end or begin
an object, respectively. Data items in subobjects may be
named, by prefixing the type with &rsquo;N&rsquo; and
specifying the name before the value (i.e.
&quot;NB:myFlag:1&quot;). This option may be used multiple
times to construct arbitrary <small>AMF</small>
sequences.</p>

<p style="margin-left:11%;"><b>rtmp_flashver</b></p>

<p style="margin-left:17%;">Version of the Flash plugin
used to run the <small>SWF</small> player. The default is
<small>LNX 9,0,124,2.</small> (When publishing, the default
is <small>FMLE/3.0</small> (compatible; &lt;libavformat
version&gt;).)</p>

<p style="margin-left:11%;"><b>rtmp_flush_interval</b></p>

<p style="margin-left:17%;">Number of packets flushed in
the same request ( <small>RTMPT</small> only). The default
is 10.</p>

<p style="margin-left:11%;"><b>rtmp_live</b></p>

<p style="margin-left:17%;">Specify that the media is a
live stream. No resuming or seeking in live streams is
possible. The default value is &quot;any&quot;, which means
the subscriber first tries to play the live stream specified
in the playpath. If a live stream of that name is not found,
it plays the recorded stream. The other possible values are
&quot;live&quot; and &quot;recorded&quot;.</p>

<p style="margin-left:11%;"><b>rtmp_pageurl</b></p>

<p style="margin-left:17%;"><small>URL</small> of the web
page in which the media was embedded. By default no value
will be sent.</p>

<p style="margin-left:11%;"><b>rtmp_playpath</b></p>

<p style="margin-left:17%;">Stream identifier to play or to
publish. This option overrides the parameter specified in
the <small>URI.</small></p>

<p style="margin-left:11%;"><b>rtmp_subscribe</b></p>

<p style="margin-left:17%;">Name of live stream to
subscribe to. By default no value will be sent. It is only
sent if the option is specified or if rtmp_live is set to
live.</p>

<p style="margin-left:11%;"><b>rtmp_swfhash</b></p>

<p style="margin-left:17%;"><small>SHA256</small> hash of
the decompressed <small>SWF</small> file (32 bytes).</p>

<p style="margin-left:11%;"><b>rtmp_swfsize</b></p>

<p style="margin-left:17%;">Size of the decompressed
<small>SWF</small> file, required for SWFVerification.</p>

<p style="margin-left:11%;"><b>rtmp_swfurl</b></p>

<p style="margin-left:17%;"><small>URL</small> of the
<small>SWF</small> player for the media. By default no value
will be sent.</p>

<p style="margin-left:11%;"><b>rtmp_swfverify</b></p>

<p style="margin-left:17%;"><small>URL</small> to player
swf file, compute hash/size automatically.</p>

<p style="margin-left:11%;"><b>rtmp_tcurl</b></p>

<p style="margin-left:17%;"><small>URL</small> of the
target stream. Defaults to proto://host[:port]/app.</p>

<p style="margin-left:11%; margin-top: 1em">For example to
read with <b>ffplay</b> a multimedia resource named
&quot;sample&quot; from the application &quot;vod&quot; from
an <small>RTMP</small> server &quot;myserver&quot;:</p>

<p style="margin-left:11%; margin-top: 1em">ffplay
rtmp://myserver/vod/sample</p>

<p style="margin-left:11%; margin-top: 1em">To publish to a
password protected server, passing the playpath and app
names separately:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -re -i
&lt;input&gt; -f flv -rtmp_playpath some/long/path -rtmp_app
long/app/name rtmp://username:password@myserver/</p>

<p style="margin-left:11%; margin-top: 1em"><b>rtmpe</b>
<br>
Encrypted Real-Time Messaging Protocol.</p>

<p style="margin-left:11%; margin-top: 1em">The Encrypted
Real-Time Messaging Protocol ( <small>RTMPE</small> ) is
used for streaming multimedia content within standard
cryptographic primitives, consisting of Diffie-Hellman key
exchange and <small>HMACSHA256,</small> generating a pair of
<small>RC4</small> keys.</p>

<p style="margin-left:11%; margin-top: 1em"><b>rtmps</b>
<br>
Real-Time Messaging Protocol over a secure
<small>SSL</small> connection.</p>

<p style="margin-left:11%; margin-top: 1em">The Real-Time
Messaging Protocol ( <small>RTMPS</small> ) is used for
streaming multimedia content across an encrypted
connection.</p>

<p style="margin-left:11%; margin-top: 1em"><b>rtmpt</b>
<br>
Real-Time Messaging Protocol tunneled through
<small>HTTP.</small></p>

<p style="margin-left:11%; margin-top: 1em">The Real-Time
Messaging Protocol tunneled through <small>HTTP</small> (
<small>RTMPT</small> ) is used for streaming multimedia
content within <small>HTTP</small> requests to traverse
firewalls.</p>

<p style="margin-left:11%; margin-top: 1em"><b>rtmpte</b>
<br>
Encrypted Real-Time Messaging Protocol tunneled through
<small>HTTP.</small></p>

<p style="margin-left:11%; margin-top: 1em">The Encrypted
Real-Time Messaging Protocol tunneled through
<small>HTTP</small> ( <small>RTMPTE</small> ) is used for
streaming multimedia content within <small>HTTP</small>
requests to traverse firewalls.</p>

<p style="margin-left:11%; margin-top: 1em"><b>rtmpts</b>
<br>
Real-Time Messaging Protocol tunneled through
<small>HTTPS.</small></p>

<p style="margin-left:11%; margin-top: 1em">The Real-Time
Messaging Protocol tunneled through <small>HTTPS</small> (
<small>RTMPTS</small> ) is used for streaming multimedia
content within <small>HTTPS</small> requests to traverse
firewalls.</p>


<p style="margin-left:11%; margin-top: 1em"><b>libsmbclient</b>
<br>
libsmbclient permits one to manipulate
<small>CIFS/SMB</small> network resources.</p>

<p style="margin-left:11%; margin-top: 1em">Following
syntax is required.</p>


<p style="margin-left:11%; margin-top: 1em">smb://[[domain:]user[:password@]]server[/share[/path[/file]]]</p>

<p style="margin-left:11%; margin-top: 1em">This protocol
accepts the following options. <b><br>
timeout</b></p>

<p style="margin-left:17%;">Set timeout in milliseconds of
socket I/O operations used by the underlying low level
operation. By default it is set to -1, which means that the
timeout is not specified.</p>

<p style="margin-left:11%;"><b>truncate</b></p>

<p style="margin-left:17%;">Truncate existing files on
write, if set to 1. A value of 0 prevents truncating.
Default value is 1.</p>

<p style="margin-left:11%;"><b>workgroup</b></p>

<p style="margin-left:17%;">Set the workgroup used for
making connections. By default workgroup is not
specified.</p>

<p style="margin-left:11%; margin-top: 1em">For more
information see: &lt;<b>http://www.samba.org/</b>&gt;.</p>

<p style="margin-left:11%; margin-top: 1em"><b>libssh</b>
<br>
Secure File Transfer Protocol via libssh</p>

<p style="margin-left:11%; margin-top: 1em">Read from or
write to remote resources using <small>SFTP</small>
protocol.</p>

<p style="margin-left:11%; margin-top: 1em">Following
syntax is required.</p>


<p style="margin-left:11%; margin-top: 1em">sftp://[user[:password]@]server[:port]/path/to/remote/resource.mpeg</p>

<p style="margin-left:11%; margin-top: 1em">This protocol
accepts the following options. <b><br>
timeout</b></p>

<p style="margin-left:17%;">Set timeout of socket I/O
operations used by the underlying low level operation. By
default it is set to -1, which means that the timeout is not
specified.</p>

<p style="margin-left:11%;"><b>truncate</b></p>

<p style="margin-left:17%;">Truncate existing files on
write, if set to 1. A value of 0 prevents truncating.
Default value is 1.</p>

<p style="margin-left:11%;"><b>private_key</b></p>

<p style="margin-left:17%;">Specify the path of the file
containing private key to use during authorization. By
default libssh searches for keys in the <i>~/.ssh/</i>
directory.</p>

<p style="margin-left:11%; margin-top: 1em">Example: Play a
file stored on remote server.</p>

<p style="margin-left:11%; margin-top: 1em">ffplay
sftp://user:password@server_address:22/home/user/resource.mpeg</p>

<p style="margin-left:11%; margin-top: 1em"><b>librtmp
rtmp, rtmpe, rtmps, rtmpt, rtmpte</b> <br>
Real-Time Messaging Protocol and its variants supported
through librtmp.</p>

<p style="margin-left:11%; margin-top: 1em">Requires the
presence of the librtmp headers and library during
configuration. You need to explicitly configure the build
with &quot;--enable-librtmp&quot;. If enabled this will
replace the native <small>RTMP</small> protocol.</p>

<p style="margin-left:11%; margin-top: 1em">This protocol
provides most client functions and a few server functions
needed to support <small>RTMP, RTMP</small> tunneled in
<small>HTTP</small> ( <small>RTMPT</small> ), encrypted
<small>RTMP</small> ( <small>RTMPE</small> ),
<small>RTMP</small> over <small>SSL/TLS</small> (
<small>RTMPS</small> ) and tunneled variants of these
encrypted types ( <small>RTMPTE, RTMPTS</small> ).</p>

<p style="margin-left:11%; margin-top: 1em">The required
syntax is:</p>


<p style="margin-left:11%; margin-top: 1em">&lt;rtmp_proto&gt;://&lt;server&gt;[:&lt;port&gt;][/&lt;app&gt;][/&lt;playpath&gt;]
&lt;options&gt;</p>

<p style="margin-left:11%; margin-top: 1em">where
<i>rtmp_proto</i> is one of the strings &quot;rtmp&quot;,
&quot;rtmpt&quot;, &quot;rtmpe&quot;, &quot;rtmps&quot;,
&quot;rtmpte&quot;, &quot;rtmpts&quot; corresponding to each
<small>RTMP</small> variant, and <i>server</i>, <i>port</i>,
<i>app</i> and <i>playpath</i> have the same meaning as
specified for the <small>RTMP</small> native protocol.
<i>options</i> contains a list of space-separated options of
the form <i>key</i>=<i>val</i>.</p>

<p style="margin-left:11%; margin-top: 1em">See the librtmp
manual page (man 3 librtmp) for more information.</p>

<p style="margin-left:11%; margin-top: 1em">For example, to
stream a file in real-time to an <small>RTMP</small> server
using <b>ffmpeg</b>:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -re -i
myfile -f flv rtmp://myserver/live/mystream</p>

<p style="margin-left:11%; margin-top: 1em">To play the
same stream using <b>ffplay</b>:</p>

<p style="margin-left:11%; margin-top: 1em">ffplay
&quot;rtmp://myserver/live/mystream live=1&quot;</p>

<p style="margin-left:11%; margin-top: 1em"><b>rtp</b> <br>
Real-time Transport Protocol.</p>

<p style="margin-left:11%; margin-top: 1em">The required
syntax for an <small>RTP URL</small> is:
rtp://<i>hostname</i>[:<i>port</i>][?<i>option</i>=<i>val</i>...]</p>

<p style="margin-left:11%; margin-top: 1em"><i>port</i>
specifies the <small>RTP</small> port to use.</p>

<p style="margin-left:11%; margin-top: 1em">The following
<small>URL</small> options are supported: <b><br>
ttl=</b><i>n</i></p>

<p style="margin-left:17%;">Set the <small>TTL</small>
(Time-To-Live) value (for multicast only).</p>

<p style="margin-left:11%;"><b>rtcpport=</b><i>n</i></p>

<p style="margin-left:17%;">Set the remote
<small>RTCP</small> port to <i>n</i>.</p>


<p style="margin-left:11%;"><b>localrtpport=</b><i>n</i></p>

<p style="margin-left:17%;">Set the local
<small>RTP</small> port to <i>n</i>.</p>


<p style="margin-left:11%;"><b>localrtcpport=</b><i>n</i><b>&rsquo;</b></p>

<p style="margin-left:17%;">Set the local
<small>RTCP</small> port to <i>n</i>.</p>

<p style="margin-left:11%;"><b>pkt_size=</b><i>n</i></p>

<p style="margin-left:17%;">Set max packet size (in bytes)
to <i>n</i>.</p>

<p style="margin-left:11%;"><b>connect=0|1</b></p>

<p style="margin-left:17%;">Do a &quot;connect()&quot; on
the <small>UDP</small> socket (if set to 1) or not (if set
to 0).</p>


<p style="margin-left:11%;"><b>sources=</b><i>ip</i><b>[,</b><i>ip</i><b>]</b></p>

<p style="margin-left:17%;">List allowed source
<small>IP</small> addresses.</p>


<p style="margin-left:11%;"><b>block=</b><i>ip</i><b>[,</b><i>ip</i><b>]</b></p>

<p style="margin-left:17%;">List disallowed (blocked)
source <small>IP</small> addresses.</p>

<p style="margin-left:11%;"><b>write_to_source=0|1</b></p>

<p style="margin-left:17%;">Send packets to the source
address of the latest received packet (if set to 1) or to a
default remote address (if set to 0).</p>

<p style="margin-left:11%;"><b>localport=</b><i>n</i></p>

<p style="margin-left:17%;">Set the local
<small>RTP</small> port to <i>n</i>.</p>

<p style="margin-left:17%; margin-top: 1em">This is a
deprecated option. Instead, <b>localrtpport</b> should be
used.</p>

<p style="margin-left:11%; margin-top: 1em">Important
notes:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>1.</p></td>
<td width="3%"></td>
<td width="83%">


<p>If <b>rtcpport</b> is not set the <small>RTCP</small>
port will be set to the <small>RTP</small> port value plus
1.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>2.</p></td>
<td width="3%"></td>
<td width="83%">


<p>If <b>localrtpport</b> (the local <small>RTP</small>
port) is not set any available port will be used for the
local <small>RTP</small> and <small>RTCP</small> ports.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>3.</p></td>
<td width="3%"></td>
<td width="83%">


<p>If <b>localrtcpport</b> (the local <small>RTCP</small>
port) is not set it will be set to the local
<small>RTP</small> port value plus 1.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>rtsp</b>
<br>
Real-Time Streaming Protocol.</p>


<p style="margin-left:11%; margin-top: 1em"><small>RTSP</small>
is not technically a protocol handler in libavformat, it is
a demuxer and muxer. The demuxer supports both normal
<small>RTSP</small> (with data transferred over
<small>RTP</small> ; this is used by e.g. Apple and
Microsoft) and Real-RTSP (with data transferred over
<small>RDT</small> ).</p>

<p style="margin-left:11%; margin-top: 1em">The muxer can
be used to send a stream using <small>RTSP ANNOUNCE</small>
to a server supporting it (currently Darwin Streaming Server
and Mischa Spiegelmock&rsquo;s
&lt;<b>https://github.com/revmischa/rtsp-server</b>&gt;).</p>

<p style="margin-left:11%; margin-top: 1em">The required
syntax for a <small>RTSP</small> url is:</p>


<p style="margin-left:11%; margin-top: 1em">rtsp://&lt;hostname&gt;[:&lt;port&gt;]/&lt;path&gt;</p>

<p style="margin-left:11%; margin-top: 1em">Options can be
set on the <b>ffmpeg</b>/<b>ffplay</b> command line, or set
in code via &quot;AVOption&quot;s or in
&quot;avformat_open_input&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">The following
options are supported. <b><br>
initial_pause</b></p>

<p style="margin-left:17%;">Do not start playing the stream
immediately if set to 1. Default value is 0.</p>

<p style="margin-left:11%;"><b>rtsp_transport</b></p>

<p style="margin-left:17%;">Set <small>RTSP</small>
transport protocols.</p>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>udp</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>Use <small>UDP</small> as lower transport protocol.</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>tcp</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>Use <small>TCP</small> (interleaving within the
<small>RTSP</small> control channel) as lower transport
protocol.</p> </td></tr>
</table>

<p style="margin-left:17%;"><b>udp_multicast</b></p>

<p style="margin-left:23%;">Use <small>UDP</small>
multicast as lower transport protocol.</p>

<p style="margin-left:17%;"><b>http</b></p>

<p style="margin-left:23%;">Use <small>HTTP</small>
tunneling as lower transport protocol, which is useful for
passing proxies.</p>

<p style="margin-left:17%; margin-top: 1em">Multiple lower
transport protocols may be specified, in that case they are
tried one at a time (if the setup of one fails, the next one
is tried). For the muxer, only the <b>tcp</b> and <b>udp</b>
options are supported.</p>

<p style="margin-left:11%;"><b>rtsp_flags</b></p>

<p style="margin-left:17%;">Set <small>RTSP</small>
flags.</p>

<p style="margin-left:17%; margin-top: 1em">The following
values are accepted: <b><br>
filter_src</b></p>

<p style="margin-left:23%;">Accept packets only from
negotiated peer address and port.</p>

<p style="margin-left:17%;"><b>listen</b></p>

<p style="margin-left:23%;">Act as a server, listening for
an incoming connection.</p>

<p style="margin-left:17%;"><b>prefer_tcp</b></p>

<p style="margin-left:23%;">Try <small>TCP</small> for
<small>RTP</small> transport first, if <small>TCP</small> is
available as <small>RTSP RTP</small> transport.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is <b>none</b>.</p>

<p style="margin-left:11%;"><b>allowed_media_types</b></p>

<p style="margin-left:17%;">Set media types to accept from
the server.</p>

<p style="margin-left:17%; margin-top: 1em">The following
flags are accepted: <b><br>
video <br>
audio <br>
data</b></p>

<p style="margin-left:17%; margin-top: 1em">By default it
accepts all media types.</p>

<p style="margin-left:11%;"><b>min_port</b></p>

<p style="margin-left:17%;">Set minimum local
<small>UDP</small> port. Default value is 5000.</p>

<p style="margin-left:11%;"><b>max_port</b></p>

<p style="margin-left:17%;">Set maximum local
<small>UDP</small> port. Default value is 65000.</p>

<p style="margin-left:11%;"><b>timeout</b></p>

<p style="margin-left:17%;">Set maximum timeout (in
seconds) to wait for incoming connections.</p>

<p style="margin-left:17%; margin-top: 1em">A value of -1
means infinite (default). This option implies the
<b>rtsp_flags</b> set to <b>listen</b>.</p>

<p style="margin-left:11%;"><b>reorder_queue_size</b></p>

<p style="margin-left:17%;">Set number of packets to buffer
for handling of reordered packets.</p>

<p style="margin-left:11%;"><b>stimeout</b></p>

<p style="margin-left:17%;">Set socket <small>TCP
I/O</small> timeout in microseconds.</p>

<p style="margin-left:11%;"><b>user-agent</b></p>

<p style="margin-left:17%;">Override User-Agent header. If
not specified, it defaults to the libavformat identifier
string.</p>

<p style="margin-left:11%; margin-top: 1em">When receiving
data over <small>UDP,</small> the demuxer tries to reorder
received packets (since they may arrive out of order, or
packets may get lost totally). This can be disabled by
setting the maximum demuxing delay to zero (via the
&quot;max_delay&quot; field of AVFormatContext).</p>

<p style="margin-left:11%; margin-top: 1em">When watching
multi-bitrate Real-RTSP streams with <b>ffplay</b>, the
streams to display can be chosen with &quot;-vst&quot;
<i>n</i> and &quot;-ast&quot; <i>n</i> for video and audio
respectively, and can be switched on the fly by pressing
&quot;v&quot; and &quot;a&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<p style="margin-left:11%; margin-top: 1em">The following
examples all make use of the <b>ffplay</b> and <b>ffmpeg</b>
tools.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Watch a stream over <small>UDP,</small> with a max
reordering delay of 0.5 seconds:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffplay
-max_delay 500000 -rtsp_transport udp
rtsp://server/video.mp4</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="52%">


<p style="margin-top: 1em">Watch a stream tunneled over
<small>HTTP:</small></p> </td>
<td width="31%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffplay
-rtsp_transport http rtsp://server/video.mp4</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Send a stream in realtime to a
<small>RTSP</small> server, for others to watch:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -re -i
&lt;input&gt; -f rtsp -muxdelay 0.1
rtsp://server/live.sdp</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="45%">


<p style="margin-top: 1em">Receive a stream in
realtime:</p> </td>
<td width="38%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg
-rtsp_flags listen -i rtsp://ownaddress/live.sdp
&lt;output&gt;</p>

<p style="margin-left:11%; margin-top: 1em"><b>sap</b> <br>
Session Announcement Protocol ( <small>RFC 2974</small> ).
This is not technically a protocol handler in libavformat,
it is a muxer and demuxer. It is used for signalling of
<small>RTP</small> streams, by announcing the
<small>SDP</small> for the streams regularly on a separate
port.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Muxer</i></p>

<p style="margin-left:11%; margin-top: 1em">The syntax for
a <small>SAP</small> url given to the muxer is:</p>


<p style="margin-left:11%; margin-top: 1em">sap://&lt;destination&gt;[:&lt;port&gt;][?&lt;options&gt;]</p>

<p style="margin-left:11%; margin-top: 1em">The
<small>RTP</small> packets are sent to <i>destination</i> on
port <i>port</i>, or to port 5004 if no port is specified.
<i>options</i> is a &quot;&amp;&quot;-separated list. The
following options are supported: <b><br>
announce_addr=</b><i>address</i></p>

<p style="margin-left:17%;">Specify the destination
<small>IP</small> address for sending the announcements to.
If omitted, the announcements are sent to the commonly used
<small>SAP</small> announcement multicast address
224.2.127.254 (sap.mcast.net), or ff0e::2:7ffe if
<i>destination</i> is an IPv6 address.</p>


<p style="margin-left:11%;"><b>announce_port=</b><i>port</i></p>

<p style="margin-left:17%;">Specify the port to send the
announcements on, defaults to 9875 if not specified.</p>

<p style="margin-left:11%;"><b>ttl=</b><i>ttl</i></p>

<p style="margin-left:17%;">Specify the time to live value
for the announcements and <small>RTP</small> packets,
defaults to 255.</p>


<p style="margin-left:11%;"><b>same_port=</b><i>0|1</i></p>

<p style="margin-left:17%;">If set to 1, send all
<small>RTP</small> streams on the same port pair. If zero
(the default), all streams are sent on unique ports, with
each stream on a port 2 numbers higher than the previous.
VLC/Live555 requires this to be set to 1, to be able to
receive the stream. The <small>RTP</small> stack in
libavformat for receiving requires all streams to be sent on
unique ports.</p>

<p style="margin-left:11%; margin-top: 1em">Example command
lines follow.</p>

<p style="margin-left:11%; margin-top: 1em">To broadcast a
stream on the local subnet, for watching in
<small>VLC:</small></p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -re -i
&lt;input&gt; -f sap sap://224.0.0.255?same_port=1</p>

<p style="margin-left:11%; margin-top: 1em">Similarly, for
watching in <b>ffplay</b>:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -re -i
&lt;input&gt; -f sap sap://224.0.0.255</p>

<p style="margin-left:11%; margin-top: 1em">And for
watching in <b>ffplay</b>, over IPv6:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -re -i
&lt;input&gt; -f sap sap://[ff0e::1:2:3:4]</p>


<p style="margin-left:11%; margin-top: 1em"><i>Demuxer</i></p>

<p style="margin-left:11%; margin-top: 1em">The syntax for
a <small>SAP</small> url given to the demuxer is:</p>


<p style="margin-left:11%; margin-top: 1em">sap://[&lt;address&gt;][:&lt;port&gt;]</p>

<p style="margin-left:11%; margin-top: 1em"><i>address</i>
is the multicast address to listen for announcements on, if
omitted, the default 224.2.127.254 (sap.mcast.net) is used.
<i>port</i> is the port that is listened on, 9875 if
omitted.</p>

<p style="margin-left:11%; margin-top: 1em">The demuxers
listens for announcements on the given address and port.
Once an announcement is received, it tries to receive that
particular stream.</p>

<p style="margin-left:11%; margin-top: 1em">Example command
lines follow.</p>

<p style="margin-left:11%; margin-top: 1em">To play back
the first stream announced on the normal <small>SAP</small>
multicast address:</p>

<p style="margin-left:11%; margin-top: 1em">ffplay
sap://</p>

<p style="margin-left:11%; margin-top: 1em">To play back
the first stream announced on one the default IPv6
<small>SAP</small> multicast address:</p>

<p style="margin-left:11%; margin-top: 1em">ffplay
sap://[ff0e::2:7ffe]</p>

<p style="margin-left:11%; margin-top: 1em"><b>sctp</b>
<br>
Stream Control Transmission Protocol.</p>

<p style="margin-left:11%; margin-top: 1em">The accepted
<small>URL</small> syntax is:</p>


<p style="margin-left:11%; margin-top: 1em">sctp://&lt;host&gt;:&lt;port&gt;[?&lt;options&gt;]</p>

<p style="margin-left:11%; margin-top: 1em">The protocol
accepts the following options: <b><br>
listen</b></p>

<p style="margin-left:17%;">If set to any value, listen for
an incoming connection. Outgoing connection is done by
default.</p>

<p style="margin-left:11%;"><b>max_streams</b></p>

<p style="margin-left:17%;">Set the maximum number of
streams. By default no limit is set.</p>

<p style="margin-left:11%; margin-top: 1em"><b>srt</b> <br>
Haivision Secure Reliable Transport Protocol via libsrt.</p>

<p style="margin-left:11%; margin-top: 1em">The supported
syntax for a <small>SRT URL</small> is:</p>


<p style="margin-left:11%; margin-top: 1em">srt://&lt;hostname&gt;:&lt;port&gt;[?&lt;options&gt;]</p>

<p style="margin-left:11%; margin-top: 1em"><i>options</i>
contains a list of &amp;-separated options of the form
<i>key</i>=<i>val</i>.</p>

<p style="margin-left:11%; margin-top: 1em">or</p>


<p style="margin-left:11%; margin-top: 1em">&lt;options&gt;
srt://&lt;hostname&gt;:&lt;port&gt;</p>

<p style="margin-left:11%; margin-top: 1em"><i>options</i>
contains a list of &rsquo;-<i>key val</i>&rsquo;
options.</p>

<p style="margin-left:11%; margin-top: 1em">This protocol
accepts the following options. <b><br>
connect_timeout</b></p>

<p style="margin-left:17%;">Connection timeout;
<small>SRT</small> cannot connect for <small>RTT</small>
&gt; 1500 msec (2 handshake exchanges) with the default
connect timeout of 3 seconds. This option applies to the
caller and rendezvous connection modes. The connect timeout
is 10 times the value set for the rendezvous mode (which can
be used as a workaround for this connection problem with
earlier versions).</p>

<p style="margin-left:11%;"><b>ffs=</b><i>bytes</i></p>

<p style="margin-left:17%;">Flight Flag Size (Window Size),
in bytes. <small>FFS</small> is actually an internal
parameter and you should set it to not less than
<b>recv_buffer_size</b> and <b>mss</b>. The default value is
relatively large, therefore unless you set a very large
receiver buffer, you do not need to change this option.
Default value is 25600.</p>


<p style="margin-left:11%;"><b>inputbw=</b><i>bytes/seconds</i></p>

<p style="margin-left:17%;">Sender nominal input rate, in
bytes per seconds. Used along with <b>oheadbw</b>, when
<b>maxbw</b> is set to relative (0), to calculate maximum
sending rate when recovery packets are sent along with the
main media stream: <b>inputbw</b> * (100 + <b>oheadbw</b>) /
100 if <b>inputbw</b> is not set while <b>maxbw</b> is set
to relative (0), the actual input rate is evaluated inside
the library. Default value is 0.</p>

<p style="margin-left:11%;"><b>iptos=</b><i>tos</i></p>

<p style="margin-left:17%;"><small>IP</small> Type of
Service. Applies to sender only. Default value is 0xB8.</p>

<p style="margin-left:11%;"><b>ipttl=</b><i>ttl</i></p>

<p style="margin-left:17%;"><small>IP</small> Time To Live.
Applies to sender only. Default value is 64.</p>

<p style="margin-left:11%;"><b>latency</b></p>

<p style="margin-left:17%;">Timestamp-based Packet Delivery
Delay. Used to absorb bursts of missed packet
retransmissions. This flag sets both <b>rcvlatency</b> and
<b>peerlatency</b> to the same value. Note that prior to
version 1.3.0 this is the only flag to set the latency,
however this is effectively equivalent to setting
<b>peerlatency</b>, when side is sender and
<b>rcvlatency</b> when side is receiver, and the
bidirectional stream sending is not supported.</p>

<p style="margin-left:11%;"><b>listen_timeout</b></p>

<p style="margin-left:17%;">Set socket listen timeout.</p>


<p style="margin-left:11%;"><b>maxbw=</b><i>bytes/seconds</i></p>

<p style="margin-left:17%;">Maximum sending bandwidth, in
bytes per seconds. -1 infinite ( <small>CSRTCC</small> limit
is 30mbps) 0 relative to input rate (see <b>inputbw</b>)
&gt;0 absolute limit value Default value is 0 (relative)</p>


<p style="margin-left:11%;"><b>mode=</b><i>caller|listener|rendezvous</i></p>

<p style="margin-left:17%;">Connection mode. <b>caller</b>
opens client connection. <b>listener</b> starts server to
listen for incoming connections. <b>rendezvous</b> use
Rendez-Vous connection mode. Default value is caller.</p>

<p style="margin-left:11%;"><b>mss=</b><i>bytes</i></p>

<p style="margin-left:17%;">Maximum Segment Size, in bytes.
Used for buffer allocation and rate calculation using a
packet counter assuming fully filled packets. The smallest
<small>MSS</small> between the peers is used. This is 1500
by default in the overall internet. This is the maximum size
of the <small>UDP</small> packet and can be only decreased,
unless you have some unusual dedicated network settings.
Default value is 1500.</p>


<p style="margin-left:11%;"><b>nakreport=</b><i>1|0</i></p>

<p style="margin-left:17%;">If set to 1, Receiver will send
&rsquo;UMSG_LOSSREPORT&rsquo; messages periodically until a
lost packet is retransmitted or intentionally dropped.
Default value is 1.</p>


<p style="margin-left:11%;"><b>oheadbw=</b><i>percents</i></p>

<p style="margin-left:17%;">Recovery bandwidth overhead
above input rate, in percents. See <b>inputbw</b>. Default
value is 25%.</p>


<p style="margin-left:11%;"><b>passphrase=</b><i>string</i></p>

<p style="margin-left:17%;">HaiCrypt Encryption/Decryption
Passphrase string, length from 10 to 79 characters. The
passphrase is the shared secret between the sender and the
receiver. It is used to generate the Key Encrypting Key
using <small>PBKDF2</small> (Password-Based Key Derivation
Function). It is used only if <b>pbkeylen</b> is non-zero.
It is used on the receiver only if the received data is
encrypted. The configured passphrase cannot be recovered
(write-only).</p>


<p style="margin-left:11%;"><b>payload_size=</b><i>bytes</i></p>

<p style="margin-left:17%;">Sets the maximum declared size
of a packet transferred during the single call to the
sending function in Live mode. Use 0 if this value
isn&rsquo;t used (which is default in file mode). Default is
-1 (automatic), which typically means MPEG-TS; if you are
going to use <small>SRT</small> to send any different kind
of payload, such as, for example, wrapping a live stream in
very small frames, then you can use a bigger maximum frame
size, though not greater than 1456 bytes.</p>


<p style="margin-left:11%;"><b>pkt_size=</b><i>bytes</i></p>

<p style="margin-left:17%;">Alias for
<b>payload_size</b>.</p>

<p style="margin-left:11%;"><b>peerlatency</b></p>

<p style="margin-left:17%;">The latency value (as described
in <b>rcvlatency</b>) that is set by the sender side as a
minimum value for the receiver.</p>


<p style="margin-left:11%;"><b>pbkeylen=</b><i>bytes</i></p>

<p style="margin-left:17%;">Sender encryption key length,
in bytes. Only can be set to 0, 16, 24 and 32. Enable sender
encryption if not 0. Not required on receiver (set to 0),
key size obtained from sender in HaiCrypt handshake. Default
value is 0.</p>

<p style="margin-left:11%;"><b>rcvlatency</b></p>

<p style="margin-left:17%;">The time that should elapse
since the moment when the packet was sent and the moment
when it&rsquo;s delivered to the receiver application in the
receiving function. This time should be a buffer time large
enough to cover the time spent for sending, unexpectedly
extended <small>RTT</small> time, and the time needed to
retransmit the lost <small>UDP</small> packet. The effective
latency value will be the maximum of this options&rsquo;
value and the value of <b>peerlatency</b> set by the peer
side. Before version 1.3.0 this option is only available as
<b>latency</b>.</p>


<p style="margin-left:11%;"><b>recv_buffer_size=</b><i>bytes</i></p>

<p style="margin-left:17%;">Set <small>UDP</small> receive
buffer size, expressed in bytes.</p>


<p style="margin-left:11%;"><b>send_buffer_size=</b><i>bytes</i></p>

<p style="margin-left:17%;">Set <small>UDP</small> send
buffer size, expressed in bytes.</p>

<p style="margin-left:11%;"><b>rw_timeout</b></p>

<p style="margin-left:17%;">Set raise error timeout for
read/write optations.</p>

<p style="margin-left:17%; margin-top: 1em">This option is
only relevant in read mode: if no data arrived in more than
this time interval, raise error.</p>


<p style="margin-left:11%;"><b>tlpktdrop=</b><i>1|0</i></p>

<p style="margin-left:17%;">Too-late Packet Drop. When
enabled on receiver, it skips missing packets that have not
been delivered in time and delivers the following packets to
the application when their time-to-play has come. It also
sends a fake <small>ACK</small> to the sender. When enabled
on sender and enabled on the receiving peer, the sender
drops the older packets that have no chance of being
delivered in time. It was automatically enabled in the
sender if the receiver supports it.</p>

<p style="margin-left:11%;"><b>sndbuf=</b><i>bytes</i></p>

<p style="margin-left:17%;">Set send buffer size, expressed
in bytes.</p>

<p style="margin-left:11%;"><b>rcvbuf=</b><i>bytes</i></p>

<p style="margin-left:17%;">Set receive buffer size,
expressed in bytes.</p>

<p style="margin-left:17%; margin-top: 1em">Receive buffer
must not be greater than <b>ffs</b>.</p>


<p style="margin-left:11%;"><b>lossmaxttl=</b><i>packets</i></p>

<p style="margin-left:17%;">The value up to which the
Reorder Tolerance may grow. When Reorder Tolerance is &gt;
0, then packet loss report is delayed until that number of
packets come in. Reorder Tolerance increases every time a
&quot;belated&quot; packet has come, but it wasn&rsquo;t due
to retransmission (that is, when <small>UDP</small> packets
tend to come out of order), with the difference between the
latest sequence and this packet&rsquo;s sequence, and not
more than the value of this option. By default it&rsquo;s 0,
which means that this mechanism is turned off, and the loss
report is always sent immediately upon experiencing a
&quot;gap&quot; in sequences.</p>

<p style="margin-left:11%;"><b>minversion</b></p>

<p style="margin-left:17%;">The minimum <small>SRT</small>
version that is required from the peer. A connection to a
peer that does not satisfy the minimum version requirement
will be rejected.</p>

<p style="margin-left:17%; margin-top: 1em">The version
format in hex is 0xXXYYZZ for x.y.z in human readable
form.</p>


<p style="margin-left:11%;"><b>streamid=</b><i>string</i></p>

<p style="margin-left:17%;">A string limited to 512
characters that can be set on the socket prior to
connecting. This stream <small>ID</small> will be able to be
retrieved by the listener side from the socket that is
returned from srt_accept and was connected by a socket with
that set stream <small>ID. SRT</small> does not enforce any
special interpretation of the contents of this string. This
option doesnXt make sense in Rendezvous connection; the
result might be that simply one side will override the value
from the other side and itXs the matter of luck which one
would win</p>


<p style="margin-left:11%;"><b>smoother=</b><i>live|file</i></p>

<p style="margin-left:17%;">The type of Smoother used for
the transmission for that socket, which is responsible for
the transmission and congestion control. The Smoother type
must be exactly the same on both connecting parties,
otherwise the connection is rejected.</p>


<p style="margin-left:11%;"><b>messageapi=</b><i>1|0</i></p>

<p style="margin-left:17%;">When set, this socket uses the
Message <small>API,</small> otherwise it uses Buffer
<small>API.</small> Note that in live mode (see
<b>transtype</b>) thereXs only message <small>API</small>
available. In File mode you can chose to use one of two
modes:</p>

<p style="margin-left:17%; margin-top: 1em">Stream
<small>API</small> (default, when this option is false). In
this mode you may send as many data as you wish with one
sending instruction, or even use dedicated functions that
read directly from a file. The internal facility will take
care of any speed and congestion control. When receiving,
you can also receive as many data as desired, the data not
extracted will be waiting for the next call. There is no
boundary between data portions in the Stream mode.</p>

<p style="margin-left:17%; margin-top: 1em">Message
<small>API.</small> In this mode your single sending
instruction passes exactly one piece of data that has
boundaries (a message). Contrary to Live mode, this message
may span across multiple <small>UDP</small> packets and the
only size limitation is that it shall fit as a whole in the
sending buffer. The receiver shall use as large buffer as
necessary to receive the message, otherwise the message will
not be given up. When the message is not complete (not all
packets received or there was a packet loss) it will not be
given up.</p>


<p style="margin-left:11%;"><b>transtype=</b><i>live|file</i></p>

<p style="margin-left:17%;">Sets the transmission type for
the socket, in particular, setting this option sets multiple
other parameters to their default values as required for a
particular transmission type.</p>

<p style="margin-left:17%; margin-top: 1em">live: Set
options as for live transmission. In this mode, you should
send by one sending instruction only so many data that fit
in one <small>UDP</small> packet, and limited to the value
defined first in <b>payload_size</b> (1316 is default in
this mode). There is no speed control in this mode, only the
bandwidth control, if configured, in order to not exceed the
bandwidth with the overhead transmission (retransmitted and
control packets).</p>

<p style="margin-left:17%; margin-top: 1em">file: Set
options as for non-live transmission. See <b>messageapi</b>
for further explanations</p>

<p style="margin-left:11%; margin-top: 1em">For more
information see:
&lt;<b>https://github.com/Haivision/srt</b>&gt;.</p>

<p style="margin-left:11%; margin-top: 1em"><b>srtp</b>
<br>
Secure Real-time Transport Protocol.</p>

<p style="margin-left:11%; margin-top: 1em">The accepted
options are: <b><br>
srtp_in_suite <br>
srtp_out_suite</b></p>

<p style="margin-left:17%;">Select input and output
encoding suites.</p>

<p style="margin-left:17%; margin-top: 1em">Supported
values: <b><small><br>
AES_CM_128_HMAC_SHA1_80 <br>
SRTP_AES128_CM_HMAC_SHA1_80 <br>
AES_CM_128_HMAC_SHA1_32 <br>
SRTP_AES128_CM_HMAC_SHA1_32</small></b></p>

<p style="margin-left:11%;"><b>srtp_in_params <br>
srtp_out_params</b></p>

<p style="margin-left:17%;">Set input and output encoding
parameters, which are expressed by a base64-encoded
representation of a binary block. The first 16 bytes of this
binary block are used as master key, the following 14 bytes
are used as master salt.</p>

<p style="margin-left:11%; margin-top: 1em"><b>subfile</b>
<br>
Virtually extract a segment of a file or another stream. The
underlying stream must be seekable.</p>

<p style="margin-left:11%; margin-top: 1em">Accepted
options: <b><br>
start</b></p>

<p style="margin-left:17%;">Start offset of the extracted
segment, in bytes.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>end</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>End offset of the extracted segment, in bytes. If set to
0, extract till end of file.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Examples:</p>

<p style="margin-left:11%; margin-top: 1em">Extract a
chapter from a <small>DVD VOB</small> file (start and end
sectors obtained externally and multiplied by 2048):</p>


<p style="margin-left:11%; margin-top: 1em">subfile,,start,153391104,end,268142592,,:/media/dvd/VIDEO_TS/VTS_08_1.VOB</p>

<p style="margin-left:11%; margin-top: 1em">Play an
<small>AVI</small> file directly from a <small>TAR</small>
archive:</p>


<p style="margin-left:11%; margin-top: 1em">subfile,,start,183241728,end,366490624,,:archive.tar</p>

<p style="margin-left:11%; margin-top: 1em">Play a MPEG-TS
file from start offset till end:</p>


<p style="margin-left:11%; margin-top: 1em">subfile,,start,32815239,end,0,,:video.ts</p>

<p style="margin-left:11%; margin-top: 1em"><b>tee</b> <br>
Writes the output to multiple protocols. The individual
outputs are separated by |</p>


<p style="margin-left:11%; margin-top: 1em">tee:file://path/to/local/this.avi|file://path/to/local/that.avi</p>

<p style="margin-left:11%; margin-top: 1em"><b>tcp</b> <br>
Transmission Control Protocol.</p>

<p style="margin-left:11%; margin-top: 1em">The required
syntax for a <small>TCP</small> url is:</p>


<p style="margin-left:11%; margin-top: 1em">tcp://&lt;hostname&gt;:&lt;port&gt;[?&lt;options&gt;]</p>

<p style="margin-left:11%; margin-top: 1em"><i>options</i>
contains a list of &amp;-separated options of the form
<i>key</i>=<i>val</i>.</p>

<p style="margin-left:11%; margin-top: 1em">The list of
supported options follows. <b><br>
listen=</b><i>1|0</i></p>

<p style="margin-left:17%;">Listen for an incoming
connection. Default value is 0.</p>


<p style="margin-left:11%;"><b>timeout=</b><i>microseconds</i></p>

<p style="margin-left:17%;">Set raise error timeout,
expressed in microseconds.</p>

<p style="margin-left:17%; margin-top: 1em">This option is
only relevant in read mode: if no data arrived in more than
this time interval, raise error.</p>


<p style="margin-left:11%;"><b>listen_timeout=</b><i>milliseconds</i></p>

<p style="margin-left:17%;">Set listen timeout, expressed
in milliseconds.</p>


<p style="margin-left:11%;"><b>recv_buffer_size=</b><i>bytes</i></p>

<p style="margin-left:17%;">Set receive buffer size,
expressed bytes.</p>


<p style="margin-left:11%;"><b>send_buffer_size=</b><i>bytes</i></p>

<p style="margin-left:17%;">Set send buffer size, expressed
bytes.</p>


<p style="margin-left:11%;"><b>tcp_nodelay=</b><i>1|0</i></p>

<p style="margin-left:17%;">Set <small>TCP_NODELAY</small>
to disable Nagle&rsquo;s algorithm. Default value is 0.</p>


<p style="margin-left:11%;"><b>tcp_mss=</b><i>bytes</i></p>

<p style="margin-left:17%;">Set maximum segment size for
outgoing <small>TCP</small> packets, expressed in bytes.</p>

<p style="margin-left:11%; margin-top: 1em">The following
example shows how to setup a listening <small>TCP</small>
connection with <b>ffmpeg</b>, which is then accessed with
<b>ffplay</b>:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i
&lt;input&gt; -f &lt;format&gt;
tcp://&lt;hostname&gt;:&lt;port&gt;?listen <br>
ffplay tcp://&lt;hostname&gt;:&lt;port&gt;</p>

<p style="margin-left:11%; margin-top: 1em"><b>tls</b> <br>
Transport Layer Security ( <small>TLS</small> ) / Secure
Sockets Layer ( <small>SSL</small> )</p>

<p style="margin-left:11%; margin-top: 1em">The required
syntax for a <small>TLS/SSL</small> url is:</p>


<p style="margin-left:11%; margin-top: 1em">tls://&lt;hostname&gt;:&lt;port&gt;[?&lt;options&gt;]</p>

<p style="margin-left:11%; margin-top: 1em">The following
parameters can be set via command line options (or in code
via &quot;AVOption&quot;s): <b><br>
ca_file, cafile=</b><i>filename</i></p>

<p style="margin-left:17%;">A file containing certificate
authority ( <small>CA</small> ) root certificates to treat
as trusted. If the linked <small>TLS</small> library
contains a default this might not need to be specified for
verification to work, but not all libraries and setups have
defaults built in. The file must be in OpenSSL
<small>PEM</small> format.</p>


<p style="margin-left:11%;"><b>tls_verify=</b><i>1|0</i></p>

<p style="margin-left:17%;">If enabled, try to verify the
peer that we are communicating with. Note, if using OpenSSL,
this currently only makes sure that the peer certificate is
signed by one of the root certificates in the
<small>CA</small> database, but it does not validate that
the certificate actually matches the host name we are trying
to connect to. (With other backends, the host name is
validated as well.)</p>

<p style="margin-left:17%; margin-top: 1em">This is
disabled by default since it requires a <small>CA</small>
database to be provided by the caller in many cases.</p>

<p style="margin-left:11%;"><b>cert_file,
cert=</b><i>filename</i></p>

<p style="margin-left:17%;">A file containing a certificate
to use in the handshake with the peer. (When operating as
server, in listen mode, this is more often required by the
peer, while client certificates only are mandated in certain
setups.)</p>

<p style="margin-left:11%;"><b>key_file,
key=</b><i>filename</i></p>

<p style="margin-left:17%;">A file containing the private
key for the certificate.</p>

<p style="margin-left:11%;"><b>listen=</b><i>1|0</i></p>

<p style="margin-left:17%;">If enabled, listen for
connections on the provided port, and assume the server role
in the handshake instead of the client role.</p>

<p style="margin-left:11%; margin-top: 1em">Example command
lines:</p>

<p style="margin-left:11%; margin-top: 1em">To create a
<small>TLS/SSL</small> server that serves an input
stream.</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i
&lt;input&gt; -f &lt;format&gt;
tls://&lt;hostname&gt;:&lt;port&gt;?listen&amp;cert=&lt;server.crt&gt;&amp;key=&lt;server.key&gt;</p>

<p style="margin-left:11%; margin-top: 1em">To play back a
stream from the <small>TLS/SSL</small> server using
<b>ffplay</b>:</p>

<p style="margin-left:11%; margin-top: 1em">ffplay
tls://&lt;hostname&gt;:&lt;port&gt;</p>

<p style="margin-left:11%; margin-top: 1em"><b>udp</b> <br>
User Datagram Protocol.</p>

<p style="margin-left:11%; margin-top: 1em">The required
syntax for an <small>UDP URL</small> is:</p>


<p style="margin-left:11%; margin-top: 1em">udp://&lt;hostname&gt;:&lt;port&gt;[?&lt;options&gt;]</p>

<p style="margin-left:11%; margin-top: 1em"><i>options</i>
contains a list of &amp;-separated options of the form
<i>key</i>=<i>val</i>.</p>

<p style="margin-left:11%; margin-top: 1em">In case
threading is enabled on the system, a circular buffer is
used to store the incoming data, which allows one to reduce
loss of data due to <small>UDP</small> socket buffer
overruns. The <i>fifo_size</i> and <i>overrun_nonfatal</i>
options are related to this buffer.</p>

<p style="margin-left:11%; margin-top: 1em">The list of
supported options follows. <b><br>
buffer_size=</b><i>size</i></p>

<p style="margin-left:17%;">Set the <small>UDP</small>
maximum socket buffer size in bytes. This is used to set
either the receive or send buffer size, depending on what
the socket is used for. Default is 64KB. See also
<i>fifo_size</i>.</p>


<p style="margin-left:11%;"><b>bitrate=</b><i>bitrate</i></p>

<p style="margin-left:17%;">If set to nonzero, the output
will have the specified constant bitrate if the input has
enough packets to sustain it.</p>


<p style="margin-left:11%;"><b>burst_bits=</b><i>bits</i></p>

<p style="margin-left:17%;">When using <i>bitrate</i> this
specifies the maximum number of bits in packet bursts.</p>


<p style="margin-left:11%;"><b>localport=</b><i>port</i></p>

<p style="margin-left:17%;">Override the local
<small>UDP</small> port to bind with.</p>


<p style="margin-left:11%;"><b>localaddr=</b><i>addr</i></p>

<p style="margin-left:17%;">Local <small>IP</small> address
of a network interface used for sending packets or joining
multicast groups.</p>


<p style="margin-left:11%;"><b>pkt_size=</b><i>size</i></p>

<p style="margin-left:17%;">Set the size in bytes of
<small>UDP</small> packets.</p>

<p style="margin-left:11%;"><b>reuse=</b><i>1|0</i></p>

<p style="margin-left:17%;">Explicitly allow or disallow
reusing <small>UDP</small> sockets.</p>

<p style="margin-left:11%;"><b>ttl=</b><i>ttl</i></p>

<p style="margin-left:17%;">Set the time to live value (for
multicast only).</p>

<p style="margin-left:11%;"><b>connect=</b><i>1|0</i></p>

<p style="margin-left:17%;">Initialize the
<small>UDP</small> socket with &quot;connect()&quot;. In
this case, the destination address can&rsquo;t be changed
with ff_udp_set_remote_url later. If the destination address
isn&rsquo;t known at the start, this option can be specified
in ff_udp_set_remote_url, too. This allows finding out the
source address for the packets with getsockname, and makes
writes return with <small>AVERROR</small> (
<small>ECONNREFUSED</small> ) if &quot;destination
unreachable&quot; is received. For receiving, this gives the
benefit of only receiving packets from the specified peer
address/port.</p>


<p style="margin-left:11%;"><b>sources=</b><i>address</i><b>[,</b><i>address</i><b>]</b></p>

<p style="margin-left:17%;">Only receive packets sent from
the specified addresses. In case of multicast, also
subscribe to multicast traffic coming from these addresses
only.</p>


<p style="margin-left:11%;"><b>block=</b><i>address</i><b>[,</b><i>address</i><b>]</b></p>

<p style="margin-left:17%;">Ignore packets sent from the
specified addresses. In case of multicast, also exclude the
source addresses in the multicast subscription.</p>


<p style="margin-left:11%;"><b>fifo_size=</b><i>units</i></p>

<p style="margin-left:17%;">Set the <small>UDP</small>
receiving circular buffer size, expressed as a number of
packets with size of 188 bytes. If not specified defaults to
7*4096.</p>


<p style="margin-left:11%;"><b>overrun_nonfatal=</b><i>1|0</i></p>

<p style="margin-left:17%;">Survive in case of
<small>UDP</small> receiving circular buffer overrun.
Default value is 0.</p>


<p style="margin-left:11%;"><b>timeout=</b><i>microseconds</i></p>

<p style="margin-left:17%;">Set raise error timeout,
expressed in microseconds.</p>

<p style="margin-left:17%; margin-top: 1em">This option is
only relevant in read mode: if no data arrived in more than
this time interval, raise error.</p>


<p style="margin-left:11%;"><b>broadcast=</b><i>1|0</i></p>

<p style="margin-left:17%;">Explicitly allow or disallow
<small>UDP</small> broadcasting.</p>

<p style="margin-left:17%; margin-top: 1em">Note that
broadcasting may not work properly on networks having a
broadcast storm protection.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="78%">


<p>Use <b>ffmpeg</b> to stream over <small>UDP</small> to a
remote endpoint:</p></td>
<td width="5%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
&lt;input&gt; -f &lt;format&gt;
udp://&lt;hostname&gt;:&lt;port&gt;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Use <b>ffmpeg</b> to stream in
mpegts format over <small>UDP</small> using 188 sized
<small>UDP</small> packets, using a large input buffer:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
&lt;input&gt; -f mpegts
udp://&lt;hostname&gt;:&lt;port&gt;?pkt_size=188&amp;buffer_size=65535</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Use <b>ffmpeg</b> to receive
over <small>UDP</small> from a remote endpoint:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
udp://[&lt;multicast-address&gt;]:&lt;port&gt; ...</p>

<p style="margin-left:11%; margin-top: 1em"><b>unix</b>
<br>
Unix local socket</p>

<p style="margin-left:11%; margin-top: 1em">The required
syntax for a Unix socket <small>URL</small> is:</p>


<p style="margin-left:11%; margin-top: 1em">unix://&lt;filepath&gt;</p>

<p style="margin-left:11%; margin-top: 1em">The following
parameters can be set via command line options (or in code
via &quot;AVOption&quot;s): <b><br>
timeout</b></p>

<p style="margin-left:17%;">Timeout in ms.</p>

<p style="margin-left:11%;"><b>listen</b></p>

<p style="margin-left:17%;">Create the Unix socket in
listening mode.</p>

<h2>DEVICE OPTIONS
<a name="DEVICE OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The libavdevice
library provides the same interface as libavformat. Namely,
an input device is considered like a demuxer, and an output
device like a muxer, and the interface and generic device
options are the same provided by libavformat (see the
ffmpeg-formats manual).</p>

<p style="margin-left:11%; margin-top: 1em">In addition
each input or output device may support so-called private
options, which are specific for that component.</p>

<p style="margin-left:11%; margin-top: 1em">Options may be
set by specifying -<i>option value</i> in the FFmpeg tools,
or by setting the value explicitly in the device
&quot;AVFormatContext&quot; options or using the
<i>libavutil/opt.h</i> <small>API</small> for programmatic
use.</p>

<h2>INPUT DEVICES
<a name="INPUT DEVICES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Input devices
are configured elements in FFmpeg which enable accessing the
data coming from a multimedia device attached to your
system.</p>

<p style="margin-left:11%; margin-top: 1em">When you
configure your FFmpeg build, all the supported input devices
are enabled by default. You can list all available ones
using the configure option &quot;--list-indevs&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">You can disable
all the input devices using the configure option
&quot;--disable-indevs&quot;, and selectively enable an
input device using the option &quot;--enable-indev=
<i><small>INDEV</small></i> &quot;, or you can disable a
particular input device using the option
&quot;--disable-indev= <i><small>INDEV</small></i>
&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">The option
&quot;-devices&quot; of the ff* tools will display the list
of supported input devices.</p>

<p style="margin-left:11%; margin-top: 1em">A description
of the currently available input devices follows.</p>

<p style="margin-left:11%; margin-top: 1em"><b>alsa</b>
<small><br>
ALSA</small> (Advanced Linux Sound Architecture) input
device.</p>

<p style="margin-left:11%; margin-top: 1em">To enable this
input device during configuration you need libasound
installed on your system.</p>

<p style="margin-left:11%; margin-top: 1em">This device
allows capturing from an <small>ALSA</small> device. The
name of the device to capture has to be an
<small>ALSA</small> card identifier.</p>

<p style="margin-left:11%; margin-top: 1em">An
<small>ALSA</small> identifier has the syntax:</p>


<p style="margin-left:11%; margin-top: 1em">hw:&lt;CARD&gt;[,&lt;DEV&gt;[,&lt;SUBDEV&gt;]]</p>

<p style="margin-left:11%; margin-top: 1em">where the
<i><small>DEV</small></i> and <i><small>SUBDEV</small></i>
components are optional.</p>

<p style="margin-left:11%; margin-top: 1em">The three
arguments (in order: <i><small>CARD</small></i> ,
<i><small>DEV</small></i> , <i><small>SUBDEV</small></i> )
specify card number or identifier, device number and
subdevice number (-1 means any).</p>

<p style="margin-left:11%; margin-top: 1em">To see the list
of cards currently recognized by your system check the files
<i>/proc/asound/cards</i> and
<i>/proc/asound/devices</i>.</p>

<p style="margin-left:11%; margin-top: 1em">For example to
capture with <b>ffmpeg</b> from an <small>ALSA</small>
device with card id 0, you may run the command:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -f alsa
-i hw:0 alsaout.wav</p>

<p style="margin-left:11%; margin-top: 1em">For more
information see:
&lt;<b>http://www.alsa-project.org/alsa-doc/alsa-lib/pcm.html</b>&gt;</p>

<p style="margin-left:11%; margin-top: 1em"><i>Options</i>
<b><br>
sample_rate</b></p>

<p style="margin-left:17%;">Set the sample rate in Hz.
Default is 48000.</p>

<p style="margin-left:11%;"><b>channels</b></p>

<p style="margin-left:17%;">Set the number of channels.
Default is 2.</p>


<p style="margin-left:11%; margin-top: 1em"><b>android_camera</b>
<br>
Android camera input device.</p>

<p style="margin-left:11%; margin-top: 1em">This input
devices uses the Android Camera2 <small>NDK API</small>
which is available on devices with <small>API</small> level
24+. The availability of android_camera is autodetected
during configuration.</p>

<p style="margin-left:11%; margin-top: 1em">This device
allows capturing from all cameras on an Android device,
which are integrated into the Camera2 <small>NDK
API.</small></p>

<p style="margin-left:11%; margin-top: 1em">The available
cameras are enumerated internally and can be selected with
the <i>camera_index</i> parameter. The input file string is
discarded.</p>

<p style="margin-left:11%; margin-top: 1em">Generally the
back facing camera has index 0 while the front facing camera
has index 1.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Options</i>
<b><br>
video_size</b></p>

<p style="margin-left:17%;">Set the video size given as a
string such as 640x480 or hd720. Falls back to the first
available configuration reported by Android if requested
video size is not available or by default.</p>

<p style="margin-left:11%;"><b>framerate</b></p>

<p style="margin-left:17%;">Set the video framerate. Falls
back to the first available configuration reported by
Android if requested framerate is not available or by
default (-1).</p>

<p style="margin-left:11%;"><b>camera_index</b></p>

<p style="margin-left:17%;">Set the index of the camera to
use. Default is 0.</p>

<p style="margin-left:11%;"><b>input_queue_size</b></p>

<p style="margin-left:17%;">Set the maximum number of
frames to buffer. Default is 5.</p>


<p style="margin-left:11%; margin-top: 1em"><b>avfoundation</b>
<br>
AVFoundation input device.</p>

<p style="margin-left:11%; margin-top: 1em">AVFoundation is
the currently recommended framework by Apple for
streamgrabbing on <small>OSX</small> &gt;= 10.7 as well as
on iOS.</p>

<p style="margin-left:11%; margin-top: 1em">The input
filename has to be given in the following syntax:</p>

<p style="margin-left:11%; margin-top: 1em">-i
&quot;[[VIDEO]:[AUDIO]]&quot;</p>

<p style="margin-left:11%; margin-top: 1em">The first entry
selects the video input while the latter selects the audio
input. The stream has to be specified by the device name or
the device index as shown by the device list. Alternatively,
the video and/or audio input device can be chosen by index
using the</p>


<p style="margin-left:11%; margin-top: 1em">B&lt;-video_device_index
E&lt;lt&gt;INDEXE&lt;gt&gt;&gt;</p>

<p style="margin-left:11%; margin-top: 1em">and/or</p>


<p style="margin-left:11%; margin-top: 1em">B&lt;-audio_device_index
E&lt;lt&gt;INDEXE&lt;gt&gt;&gt;</p>

<p style="margin-left:11%; margin-top: 1em">, overriding
any device name or index given in the input filename.</p>

<p style="margin-left:11%; margin-top: 1em">All available
devices can be enumerated by using <b>-list_devices
true</b>, listing all device names and corresponding
indices.</p>

<p style="margin-left:11%; margin-top: 1em">There are two
device name aliases: <br>
&quot;default&quot;</p>

<p style="margin-left:17%;">Select the AVFoundation default
device of the corresponding type.</p>

<p style="margin-left:11%;">&quot;none&quot;</p>

<p style="margin-left:17%;">Do not record the corresponding
media type. This is equivalent to specifying an empty device
name or index.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Options</i></p>

<p style="margin-left:11%; margin-top: 1em">AVFoundation
supports the following options: <b><br>
-list_devices &lt;TRUE|FALSE&gt;</b></p>

<p style="margin-left:17%;">If set to true, a list of all
available input devices is given showing all device names
and indices.</p>

<p style="margin-left:11%;"><b>-video_device_index &lt;
<small>INDEX</small> &gt;</b></p>

<p style="margin-left:17%;">Specify the video device by its
index. Overrides anything given in the input filename.</p>

<p style="margin-left:11%;"><b>-audio_device_index &lt;
<small>INDEX</small> &gt;</b></p>

<p style="margin-left:17%;">Specify the audio device by its
index. Overrides anything given in the input filename.</p>

<p style="margin-left:11%;"><b>-pixel_format &lt;
<small>FORMAT</small> &gt;</b></p>

<p style="margin-left:17%;">Request the video device to use
a specific pixel format. If the specified format is not
supported, a list of available formats is given and the
first one in this list is used instead. Available pixel
formats are: &quot;monob, rgb555be, rgb555le, rgb565be,
rgb565le, rgb24, bgr24, 0rgb, bgr0, 0bgr, rgb0, <br>
bgr48be, uyvy422, yuva444p, yuva444p16le, yuv444p,
yuv422p16, yuv422p10, yuv444p10, <br>
yuv420p, nv12, yuyv422, gray&quot;</p>

<p style="margin-left:11%;"><b>-framerate</b></p>

<p style="margin-left:17%;">Set the grabbing frame rate.
Default is &quot;ntsc&quot;, corresponding to a frame rate
of &quot;30000/1001&quot;.</p>

<p style="margin-left:11%;"><b>-video_size</b></p>

<p style="margin-left:17%;">Set the video frame size.</p>

<p style="margin-left:11%;"><b>-capture_cursor</b></p>

<p style="margin-left:17%;">Capture the mouse pointer.
Default is 0.</p>


<p style="margin-left:11%;"><b>-capture_mouse_clicks</b></p>

<p style="margin-left:17%;">Capture the screen mouse
clicks. Default is 0.</p>

<p style="margin-left:11%;"><b>-capture_raw_data</b></p>

<p style="margin-left:17%;">Capture the raw device data.
Default is 0. Using this option may result in receiving the
underlying data delivered to the AVFoundation framework.
E.g. for muxed devices that sends raw <small>DV</small> data
to the framework (like tape-based camcorders), setting this
option to false results in extracted video frames captured
in the designated pixel format only. Setting this option to
true results in receiving the raw <small>DV</small> stream
untouched.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Print the list of AVFoundation supported devices and
exit:</p> </td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">$ ffmpeg -f
avfoundation -list_devices true -i &quot;&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Record video from video device 0
and audio from audio device 0 into out.avi:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">$ ffmpeg -f
avfoundation -i &quot;0:0&quot; out.avi</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Record video from video device 2
and audio from audio device 1 into out.avi:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">$ ffmpeg -f
avfoundation -video_device_index 2 -i &quot;:1&quot;
out.avi</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Record video from the system
default video device using the pixel format bgr0 and do not
record any audio into out.avi:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">$ ffmpeg -f
avfoundation -pixel_format bgr0 -i &quot;default:none&quot;
out.avi</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Record raw <small>DV</small>
data from a suitable input device and write the output into
out.dv:</p> </td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">$ ffmpeg -f
avfoundation -capture_raw_data true -i
&quot;zr100:none&quot; out.dv</p>

<p style="margin-left:11%; margin-top: 1em"><b>bktr</b>
<small><br>
BSD</small> video input device.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Options</i>
<b><br>
framerate</b></p>

<p style="margin-left:17%;">Set the frame rate.</p>

<p style="margin-left:11%;"><b>video_size</b></p>

<p style="margin-left:17%;">Set the video frame size.
Default is &quot;vga&quot;.</p>

<p style="margin-left:11%;"><b>standard</b></p>

<p style="margin-left:17%;">Available values are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>pal</b></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>ntsc <br>
secam <br>
paln <br>
palm <br>
ntscj</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>decklink</b>
<br>
The decklink input device provides capture capabilities for
Blackmagic DeckLink devices.</p>

<p style="margin-left:11%; margin-top: 1em">To enable this
input device, you need the Blackmagic DeckLink
<small>SDK</small> and you need to configure with the
appropriate &quot;--extra-cflags&quot; and
&quot;--extra-ldflags&quot;. On Windows, you need to run the
<small>IDL</small> files through <b>widl</b>.</p>

<p style="margin-left:11%; margin-top: 1em">DeckLink is
very picky about the formats it supports. Pixel format of
the input can be set with <b>raw_format</b>. Framerate and
video size must be determined for your device with
<b>-list_formats 1</b>. Audio sample rate is always 48 kHz
and the number of channels can be 2, 8 or 16. Note that all
audio channels are bundled in one single audio track.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Options</i>
<b><br>
list_devices</b></p>

<p style="margin-left:17%;">If set to <b>true</b>, print a
list of devices and exit. Defaults to <b>false</b>.
Alternatively you can use the &quot;-sources&quot; option of
ffmpeg to list the available input devices.</p>

<p style="margin-left:11%;"><b>list_formats</b></p>

<p style="margin-left:17%;">If set to <b>true</b>, print a
list of supported formats and exit. Defaults to
<b>false</b>.</p>

<p style="margin-left:11%;"><b>format_code
&lt;FourCC&gt;</b></p>

<p style="margin-left:17%;">This sets the input video
format to the format given by the FourCC. To see the
supported values of your device(s) use <b>list_formats</b>.
Note that there is a FourCC <b>&rsquo;pal &rsquo;</b> that
can also be used as <b>pal</b> (3 letters). Default behavior
is autodetection of the input video format, if the hardware
supports it.</p>

<p style="margin-left:11%;"><b>bm_v210</b></p>

<p style="margin-left:17%;">This is a deprecated option,
you can use <b>raw_format</b> instead. If set to <b>1</b>,
video is captured in 10 bit v210 instead of uyvy422. Not all
Blackmagic devices support this option.</p>

<p style="margin-left:11%;"><b>raw_format</b></p>

<p style="margin-left:17%;">Set the pixel format of the
captured video. Available values are: <b><br>
uyvy422 <br>
yuv422p10 <br>
argb <br>
bgra <br>
rgb10</b></p>

<p style="margin-left:11%;"><b>teletext_lines</b></p>

<p style="margin-left:17%;">If set to nonzero, an
additional teletext stream will be captured from the
vertical ancillary data. Both <small>SD PAL</small> (576i)
and <small>HD</small> (1080i or 1080p) sources are
supported. In case of <small>HD</small> sources,
<small>OP47</small> packets are decoded.</p>

<p style="margin-left:17%; margin-top: 1em">This option is
a bitmask of the <small>SD PAL VBI</small> lines captured,
specifically lines 6 to 22, and lines 318 to 335. Line 6 is
the <small>LSB</small> in the mask. Selected lines which do
not contain teletext information will be ignored. You can
use the special <b>all</b> constant to select all possible
lines, or <b>standard</b> to skip lines 6, 318 and 319,
which are not compatible with all receivers.</p>

<p style="margin-left:17%; margin-top: 1em">For
<small>SD</small> sources, ffmpeg needs to be compiled with
&quot;--enable-libzvbi&quot;. For <small>HD</small> sources,
on older (pre-4K) DeckLink card models you have to capture
in 10 bit mode.</p>

<p style="margin-left:11%;"><b>channels</b></p>

<p style="margin-left:17%;">Defines number of audio
channels to capture. Must be <b>2</b>, <b>8</b> or
<b>16</b>. Defaults to <b>2</b>.</p>

<p style="margin-left:11%;"><b>duplex_mode</b></p>

<p style="margin-left:17%;">Sets the decklink device duplex
mode. Must be <b>unset</b>, <b>half</b> or <b>full</b>.
Defaults to <b>unset</b>.</p>

<p style="margin-left:11%;"><b>timecode_format</b></p>

<p style="margin-left:17%;">Timecode type to include in the
frame and video stream metadata. Must be <b>none</b>,
<b>rp188vitc</b>, <b>rp188vitc2</b>, <b>rp188ltc</b>,
<b>rp188any</b>, <b>vitc</b>, <b>vitc2</b>, or
<b>serial</b>. Defaults to <b>none</b> (not included).</p>

<p style="margin-left:11%;"><b>video_input</b></p>

<p style="margin-left:17%;">Sets the video input source.
Must be <b>unset</b>, <b>sdi</b>, <b>hdmi</b>,
<b>optical_sdi</b>, <b>component</b>, <b>composite</b> or
<b>s_video</b>. Defaults to <b>unset</b>.</p>

<p style="margin-left:11%;"><b>audio_input</b></p>

<p style="margin-left:17%;">Sets the audio input source.
Must be <b>unset</b>, <b>embedded</b>, <b>aes_ebu</b>,
<b>analog</b>, <b>analog_xlr</b>, <b>analog_rca</b> or
<b>microphone</b>. Defaults to <b>unset</b>.</p>

<p style="margin-left:11%;"><b>video_pts</b></p>

<p style="margin-left:17%;">Sets the video packet timestamp
source. Must be <b>video</b>, <b>audio</b>,
<b>reference</b>, <b>wallclock</b> or <b>abs_wallclock</b>.
Defaults to <b>video</b>.</p>

<p style="margin-left:11%;"><b>audio_pts</b></p>

<p style="margin-left:17%;">Sets the audio packet timestamp
source. Must be <b>video</b>, <b>audio</b>,
<b>reference</b>, <b>wallclock</b> or <b>abs_wallclock</b>.
Defaults to <b>audio</b>.</p>

<p style="margin-left:11%;"><b>draw_bars</b></p>

<p style="margin-left:17%;">If set to <b>true</b>, color
bars are drawn in the event of a signal loss. Defaults to
<b>true</b>.</p>

<p style="margin-left:11%;"><b>queue_size</b></p>

<p style="margin-left:17%;">Sets maximum input buffer size
in bytes. If the buffering reaches this value, incoming
frames will be dropped. Defaults to <b>1073741824</b>.</p>

<p style="margin-left:11%;"><b>audio_depth</b></p>

<p style="margin-left:17%;">Sets the audio sample bit
depth. Must be <b>16</b> or <b>32</b>. Defaults to
<b>16</b>.</p>

<p style="margin-left:11%;"><b>decklink_copyts</b></p>

<p style="margin-left:17%;">If set to <b>true</b>,
timestamps are forwarded as they are without removing the
initial offset. Defaults to <b>false</b>.</p>

<p style="margin-left:11%;"><b>timestamp_align</b></p>

<p style="margin-left:17%;">Capture start time alignment in
seconds. If set to nonzero, input frames are dropped till
the system timestamp aligns with configured value. Alignment
difference of up to one frame duration is tolerated. This is
useful for maintaining input synchronization across N
different hardware devices deployed for &rsquo;N-way&rsquo;
redundancy. The system time of different hardware devices
should be synchronized with protocols such as
<small>NTP</small> or <small>PTP,</small> before using this
option. Note that this method is not foolproof. In some
border cases input synchronization may not happen due to
thread scheduling jitters in the <small>OS.</small> Either
sync could go wrong by 1 frame or in a rarer case
<b>timestamp_align</b> seconds. Defaults to <b>0</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="29%">


<p>List input devices:</p></td>
<td width="54%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -f
decklink -list_devices 1 -i dummy</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="35%">


<p style="margin-top: 1em">List supported formats:</p></td>
<td width="48%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -f
decklink -list_formats 1 -i 'Intensity Pro'</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="46%">


<p style="margin-top: 1em">Capture video clip at
1080i50:</p> </td>
<td width="37%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg
-format_code Hi50 -f decklink -i 'Intensity Pro' -c:a copy
-c:v copy output.avi</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="57%">


<p style="margin-top: 1em">Capture video clip at 1080i50 10
bit:</p> </td>
<td width="26%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -bm_v210
1 -format_code Hi50 -f decklink -i 'UltraStudio Mini
Recorder' -c:a copy -c:v copy output.avi</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="81%">


<p style="margin-top: 1em">Capture video clip at 1080i50
with 16 audio channels:</p></td>
<td width="2%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg
-channels 16 -format_code Hi50 -f decklink -i 'UltraStudio
Mini Recorder' -c:a copy -c:v copy output.avi</p>

<p style="margin-left:11%; margin-top: 1em"><b>dshow</b>
<br>
Windows DirectShow input device.</p>

<p style="margin-left:11%; margin-top: 1em">DirectShow
support is enabled when FFmpeg is built with the mingw-w64
project. Currently only audio and video devices are
supported.</p>

<p style="margin-left:11%; margin-top: 1em">Multiple
devices may be opened as separate inputs, but they may also
be opened on the same input, which should improve
synchronism between them.</p>

<p style="margin-left:11%; margin-top: 1em">The input name
should be in the format:</p>


<p style="margin-left:11%; margin-top: 1em">&lt;TYPE&gt;=&lt;NAME&gt;[:&lt;TYPE&gt;=&lt;NAME&gt;]</p>

<p style="margin-left:11%; margin-top: 1em">where
<i><small>TYPE</small></i> can be either <i>audio</i> or
<i>video</i>, and <i><small>NAME</small></i> is the
device&rsquo;s name or alternative name..</p>


<p style="margin-left:11%; margin-top: 1em"><i>Options</i></p>

<p style="margin-left:11%; margin-top: 1em">If no options
are specified, the device&rsquo;s defaults are used. If the
device does not support the requested options, it will fail
to open. <b><br>
video_size</b></p>

<p style="margin-left:17%;">Set the video size in the
captured video.</p>

<p style="margin-left:11%;"><b>framerate</b></p>

<p style="margin-left:17%;">Set the frame rate in the
captured video.</p>

<p style="margin-left:11%;"><b>sample_rate</b></p>

<p style="margin-left:17%;">Set the sample rate (in Hz) of
the captured audio.</p>

<p style="margin-left:11%;"><b>sample_size</b></p>

<p style="margin-left:17%;">Set the sample size (in bits)
of the captured audio.</p>

<p style="margin-left:11%;"><b>channels</b></p>

<p style="margin-left:17%;">Set the number of channels in
the captured audio.</p>

<p style="margin-left:11%;"><b>list_devices</b></p>

<p style="margin-left:17%;">If set to <b>true</b>, print a
list of devices and exit.</p>

<p style="margin-left:11%;"><b>list_options</b></p>

<p style="margin-left:17%;">If set to <b>true</b>, print a
list of selected device&rsquo;s options and exit.</p>

<p style="margin-left:11%;"><b>video_device_number</b></p>

<p style="margin-left:17%;">Set video device number for
devices with the same name (starts at 0, defaults to 0).</p>

<p style="margin-left:11%;"><b>audio_device_number</b></p>

<p style="margin-left:17%;">Set audio device number for
devices with the same name (starts at 0, defaults to 0).</p>

<p style="margin-left:11%;"><b>pixel_format</b></p>

<p style="margin-left:17%;">Select pixel format to be used
by DirectShow. This may only be set when the video codec is
not set or set to rawvideo.</p>

<p style="margin-left:11%;"><b>audio_buffer_size</b></p>

<p style="margin-left:17%;">Set audio device buffer size in
milliseconds (which can directly impact latency, depending
on the device). Defaults to using the audio device&rsquo;s
default buffer size (typically some multiple of 500ms).
Setting this value too low can degrade performance. See also
&lt;<b>http://msdn.microsoft.com/en-us/library/windows/desktop/dd377582(v=vs.85).aspx</b>&gt;</p>

<p style="margin-left:11%;"><b>video_pin_name</b></p>

<p style="margin-left:17%;">Select video capture pin to use
by name or alternative name.</p>

<p style="margin-left:11%;"><b>audio_pin_name</b></p>

<p style="margin-left:17%;">Select audio capture pin to use
by name or alternative name.</p>


<p style="margin-left:11%;"><b>crossbar_video_input_pin_number</b></p>

<p style="margin-left:17%;">Select video input pin number
for crossbar device. This will be routed to the crossbar
device&rsquo;s Video Decoder output pin. Note that changing
this value can affect future invocations (sets a new
default) until system reboot occurs.</p>


<p style="margin-left:11%;"><b>crossbar_audio_input_pin_number</b></p>

<p style="margin-left:17%;">Select audio input pin number
for crossbar device. This will be routed to the crossbar
device&rsquo;s Audio Decoder output pin. Note that changing
this value can affect future invocations (sets a new
default) until system reboot occurs.</p>


<p style="margin-left:11%;"><b>show_video_device_dialog</b></p>

<p style="margin-left:17%;">If set to <b>true</b>, before
capture starts, popup a display dialog to the end user,
allowing them to change video filter properties and
configurations manually. Note that for crossbar devices,
adjusting values in this dialog may be needed at times to
toggle between <small>PAL</small> (25 fps) and
<small>NTSC</small> (29.97) input frame rates, sizes,
interlacing, etc. Changing these values can enable different
scan rates/frame rates and avoiding green bars at the
bottom, flickering scan lines, etc. Note that with some
devices, changing these properties can also affect future
invocations (sets new defaults) until system reboot
occurs.</p>


<p style="margin-left:11%;"><b>show_audio_device_dialog</b></p>

<p style="margin-left:17%;">If set to <b>true</b>, before
capture starts, popup a display dialog to the end user,
allowing them to change audio filter properties and
configurations manually.</p>


<p style="margin-left:11%;"><b>show_video_crossbar_connection_dialog</b></p>

<p style="margin-left:17%;">If set to <b>true</b>, before
capture starts, popup a display dialog to the end user,
allowing them to manually modify crossbar pin routings, when
it opens a video device.</p>


<p style="margin-left:11%;"><b>show_audio_crossbar_connection_dialog</b></p>

<p style="margin-left:17%;">If set to <b>true</b>, before
capture starts, popup a display dialog to the end user,
allowing them to manually modify crossbar pin routings, when
it opens an audio device.</p>


<p style="margin-left:11%;"><b>show_analog_tv_tuner_dialog</b></p>

<p style="margin-left:17%;">If set to <b>true</b>, before
capture starts, popup a display dialog to the end user,
allowing them to manually modify <small>TV</small> channels
and frequencies.</p>


<p style="margin-left:11%;"><b>show_analog_tv_tuner_audio_dialog</b></p>

<p style="margin-left:17%;">If set to <b>true</b>, before
capture starts, popup a display dialog to the end user,
allowing them to manually modify <small>TV</small> audio
(like mono vs. stereo, Language A,B or C).</p>

<p style="margin-left:11%;"><b>audio_device_load</b></p>

<p style="margin-left:17%;">Load an audio capture filter
device from file instead of searching it by name. It may
load additional parameters too, if the filter supports the
serialization of its properties to. To use this an audio
capture source has to be specified, but it can be anything
even fake one.</p>

<p style="margin-left:11%;"><b>audio_device_save</b></p>

<p style="margin-left:17%;">Save the currently used audio
capture filter device and its parameters (if the filter
supports it) to a file. If a file with the same name exists
it will be overwritten.</p>

<p style="margin-left:11%;"><b>video_device_load</b></p>

<p style="margin-left:17%;">Load a video capture filter
device from file instead of searching it by name. It may
load additional parameters too, if the filter supports the
serialization of its properties to. To use this a video
capture source has to be specified, but it can be anything
even fake one.</p>

<p style="margin-left:11%;"><b>video_device_save</b></p>

<p style="margin-left:17%;">Save the currently used video
capture filter device and its parameters (if the filter
supports it) to a file. If a file with the same name exists
it will be overwritten.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Print the list of DirectShow supported devices and
exit:</p> </td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">$ ffmpeg
-list_devices true -f dshow -i dummy</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="38%">


<p style="margin-top: 1em">Open video device
<i>Camera</i>:</p> </td>
<td width="45%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">$ ffmpeg -f
dshow -i video=&quot;Camera&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="65%">


<p style="margin-top: 1em">Open second video device with
name <i>Camera</i>:</p></td>
<td width="18%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">$ ffmpeg -f
dshow -video_device_number 1 -i video=&quot;Camera&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="81%">


<p style="margin-top: 1em">Open video device <i>Camera</i>
and audio device <i>Microphone</i>:</p></td>
<td width="2%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">$ ffmpeg -f
dshow -i
video=&quot;Camera&quot;:audio=&quot;Microphone&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Print the list of supported
options in selected device and exit:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">$ ffmpeg
-list_options true -f dshow -i video=&quot;Camera&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Specify pin names to capture by
name or alternative name, specify alternative device
name:</p> </td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">$ ffmpeg -f
dshow -audio_pin_name &quot;Audio Out&quot; -video_pin_name
2 -i
video=video=&quot;@device_pnp_\\?\pci#ven_1a0a&amp;dev_6200&amp;subsys_62021461&amp;rev_01#4&amp;e2c7dd6&amp;0&amp;00e1#{65e8773d-8f56-11d0-a3b9-00a0c9223196}\{ca465100-deb0-4d59-818f-8c477184adf6}&quot;:audio=&quot;Microphone&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Configure a crossbar device,
specifying crossbar pins, allow user to adjust video capture
properties at startup:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">$ ffmpeg -f
dshow -show_video_device_dialog true
-crossbar_video_input_pin_number 0 <br>
-crossbar_audio_input_pin_number 3 -i video=&quot;AVerMedia
BDA Analog Capture&quot;:audio=&quot;AVerMedia BDA Analog
Capture&quot;</p>

<p style="margin-left:11%; margin-top: 1em"><b>fbdev</b>
<br>
Linux framebuffer input device.</p>

<p style="margin-left:11%; margin-top: 1em">The Linux
framebuffer is a graphic hardware-independent abstraction
layer to show graphics on a computer monitor, typically on
the console. It is accessed through a file device node,
usually <i>/dev/fb0</i>.</p>

<p style="margin-left:11%; margin-top: 1em">For more
detailed information read the file
Documentation/fb/framebuffer.txt included in the Linux
source tree.</p>

<p style="margin-left:11%; margin-top: 1em">See also
&lt;<b>http://linux-fbdev.sourceforge.net/</b>&gt;, and
<b>fbset</b>(1).</p>

<p style="margin-left:11%; margin-top: 1em">To record from
the framebuffer device <i>/dev/fb0</i> with
<b>ffmpeg</b>:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -f fbdev
-framerate 10 -i /dev/fb0 out.avi</p>

<p style="margin-left:11%; margin-top: 1em">You can take a
single screenshot image with the command:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -f fbdev
-framerate 1 -i /dev/fb0 -frames:v 1 screenshot.jpeg</p>

<p style="margin-left:11%; margin-top: 1em"><i>Options</i>
<b><br>
framerate</b></p>

<p style="margin-left:17%;">Set the frame rate. Default is
25.</p>

<p style="margin-left:11%; margin-top: 1em"><b>gdigrab</b>
<br>
Win32 GDI-based screen capture device.</p>

<p style="margin-left:11%; margin-top: 1em">This device
allows you to capture a region of the display on
Windows.</p>

<p style="margin-left:11%; margin-top: 1em">There are two
options for the input filename:</p>

<p style="margin-left:11%; margin-top: 1em">desktop</p>

<p style="margin-left:11%; margin-top: 1em">or</p>


<p style="margin-left:11%; margin-top: 1em">title=&lt;window_title&gt;</p>

<p style="margin-left:11%; margin-top: 1em">The first
option will capture the entire desktop, or a fixed region of
the desktop. The second option will instead capture the
contents of a single window, regardless of its position on
the screen.</p>

<p style="margin-left:11%; margin-top: 1em">For example, to
grab the entire desktop using <b>ffmpeg</b>:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -f
gdigrab -framerate 6 -i desktop out.mpg</p>

<p style="margin-left:11%; margin-top: 1em">Grab a 640x480
region at position &quot;10,20&quot;:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -f
gdigrab -framerate 6 -offset_x 10 -offset_y 20 -video_size
vga -i desktop out.mpg</p>

<p style="margin-left:11%; margin-top: 1em">Grab the
contents of the window named &quot;Calculator&quot;</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -f
gdigrab -framerate 6 -i title=Calculator out.mpg</p>

<p style="margin-left:11%; margin-top: 1em"><i>Options</i>
<b><br>
draw_mouse</b></p>

<p style="margin-left:17%;">Specify whether to draw the
mouse pointer. Use the value 0 to not draw the pointer.
Default value is 1.</p>

<p style="margin-left:11%;"><b>framerate</b></p>

<p style="margin-left:17%;">Set the grabbing frame rate.
Default value is &quot;ntsc&quot;, corresponding to a frame
rate of &quot;30000/1001&quot;.</p>

<p style="margin-left:11%;"><b>show_region</b></p>

<p style="margin-left:17%;">Show grabbed region on
screen.</p>

<p style="margin-left:17%; margin-top: 1em">If
<i>show_region</i> is specified with 1, then the grabbing
region will be indicated on screen. With this option, it is
easy to know what is being grabbed if only a portion of the
screen is grabbed.</p>

<p style="margin-left:17%; margin-top: 1em">Note that
<i>show_region</i> is incompatible with grabbing the
contents of a single window.</p>

<p style="margin-left:17%; margin-top: 1em">For
example:</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -f
gdigrab -show_region 1 -framerate 6 -video_size cif
-offset_x 10 -offset_y 20 -i desktop out.mpg</p>

<p style="margin-left:11%;"><b>video_size</b></p>

<p style="margin-left:17%;">Set the video frame size. The
default is to capture the full screen if <i>desktop</i> is
selected, or the full window size if
<i>title=window_title</i> is selected.</p>

<p style="margin-left:11%;"><b>offset_x</b></p>

<p style="margin-left:17%;">When capturing a region with
<i>video_size</i>, set the distance from the left edge of
the screen or desktop.</p>

<p style="margin-left:17%; margin-top: 1em">Note that the
offset calculation is from the top left corner of the
primary monitor on Windows. If you have a monitor positioned
to the left of your primary monitor, you will need to use a
negative <i>offset_x</i> value to move the region to that
monitor.</p>

<p style="margin-left:11%;"><b>offset_y</b></p>

<p style="margin-left:17%;">When capturing a region with
<i>video_size</i>, set the distance from the top edge of the
screen or desktop.</p>

<p style="margin-left:17%; margin-top: 1em">Note that the
offset calculation is from the top left corner of the
primary monitor on Windows. If you have a monitor positioned
above your primary monitor, you will need to use a negative
<i>offset_y</i> value to move the region to that
monitor.</p>


<p style="margin-left:11%; margin-top: 1em"><b>iec61883</b>
<br>
FireWire <small>DV/HDV</small> input device using
libiec61883.</p>

<p style="margin-left:11%; margin-top: 1em">To enable this
input device, you need libiec61883, libraw1394 and
libavc1394 installed on your system. Use the configure
option &quot;--enable-libiec61883&quot; to compile with the
device enabled.</p>

<p style="margin-left:11%; margin-top: 1em">The iec61883
capture device supports capturing from a video device
connected via <small>IEEE1394</small> (FireWire), using
libiec61883 and the new Linux FireWire stack (juju). This is
the default <small>DV/HDV</small> input method in Linux
Kernel 2.6.37 and later, since the old FireWire stack was
removed.</p>

<p style="margin-left:11%; margin-top: 1em">Specify the
FireWire port to be used as input file, or &quot;auto&quot;
to choose the first port connected.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Options</i>
<b><br>
dvtype</b></p>

<p style="margin-left:17%;">Override autodetection of
<small>DV/HDV.</small> This should only be used if auto
detection does not work, or if usage of a different device
type should be prohibited. Treating a <small>DV</small>
device as <small>HDV</small> (or vice versa) will not work
and result in undefined behavior. The values <b>auto</b>,
<b>dv</b> and <b>hdv</b> are supported.</p>

<p style="margin-left:11%;"><b>dvbuffer</b></p>

<p style="margin-left:17%;">Set maximum size of buffer for
incoming data, in frames. For <small>DV,</small> this is an
exact value. For <small>HDV,</small> it is not frame exact,
since <small>HDV</small> does not have a fixed frame
size.</p>

<p style="margin-left:11%;"><b>dvguid</b></p>

<p style="margin-left:17%;">Select the capture device by
specifying its <small>GUID.</small> Capturing will only be
performed from the specified device and fails if no device
with the given <small>GUID</small> is found. This is useful
to select the input if multiple devices are connected at the
same time. Look at /sys/bus/firewire/devices to find out the
GUIDs.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="80%">


<p>Grab and show the input of a FireWire
<small>DV/HDV</small> device.</p></td>
<td width="3%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffplay -f
iec61883 -i auto</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Grab and record the input of a
FireWire <small>DV/HDV</small> device, using a packet buffer
of 100000 packets if the source is <small>HDV.</small></p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -f
iec61883 -i auto -dvbuffer 100000 out.mpg</p>

<p style="margin-left:11%; margin-top: 1em"><b>jack</b>
<small><br>
JACK</small> input device.</p>

<p style="margin-left:11%; margin-top: 1em">To enable this
input device during configuration you need libjack installed
on your system.</p>

<p style="margin-left:11%; margin-top: 1em">A
<small>JACK</small> input device creates one or more
<small>JACK</small> writable clients, one for each audio
channel, with name <i>client_name</i>:input_<i>N</i>, where
<i>client_name</i> is the name provided by the application,
and <i>N</i> is a number which identifies the channel. Each
writable client will send the acquired data to the FFmpeg
input device.</p>

<p style="margin-left:11%; margin-top: 1em">Once you have
created one or more <small>JACK</small> readable clients,
you need to connect them to one or more <small>JACK</small>
writable clients.</p>

<p style="margin-left:11%; margin-top: 1em">To connect or
disconnect <small>JACK</small> clients you can use the
<b>jack_connect</b> and <b>jack_disconnect</b> programs, or
do it through a graphical interface, for example with
<b>qjackctl</b>.</p>

<p style="margin-left:11%; margin-top: 1em">To list the
<small>JACK</small> clients and their properties you can
invoke the command <b>jack_lsp</b>.</p>

<p style="margin-left:11%; margin-top: 1em">Follows an
example which shows how to capture a <small>JACK</small>
readable client with <b>ffmpeg</b>.</p>

<p style="margin-left:11%; margin-top: 1em"># Create a JACK
writable client with name &quot;ffmpeg&quot;. <br>
$ ffmpeg -f jack -i ffmpeg -y out.wav <br>
# Start the sample jack_metro readable client. <br>
$ jack_metro -b 120 -d 0.2 -f 4000 <br>
# List the current JACK clients. <br>
$ jack_lsp -c <br>
system:capture_1 <br>
system:capture_2 <br>
system:playback_1 <br>
system:playback_2 <br>
ffmpeg:input_1 <br>
metro:120_bpm <br>
# Connect metro to the ffmpeg writable client. <br>
$ jack_connect metro:120_bpm ffmpeg:input_1</p>

<p style="margin-left:11%; margin-top: 1em">For more
information read: &lt;<b>http://jackaudio.org/</b>&gt;</p>

<p style="margin-left:11%; margin-top: 1em"><i>Options</i>
<b><br>
channels</b></p>

<p style="margin-left:17%;">Set the number of channels.
Default is 2.</p>

<p style="margin-left:11%; margin-top: 1em"><b>kmsgrab</b>
<small><br>
KMS</small> video input device.</p>

<p style="margin-left:11%; margin-top: 1em">Captures the
<small>KMS</small> scanout framebuffer associated with a
specified <small>CRTC</small> or plane as a
<small>DRM</small> object that can be passed to other
hardware functions.</p>

<p style="margin-left:11%; margin-top: 1em">Requires either
<small>DRM</small> master or <small>CAP_SYS_ADMIN</small> to
run.</p>

<p style="margin-left:11%; margin-top: 1em">If you
don&rsquo;t understand what all of that means, you probably
don&rsquo;t want this. Look at <b>x11grab</b> instead.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Options</i>
<b><br>
device</b></p>

<p style="margin-left:17%;"><small>DRM</small> device to
capture on. Defaults to <b>/dev/dri/card0</b>.</p>

<p style="margin-left:11%;"><b>format</b></p>

<p style="margin-left:17%;">Pixel format of the
framebuffer. Defaults to <b>bgr0</b>.</p>

<p style="margin-left:11%;"><b>format_modifier</b></p>

<p style="margin-left:17%;">Format modifier to signal on
output frames. This is necessary to import correctly into
some APIs, but can&rsquo;t be autodetected. See the libdrm
documentation for possible values.</p>

<p style="margin-left:11%;"><b>crtc_id</b></p>

<p style="margin-left:17%;"><small>KMS CRTC ID</small> to
define the capture source. The first active plane on the
given <small>CRTC</small> will be used.</p>

<p style="margin-left:11%;"><b>plane_id</b></p>

<p style="margin-left:17%;"><small>KMS</small> plane
<small>ID</small> to define the capture source. Defaults to
the first active plane found if neither <b>crtc_id</b> nor
<b>plane_id</b> are specified.</p>

<p style="margin-left:11%;"><b>framerate</b></p>

<p style="margin-left:17%;">Framerate to capture at. This
is not synchronised to any page flipping or framebuffer
changes - it just defines the interval at which the
framebuffer is sampled. Sampling faster than the framebuffer
update rate will generate independent frames with the same
content. Defaults to 30.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Capture from the first active plane, download the result
to normal frames and encode. This will only work if the
framebuffer is both linear and mappable - if not, the result
may be scrambled or fail to download.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -f
kmsgrab -i - -vf 'hwdownload,format=bgr0' output.mp4</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Capture from <small>CRTC ID
42</small> at 60fps, map the result to <small>VAAPI,</small>
convert to <small>NV12</small> and encode as H.264.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -crtc_id
42 -framerate 60 -f kmsgrab -i - -vf
'hwmap=derive_device=vaapi,scale_vaapi=w=1920:h=1080:format=nv12'
-c:v h264_vaapi output.mp4</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">To capture only part of a plane
the output can be cropped - this can be used to capture a
single window, as long as it has a known absolute position
and size. For example, to capture and encode the middle
quarter of a 1920x1080 plane:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -f
kmsgrab -i - -vf
'hwmap=derive_device=vaapi,crop=960:540:480:270,scale_vaapi=960:540:nv12'
-c:v h264_vaapi output.mp4</p>

<p style="margin-left:11%; margin-top: 1em"><b>lavfi</b>
<br>
Libavfilter input virtual device.</p>

<p style="margin-left:11%; margin-top: 1em">This input
device reads data from the open output pads of a libavfilter
filtergraph.</p>

<p style="margin-left:11%; margin-top: 1em">For each
filtergraph open output, the input device will create a
corresponding stream which is mapped to the generated
output. Currently only video data is supported. The
filtergraph is specified through the option
<b>graph</b>.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Options</i>
<b><br>
graph</b></p>

<p style="margin-left:17%;">Specify the filtergraph to use
as input. Each video open output must be labelled by a
unique string of the form &quot;out<i>N</i>&quot;, where
<i>N</i> is a number starting from 0 corresponding to the
mapped input stream generated by the device. The first
unlabelled output is automatically assigned to the
&quot;out0&quot; label, but all the others need to be
specified explicitly.</p>

<p style="margin-left:17%; margin-top: 1em">The suffix
&quot;+subcc&quot; can be appended to the output label to
create an extra stream with the closed captions packets
attached to that output (experimental; only for
<small>EIA-608 / CEA-708</small> for now). The subcc streams
are created after all the normal streams, in the order of
the corresponding stream. For example, if there is
&quot;out19+subcc&quot;, &quot;out7+subcc&quot; and up to
&quot;out42&quot;, the stream #43 is subcc for stream #7 and
stream #44 is subcc for stream #19.</p>

<p style="margin-left:17%; margin-top: 1em">If not
specified defaults to the filename specified for the input
device.</p>

<p style="margin-left:11%;"><b>graph_file</b></p>

<p style="margin-left:17%;">Set the filename of the
filtergraph to be read and sent to the other filters. Syntax
of the filtergraph is the same as the one specified by the
option <i>graph</i>.</p>

<p style="margin-left:11%;"><b>dumpgraph</b></p>

<p style="margin-left:17%;">Dump graph to stderr.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Create a color video stream and play it back with
<b>ffplay</b>:</p> </td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffplay -f lavfi
-graph &quot;color=c=pink [out0]&quot; dummy</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">As the previous example, but use
filename for specifying the graph description, and omit the
&quot;out0&quot; label:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffplay -f lavfi
color=c=pink</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Create three different video
test filtered sources and play them:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffplay -f lavfi
-graph &quot;testsrc [out0]; testsrc,hflip [out1];
testsrc,negate [out2]&quot; test3</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Read an audio stream from a file
using the amovie source and play it back with
<b>ffplay</b>:</p> </td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffplay -f lavfi
&quot;amovie=test.wav&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Read an audio stream and a video
stream and play it back with <b>ffplay</b>:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffplay -f lavfi
&quot;movie=test.avi[out0];amovie=test.wav[out1]&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Dump decoded frames to images
and closed captions to a file (experimental):</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -f lavfi
-i &quot;movie=test.ts[out0+subcc]&quot; -map v
frame%08d.png -map s -c copy -f rawvideo subcc.bin</p>

<p style="margin-left:11%; margin-top: 1em"><b>libcdio</b>
<br>
Audio-CD input device based on libcdio.</p>

<p style="margin-left:11%; margin-top: 1em">To enable this
input device during configuration you need libcdio installed
on your system. It requires the configure option
&quot;--enable-libcdio&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">This device
allows playing and grabbing from an Audio-CD.</p>

<p style="margin-left:11%; margin-top: 1em">For example to
copy with <b>ffmpeg</b> the entire Audio-CD in
<i>/dev/sr0</i>, you may run the command:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -f
libcdio -i /dev/sr0 cd.wav</p>

<p style="margin-left:11%; margin-top: 1em"><i>Options</i>
<b><br>
speed</b></p>

<p style="margin-left:17%;">Set drive reading speed.
Default value is 0.</p>

<p style="margin-left:17%; margin-top: 1em">The speed is
specified CD-ROM speed units. The speed is set through the
libcdio &quot;cdio_cddap_speed_set&quot; function. On many
CD-ROM drives, specifying a value too large will result in
using the fastest speed.</p>

<p style="margin-left:11%;"><b>paranoia_mode</b></p>

<p style="margin-left:17%;">Set paranoia recovery mode
flags. It accepts one of the following values: <b><br>
disable <br>
verify <br>
overlap <br>
neverskip <br>
full</b></p>

<p style="margin-left:17%; margin-top: 1em">Default value
is <b>disable</b>.</p>

<p style="margin-left:17%; margin-top: 1em">For more
information about the available recovery modes, consult the
paranoia project documentation.</p>


<p style="margin-left:11%; margin-top: 1em"><b>libdc1394</b>
<small><br>
IIDC1394</small> input device, based on libdc1394 and
libraw1394.</p>

<p style="margin-left:11%; margin-top: 1em">Requires the
configure option &quot;--enable-libdc1394&quot;.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Options</i>
<b><br>
framerate</b></p>

<p style="margin-left:17%;">Set the frame rate. Default is
&quot;ntsc&quot;, corresponding to a frame rate of
&quot;30000/1001&quot;.</p>

<p style="margin-left:11%;"><b>pixel_format</b></p>

<p style="margin-left:17%;">Select the pixel format.
Default is &quot;uyvy422&quot;.</p>

<p style="margin-left:11%;"><b>video_size</b></p>

<p style="margin-left:17%;">Set the video size given as a
string such as &quot;640x480&quot; or &quot;hd720&quot;.
Default is &quot;qvga&quot;.</p>

<p style="margin-left:11%; margin-top: 1em"><b>openal</b>
<br>
The OpenAL input device provides audio capture on all
systems with a working OpenAL 1.1 implementation.</p>

<p style="margin-left:11%; margin-top: 1em">To enable this
input device during configuration, you need OpenAL headers
and libraries installed on your system, and need to
configure FFmpeg with &quot;--enable-openal&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">OpenAL headers
and libraries should be provided as part of your OpenAL
implementation, or as an additional download (an
<small>SDK</small> ). Depending on your installation you may
need to specify additional flags via the
&quot;--extra-cflags&quot; and &quot;--extra-ldflags&quot;
for allowing the build system to locate the OpenAL headers
and libraries.</p>

<p style="margin-left:11%; margin-top: 1em">An incomplete
list of OpenAL implementations follows: <b><br>
Creative</b></p>

<p style="margin-left:17%;">The official Windows
implementation, providing hardware acceleration with
supported devices and software fallback. See
&lt;<b>http://openal.org/</b>&gt;.</p>

<p style="margin-left:11%;"><b>OpenAL Soft</b></p>

<p style="margin-left:17%;">Portable, open source (
<small>LGPL</small> ) software implementation. Includes
backends for the most common sound APIs on the Windows,
Linux, Solaris, and <small>BSD</small> operating systems.
See
&lt;<b>http://kcat.strangesoft.net/openal.html</b>&gt;.</p>

<p style="margin-left:11%;"><b>Apple</b></p>

<p style="margin-left:17%;">OpenAL is part of Core Audio,
the official Mac <small>OS X</small> Audio interface. See
&lt;<b>http://developer.apple.com/technologies/mac/audio-and-video.html</b>&gt;</p>

<p style="margin-left:11%; margin-top: 1em">This device
allows one to capture from an audio input device handled
through OpenAL.</p>

<p style="margin-left:11%; margin-top: 1em">You need to
specify the name of the device to capture in the provided
filename. If the empty string is provided, the device will
automatically select the default device. You can get the
list of the supported devices by using the option
<i>list_devices</i>.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Options</i>
<b><br>
channels</b></p>

<p style="margin-left:17%;">Set the number of channels in
the captured audio. Only the values <b>1</b> (monaural) and
<b>2</b> (stereo) are currently supported. Defaults to
<b>2</b>.</p>

<p style="margin-left:11%;"><b>sample_size</b></p>

<p style="margin-left:17%;">Set the sample size (in bits)
of the captured audio. Only the values <b>8</b> and
<b>16</b> are currently supported. Defaults to
<b>16</b>.</p>

<p style="margin-left:11%;"><b>sample_rate</b></p>

<p style="margin-left:17%;">Set the sample rate (in Hz) of
the captured audio. Defaults to <b>44.1k</b>.</p>

<p style="margin-left:11%;"><b>list_devices</b></p>

<p style="margin-left:17%;">If set to <b>true</b>, print a
list of devices and exit. Defaults to <b>false</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<p style="margin-left:11%; margin-top: 1em">Print the list
of OpenAL supported devices and exit:</p>

<p style="margin-left:11%; margin-top: 1em">$ ffmpeg
-list_devices true -f openal -i dummy out.ogg</p>

<p style="margin-left:11%; margin-top: 1em">Capture from
the OpenAL device <i><small>DR-BT101</small> via
PulseAudio</i>:</p>

<p style="margin-left:11%; margin-top: 1em">$ ffmpeg -f
openal -i 'DR-BT101 via PulseAudio' out.ogg</p>

<p style="margin-left:11%; margin-top: 1em">Capture from
the default device (note the empty string &rsquo;&rsquo; as
filename):</p>

<p style="margin-left:11%; margin-top: 1em">$ ffmpeg -f
openal -i '' out.ogg</p>

<p style="margin-left:11%; margin-top: 1em">Capture from
two devices simultaneously, writing to two different files,
within the same <b>ffmpeg</b> command:</p>

<p style="margin-left:11%; margin-top: 1em">$ ffmpeg -f
openal -i 'DR-BT101 via PulseAudio' out1.ogg -f openal -i
'ALSA Default' out2.ogg</p>

<p style="margin-left:11%; margin-top: 1em">Note: not all
OpenAL implementations support multiple simultaneous capture
- try the latest OpenAL Soft if the above does not work.</p>

<p style="margin-left:11%; margin-top: 1em"><b>oss</b> <br>
Open Sound System input device.</p>

<p style="margin-left:11%; margin-top: 1em">The filename to
provide to the input device is the device node representing
the <small>OSS</small> input device, and is usually set to
<i>/dev/dsp</i>.</p>

<p style="margin-left:11%; margin-top: 1em">For example to
grab from <i>/dev/dsp</i> using <b>ffmpeg</b> use the
command:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -f oss
-i /dev/dsp /tmp/oss.wav</p>

<p style="margin-left:11%; margin-top: 1em">For more
information about <small>OSS</small> see:
&lt;<b>http://manuals.opensound.com/usersguide/dsp.html</b>&gt;</p>

<p style="margin-left:11%; margin-top: 1em"><i>Options</i>
<b><br>
sample_rate</b></p>

<p style="margin-left:17%;">Set the sample rate in Hz.
Default is 48000.</p>

<p style="margin-left:11%;"><b>channels</b></p>

<p style="margin-left:17%;">Set the number of channels.
Default is 2.</p>

<p style="margin-left:11%; margin-top: 1em"><b>pulse</b>
<br>
PulseAudio input device.</p>

<p style="margin-left:11%; margin-top: 1em">To enable this
output device you need to configure FFmpeg with
&quot;--enable-libpulse&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">The filename to
provide to the input device is a source device or the string
&quot;default&quot;</p>

<p style="margin-left:11%; margin-top: 1em">To list the
PulseAudio source devices and their properties you can
invoke the command <b>pactl list sources</b>.</p>

<p style="margin-left:11%; margin-top: 1em">More
information about PulseAudio can be found on
&lt;<b>http://www.pulseaudio.org</b>&gt;.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Options</i>
<b><br>
server</b></p>

<p style="margin-left:17%;">Connect to a specific
PulseAudio server, specified by an <small>IP</small>
address. Default server is used when not provided.</p>

<p style="margin-left:11%;"><b>name</b></p>

<p style="margin-left:17%;">Specify the application name
PulseAudio will use when showing active clients, by default
it is the &quot;LIBAVFORMAT_IDENT&quot; string.</p>

<p style="margin-left:11%;"><b>stream_name</b></p>

<p style="margin-left:17%;">Specify the stream name
PulseAudio will use when showing active streams, by default
it is &quot;record&quot;.</p>

<p style="margin-left:11%;"><b>sample_rate</b></p>

<p style="margin-left:17%;">Specify the samplerate in Hz,
by default 48kHz is used.</p>

<p style="margin-left:11%;"><b>channels</b></p>

<p style="margin-left:17%;">Specify the channels in use, by
default 2 (stereo) is set.</p>

<p style="margin-left:11%;"><b>frame_size</b></p>

<p style="margin-left:17%;">Specify the number of bytes per
frame, by default it is set to 1024.</p>

<p style="margin-left:11%;"><b>fragment_size</b></p>

<p style="margin-left:17%;">Specify the minimal buffering
fragment in PulseAudio, it will affect the audio latency. By
default it is unset.</p>

<p style="margin-left:11%;"><b>wallclock</b></p>

<p style="margin-left:17%;">Set the initial
<small>PTS</small> using the current time. Default is 1.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<p style="margin-left:11%; margin-top: 1em">Record a stream
from default device:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -f pulse
-i default /tmp/pulse.wav</p>

<p style="margin-left:11%; margin-top: 1em"><b>sndio</b>
<br>
sndio input device.</p>

<p style="margin-left:11%; margin-top: 1em">To enable this
input device during configuration you need libsndio
installed on your system.</p>

<p style="margin-left:11%; margin-top: 1em">The filename to
provide to the input device is the device node representing
the sndio input device, and is usually set to
<i>/dev/audio0</i>.</p>

<p style="margin-left:11%; margin-top: 1em">For example to
grab from <i>/dev/audio0</i> using <b>ffmpeg</b> use the
command:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -f sndio
-i /dev/audio0 /tmp/oss.wav</p>

<p style="margin-left:11%; margin-top: 1em"><i>Options</i>
<b><br>
sample_rate</b></p>

<p style="margin-left:17%;">Set the sample rate in Hz.
Default is 48000.</p>

<p style="margin-left:11%;"><b>channels</b></p>

<p style="margin-left:17%;">Set the number of channels.
Default is 2.</p>


<p style="margin-left:11%; margin-top: 1em"><b>video4linux2,
v4l2</b> <br>
Video4Linux2 input video device.</p>


<p style="margin-left:11%; margin-top: 1em">&quot;v4l2&quot;
can be used as alias for &quot;video4linux2&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">If FFmpeg is
built with v4l-utils support (by using the
&quot;--enable-libv4l2&quot; configure option), it is
possible to use it with the &quot;-use_libv4l2&quot; input
device option.</p>

<p style="margin-left:11%; margin-top: 1em">The name of the
device to grab is a file device node, usually Linux systems
tend to automatically create such nodes when the device
(e.g. an <small>USB</small> webcam) is plugged into the
system, and has a name of the kind <i>/dev/videoN</i>, where
<i>N</i> is a number associated to the device.</p>

<p style="margin-left:11%; margin-top: 1em">Video4Linux2
devices usually support a limited set of
<i>width</i>x<i>height</i> sizes and frame rates. You can
check which are supported using <b>-list_formats all</b> for
Video4Linux2 devices. Some devices, like <small>TV</small>
cards, support one or more standards. It is possible to list
all the supported standards using <b>-list_standards
all</b>.</p>

<p style="margin-left:11%; margin-top: 1em">The time base
for the timestamps is 1 microsecond. Depending on the kernel
version and configuration, the timestamps may be derived
from the real time clock (origin at the Unix Epoch) or the
monotonic clock (origin usually at boot time, unaffected by
<small>NTP</small> or manual changes to the clock). The
<b>-timestamps abs</b> or <b>-ts abs</b> option can be used
to force conversion into the real time clock.</p>

<p style="margin-left:11%; margin-top: 1em">Some usage
examples of the video4linux2 device with <b>ffmpeg</b> and
<b>ffplay</b>:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="75%">


<p>List supported formats for a video4linux2 device:</p></td>
<td width="8%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffplay -f
video4linux2 -list_formats all /dev/video0</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="75%">


<p style="margin-top: 1em">Grab and show the input of a
video4linux2 device:</p></td>
<td width="8%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffplay -f
video4linux2 -framerate 30 -video_size hd720 /dev/video0</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Grab and record the input of a
video4linux2 device, leave the frame rate and size as
previously set:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -f
video4linux2 -input_format mjpeg -i /dev/video0 out.mpeg</p>

<p style="margin-left:11%; margin-top: 1em">For more
information about Video4Linux, check
&lt;<b>http://linuxtv.org/</b>&gt;.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Options</i>
<b><br>
standard</b></p>

<p style="margin-left:17%;">Set the standard. Must be the
name of a supported standard. To get a list of the supported
standards, use the <b>list_standards</b> option.</p>

<p style="margin-left:11%;"><b>channel</b></p>

<p style="margin-left:17%;">Set the input channel number.
Default to -1, which means using the previously selected
channel.</p>

<p style="margin-left:11%;"><b>video_size</b></p>

<p style="margin-left:17%;">Set the video frame size. The
argument must be a string in the form
<i><small>WIDTH</small></i> x <i><small>HEIGHT</small></i>
or a valid size abbreviation.</p>

<p style="margin-left:11%;"><b>pixel_format</b></p>

<p style="margin-left:17%;">Select the pixel format (only
valid for raw video input).</p>

<p style="margin-left:11%;"><b>input_format</b></p>

<p style="margin-left:17%;">Set the preferred pixel format
(for raw video) or a codec name. This option allows one to
select the input format, when several are available.</p>

<p style="margin-left:11%;"><b>framerate</b></p>

<p style="margin-left:17%;">Set the preferred video frame
rate.</p>

<p style="margin-left:11%;"><b>list_formats</b></p>

<p style="margin-left:17%;">List available formats
(supported pixel formats, codecs, and frame sizes) and
exit.</p>

<p style="margin-left:17%; margin-top: 1em">Available
values are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>all</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>Show all available (compressed and non-compressed)
formats.</p> </td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>raw</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>Show only raw video (non-compressed) formats.</p></td></tr>
</table>

<p style="margin-left:17%;"><b>compressed</b></p>

<p style="margin-left:23%;">Show only compressed
formats.</p>

<p style="margin-left:11%;"><b>list_standards</b></p>

<p style="margin-left:17%;">List supported standards and
exit.</p>

<p style="margin-left:17%; margin-top: 1em">Available
values are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>all</b></p></td>
<td width="1%"></td>
<td width="45%">


<p>Show all supported standards.</p></td>
<td width="32%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>timestamps, ts</b></p>

<p style="margin-left:17%;">Set type of timestamps for
grabbed frames.</p>

<p style="margin-left:17%; margin-top: 1em">Available
values are: <b><br>
default</b></p>

<p style="margin-left:23%;">Use timestamps from the
kernel.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>abs</b></p></td>
<td width="1%"></td>
<td width="57%">


<p>Use absolute timestamps (wall clock).</p></td>
<td width="20%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>mono2abs</b></p>

<p style="margin-left:23%;">Force conversion from monotonic
to absolute timestamps.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is &quot;default&quot;.</p>

<p style="margin-left:11%;"><b>use_libv4l2</b></p>

<p style="margin-left:17%;">Use libv4l2 (v4l-utils)
conversion functions. Default is 0.</p>

<p style="margin-left:11%; margin-top: 1em"><b>vfwcap</b>
<br>
VfW (Video for Windows) capture input device.</p>

<p style="margin-left:11%; margin-top: 1em">The filename
passed as input is the capture driver number, ranging from 0
to 9. You may use &quot;list&quot; as filename to print a
list of drivers. Any other filename will be interpreted as
device number 0.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Options</i>
<b><br>
video_size</b></p>

<p style="margin-left:17%;">Set the video frame size.</p>

<p style="margin-left:11%;"><b>framerate</b></p>

<p style="margin-left:17%;">Set the grabbing frame rate.
Default value is &quot;ntsc&quot;, corresponding to a frame
rate of &quot;30000/1001&quot;.</p>

<p style="margin-left:11%; margin-top: 1em"><b>x11grab</b>
<br>
X11 video input device.</p>

<p style="margin-left:11%; margin-top: 1em">To enable this
input device during configuration you need libxcb installed
on your system. It will be automatically detected during
configuration.</p>

<p style="margin-left:11%; margin-top: 1em">This device
allows one to capture a region of an X11 display.</p>

<p style="margin-left:11%; margin-top: 1em">The filename
passed as input has the syntax:</p>


<p style="margin-left:11%; margin-top: 1em">[&lt;hostname&gt;]:&lt;display_number&gt;.&lt;screen_number&gt;[+&lt;x_offset&gt;,&lt;y_offset&gt;]</p>


<p style="margin-left:11%; margin-top: 1em"><i>hostname</i>:<i>display_number</i>.<i>screen_number</i>
specifies the X11 display name of the screen to grab from.
<i>hostname</i> can be omitted, and defaults to
&quot;localhost&quot;. The environment variable
<b><small>DISPLAY</small></b> contains the default display
name.</p>


<p style="margin-left:11%; margin-top: 1em"><i>x_offset</i>
and <i>y_offset</i> specify the offsets of the grabbed area
with respect to the top-left border of the X11 screen. They
default to 0.</p>

<p style="margin-left:11%; margin-top: 1em">Check the X11
documentation (e.g. <b>man X</b>) for more detailed
information.</p>

<p style="margin-left:11%; margin-top: 1em">Use the
<b>xdpyinfo</b> program for getting basic information about
the properties of your X11 display (e.g. grep for
&quot;name&quot; or &quot;dimensions&quot;).</p>

<p style="margin-left:11%; margin-top: 1em">For example to
grab from <i>:0.0</i> using <b>ffmpeg</b>:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -f
x11grab -framerate 25 -video_size cif -i :0.0 out.mpg</p>

<p style="margin-left:11%; margin-top: 1em">Grab at
position &quot;10,20&quot;:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -f
x11grab -framerate 25 -video_size cif -i :0.0+10,20
out.mpg</p>

<p style="margin-left:11%; margin-top: 1em"><i>Options</i>
<b><br>
draw_mouse</b></p>

<p style="margin-left:17%;">Specify whether to draw the
mouse pointer. A value of 0 specifies not to draw the
pointer. Default value is 1.</p>

<p style="margin-left:11%;"><b>follow_mouse</b></p>

<p style="margin-left:17%;">Make the grabbed area follow
the mouse. The argument can be &quot;centered&quot; or a
number of pixels <i><small>PIXELS</small></i> .</p>

<p style="margin-left:17%; margin-top: 1em">When it is
specified with &quot;centered&quot;, the grabbing region
follows the mouse pointer and keeps the pointer at the
center of region; otherwise, the region follows only when
the mouse pointer reaches within
<i><small>PIXELS</small></i> (greater than zero) to the edge
of region.</p>

<p style="margin-left:17%; margin-top: 1em">For
example:</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -f
x11grab -follow_mouse centered -framerate 25 -video_size cif
-i :0.0 out.mpg</p>

<p style="margin-left:17%; margin-top: 1em">To follow only
when the mouse pointer reaches within 100 pixels to
edge:</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -f
x11grab -follow_mouse 100 -framerate 25 -video_size cif -i
:0.0 out.mpg</p>

<p style="margin-left:11%;"><b>framerate</b></p>

<p style="margin-left:17%;">Set the grabbing frame rate.
Default value is &quot;ntsc&quot;, corresponding to a frame
rate of &quot;30000/1001&quot;.</p>

<p style="margin-left:11%;"><b>show_region</b></p>

<p style="margin-left:17%;">Show grabbed region on
screen.</p>

<p style="margin-left:17%; margin-top: 1em">If
<i>show_region</i> is specified with 1, then the grabbing
region will be indicated on screen. With this option, it is
easy to know what is being grabbed if only a portion of the
screen is grabbed.</p>

<p style="margin-left:11%;"><b>region_border</b></p>

<p style="margin-left:17%;">Set the region border thickness
if <b>-show_region 1</b> is used. Range is 1 to 128 and
default is 3 (XCB-based x11grab only).</p>

<p style="margin-left:17%; margin-top: 1em">For
example:</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -f
x11grab -show_region 1 -framerate 25 -video_size cif -i
:0.0+10,20 out.mpg</p>

<p style="margin-left:17%; margin-top: 1em">With
<i>follow_mouse</i>:</p>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -f
x11grab -follow_mouse centered -show_region 1 -framerate 25
-video_size cif -i :0.0 out.mpg</p>

<p style="margin-left:11%;"><b>video_size</b></p>

<p style="margin-left:17%;">Set the video frame size.
Default value is &quot;vga&quot;.</p>

<p style="margin-left:11%;"><b>grab_x <br>
grab_y</b></p>

<p style="margin-left:17%;">Set the grabbing region
coordinates. They are expressed as offset from the top left
corner of the X11 window and correspond to the
<i>x_offset</i> and <i>y_offset</i> parameters in the device
name. The default value for both options is 0.</p>

<h2>OUTPUT DEVICES
<a name="OUTPUT DEVICES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Output devices
are configured elements in FFmpeg that can write multimedia
data to an output device attached to your system.</p>

<p style="margin-left:11%; margin-top: 1em">When you
configure your FFmpeg build, all the supported output
devices are enabled by default. You can list all available
ones using the configure option
&quot;--list-outdevs&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">You can disable
all the output devices using the configure option
&quot;--disable-outdevs&quot;, and selectively enable an
output device using the option &quot;--enable-outdev=
<i><small>OUTDEV</small></i> &quot;, or you can disable a
particular input device using the option
&quot;--disable-outdev= <i><small>OUTDEV</small></i>
&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">The option
&quot;-devices&quot; of the ff* tools will display the list
of enabled output devices.</p>

<p style="margin-left:11%; margin-top: 1em">A description
of the currently available output devices follows.</p>

<p style="margin-left:11%; margin-top: 1em"><b>alsa</b>
<small><br>
ALSA</small> (Advanced Linux Sound Architecture) output
device.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="54%">


<p>Play a file on default <small>ALSA</small> device:</p></td>
<td width="29%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i INPUT
-f alsa default</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="66%">


<p style="margin-top: 1em">Play a file on soundcard 1,
audio device 7:</p></td>
<td width="17%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i INPUT
-f alsa hw:1,7</p>

<p style="margin-left:11%; margin-top: 1em"><b>caca</b>
<small><br>
CACA</small> output device.</p>

<p style="margin-left:11%; margin-top: 1em">This output
device allows one to show a video stream in
<small>CACA</small> window. Only one <small>CACA</small>
window is allowed per application, so you can have only one
instance of this output device in an application.</p>

<p style="margin-left:11%; margin-top: 1em">To enable this
output device you need to configure FFmpeg with
&quot;--enable-libcaca&quot;. libcaca is a graphics library
that outputs text instead of pixels.</p>

<p style="margin-left:11%; margin-top: 1em">For more
information about libcaca, check:
&lt;<b>http://caca.zoy.org/wiki/libcaca</b>&gt;</p>

<p style="margin-left:11%; margin-top: 1em"><i>Options</i>
<b><br>
window_title</b></p>

<p style="margin-left:17%;">Set the <small>CACA</small>
window title, if not specified default to the filename
specified for the output device.</p>

<p style="margin-left:11%;"><b>window_size</b></p>

<p style="margin-left:17%;">Set the <small>CACA</small>
window size, can be a string of the form
<i>width</i>x<i>height</i> or a video size abbreviation. If
not specified it defaults to the size of the input
video.</p>

<p style="margin-left:11%;"><b>driver</b></p>

<p style="margin-left:17%;">Set display driver.</p>

<p style="margin-left:11%;"><b>algorithm</b></p>

<p style="margin-left:17%;">Set dithering algorithm.
Dithering is necessary because the picture being rendered
has usually far more colours than the available palette. The
accepted values are listed with &quot;-list_dither
algorithms&quot;.</p>

<p style="margin-left:11%;"><b>antialias</b></p>

<p style="margin-left:17%;">Set antialias method.
Antialiasing smoothens the rendered image and avoids the
commonly seen staircase effect. The accepted values are
listed with &quot;-list_dither antialiases&quot;.</p>

<p style="margin-left:11%;"><b>charset</b></p>

<p style="margin-left:17%;">Set which characters are going
to be used when rendering text. The accepted values are
listed with &quot;-list_dither charsets&quot;.</p>

<p style="margin-left:11%;"><b>color</b></p>

<p style="margin-left:17%;">Set color to be used when
rendering text. The accepted values are listed with
&quot;-list_dither colors&quot;.</p>

<p style="margin-left:11%;"><b>list_drivers</b></p>

<p style="margin-left:17%;">If set to <b>true</b>, print a
list of available drivers and exit.</p>

<p style="margin-left:11%;"><b>list_dither</b></p>

<p style="margin-left:17%;">List available dither options
related to the argument. The argument must be one of
&quot;algorithms&quot;, &quot;antialiases&quot;,
&quot;charsets&quot;, &quot;colors&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The following command shows the <b>ffmpeg</b> output is
an <small>CACA</small> window, forcing its size to
80x25:</p> </td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i INPUT
-c:v rawvideo -pix_fmt rgb24 -window_size 80x25 -f caca
-</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="68%">


<p style="margin-top: 1em">Show the list of available
drivers and exit:</p></td>
<td width="15%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i INPUT
-pix_fmt rgb24 -f caca -list_drivers true -</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="77%">


<p style="margin-top: 1em">Show the list of available
dither colors and exit:</p></td>
<td width="6%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i INPUT
-pix_fmt rgb24 -f caca -list_dither colors -</p>


<p style="margin-left:11%; margin-top: 1em"><b>decklink</b>
<br>
The decklink output device provides playback capabilities
for Blackmagic DeckLink devices.</p>

<p style="margin-left:11%; margin-top: 1em">To enable this
output device, you need the Blackmagic DeckLink
<small>SDK</small> and you need to configure with the
appropriate &quot;--extra-cflags&quot; and
&quot;--extra-ldflags&quot;. On Windows, you need to run the
<small>IDL</small> files through <b>widl</b>.</p>

<p style="margin-left:11%; margin-top: 1em">DeckLink is
very picky about the formats it supports. Pixel format is
always uyvy422, framerate, field order and video size must
be determined for your device with <b>-list_formats 1</b>.
Audio sample rate is always 48 kHz.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Options</i>
<b><br>
list_devices</b></p>

<p style="margin-left:17%;">If set to <b>true</b>, print a
list of devices and exit. Defaults to <b>false</b>.
Alternatively you can use the &quot;-sinks&quot; option of
ffmpeg to list the available output devices.</p>

<p style="margin-left:11%;"><b>list_formats</b></p>

<p style="margin-left:17%;">If set to <b>true</b>, print a
list of supported formats and exit. Defaults to
<b>false</b>.</p>

<p style="margin-left:11%;"><b>preroll</b></p>

<p style="margin-left:17%;">Amount of time to preroll video
in seconds. Defaults to <b>0.5</b>.</p>

<p style="margin-left:11%;"><b>duplex_mode</b></p>

<p style="margin-left:17%;">Sets the decklink device duplex
mode. Must be <b>unset</b>, <b>half</b> or <b>full</b>.
Defaults to <b>unset</b>.</p>

<p style="margin-left:11%;"><b>timing_offset</b></p>

<p style="margin-left:17%;">Sets the genlock timing pixel
offset on the used output. Defaults to <b>unset</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="31%">


<p>List output devices:</p></td>
<td width="52%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
test.avi -f decklink -list_devices 1 dummy</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="35%">


<p style="margin-top: 1em">List supported formats:</p></td>
<td width="48%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
test.avi -f decklink -list_formats 1 'DeckLink Mini
Monitor'</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="25%">


<p style="margin-top: 1em">Play video clip:</p></td>
<td width="58%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
test.avi -f decklink -pix_fmt uyvy422 'DeckLink Mini
Monitor'</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Play video clip with
non-standard framerate or video size:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
test.avi -f decklink -pix_fmt uyvy422 -s 720x486 -r
24000/1001 'DeckLink Mini Monitor'</p>

<p style="margin-left:11%; margin-top: 1em"><b>fbdev</b>
<br>
Linux framebuffer output device.</p>

<p style="margin-left:11%; margin-top: 1em">The Linux
framebuffer is a graphic hardware-independent abstraction
layer to show graphics on a computer monitor, typically on
the console. It is accessed through a file device node,
usually <i>/dev/fb0</i>.</p>

<p style="margin-left:11%; margin-top: 1em">For more
detailed information read the file
<i>Documentation/fb/framebuffer.txt</i> included in the
Linux source tree.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Options</i>
<b><br>
xoffset <br>
yoffset</b></p>

<p style="margin-left:17%;">Set x/y coordinate of top left
corner. Default is 0.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<p style="margin-left:11%; margin-top: 1em">Play a file on
framebuffer device <i>/dev/fb0</i>. Required pixel format
depends on current framebuffer settings.</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -re -i
INPUT -c:v rawvideo -pix_fmt bgra -f fbdev /dev/fb0</p>

<p style="margin-left:11%; margin-top: 1em">See also
&lt;<b>http://linux-fbdev.sourceforge.net/</b>&gt;, and
<b>fbset</b>(1).</p>

<p style="margin-left:11%; margin-top: 1em"><b>opengl</b>
<br>
OpenGL output device.</p>

<p style="margin-left:11%; margin-top: 1em">To enable this
output device you need to configure FFmpeg with
&quot;--enable-opengl&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">This output
device allows one to render to OpenGL context. Context may
be provided by application or default <small>SDL</small>
window is created.</p>

<p style="margin-left:11%; margin-top: 1em">When device
renders to external context, application must implement
handlers for following messages:
&quot;AV_DEV_TO_APP_CREATE_WINDOW_BUFFER&quot; - create
OpenGL context on current thread.
&quot;AV_DEV_TO_APP_PREPARE_WINDOW_BUFFER&quot; - make
OpenGL context current.
&quot;AV_DEV_TO_APP_DISPLAY_WINDOW_BUFFER&quot; - swap
buffers. &quot;AV_DEV_TO_APP_DESTROY_WINDOW_BUFFER&quot; -
destroy OpenGL context. Application is also required to
inform a device about current resolution by sending
&quot;AV_APP_TO_DEV_WINDOW_SIZE&quot; message.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Options</i>
<b><br>
background</b></p>

<p style="margin-left:17%;">Set background color. Black is
a default.</p>

<p style="margin-left:11%;"><b>no_window</b></p>

<p style="margin-left:17%;">Disables default
<small>SDL</small> window when set to non-zero value.
Application must provide OpenGL context and both
&quot;window_size_cb&quot; and
&quot;window_swap_buffers_cb&quot; callbacks when set.</p>

<p style="margin-left:11%;"><b>window_title</b></p>

<p style="margin-left:17%;">Set the <small>SDL</small>
window title, if not specified default to the filename
specified for the output device. Ignored when
<b>no_window</b> is set.</p>

<p style="margin-left:11%;"><b>window_size</b></p>

<p style="margin-left:17%;">Set preferred window size, can
be a string of the form widthxheight or a video size
abbreviation. If not specified it defaults to the size of
the input video, downscaled according to the aspect ratio.
Mostly usable when <b>no_window</b> is not set.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<p style="margin-left:11%; margin-top: 1em">Play a file on
<small>SDL</small> window using OpenGL rendering:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i INPUT
-f opengl &quot;window title&quot;</p>

<p style="margin-left:11%; margin-top: 1em"><b>oss</b>
<small><br>
OSS</small> (Open Sound System) output device.</p>

<p style="margin-left:11%; margin-top: 1em"><b>pulse</b>
<br>
PulseAudio output device.</p>

<p style="margin-left:11%; margin-top: 1em">To enable this
output device you need to configure FFmpeg with
&quot;--enable-libpulse&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">More
information about PulseAudio can be found on
&lt;<b>http://www.pulseaudio.org</b>&gt;</p>

<p style="margin-left:11%; margin-top: 1em"><i>Options</i>
<b><br>
server</b></p>

<p style="margin-left:17%;">Connect to a specific
PulseAudio server, specified by an <small>IP</small>
address. Default server is used when not provided.</p>

<p style="margin-left:11%;"><b>name</b></p>

<p style="margin-left:17%;">Specify the application name
PulseAudio will use when showing active clients, by default
it is the &quot;LIBAVFORMAT_IDENT&quot; string.</p>

<p style="margin-left:11%;"><b>stream_name</b></p>

<p style="margin-left:17%;">Specify the stream name
PulseAudio will use when showing active streams, by default
it is set to the specified output name.</p>

<p style="margin-left:11%;"><b>device</b></p>

<p style="margin-left:17%;">Specify the device to use.
Default device is used when not provided. List of output
devices can be obtained with command <b>pactl list
sinks</b>.</p>

<p style="margin-left:11%;"><b>buffer_size <br>
buffer_duration</b></p>

<p style="margin-left:17%;">Control the size and duration
of the PulseAudio buffer. A small buffer gives more control,
but requires more frequent updates.</p>


<p style="margin-left:17%; margin-top: 1em"><b>buffer_size</b>
specifies size in bytes while <b>buffer_duration</b>
specifies duration in milliseconds.</p>

<p style="margin-left:17%; margin-top: 1em">When both
options are provided then the highest value is used
(duration is recalculated to bytes using stream parameters).
If they are set to 0 (which is default), the device will use
the default PulseAudio duration value. By default PulseAudio
set buffer duration to around 2 seconds.</p>

<p style="margin-left:11%;"><b>prebuf</b></p>

<p style="margin-left:17%;">Specify pre-buffering size in
bytes. The server does not start with playback before at
least <b>prebuf</b> bytes are available in the buffer. By
default this option is initialized to the same value as
<b>buffer_size</b> or <b>buffer_duration</b> (whichever is
bigger).</p>

<p style="margin-left:11%;"><b>minreq</b></p>

<p style="margin-left:17%;">Specify minimum request size in
bytes. The server does not request less than <b>minreq</b>
bytes from the client, instead waits until the buffer is
free enough to request more bytes at once. It is recommended
to not set this option, which will initialize this to a
value that is deemed sensible by the server.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<p style="margin-left:11%; margin-top: 1em">Play a file on
default device on default server:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i INPUT
-f pulse &quot;stream name&quot;</p>

<p style="margin-left:11%; margin-top: 1em"><b>sdl</b>
<small><br>
SDL</small> (Simple DirectMedia Layer) output device.</p>

<p style="margin-left:11%; margin-top: 1em">This output
device allows one to show a video stream in an
<small>SDL</small> window. Only one <small>SDL</small>
window is allowed per application, so you can have only one
instance of this output device in an application.</p>

<p style="margin-left:11%; margin-top: 1em">To enable this
output device you need libsdl installed on your system when
configuring your build.</p>

<p style="margin-left:11%; margin-top: 1em">For more
information about <small>SDL,</small> check:
&lt;<b>http://www.libsdl.org/</b>&gt;</p>

<p style="margin-left:11%; margin-top: 1em"><i>Options</i>
<b><br>
window_title</b></p>

<p style="margin-left:17%;">Set the <small>SDL</small>
window title, if not specified default to the filename
specified for the output device.</p>

<p style="margin-left:11%;"><b>icon_title</b></p>

<p style="margin-left:17%;">Set the name of the iconified
<small>SDL</small> window, if not specified it is set to the
same value of <i>window_title</i>.</p>

<p style="margin-left:11%;"><b>window_size</b></p>

<p style="margin-left:17%;">Set the <small>SDL</small>
window size, can be a string of the form
<i>width</i>x<i>height</i> or a video size abbreviation. If
not specified it defaults to the size of the input video,
downscaled according to the aspect ratio.</p>

<p style="margin-left:11%;"><b>window_x <br>
window_y</b></p>

<p style="margin-left:17%;">Set the position of the window
on the screen.</p>

<p style="margin-left:11%;"><b>window_fullscreen</b></p>

<p style="margin-left:17%;">Set fullscreen mode when
non-zero value is provided. Default value is zero.</p>

<p style="margin-left:11%;"><b>window_enable_quit</b></p>

<p style="margin-left:17%;">Enable quit action (using
window button or keyboard key) when non-zero value is
provided. Default value is 1 (enable quit action)</p>

<p style="margin-left:11%; margin-top: 1em"><i>Interactive
commands</i></p>

<p style="margin-left:11%; margin-top: 1em">The window
created by the device can be controlled through the
following interactive commands. <b><br>
q, <small>ESC</small></b></p>

<p style="margin-left:17%;">Quit the device
immediately.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<p style="margin-left:11%; margin-top: 1em">The following
command shows the <b>ffmpeg</b> output is an
<small>SDL</small> window, forcing its size to the qcif
format:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i INPUT
-c:v rawvideo -pix_fmt yuv420p -window_size qcif -f sdl
&quot;SDL output&quot;</p>

<p style="margin-left:11%; margin-top: 1em"><b>sndio</b>
<br>
sndio audio output device.</p>

<p style="margin-left:11%; margin-top: 1em"><b>v4l2</b>
<br>
Video4Linux2 output device.</p>

<p style="margin-left:11%; margin-top: 1em"><b>xv</b>
<small><br>
XV</small> (XVideo) output device.</p>

<p style="margin-left:11%; margin-top: 1em">This output
device allows one to show a video stream in a X Window
System window.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Options</i>
<b><br>
display_name</b></p>

<p style="margin-left:17%;">Specify the hardware display
name, which determines the display and communications domain
to be used.</p>

<p style="margin-left:17%; margin-top: 1em">The display
name or <small>DISPLAY</small> environment variable can be a
string in the format
<i>hostname</i>[:<i>number</i>[.<i>screen_number</i>]].</p>


<p style="margin-left:17%; margin-top: 1em"><i>hostname</i>
specifies the name of the host machine on which the display
is physically attached. <i>number</i> specifies the number
of the display server on that host machine.
<i>screen_number</i> specifies the screen to be used on that
server.</p>

<p style="margin-left:17%; margin-top: 1em">If unspecified,
it defaults to the value of the <small>DISPLAY</small>
environment variable.</p>

<p style="margin-left:17%; margin-top: 1em">For example,
&quot;dual-headed:0.1&quot; would specify screen 1 of
display 0 on the machine named
&rsquo;&rsquo;dual-headed&rsquo;&rsquo;.</p>

<p style="margin-left:17%; margin-top: 1em">Check the X11
specification for more detailed information about the
display name format.</p>

<p style="margin-left:11%;"><b>window_id</b></p>

<p style="margin-left:17%;">When set to non-zero value then
device doesn&rsquo;t create new window, but uses existing
one with provided <i>window_id</i>. By default this options
is set to zero and device creates its own window.</p>

<p style="margin-left:11%;"><b>window_size</b></p>

<p style="margin-left:17%;">Set the created window size,
can be a string of the form <i>width</i>x<i>height</i> or a
video size abbreviation. If not specified it defaults to the
size of the input video. Ignored when <i>window_id</i> is
set.</p>

<p style="margin-left:11%;"><b>window_x <br>
window_y</b></p>

<p style="margin-left:17%;">Set the X and Y window offsets
for the created window. They are both set to 0 by default.
The values may be ignored by the window manager. Ignored
when <i>window_id</i> is set.</p>

<p style="margin-left:11%;"><b>window_title</b></p>

<p style="margin-left:17%;">Set the window title, if not
specified default to the filename specified for the output
device. Ignored when <i>window_id</i> is set.</p>

<p style="margin-left:11%; margin-top: 1em">For more
information about XVideo see
&lt;<b>http://www.x.org/</b>&gt;.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Decode, display and encode video input with
<b>ffmpeg</b> at the same time:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i INPUT
OUTPUT -f xv display</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Decode and display the input
video to multiple X11 windows:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i INPUT
-f xv normal -vf negate -f xv negated</p>

<h2>RESAMPLER OPTIONS
<a name="RESAMPLER OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The audio
resampler supports the following named options.</p>

<p style="margin-left:11%; margin-top: 1em">Options may be
set by specifying -<i>option value</i> in the FFmpeg tools,
<i>option</i>=<i>value</i> for the aresample filter, by
setting the value explicitly in the &quot;SwrContext&quot;
options or using the <i>libavutil/opt.h</i>
<small>API</small> for programmatic use. <b><br>
ich, in_channel_count</b></p>

<p style="margin-left:17%;">Set the number of input
channels. Default value is 0. Setting this value is not
mandatory if the corresponding channel layout
<b>in_channel_layout</b> is set.</p>

<p style="margin-left:11%;"><b>och,
out_channel_count</b></p>

<p style="margin-left:17%;">Set the number of output
channels. Default value is 0. Setting this value is not
mandatory if the corresponding channel layout
<b>out_channel_layout</b> is set.</p>

<p style="margin-left:11%;"><b>uch,
used_channel_count</b></p>

<p style="margin-left:17%;">Set the number of used input
channels. Default value is 0. This option is only used for
special remapping.</p>

<p style="margin-left:11%;"><b>isr, in_sample_rate</b></p>

<p style="margin-left:17%;">Set the input sample rate.
Default value is 0.</p>

<p style="margin-left:11%;"><b>osr, out_sample_rate</b></p>

<p style="margin-left:17%;">Set the output sample rate.
Default value is 0.</p>

<p style="margin-left:11%;"><b>isf, in_sample_fmt</b></p>

<p style="margin-left:17%;">Specify the input sample
format. It is set by default to &quot;none&quot;.</p>

<p style="margin-left:11%;"><b>osf, out_sample_fmt</b></p>

<p style="margin-left:17%;">Specify the output sample
format. It is set by default to &quot;none&quot;.</p>

<p style="margin-left:11%;"><b>tsf,
internal_sample_fmt</b></p>

<p style="margin-left:17%;">Set the internal sample format.
Default value is &quot;none&quot;. This will automatically
be chosen when it is not explicitly set.</p>

<p style="margin-left:11%;"><b>icl, in_channel_layout <br>
ocl, out_channel_layout</b></p>

<p style="margin-left:17%;">Set the input/output channel
layout.</p>

<p style="margin-left:17%; margin-top: 1em">See <b>the
Channel Layout section in the ffmpeg-utils(1) manual</b> for
the required syntax.</p>

<p style="margin-left:11%;"><b>clev,
center_mix_level</b></p>

<p style="margin-left:17%;">Set the center mix level. It is
a value expressed in deciBel, and must be in the interval
[-32,32].</p>

<p style="margin-left:11%;"><b>slev,
surround_mix_level</b></p>

<p style="margin-left:17%;">Set the surround mix level. It
is a value expressed in deciBel, and must be in the interval
[-32,32].</p>

<p style="margin-left:11%;"><b>lfe_mix_level</b></p>

<p style="margin-left:17%;">Set <small>LFE</small> mix into
non <small>LFE</small> level. It is used when there is a
<small>LFE</small> input but no <small>LFE</small> output.
It is a value expressed in deciBel, and must be in the
interval [-32,32].</p>

<p style="margin-left:11%;"><b>rmvol,
rematrix_volume</b></p>

<p style="margin-left:17%;">Set rematrix volume. Default
value is 1.0.</p>

<p style="margin-left:11%;"><b>rematrix_maxval</b></p>

<p style="margin-left:17%;">Set maximum output value for
rematrixing. This can be used to prevent clipping vs.
preventing volume reduction. A value of 1.0 prevents
clipping.</p>

<p style="margin-left:11%;"><b>flags, swr_flags</b></p>

<p style="margin-left:17%;">Set flags used by the
converter. Default value is 0.</p>

<p style="margin-left:17%; margin-top: 1em">It supports the
following individual flags:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>res</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>force resampling, this flag forces resampling to be used
even when the input and output sample rates match.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>dither_scale</b></p>

<p style="margin-left:17%;">Set the dither scale. Default
value is 1.</p>

<p style="margin-left:11%;"><b>dither_method</b></p>

<p style="margin-left:17%;">Set dither method. Default
value is 0.</p>

<p style="margin-left:17%; margin-top: 1em">Supported
values: <b><br>
rectangular</b></p>

<p style="margin-left:23%;">select rectangular dither</p>

<p style="margin-left:17%;"><b>triangular</b></p>

<p style="margin-left:23%;">select triangular dither</p>

<p style="margin-left:17%;"><b>triangular_hp</b></p>

<p style="margin-left:23%;">select triangular dither with
high pass</p>

<p style="margin-left:17%;"><b>lipshitz</b></p>

<p style="margin-left:23%;">select Lipshitz noise shaping
dither.</p>

<p style="margin-left:17%;"><b>shibata</b></p>

<p style="margin-left:23%;">select Shibata noise shaping
dither.</p>

<p style="margin-left:17%;"><b>low_shibata</b></p>

<p style="margin-left:23%;">select low Shibata noise
shaping dither.</p>

<p style="margin-left:17%;"><b>high_shibata</b></p>

<p style="margin-left:23%;">select high Shibata noise
shaping dither.</p>

<p style="margin-left:17%;"><b>f_weighted</b></p>

<p style="margin-left:23%;">select f-weighted noise shaping
dither</p>

<p style="margin-left:17%;"><b>modified_e_weighted</b></p>

<p style="margin-left:23%;">select modified-e-weighted
noise shaping dither</p>

<p style="margin-left:17%;"><b>improved_e_weighted</b></p>

<p style="margin-left:23%;">select improved-e-weighted
noise shaping dither</p>

<p style="margin-left:11%;"><b>resampler</b></p>

<p style="margin-left:17%;">Set resampling engine. Default
value is swr.</p>

<p style="margin-left:17%; margin-top: 1em">Supported
values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>swr</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>select the native <small>SW</small> Resampler; filter
options precision and cheby are not applicable in this
case.</p> </td></tr>
</table>

<p style="margin-left:17%;"><b>soxr</b></p>

<p style="margin-left:23%;">select the SoX Resampler (where
available); compensation, and filter options filter_size,
phase_shift, exact_rational, filter_type &amp; kaiser_beta,
are not applicable in this case.</p>

<p style="margin-left:11%;"><b>filter_size</b></p>

<p style="margin-left:17%;">For swr only, set resampling
filter size, default value is 32.</p>

<p style="margin-left:11%;"><b>phase_shift</b></p>

<p style="margin-left:17%;">For swr only, set resampling
phase shift, default value is 10, and must be in the
interval [0,30].</p>

<p style="margin-left:11%;"><b>linear_interp</b></p>

<p style="margin-left:17%;">Use linear interpolation when
enabled (the default). Disable it if you want to preserve
speed instead of quality when exact_rational fails.</p>

<p style="margin-left:11%;"><b>exact_rational</b></p>

<p style="margin-left:17%;">For swr only, when enabled, try
to use exact phase_count based on input and output sample
rate. However, if it is larger than &quot;1 &lt;&lt;
phase_shift&quot;, the phase_count will be &quot;1 &lt;&lt;
phase_shift&quot; as fallback. Default is enabled.</p>

<p style="margin-left:11%;"><b>cutoff</b></p>

<p style="margin-left:17%;">Set cutoff frequency (swr: 6dB
point; soxr: 0dB point) ratio; must be a float value between
0 and 1. Default value is 0.97 with swr, and 0.91 with soxr
(which, with a sample-rate of 44100, preserves the entire
audio band to 20kHz).</p>

<p style="margin-left:11%;"><b>precision</b></p>

<p style="margin-left:17%;">For soxr only, the precision in
bits to which the resampled signal will be calculated. The
default value of 20 (which, with suitable dithering, is
appropriate for a destination bit-depth of 16) gives
SoX&rsquo;s &rsquo;High Quality&rsquo;; a value of 28 gives
SoX&rsquo;s &rsquo;Very High Quality&rsquo;.</p>

<p style="margin-left:11%;"><b>cheby</b></p>

<p style="margin-left:17%;">For soxr only, selects passband
rolloff none (Chebyshev) &amp; higher-precision
approximation for &rsquo;irrational&rsquo; ratios. Default
value is 0.</p>

<p style="margin-left:11%;"><b>async</b></p>

<p style="margin-left:17%;">For swr only, simple 1
parameter audio sync to timestamps using stretching,
squeezing, filling and trimming. Setting this to 1 will
enable filling and trimming, larger values represent the
maximum amount in samples that the data may be stretched or
squeezed for each second. Default value is 0, thus no
compensation is applied to make the samples match the audio
timestamps.</p>

<p style="margin-left:11%;"><b>first_pts</b></p>

<p style="margin-left:17%;">For swr only, assume the first
pts should be this value. The time unit is 1 / sample rate.
This allows for padding/trimming at the start of stream. By
default, no assumption is made about the first frame&rsquo;s
expected pts, so no padding or trimming is done. For
example, this could be set to 0 to pad the beginning with
silence if an audio stream starts after the video stream or
to trim any samples with a negative pts due to encoder
delay.</p>

<p style="margin-left:11%;"><b>min_comp</b></p>

<p style="margin-left:17%;">For swr only, set the minimum
difference between timestamps and audio data (in seconds) to
trigger stretching/squeezing/filling or trimming of the data
to make it match the timestamps. The default is that
stretching/squeezing/filling and trimming is disabled
(<b>min_comp</b> = &quot;FLT_MAX&quot;).</p>

<p style="margin-left:11%;"><b>min_hard_comp</b></p>

<p style="margin-left:17%;">For swr only, set the minimum
difference between timestamps and audio data (in seconds) to
trigger adding/dropping samples to make it match the
timestamps. This option effectively is a threshold to select
between hard (trim/fill) and soft (squeeze/stretch)
compensation. Note that all compensation is by default
disabled through <b>min_comp</b>. The default is 0.1.</p>

<p style="margin-left:11%;"><b>comp_duration</b></p>

<p style="margin-left:17%;">For swr only, set duration (in
seconds) over which data is stretched/squeezed to make it
match the timestamps. Must be a non-negative double float
value, default value is 1.0.</p>

<p style="margin-left:11%;"><b>max_soft_comp</b></p>

<p style="margin-left:17%;">For swr only, set maximum
factor by which data is stretched/squeezed to make it match
the timestamps. Must be a non-negative double float value,
default value is 0.</p>

<p style="margin-left:11%;"><b>matrix_encoding</b></p>

<p style="margin-left:17%;">Select matrixed stereo
encoding.</p>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values: <b><br>
none</b></p>

<p style="margin-left:23%;">select none</p>

<p style="margin-left:17%;"><b>dolby</b></p>

<p style="margin-left:23%;">select Dolby</p>

<p style="margin-left:17%;"><b>dplii</b></p>

<p style="margin-left:23%;">select Dolby Pro Logic
<small>II</small></p>

<p style="margin-left:17%; margin-top: 1em">Default value
is &quot;none&quot;.</p>

<p style="margin-left:11%;"><b>filter_type</b></p>

<p style="margin-left:17%;">For swr only, select resampling
filter type. This only affects resampling operations.</p>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values: <b><br>
cubic</b></p>

<p style="margin-left:23%;">select cubic</p>

<p style="margin-left:17%;"><b>blackman_nuttall</b></p>

<p style="margin-left:23%;">select Blackman Nuttall
windowed sinc</p>

<p style="margin-left:17%;"><b>kaiser</b></p>

<p style="margin-left:23%;">select Kaiser windowed sinc</p>

<p style="margin-left:11%;"><b>kaiser_beta</b></p>

<p style="margin-left:17%;">For swr only, set Kaiser window
beta value. Must be a double float value in the interval
[2,16], default value is 9.</p>

<p style="margin-left:11%;"><b>output_sample_bits</b></p>

<p style="margin-left:17%;">For swr only, set number of
used output sample bits for dithering. Must be an integer in
the interval [0,64], default value is 0, which means
it&rsquo;s not used.</p>

<h2>SCALER OPTIONS
<a name="SCALER OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The video
scaler supports the following named options.</p>

<p style="margin-left:11%; margin-top: 1em">Options may be
set by specifying -<i>option value</i> in the FFmpeg tools,
with a few API-only exceptions noted below. For programmatic
use, they can be set explicitly in the
&quot;SwsContext&quot; options or through the
<i>libavutil/opt.h</i> <small>API.</small> <b><br>
sws_flags</b></p>

<p style="margin-left:17%;">Set the scaler flags. This is
also used to set the scaling algorithm. Only a single
algorithm should be selected. Default value is
<b>bicubic</b>.</p>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values: <b><br>
fast_bilinear</b></p>

<p style="margin-left:23%;">Select fast bilinear scaling
algorithm.</p>

<p style="margin-left:17%;"><b>bilinear</b></p>

<p style="margin-left:23%;">Select bilinear scaling
algorithm.</p>

<p style="margin-left:17%;"><b>bicubic</b></p>

<p style="margin-left:23%;">Select bicubic scaling
algorithm.</p>

<p style="margin-left:17%;"><b>experimental</b></p>

<p style="margin-left:23%;">Select experimental scaling
algorithm.</p>

<p style="margin-left:17%;"><b>neighbor</b></p>

<p style="margin-left:23%;">Select nearest neighbor
rescaling algorithm.</p>

<p style="margin-left:17%;"><b>area</b></p>

<p style="margin-left:23%;">Select averaging area rescaling
algorithm.</p>

<p style="margin-left:17%;"><b>bicublin</b></p>

<p style="margin-left:23%;">Select bicubic scaling
algorithm for the luma component, bilinear for chroma
components.</p>

<p style="margin-left:17%;"><b>gauss</b></p>

<p style="margin-left:23%;">Select Gaussian rescaling
algorithm.</p>

<p style="margin-left:17%;"><b>sinc</b></p>

<p style="margin-left:23%;">Select sinc rescaling
algorithm.</p>

<p style="margin-left:17%;"><b>lanczos</b></p>

<p style="margin-left:23%;">Select Lanczos rescaling
algorithm. The default width (alpha) is 3 and can be changed
by setting &quot;param0&quot;.</p>

<p style="margin-left:17%;"><b>spline</b></p>

<p style="margin-left:23%;">Select natural bicubic spline
rescaling algorithm.</p>

<p style="margin-left:17%;"><b>print_info</b></p>

<p style="margin-left:23%;">Enable printing/debug
logging.</p>

<p style="margin-left:17%;"><b>accurate_rnd</b></p>

<p style="margin-left:23%;">Enable accurate rounding.</p>

<p style="margin-left:17%;"><b>full_chroma_int</b></p>

<p style="margin-left:23%;">Enable full chroma
interpolation.</p>

<p style="margin-left:17%;"><b>full_chroma_inp</b></p>

<p style="margin-left:23%;">Select full chroma input.</p>

<p style="margin-left:17%;"><b>bitexact</b></p>

<p style="margin-left:23%;">Enable bitexact output.</p>

<p style="margin-left:11%;"><b>srcw</b> <i>(
<small>API</small> only)</i></p>

<p style="margin-left:17%;">Set source width.</p>

<p style="margin-left:11%;"><b>srch</b> <i>(
<small>API</small> only)</i></p>

<p style="margin-left:17%;">Set source height.</p>

<p style="margin-left:11%;"><b>dstw</b> <i>(
<small>API</small> only)</i></p>

<p style="margin-left:17%;">Set destination width.</p>

<p style="margin-left:11%;"><b>dsth</b> <i>(
<small>API</small> only)</i></p>

<p style="margin-left:17%;">Set destination height.</p>

<p style="margin-left:11%;"><b>src_format</b> <i>(
<small>API</small> only)</i></p>

<p style="margin-left:17%;">Set source pixel format (must
be expressed as an integer).</p>

<p style="margin-left:11%;"><b>dst_format</b> <i>(
<small>API</small> only)</i></p>

<p style="margin-left:17%;">Set destination pixel format
(must be expressed as an integer).</p>

<p style="margin-left:11%;"><b>src_range</b>
<i>(boolean)</i></p>

<p style="margin-left:17%;">If value is set to 1, indicates
source is full range. Default value is 0, which indicates
source is limited range.</p>

<p style="margin-left:11%;"><b>dst_range</b>
<i>(boolean)</i></p>

<p style="margin-left:17%;">If value is set to 1, enable
full range for destination. Default value is 0, which
enables limited range.</p>

<p style="margin-left:11%;"><b>param0, param1</b></p>

<p style="margin-left:17%;">Set scaling algorithm
parameters. The specified values are specific of some
scaling algorithms and ignored by others. The specified
values are floating point number values.</p>

<p style="margin-left:11%;"><b>sws_dither</b></p>

<p style="margin-left:17%;">Set the dithering algorithm.
Accepts one of the following values. Default value is
<b>auto</b>. <b><br>
auto</b></p>

<p style="margin-left:23%;">automatic choice</p>

<p style="margin-left:17%;"><b>none</b></p>

<p style="margin-left:23%;">no dithering</p>

<p style="margin-left:17%;"><b>bayer</b></p>

<p style="margin-left:23%;">bayer dither</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>ed</b></p></td>
<td width="3%"></td>
<td width="34%">


<p>error diffusion dither</p></td>
<td width="43%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>a_dither</b></p>

<p style="margin-left:23%;">arithmetic dither, based using
addition</p>

<p style="margin-left:17%;"><b>x_dither</b></p>

<p style="margin-left:23%;">arithmetic dither, based using
xor (more random/less apparent patterning that
a_dither).</p>

<p style="margin-left:11%;"><b>alphablend</b></p>

<p style="margin-left:17%;">Set the alpha blending to use
when the input has alpha but the output does not. Default
value is <b>none</b>. <b><br>
uniform_color</b></p>

<p style="margin-left:23%;">Blend onto a uniform background
color</p>

<p style="margin-left:17%;"><b>checkerboard</b></p>

<p style="margin-left:23%;">Blend onto a checkerboard</p>

<p style="margin-left:17%;"><b>none</b></p>

<p style="margin-left:23%;">No blending</p>

<h2>FILTERING INTRODUCTION
<a name="FILTERING INTRODUCTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Filtering in
FFmpeg is enabled through the libavfilter library.</p>

<p style="margin-left:11%; margin-top: 1em">In libavfilter,
a filter can have multiple inputs and multiple outputs. To
illustrate the sorts of things that are possible, we
consider the following filtergraph.</p>

<p style="margin-left:11%; margin-top: 1em">[main] <br>
input --&gt; split ---------------------&gt; overlay --&gt;
output <br>
| ^ <br>
|[tmp] [flip]| <br>
+-----&gt; crop --&gt; vflip -------+</p>

<p style="margin-left:11%; margin-top: 1em">This
filtergraph splits the input stream in two streams, then
sends one stream through the crop filter and the vflip
filter, before merging it back with the other stream by
overlaying it on top. You can use the following command to
achieve this:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i INPUT
-vf &quot;split [main][tmp]; [tmp] crop=iw:ih/2:0:0, vflip
[flip]; [main][flip] overlay=0:H/2&quot; OUTPUT</p>

<p style="margin-left:11%; margin-top: 1em">The result will
be that the top half of the video is mirrored onto the
bottom half of the output video.</p>

<p style="margin-left:11%; margin-top: 1em">Filters in the
same linear chain are separated by commas, and distinct
linear chains of filters are separated by semicolons. In our
example, <i>crop,vflip</i> are in one linear chain,
<i>split</i> and <i>overlay</i> are separately in another.
The points where the linear chains join are labelled by
names enclosed in square brackets. In the example, the split
filter generates two outputs that are associated to the
labels <i>[main]</i> and <i>[tmp]</i>.</p>

<p style="margin-left:11%; margin-top: 1em">The stream sent
to the second output of <i>split</i>, labelled as
<i>[tmp]</i>, is processed through the <i>crop</i> filter,
which crops away the lower half part of the video, and then
vertically flipped. The <i>overlay</i> filter takes in input
the first unchanged output of the split filter (which was
labelled as <i>[main]</i>), and overlay on its lower half
the output generated by the <i>crop,vflip</i>
filterchain.</p>

<p style="margin-left:11%; margin-top: 1em">Some filters
take in input a list of parameters: they are specified after
the filter name and an equal sign, and are separated from
each other by a colon.</p>

<p style="margin-left:11%; margin-top: 1em">There exist
so-called <i>source filters</i> that do not have an
audio/video input, and <i>sink filters</i> that will not
have audio/video output.</p>

<h2>GRAPH
<a name="GRAPH"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<i>graph2dot</i> program included in the FFmpeg <i>tools</i>
directory can be used to parse a filtergraph description and
issue a corresponding textual representation in the dot
language.</p>

<p style="margin-left:11%; margin-top: 1em">Invoke the
command:</p>

<p style="margin-left:11%; margin-top: 1em">graph2dot
-h</p>

<p style="margin-left:11%; margin-top: 1em">to see how to
use <i>graph2dot</i>.</p>

<p style="margin-left:11%; margin-top: 1em">You can then
pass the dot description to the <i>dot</i> program (from the
graphviz suite of programs) and obtain a graphical
representation of the filtergraph.</p>

<p style="margin-left:11%; margin-top: 1em">For example the
sequence of commands:</p>

<p style="margin-left:11%; margin-top: 1em">echo
&lt;GRAPH_DESCRIPTION&gt; | \ <br>
tools/graph2dot -o graph.tmp &amp;&amp; \ <br>
dot -Tpng graph.tmp -o graph.png &amp;&amp; \ <br>
display graph.png</p>

<p style="margin-left:11%; margin-top: 1em">can be used to
create and display an image representing the graph described
by the <i><small>GRAPH_DESCRIPTION</small></i> string. Note
that this string must be a complete self-contained graph,
with its inputs and outputs explicitly defined. For example
if your command line is of the form:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i
infile -vf scale=640:360 outfile</p>

<p style="margin-left:11%; margin-top: 1em">your
<i><small>GRAPH_DESCRIPTION</small></i> string will need to
be of the form:</p>


<p style="margin-left:11%; margin-top: 1em">nullsrc,scale=640:360,nullsink</p>

<p style="margin-left:11%; margin-top: 1em">you may also
need to set the <i>nullsrc</i> parameters and add a
<i>format</i> filter in order to simulate a specific input
file.</p>

<h2>FILTERGRAPH DESCRIPTION
<a name="FILTERGRAPH DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">A filtergraph
is a directed graph of connected filters. It can contain
cycles, and there can be multiple links between a pair of
filters. Each link has one input pad on one side connecting
it to one filter from which it takes its input, and one
output pad on the other side connecting it to one filter
accepting its output.</p>

<p style="margin-left:11%; margin-top: 1em">Each filter in
a filtergraph is an instance of a filter class registered in
the application, which defines the features and the number
of input and output pads of the filter.</p>

<p style="margin-left:11%; margin-top: 1em">A filter with
no input pads is called a &quot;source&quot;, and a filter
with no output pads is called a &quot;sink&quot;.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Filtergraph
syntax</b> <br>
A filtergraph has a textual representation, which is
recognized by the <b>-filter</b>/<b>-vf</b>/<b>-af</b> and
<b>-filter_complex</b> options in <b>ffmpeg</b> and
<b>-vf</b>/<b>-af</b> in <b>ffplay</b>, and by the
&quot;avfilter_graph_parse_ptr()&quot; function defined in
<i>libavfilter/avfilter.h</i>.</p>

<p style="margin-left:11%; margin-top: 1em">A filterchain
consists of a sequence of connected filters, each one
connected to the previous one in the sequence. A filterchain
is represented by a list of &quot;,&quot;-separated filter
descriptions.</p>

<p style="margin-left:11%; margin-top: 1em">A filtergraph
consists of a sequence of filterchains. A sequence of
filterchains is represented by a list of
&quot;;&quot;-separated filterchain descriptions.</p>

<p style="margin-left:11%; margin-top: 1em">A filter is
represented by a string of the form:
[<i>in_link_1</i>]...[<i>in_link_N</i>]<i>filter_name</i>@<i>id</i>=<i>arguments</i>[<i>out_link_1</i>]...[<i>out_link_M</i>]</p>


<p style="margin-left:11%; margin-top: 1em"><i>filter_name</i>
is the name of the filter class of which the described
filter is an instance of, and has to be the name of one of
the filter classes registered in the program optionally
followed by &quot;@<i>id</i>&quot;. The name of the filter
class is optionally followed by a string
&quot;=<i>arguments</i>&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><i>arguments</i>
is a string which contains the parameters used to initialize
the filter instance. It may have one of two forms:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>A &rsquo;:&rsquo;-separated list of <i>key=value</i>
pairs.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>A &rsquo;:&rsquo;-separated list of <i>value</i>. In
this case, the keys are assumed to be the option names in
the order they are declared. E.g. the &quot;fade&quot;
filter declares three options in this order -- <b>type</b>,
<b>start_frame</b> and <b>nb_frames</b>. Then the parameter
list <i>in:0:30</i> means that the value <i>in</i> is
assigned to the option <b>type</b>, <i>0</i> to
<b>start_frame</b> and <i>30</i> to <b>nb_frames</b>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>A &rsquo;:&rsquo;-separated list of mixed direct
<i>value</i> and long <i>key=value</i> pairs. The direct
<i>value</i> must precede the <i>key=value</i> pairs, and
follow the same constraints order of the previous point. The
following <i>key=value</i> pairs can be set in any preferred
order.</p> </td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">If the option
value itself is a list of items (e.g. the &quot;format&quot;
filter takes a list of pixel formats), the items in the list
are usually separated by <b>|</b>.</p>

<p style="margin-left:11%; margin-top: 1em">The list of
arguments can be quoted using the character <b>&rsquo;</b>
as initial and ending mark, and the character <b>\</b> for
escaping the characters within the quoted text; otherwise
the argument string is considered terminated when the next
special character (belonging to the set <b>[]=;,</b>) is
encountered.</p>

<p style="margin-left:11%; margin-top: 1em">The name and
arguments of the filter are optionally preceded and followed
by a list of link labels. A link label allows one to name a
link and associate it to a filter output or input pad. The
preceding labels <i>in_link_1</i> ... <i>in_link_N</i>, are
associated to the filter input pads, the following labels
<i>out_link_1</i> ... <i>out_link_M</i>, are associated to
the output pads.</p>

<p style="margin-left:11%; margin-top: 1em">When two link
labels with the same name are found in the filtergraph, a
link between the corresponding input and output pad is
created.</p>

<p style="margin-left:11%; margin-top: 1em">If an output
pad is not labelled, it is linked by default to the first
unlabelled input pad of the next filter in the filterchain.
For example in the filterchain</p>

<p style="margin-left:11%; margin-top: 1em">nullsrc,
split[L1], [L2]overlay, nullsink</p>

<p style="margin-left:11%; margin-top: 1em">the split
filter instance has two output pads, and the overlay filter
instance two input pads. The first output pad of split is
labelled &quot;L1&quot;, the first input pad of overlay is
labelled &quot;L2&quot;, and the second output pad of split
is linked to the second input pad of overlay, which are both
unlabelled.</p>

<p style="margin-left:11%; margin-top: 1em">In a filter
description, if the input label of the first filter is not
specified, &quot;in&quot; is assumed; if the output label of
the last filter is not specified, &quot;out&quot; is
assumed.</p>

<p style="margin-left:11%; margin-top: 1em">In a complete
filterchain all the unlabelled filter input and output pads
must be connected. A filtergraph is considered valid if all
the filter input and output pads of all the filterchains are
connected.</p>

<p style="margin-left:11%; margin-top: 1em">Libavfilter
will automatically insert <b>scale</b> filters where format
conversion is required. It is possible to specify swscale
flags for those automatically inserted scalers by prepending
&quot;sws_flags=<i>flags</i>;&quot; to the filtergraph
description.</p>

<p style="margin-left:11%; margin-top: 1em">Here is a
<small>BNF</small> description of the filtergraph
syntax:</p>

<p style="margin-left:11%; margin-top: 1em">&lt;NAME&gt;
::= sequence of alphanumeric characters and '_' <br>
&lt;FILTER_NAME&gt; ::=
&lt;NAME&gt;[&quot;@&quot;&lt;NAME&gt;] <br>
&lt;LINKLABEL&gt; ::= &quot;[&quot; &lt;NAME&gt;
&quot;]&quot; <br>
&lt;LINKLABELS&gt; ::= &lt;LINKLABEL&gt;
[&lt;LINKLABELS&gt;] <br>
&lt;FILTER_ARGUMENTS&gt; ::= sequence of chars (possibly
quoted) <br>
&lt;FILTER&gt; ::= [&lt;LINKLABELS&gt;] &lt;FILTER_NAME&gt;
[&quot;=&quot; &lt;FILTER_ARGUMENTS&gt;]
[&lt;LINKLABELS&gt;] <br>
&lt;FILTERCHAIN&gt; ::= &lt;FILTER&gt;
[,&lt;FILTERCHAIN&gt;] <br>
&lt;FILTERGRAPH&gt; ::= [sws_flags=&lt;flags&gt;;]
&lt;FILTERCHAIN&gt; [;&lt;FILTERGRAPH&gt;]</p>

<p style="margin-left:11%; margin-top: 1em"><b>Notes on
filtergraph escaping</b> <br>
Filtergraph description composition entails several levels
of escaping. See <b>the &quot;Quoting and escaping&quot;
section in the ffmpeg-utils(1) manual</b> for more
information about the employed escaping procedure.</p>

<p style="margin-left:11%; margin-top: 1em">A first level
escaping affects the content of each filter option value,
which may contain the special character &quot;:&quot; used
to separate values, or one of the escaping characters
&quot;\'&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">A second level
escaping affects the whole filter description, which may
contain the escaping characters &quot;\'&quot; or the
special characters &quot;[],;&quot; used by the filtergraph
description.</p>

<p style="margin-left:11%; margin-top: 1em">Finally, when
you specify a filtergraph on a shell commandline, you need
to perform a third level escaping for the shell special
characters contained within it.</p>

<p style="margin-left:11%; margin-top: 1em">For example,
consider the following string to be embedded in the
<b>drawtext</b> filter description <b>text</b> value:</p>

<p style="margin-left:11%; margin-top: 1em">this is a
'string': may contain one, or more, special characters</p>

<p style="margin-left:11%; margin-top: 1em">This string
contains the &quot;'&quot; special escaping character, and
the &quot;:&quot; special character, so it needs to be
escaped in this way:</p>

<p style="margin-left:11%; margin-top: 1em">text=this is a
\'string\'\: may contain one, or more, special
characters</p>

<p style="margin-left:11%; margin-top: 1em">A second level
of escaping is required when embedding the filter
description in a filtergraph description, in order to escape
all the filtergraph special characters. Thus the example
above becomes:</p>


<p style="margin-left:11%; margin-top: 1em">drawtext=text=this
is a \\\'string\\\'\\: may contain one\, or more\, special
characters</p>

<p style="margin-left:11%; margin-top: 1em">(note that in
addition to the &quot;\'&quot; escaping special characters,
also &quot;,&quot; needs to be escaped).</p>

<p style="margin-left:11%; margin-top: 1em">Finally an
additional level of escaping is needed when writing the
filtergraph description in a shell command, which depends on
the escaping rules of the adopted shell. For example,
assuming that &quot;\&quot; is special and needs to be
escaped with another &quot;\&quot;, the previous string will
finally result in:</p>

<p style="margin-left:11%; margin-top: 1em">-vf
&quot;drawtext=text=this is a \\\\\\'string\\\\\\'\\\\: may
contain one\\, or more\\, special characters&quot;</p>

<h2>TIMELINE EDITING
<a name="TIMELINE EDITING"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Some filters
support a generic <b>enable</b> option. For the filters
supporting timeline editing, this option can be set to an
expression which is evaluated before sending a frame to the
filter. If the evaluation is non-zero, the filter will be
enabled, otherwise the frame will be sent unchanged to the
next filter in the filtergraph.</p>

<p style="margin-left:11%; margin-top: 1em">The expression
accepts the following values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p style="margin-top: 1em"><b>t</b></p></td>
<td width="2%"></td>
<td width="83%">


<p style="margin-top: 1em">timestamp expressed in seconds,
<small>NAN</small> if the input timestamp is unknown</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>n</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>sequential number of the input frame, starting from
0</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>pos</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>the position in the file of the input frame,
<small>NAN</small> if unknown</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>w</b></p></td>
<td width="2%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>h</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>width and height of the input frame if video</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Additionally,
these filters support an <b>enable</b> command that can be
used to re-define the expression.</p>

<p style="margin-left:11%; margin-top: 1em">Like any other
filtering option, the <b>enable</b> option follows the same
rules.</p>

<p style="margin-left:11%; margin-top: 1em">For example, to
enable a blur filter (<b>smartblur</b>) from 10 seconds to 3
minutes, and a <b>curves</b> filter starting at 3
seconds:</p>

<p style="margin-left:11%; margin-top: 1em">smartblur =
enable='between(t,10,3*60)', <br>
curves = enable='gte(t,3)' : preset=cross_process</p>

<p style="margin-left:11%; margin-top: 1em">See
&quot;ffmpeg -filters&quot; to view which filters have
timeline support.</p>

<h2>OPTIONS FOR FILTERS WITH SEVERAL INPUTS
<a name="OPTIONS FOR FILTERS WITH SEVERAL INPUTS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Some filters
with several inputs support a common set of options. These
options can only be set by name, not with the short
notation. <b><br>
eof_action</b></p>

<p style="margin-left:17%;">The action to take when
<small>EOF</small> is encountered on the secondary input; it
accepts one of the following values: <b><br>
repeat</b></p>

<p style="margin-left:23%;">Repeat the last frame (the
default).</p>

<p style="margin-left:17%;"><b>endall</b></p>

<p style="margin-left:23%;">End both streams.</p>

<p style="margin-left:17%;"><b>pass</b></p>

<p style="margin-left:23%;">Pass the main input
through.</p>

<p style="margin-left:11%;"><b>shortest</b></p>

<p style="margin-left:17%;">If set to 1, force the output
to terminate when the shortest input terminates. Default
value is 0.</p>

<p style="margin-left:11%;"><b>repeatlast</b></p>

<p style="margin-left:17%;">If set to 1, force the filter
to extend the last frame of secondary streams until the end
of the primary stream. A value of 0 disables this behavior.
Default value is 1.</p>

<h2>AUDIO FILTERS
<a name="AUDIO FILTERS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">When you
configure your FFmpeg build, you can disable any of the
existing filters using &quot;--disable-filters&quot;. The
configure output will show the audio filters included in
your build.</p>

<p style="margin-left:11%; margin-top: 1em">Below is a
description of the currently available audio filters.</p>


<p style="margin-left:11%; margin-top: 1em"><b>acompressor</b>
<br>
A compressor is mainly used to reduce the dynamic range of a
signal. Especially modern music is mostly compressed at a
high ratio to improve the overall loudness. It&rsquo;s done
to get the highest attention of a listener,
&quot;fatten&quot; the sound and bring more
&quot;power&quot; to the track. If a signal is compressed
too much it may sound dull or &quot;dead&quot; afterwards or
it may start to &quot;pump&quot; (which could be a powerful
effect but can also destroy a track completely). The right
compression is the key to reach a professional sound and is
the high art of mixing and mastering. Because of its complex
settings it may take a long time to get the right feeling
for this kind of effect.</p>

<p style="margin-left:11%; margin-top: 1em">Compression is
done by detecting the volume above a chosen level
&quot;threshold&quot; and dividing it by the factor set with
&quot;ratio&quot;. So if you set the threshold to -12dB and
your signal reaches -6dB a ratio of 2:1 will result in a
signal at -9dB. Because an exact manipulation of the signal
would cause distortion of the waveform the reduction can be
levelled over the time. This is done by setting
&quot;Attack&quot; and &quot;Release&quot;.
&quot;attack&quot; determines how long the signal has to
rise above the threshold before any reduction will occur and
&quot;release&quot; sets the time the signal has to fall
below the threshold to reduce the reduction again. Shorter
signals than the chosen attack time will be left untouched.
The overall reduction of the signal can be made up
afterwards with the &quot;makeup&quot; setting. So
compressing the peaks of a signal about 6dB and raising the
makeup to this level results in a signal twice as loud than
the source. To gain a softer entry in the compression the
&quot;knee&quot; flattens the hard edge at the threshold in
the range of the chosen decibels.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
level_in</b></p>

<p style="margin-left:17%;">Set input gain. Default is 1.
Range is between 0.015625 and 64.</p>

<p style="margin-left:11%;"><b>mode</b></p>

<p style="margin-left:17%;">Set mode of compressor
operation. Can be &quot;upward&quot; or
&quot;downward&quot;. Default is &quot;downward&quot;.</p>

<p style="margin-left:11%;"><b>threshold</b></p>

<p style="margin-left:17%;">If a signal of stream rises
above this level it will affect the gain reduction. By
default it is 0.125. Range is between 0.00097563 and 1.</p>

<p style="margin-left:11%;"><b>ratio</b></p>

<p style="margin-left:17%;">Set a ratio by which the signal
is reduced. 1:2 means that if the level rose 4dB above the
threshold, it will be only 2dB above after the reduction.
Default is 2. Range is between 1 and 20.</p>

<p style="margin-left:11%;"><b>attack</b></p>

<p style="margin-left:17%;">Amount of milliseconds the
signal has to rise above the threshold before gain reduction
starts. Default is 20. Range is between 0.01 and 2000.</p>

<p style="margin-left:11%;"><b>release</b></p>

<p style="margin-left:17%;">Amount of milliseconds the
signal has to fall below the threshold before reduction is
decreased again. Default is 250. Range is between 0.01 and
9000.</p>

<p style="margin-left:11%;"><b>makeup</b></p>

<p style="margin-left:17%;">Set the amount by how much
signal will be amplified after processing. Default is 1.
Range is from 1 to 64.</p>

<p style="margin-left:11%;"><b>knee</b></p>

<p style="margin-left:17%;">Curve the sharp knee around the
threshold to enter gain reduction more softly. Default is
2.82843. Range is between 1 and 8.</p>

<p style="margin-left:11%;"><b>link</b></p>

<p style="margin-left:17%;">Choose if the
&quot;average&quot; level between all channels of input
stream or the louder(&quot;maximum&quot;) channel of input
stream affects the reduction. Default is
&quot;average&quot;.</p>

<p style="margin-left:11%;"><b>detection</b></p>

<p style="margin-left:17%;">Should the exact signal be
taken in case of &quot;peak&quot; or an <small>RMS</small>
one in case of &quot;rms&quot;. Default is &quot;rms&quot;
which is mostly smoother.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>mix</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>How much to use compressed signal in output. Default is
1. Range is between 0 and 1.</p></td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><b>acontrast</b>
<br>
Simple audio dynamic range compression/expansion filter.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
contrast</b></p>

<p style="margin-left:17%;">Set contrast. Default is 33.
Allowed range is between 0 and 100.</p>

<p style="margin-left:11%; margin-top: 1em"><b>acopy</b>
<br>
Copy the input audio source unchanged to the output. This is
mainly useful for testing purposes.</p>


<p style="margin-left:11%; margin-top: 1em"><b>acrossfade</b>
<br>
Apply cross fade from one input audio stream to another
input audio stream. The cross fade is applied for specified
duration near the end of first stream.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
nb_samples, ns</b></p>

<p style="margin-left:17%;">Specify the number of samples
for which the cross fade effect has to last. At the end of
the cross fade effect the first input audio will be
completely silent. Default is 44100.</p>

<p style="margin-left:11%;"><b>duration, d</b></p>

<p style="margin-left:17%;">Specify the duration of the
cross fade effect. See <b>the Time duration section in the
ffmpeg-utils(1) manual</b> for the accepted syntax. By
default the duration is determined by <i>nb_samples</i>. If
set this option is used instead of <i>nb_samples</i>.</p>

<p style="margin-left:11%;"><b>overlap, o</b></p>

<p style="margin-left:17%;">Should first stream end overlap
with second stream start. Default is enabled.</p>

<p style="margin-left:11%;"><b>curve1</b></p>

<p style="margin-left:17%;">Set curve for cross fade
transition for first stream.</p>

<p style="margin-left:11%;"><b>curve2</b></p>

<p style="margin-left:17%;">Set curve for cross fade
transition for second stream.</p>

<p style="margin-left:17%; margin-top: 1em">For description
of available curve types see <b>afade</b> filter
description.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="57%">


<p>Cross fade from one input to another:</p></td>
<td width="26%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
first.flac -i second.flac -filter_complex
acrossfade=d=10:c1=exp:c2=exp output.flac</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Cross fade from one input to
another but without overlapping:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
first.flac -i second.flac -filter_complex
acrossfade=d=10:o=0:c1=exp:c2=exp output.flac</p>


<p style="margin-left:11%; margin-top: 1em"><b>acrossover</b>
<br>
Split audio stream into several bands.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
splits audio stream into two or more frequency ranges.
Summing all streams back will give flat output.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
split</b></p>

<p style="margin-left:17%;">Set split frequencies. Those
must be positive and increasing.</p>

<p style="margin-left:11%;"><b>order</b></p>

<p style="margin-left:17%;">Set filter order, can be
<i>2nd</i>, <i>4th</i> or <i>8th</i>. Default is
<i>4th</i>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>acrusher</b>
<br>
Reduce audio bit resolution.</p>

<p style="margin-left:11%; margin-top: 1em">This filter is
bit crusher with enhanced functionality. A bit crusher is
used to audibly reduce number of bits an audio signal is
sampled with. This doesn&rsquo;t change the bit depth at
all, it just produces the effect. Material reduced in bit
depth sounds more harsh and &quot;digital&quot;. This filter
is able to even round to continuous values instead of
discrete bit depths. Additionally it has a D/C offset which
results in different crushing of the lower and the upper
half of the signal. An Anti-Aliasing setting is able to
produce &quot;softer&quot; crushing sounds.</p>

<p style="margin-left:11%; margin-top: 1em">Another feature
of this filter is the logarithmic mode. This setting
switches from linear distances between bits to logarithmic
ones. The result is a much more &quot;natural&quot; sounding
crusher which doesn&rsquo;t gate low signals for example.
The human ear has a logarithmic perception, so this kind of
crushing is much more pleasant. Logarithmic crushing is also
able to get anti-aliased.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
level_in</b></p>

<p style="margin-left:17%;">Set level in.</p>

<p style="margin-left:11%;"><b>level_out</b></p>

<p style="margin-left:17%;">Set level out.</p>

<p style="margin-left:11%;"><b>bits</b></p>

<p style="margin-left:17%;">Set bit reduction.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>mix</b></p></td>
<td width="2%"></td>
<td width="28%">


<p>Set mixing amount.</p></td>
<td width="55%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>mode</b></p>

<p style="margin-left:17%;">Can be linear: &quot;lin&quot;
or logarithmic: &quot;log&quot;.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>dc</b></p></td>
<td width="3%"></td>
<td width="28%">


<p>Set <small>DC.</small></p></td>
<td width="55%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>aa</b></p></td>
<td width="3%"></td>
<td width="28%">


<p>Set anti-aliasing.</p></td>
<td width="55%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>samples</b></p>

<p style="margin-left:17%;">Set sample reduction.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>lfo</b></p></td>
<td width="2%"></td>
<td width="49%">


<p>Enable <small>LFO.</small> By default disabled.</p></td>
<td width="34%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>lforange</b></p>

<p style="margin-left:17%;">Set <small>LFO</small>
range.</p>

<p style="margin-left:11%;"><b>lforate</b></p>

<p style="margin-left:17%;">Set <small>LFO</small>
rate.</p>

<p style="margin-left:11%; margin-top: 1em"><b>acue</b>
<br>
Delay audio filtering until a given wallclock timestamp. See
the <b>cue</b> filter.</p>


<p style="margin-left:11%; margin-top: 1em"><b>adeclick</b>
<br>
Remove impulsive noise from input audio.</p>

<p style="margin-left:11%; margin-top: 1em">Samples
detected as impulsive noise are replaced by interpolated
samples using autoregressive modelling.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>w</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set window size, in milliseconds. Allowed range is from
10 to 100. Default value is 55 milliseconds. This sets size
of window which will be processed at once.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>o</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set window overlap, in percentage of window size.
Allowed range is from 50 to 95. Default value is 75 percent.
Setting this to a very high value increases impulsive noise
removal but makes whole process much slower.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>a</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set autoregression order, in percentage of window size.
Allowed range is from 0 to 25. Default value is 2 percent.
This option also controls quality of interpolated samples
using neighbour good samples.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>t</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set threshold value. Allowed range is from 1 to 100.
Default value is 2. This controls the strength of impulsive
noise which is going to be removed. The lower value, the
more samples will be detected as impulsive noise.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>b</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set burst fusion, in percentage of window size. Allowed
range is 0 to 10. Default value is 2. If any two samples
detected as noise are spaced less than this value then any
sample between those two samples will be also detected as
noise.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>m</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set overlap method.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p style="margin-top: 1em"><b>a</b></p></td>
<td width="5%"></td>
<td width="77%">


<p style="margin-top: 1em">Select overlap-add method. Even
not interpolated samples are slightly changed with this
method.</p> </td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>s</b></p></td>
<td width="5%"></td>
<td width="77%">


<p>Select overlap-save method. Not interpolated samples
remain unchanged.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Default value
is &quot;a&quot;.</p>

<p style="margin-left:11%; margin-top: 1em"><b>adeclip</b>
<br>
Remove clipped samples from input audio.</p>

<p style="margin-left:11%; margin-top: 1em">Samples
detected as clipped are replaced by interpolated samples
using autoregressive modelling.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em"><b>w</b></p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Set window size, in
milliseconds. Allowed range is from 10 to 100. Default value
is 55 milliseconds. This sets size of window which will be
processed at once.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>o</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set window overlap, in percentage of window size.
Allowed range is from 50 to 95. Default value is 75
percent.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>a</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set autoregression order, in percentage of window size.
Allowed range is from 0 to 25. Default value is 8 percent.
This option also controls quality of interpolated samples
using neighbour good samples.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>t</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set threshold value. Allowed range is from 1 to 100.
Default value is 10. Higher values make clip detection less
aggressive.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>n</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set size of histogram used to detect clips. Allowed
range is from 100 to 9999. Default value is 1000. Higher
values make clip detection less aggressive.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>m</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set overlap method.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p style="margin-top: 1em"><b>a</b></p></td>
<td width="5%"></td>
<td width="77%">


<p style="margin-top: 1em">Select overlap-add method. Even
not interpolated samples are slightly changed with this
method.</p> </td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>s</b></p></td>
<td width="5%"></td>
<td width="77%">


<p>Select overlap-save method. Not interpolated samples
remain unchanged.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Default value
is &quot;a&quot;.</p>

<p style="margin-left:11%; margin-top: 1em"><b>adelay</b>
<br>
Delay one or more audio channels.</p>

<p style="margin-left:11%; margin-top: 1em">Samples in
delayed channel are filled with silence.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following option: <b><br>
delays</b></p>

<p style="margin-left:17%;">Set list of delays in
milliseconds for each channel separated by &rsquo;|&rsquo;.
Unused delays will be silently ignored. If number of given
delays is smaller than number of channels all remaining
channels will not be delayed. If you want to delay exact
number of samples, append &rsquo;S&rsquo; to number. If you
want instead to delay in seconds, append &rsquo;s&rsquo; to
number.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Delay first channel by 1.5 seconds, the third channel by
0.5 seconds and leave the second channel (and any other
channels that may be present) unchanged.</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">adelay=1500|0|500</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Delay second channel by 500
samples, the third channel by 700 samples and leave the
first channel (and any other channels that may be present)
unchanged.</p> </td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">adelay=0|500S|700S</p>


<p style="margin-left:11%; margin-top: 1em"><b>aderivative,
aintegral</b> <br>
Compute derivative/integral of audio stream.</p>

<p style="margin-left:11%; margin-top: 1em">Applying both
filters one after another produces original audio.</p>

<p style="margin-left:11%; margin-top: 1em"><b>aecho</b>
<br>
Apply echoing to the input audio.</p>

<p style="margin-left:11%; margin-top: 1em">Echoes are
reflected sound and can occur naturally amongst mountains
(and sometimes large buildings) when talking or shouting;
digital echo effects emulate this behaviour and are often
used to help fill out the sound of a single instrument or
vocal. The time difference between the original signal and
the reflection is the &quot;delay&quot;, and the loudness of
the reflected signal is the &quot;decay&quot;. Multiple
echoes can have different delays and decays.</p>

<p style="margin-left:11%; margin-top: 1em">A description
of the accepted parameters follows. <b><br>
in_gain</b></p>

<p style="margin-left:17%;">Set input gain of reflected
signal. Default is 0.6.</p>

<p style="margin-left:11%;"><b>out_gain</b></p>

<p style="margin-left:17%;">Set output gain of reflected
signal. Default is 0.3.</p>

<p style="margin-left:11%;"><b>delays</b></p>

<p style="margin-left:17%;">Set list of time intervals in
milliseconds between original signal and reflections
separated by &rsquo;|&rsquo;. Allowed range for each
&quot;delay&quot; is &quot;(0 - 90000.0]&quot;. Default is
1000.</p>

<p style="margin-left:11%;"><b>decays</b></p>

<p style="margin-left:17%;">Set list of loudness of
reflected signals separated by &rsquo;|&rsquo;. Allowed
range for each &quot;decay&quot; is &quot;(0 - 1.0]&quot;.
Default is 0.5.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Make it sound as if there are twice as many instruments
as are actually playing:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">aecho=0.8:0.88:60:0.4</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">If delay is very short, then it
sound like a (metallic) robot playing music:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">aecho=0.8:0.88:6:0.4</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">A longer delay will sound like
an open air concert in the mountains:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">aecho=0.8:0.9:1000:0.3</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="63%">


<p style="margin-top: 1em">Same as above but with one more
mountain:</p> </td>
<td width="20%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">aecho=0.8:0.9:1000|1800:0.3|0.25</p>


<p style="margin-left:11%; margin-top: 1em"><b>aemphasis</b>
<br>
Audio emphasis filter creates or restores material directly
taken from LPs or emphased CDs with different filter curves.
E.g. to store music on vinyl the signal has to be altered by
a filter first to even out the disadvantages of this
recording medium. Once the material is played back the
inverse filter has to be applied to restore the distortion
of the frequency response.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
level_in</b></p>

<p style="margin-left:17%;">Set input gain.</p>

<p style="margin-left:11%;"><b>level_out</b></p>

<p style="margin-left:17%;">Set output gain.</p>

<p style="margin-left:11%;"><b>mode</b></p>

<p style="margin-left:17%;">Set filter mode. For restoring
material use &quot;reproduction&quot; mode, otherwise use
&quot;production&quot; mode. Default is
&quot;reproduction&quot; mode.</p>

<p style="margin-left:11%;"><b>type</b></p>

<p style="margin-left:17%;">Set filter type. Selects
medium. Can be one of the following:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>col</b></p></td>
<td width="1%"></td>
<td width="29%">


<p>select Columbia.</p></td>
<td width="48%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>emi</b></p></td>
<td width="1%"></td>
<td width="29%">


<p>select <small>EMI.</small></p></td>
<td width="48%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>bsi</b></p></td>
<td width="1%"></td>
<td width="29%">


<p>select <small>BSI</small> (78RPM).</p></td>
<td width="48%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>riaa</b></p>

<p style="margin-left:23%;">select <small>RIAA.</small></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>cd</b></p></td>
<td width="3%"></td>
<td width="39%">


<p>select Compact Disc ( <small>CD</small> ).</p></td>
<td width="38%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>50fm</b></p>

<p style="margin-left:23%;">select 50Xs ( <small>FM</small>
).</p>

<p style="margin-left:17%;"><b>75fm</b></p>

<p style="margin-left:23%;">select 75Xs ( <small>FM</small>
).</p>

<p style="margin-left:17%;"><b>50kf</b></p>

<p style="margin-left:23%;">select 50Xs (FM-KF).</p>

<p style="margin-left:17%;"><b>75kf</b></p>

<p style="margin-left:23%;">select 75Xs (FM-KF).</p>

<p style="margin-left:11%; margin-top: 1em"><b>aeval</b>
<br>
Modify an audio signal according to the specified
expressions.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
accepts one or more expressions (one for each channel),
which are evaluated and used to modify a corresponding audio
signal.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters: <b><br>
exprs</b></p>

<p style="margin-left:17%;">Set the
&rsquo;|&rsquo;-separated expressions list for each separate
channel. If the number of input channels is greater than the
number of expressions, the last specified expression is used
for the remaining output channels.</p>

<p style="margin-left:11%;"><b>channel_layout, c</b></p>

<p style="margin-left:17%;">Set output channel layout. If
not specified, the channel layout is specified by the number
of expressions. If set to <b>same</b>, it will use by
default the same input channel layout.</p>

<p style="margin-left:11%; margin-top: 1em">Each expression
in <i>exprs</i> can contain the following constants and
functions:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>ch</b></p></td>
<td width="3%"></td>
<td width="75%">


<p>channel number of the current expression</p></td>
<td width="8%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>n</b></p></td>
<td width="3%"></td>
<td width="75%">


<p>number of the evaluated sample, starting from 0</p></td>
<td width="8%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>s</b></p></td>
<td width="3%"></td>
<td width="75%">


<p>sample rate</p></td>
<td width="8%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>t</b></p></td>
<td width="3%"></td>
<td width="75%">


<p>time of the evaluated sample expressed in seconds</p></td>
<td width="8%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>nb_in_channels <br>
nb_out_channels</b></p>

<p style="margin-left:17%;">input and output number of
channels</p>

<p style="margin-left:11%;"><b>val( <small>CH</small>
)</b></p>

<p style="margin-left:17%;">the value of input channel with
number <i><small>CH</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Note: this
filter is slow. For faster processing you should use a
dedicated filter.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="18%">


<p>Half volume:</p></td>
<td width="65%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">aeval=val(ch)/2:c=same</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="54%">


<p style="margin-top: 1em">Invert phase of the second
channel:</p> </td>
<td width="29%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">aeval=val(0)|-val(1)</p>

<p style="margin-left:11%; margin-top: 1em"><b>afade</b>
<br>
Apply fade-in/out effect to input audio.</p>

<p style="margin-left:11%; margin-top: 1em">A description
of the accepted parameters follows. <b><br>
type, t</b></p>

<p style="margin-left:17%;">Specify the effect type, can be
either &quot;in&quot; for fade-in, or &quot;out&quot; for a
fade-out effect. Default is &quot;in&quot;.</p>

<p style="margin-left:11%;"><b>start_sample, ss</b></p>

<p style="margin-left:17%;">Specify the number of the start
sample for starting to apply the fade effect. Default is
0.</p>

<p style="margin-left:11%;"><b>nb_samples, ns</b></p>

<p style="margin-left:17%;">Specify the number of samples
for which the fade effect has to last. At the end of the
fade-in effect the output audio will have the same volume as
the input audio, at the end of the fade-out transition the
output audio will be silence. Default is 44100.</p>

<p style="margin-left:11%;"><b>start_time, st</b></p>

<p style="margin-left:17%;">Specify the start time of the
fade effect. Default is 0. The value must be specified as a
time duration; see <b>the Time duration section in the
ffmpeg-utils(1) manual</b> for the accepted syntax. If set
this option is used instead of <i>start_sample</i>.</p>

<p style="margin-left:11%;"><b>duration, d</b></p>

<p style="margin-left:17%;">Specify the duration of the
fade effect. See <b>the Time duration section in the
ffmpeg-utils(1) manual</b> for the accepted syntax. At the
end of the fade-in effect the output audio will have the
same volume as the input audio, at the end of the fade-out
transition the output audio will be silence. By default the
duration is determined by <i>nb_samples</i>. If set this
option is used instead of <i>nb_samples</i>.</p>

<p style="margin-left:11%;"><b>curve</b></p>

<p style="margin-left:17%;">Set curve for fade
transition.</p>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>tri</b></p></td>
<td width="1%"></td>
<td width="63%">


<p>select triangular, linear slope (default)</p></td>
<td width="14%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>qsin</b></p>

<p style="margin-left:23%;">select quarter of sine wave</p>

<p style="margin-left:17%;"><b>hsin</b></p>

<p style="margin-left:23%;">select half of sine wave</p>

<p style="margin-left:17%;"><b>esin</b></p>

<p style="margin-left:23%;">select exponential sine
wave</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>log</b></p></td>
<td width="1%"></td>
<td width="28%">


<p>select logarithmic</p></td>
<td width="49%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>ipar</b></p>

<p style="margin-left:23%;">select inverted parabola</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>qua</b></p></td>
<td width="1%"></td>
<td width="28%">


<p>select quadratic</p></td>
<td width="49%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>cub</b></p></td>
<td width="1%"></td>
<td width="28%">


<p>select cubic</p></td>
<td width="49%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>squ</b></p></td>
<td width="1%"></td>
<td width="28%">


<p>select square root</p></td>
<td width="49%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>cbr</b></p></td>
<td width="1%"></td>
<td width="28%">


<p>select cubic root</p></td>
<td width="49%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>par</b></p></td>
<td width="1%"></td>
<td width="28%">


<p>select parabola</p></td>
<td width="49%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>exp</b></p></td>
<td width="1%"></td>
<td width="28%">


<p>select exponential</p></td>
<td width="49%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>iqsin</b></p>

<p style="margin-left:23%;">select inverted quarter of sine
wave</p>

<p style="margin-left:17%;"><b>ihsin</b></p>

<p style="margin-left:23%;">select inverted half of sine
wave</p>

<p style="margin-left:17%;"><b>dese</b></p>

<p style="margin-left:23%;">select double-exponential
seat</p>

<p style="margin-left:17%;"><b>desi</b></p>

<p style="margin-left:23%;">select double-exponential
sigmoid</p>

<p style="margin-left:17%;"><b>losi</b></p>

<p style="margin-left:23%;">select logistic sigmoid</p>

<p style="margin-left:17%;"><b>nofade</b></p>

<p style="margin-left:23%;">no fade applied</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="52%">


<p>Fade in first 15 seconds of audio:</p></td>
<td width="31%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">afade=t=in:ss=0:d=15</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="74%">


<p style="margin-top: 1em">Fade out last 25 seconds of a
900 seconds audio:</p></td>
<td width="9%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">afade=t=out:st=875:d=25</p>

<p style="margin-left:11%; margin-top: 1em"><b>afftdn</b>
<br>
Denoise audio samples with <small>FFT.</small></p>

<p style="margin-left:11%; margin-top: 1em">A description
of the accepted parameters follows.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>nr</b></p></td>
<td width="3%"></td>
<td width="83%">


<p style="margin-top: 1em">Set the noise reduction in dB,
allowed range is 0.01 to 97. Default value is 12 dB.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>nf</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Set the noise floor in dB, allowed range is -80 to -20.
Default value is -50 dB.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>nt</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Set the noise type.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p style="margin-top: 1em"><b>w</b></p></td>
<td width="5%"></td>
<td width="68%">


<p style="margin-top: 1em">Select white noise.</p></td>
<td width="9%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>v</b></p></td>
<td width="5%"></td>
<td width="68%">


<p>Select vinyl noise.</p></td>
<td width="9%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>s</b></p></td>
<td width="5%"></td>
<td width="68%">


<p>Select shellac noise.</p></td>
<td width="9%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>c</b></p></td>
<td width="5%"></td>
<td width="68%">


<p>Select custom noise, defined in &quot;bn&quot;
option.</p> </td>
<td width="9%">
</td></tr>
</table>

<p style="margin-left:23%; margin-top: 1em">Default value
is white noise.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>bn</b></p></td>
<td width="3%"></td>
<td width="83%">


<p style="margin-top: 1em">Set custom band noise for every
one of 15 bands. Bands are separated by &rsquo; &rsquo; or
&rsquo;|&rsquo;.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>rf</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Set the residual floor in dB, allowed range is -80 to
-20. Default value is -38 dB.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>tn</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Enable noise tracking. By default is disabled. With this
enabled, noise floor is automatically adjusted.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>tr</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Enable residual tracking. By default is disabled.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>om</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Set the output mode.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p style="margin-top: 1em"><b>i</b></p></td>
<td width="5%"></td>
<td width="37%">


<p style="margin-top: 1em">Pass input unchanged.</p></td>
<td width="40%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>o</b></p></td>
<td width="5%"></td>
<td width="37%">


<p>Pass noise filtered out.</p></td>
<td width="40%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>n</b></p></td>
<td width="5%"></td>
<td width="37%">


<p>Pass only noise.</p></td>
<td width="40%">
</td></tr>
</table>

<p style="margin-left:23%; margin-top: 1em">Default value
is <i>o</i>.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Commands</i></p>

<p style="margin-left:11%; margin-top: 1em">This filter
supports the following commands: <b><br>
sample_noise, sn</b></p>

<p style="margin-left:17%;">Start or stop measuring noise
profile. Syntax for the command is : &quot;start&quot; or
&quot;stop&quot; string. After measuring noise profile is
stopped it will be automatically applied in filtering.</p>

<p style="margin-left:11%;"><b>noise_reduction, nr</b></p>

<p style="margin-left:17%;">Change noise reduction.
Argument is single float number. Syntax for the command is :
&quot;<i>noise_reduction</i>&quot;</p>

<p style="margin-left:11%;"><b>noise_floor, nf</b></p>

<p style="margin-left:17%;">Change noise floor. Argument is
single float number. Syntax for the command is :
&quot;<i>noise_floor</i>&quot;</p>

<p style="margin-left:11%;"><b>output_mode, om</b></p>

<p style="margin-left:17%;">Change output mode operation.
Syntax for the command is : &quot;i&quot;, &quot;o&quot; or
&quot;n&quot; string.</p>


<p style="margin-left:11%; margin-top: 1em"><b>afftfilt</b>
<br>
Apply arbitrary expressions to samples in frequency domain.
<b><br>
real</b></p>

<p style="margin-left:17%;">Set frequency domain real
expression for each separate channel separated by
&rsquo;|&rsquo;. Default is &quot;re&quot;. If the number of
input channels is greater than the number of expressions,
the last specified expression is used for the remaining
output channels.</p>

<p style="margin-left:11%;"><b>imag</b></p>

<p style="margin-left:17%;">Set frequency domain imaginary
expression for each separate channel separated by
&rsquo;|&rsquo;. Default is &quot;im&quot;.</p>

<p style="margin-left:17%; margin-top: 1em">Each expression
in <i>real</i> and <i>imag</i> can contain the following
constants and functions:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>sr</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>sample rate</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>b</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>current frequency bin number</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>nb</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>number of available bins</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>ch</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>channel number of the current expression</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>chs</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>number of channels</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>pts</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>current frame pts</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>re</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>current real part of frequency bin of current
channel</p> </td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>im</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>current imaginary part of frequency bin of current
channel</p> </td></tr>
</table>

<p style="margin-left:17%;"><b>real(b, ch)</b></p>

<p style="margin-left:23%;">Return the value of real part
of frequency bin at location (<i>bin</i>,<i>channel</i>)</p>

<p style="margin-left:17%;"><b>imag(b, ch)</b></p>

<p style="margin-left:23%;">Return the value of imaginary
part of frequency bin at location
(<i>bin</i>,<i>channel</i>)</p>

<p style="margin-left:11%;"><b>win_size</b></p>

<p style="margin-left:17%;">Set window size. Allowed range
is from 16 to 131072. Default is 4096</p>

<p style="margin-left:11%;"><b>win_func</b></p>

<p style="margin-left:17%;">Set window function. Default is
&quot;hann&quot;.</p>

<p style="margin-left:11%;"><b>overlap</b></p>

<p style="margin-left:17%;">Set window overlap. If set to
1, the recommended overlap for selected window function will
be picked. Default is 0.75.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="66%">


<p>Leave almost only low frequencies in audio:</p></td>
<td width="17%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">afftfilt=&quot;'real=re
* (1-clip((b/nb)*b,0,1))':imag='im *
(1-clip((b/nb)*b,0,1))'&quot;</p>

<p style="margin-left:11%; margin-top: 1em"><b>afir</b>
<br>
Apply an arbitrary Frequency Impulse Response filter.</p>

<p style="margin-left:11%; margin-top: 1em">This filter is
designed for applying long <small>FIR</small> filters, up to
60 seconds long.</p>

<p style="margin-left:11%; margin-top: 1em">It can be used
as component for digital crossover filters, room
equalization, cross talk cancellation, wavefield synthesis,
auralization, ambiophonics, ambisonics and
spatialization.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
uses second stream as <small>FIR</small> coefficients. If
second stream holds single channel, it will be used for all
input channels in first stream, otherwise number of channels
in second stream must be same as number of channels in first
stream.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p style="margin-top: 1em"><b>dry</b></p></td>
<td width="2%"></td>
<td width="65%">


<p style="margin-top: 1em">Set dry gain. This sets input
gain.</p> </td>
<td width="18%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>wet</b></p></td>
<td width="2%"></td>
<td width="65%">


<p>Set wet gain. This sets final output gain.</p></td>
<td width="18%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>length</b></p>

<p style="margin-left:17%;">Set Impulse Response filter
length. Default is 1, which means whole <small>IR</small> is
processed.</p>

<p style="margin-left:11%;"><b>gtype</b></p>

<p style="margin-left:17%;">Enable applying gain measured
from power of <small>IR.</small></p>

<p style="margin-left:17%; margin-top: 1em">Set which
approach to use for auto gain measurement. <b><br>
none</b></p>

<p style="margin-left:23%;">Do not apply any gain.</p>

<p style="margin-left:17%;"><b>peak</b></p>

<p style="margin-left:23%;">select peak gain, very
conservative approach. This is default value.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>dc</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>select <small>DC</small> gain, limited application.</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>gn</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>select gain to noise approach, this is most popular
one.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>irgain</b></p>

<p style="margin-left:17%;">Set gain to be applied to
<small>IR</small> coefficients before filtering. Allowed
range is 0 to 1. This gain is applied after any gain applied
with <i>gtype</i> option.</p>

<p style="margin-left:11%;"><b>irfmt</b></p>

<p style="margin-left:17%;">Set format of <small>IR</small>
stream. Can be &quot;mono&quot; or &quot;input&quot;.
Default is &quot;input&quot;.</p>

<p style="margin-left:11%;"><b>maxir</b></p>

<p style="margin-left:17%;">Set max allowed Impulse
Response filter duration in seconds. Default is 30 seconds.
Allowed range is 0.1 to 60 seconds.</p>

<p style="margin-left:11%;"><b>response</b></p>

<p style="margin-left:17%;">Show <small>IR</small>
frequency response, magnitude(magenta), phase(green) and
group delay(yellow) in additional video stream. By default
it is disabled.</p>

<p style="margin-left:11%;"><b>channel</b></p>

<p style="margin-left:17%;">Set for which <small>IR</small>
channel to display frequency response. By default is first
channel displayed. This option is used only when
<i>response</i> is enabled.</p>

<p style="margin-left:11%;"><b>size</b></p>

<p style="margin-left:17%;">Set video stream size. This
option is used only when <i>response</i> is enabled.</p>

<p style="margin-left:11%;"><b>rate</b></p>

<p style="margin-left:17%;">Set video stream frame rate.
This option is used only when <i>response</i> is
enabled.</p>

<p style="margin-left:11%;"><b>minp</b></p>

<p style="margin-left:17%;">Set minimal partition size used
for convolution. Default is <i>8192</i>. Allowed range is
from <i>8</i> to <i>32768</i>. Lower values decreases
latency at cost of higher <small>CPU</small> usage.</p>

<p style="margin-left:11%;"><b>maxp</b></p>

<p style="margin-left:17%;">Set maximal partition size used
for convolution. Default is <i>8192</i>. Allowed range is
from <i>8</i> to <i>32768</i>. Lower values may increase
<small>CPU</small> usage.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Apply reverb to stream using mono <small>IR</small> file
as second input, complete command using ffmpeg:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
input.wav -i middle_tunnel_1way_mono.wav -lavfi afir
output.wav</p>

<p style="margin-left:11%; margin-top: 1em"><b>aformat</b>
<br>
Set output format constraints for the input audio. The
framework will negotiate the most appropriate format to
minimize conversions.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters: <b><br>
sample_fmts</b></p>

<p style="margin-left:17%;">A &rsquo;|&rsquo;-separated
list of requested sample formats.</p>

<p style="margin-left:11%;"><b>sample_rates</b></p>

<p style="margin-left:17%;">A &rsquo;|&rsquo;-separated
list of requested sample rates.</p>

<p style="margin-left:11%;"><b>channel_layouts</b></p>

<p style="margin-left:17%;">A &rsquo;|&rsquo;-separated
list of requested channel layouts.</p>

<p style="margin-left:17%; margin-top: 1em">See <b>the
Channel Layout section in the ffmpeg-utils(1) manual</b> for
the required syntax.</p>

<p style="margin-left:11%; margin-top: 1em">If a parameter
is omitted, all values are allowed.</p>

<p style="margin-left:11%; margin-top: 1em">Force the
output to either unsigned 8-bit or signed 16-bit stereo</p>


<p style="margin-left:11%; margin-top: 1em">aformat=sample_fmts=u8|s16:channel_layouts=stereo</p>

<p style="margin-left:11%; margin-top: 1em"><b>agate</b>
<br>
A gate is mainly used to reduce lower parts of a signal.
This kind of signal processing reduces disturbing noise
between useful signals.</p>

<p style="margin-left:11%; margin-top: 1em">Gating is done
by detecting the volume below a chosen level
<i>threshold</i> and dividing it by the factor set with
<i>ratio</i>. The bottom of the noise floor is set via
<i>range</i>. Because an exact manipulation of the signal
would cause distortion of the waveform the reduction can be
levelled over time. This is done by setting <i>attack</i>
and <i>release</i>.</p>

<p style="margin-left:11%; margin-top: 1em"><i>attack</i>
determines how long the signal has to fall below the
threshold before any reduction will occur and <i>release</i>
sets the time the signal has to rise above the threshold to
reduce the reduction again. Shorter signals than the chosen
attack time will be left untouched. <b><br>
level_in</b></p>

<p style="margin-left:17%;">Set input level before
filtering. Default is 1. Allowed range is from 0.015625 to
64.</p>

<p style="margin-left:11%;"><b>mode</b></p>

<p style="margin-left:17%;">Set the mode of operation. Can
be &quot;upward&quot; or &quot;downward&quot;. Default is
&quot;downward&quot;. If set to &quot;upward&quot; mode,
higher parts of signal will be amplified, expanding dynamic
range in upward direction. Otherwise, in case of
&quot;downward&quot; lower parts of signal will be
reduced.</p>

<p style="margin-left:11%;"><b>range</b></p>

<p style="margin-left:17%;">Set the level of gain reduction
when the signal is below the threshold. Default is 0.06125.
Allowed range is from 0 to 1. Setting this to 0 disables
reduction and then filter behaves like expander.</p>

<p style="margin-left:11%;"><b>threshold</b></p>

<p style="margin-left:17%;">If a signal rises above this
level the gain reduction is released. Default is 0.125.
Allowed range is from 0 to 1.</p>

<p style="margin-left:11%;"><b>ratio</b></p>

<p style="margin-left:17%;">Set a ratio by which the signal
is reduced. Default is 2. Allowed range is from 1 to
9000.</p>

<p style="margin-left:11%;"><b>attack</b></p>

<p style="margin-left:17%;">Amount of milliseconds the
signal has to rise above the threshold before gain reduction
stops. Default is 20 milliseconds. Allowed range is from
0.01 to 9000.</p>

<p style="margin-left:11%;"><b>release</b></p>

<p style="margin-left:17%;">Amount of milliseconds the
signal has to fall below the threshold before the reduction
is increased again. Default is 250 milliseconds. Allowed
range is from 0.01 to 9000.</p>

<p style="margin-left:11%;"><b>makeup</b></p>

<p style="margin-left:17%;">Set amount of amplification of
signal after processing. Default is 1. Allowed range is from
1 to 64.</p>

<p style="margin-left:11%;"><b>knee</b></p>

<p style="margin-left:17%;">Curve the sharp knee around the
threshold to enter gain reduction more softly. Default is
2.828427125. Allowed range is from 1 to 8.</p>

<p style="margin-left:11%;"><b>detection</b></p>

<p style="margin-left:17%;">Choose if exact signal should
be taken for detection or an <small>RMS</small> like one.
Default is &quot;rms&quot;. Can be &quot;peak&quot; or
&quot;rms&quot;.</p>

<p style="margin-left:11%;"><b>link</b></p>

<p style="margin-left:17%;">Choose if the average level
between all channels or the louder channel affects the
reduction. Default is &quot;average&quot;. Can be
&quot;average&quot; or &quot;maximum&quot;.</p>

<p style="margin-left:11%; margin-top: 1em"><b>aiir</b>
<br>
Apply an arbitrary Infinite Impulse Response filter.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>z</b></p></td>
<td width="5%"></td>
<td width="54%">


<p>Set numerator/zeros coefficients.</p></td>
<td width="29%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>p</b></p></td>
<td width="5%"></td>
<td width="54%">


<p>Set denominator/poles coefficients.</p></td>
<td width="29%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>k</b></p></td>
<td width="5%"></td>
<td width="54%">


<p>Set channels gains.</p></td>
<td width="29%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>dry_gain</b></p>

<p style="margin-left:17%;">Set input gain.</p>

<p style="margin-left:11%;"><b>wet_gain</b></p>

<p style="margin-left:17%;">Set output gain.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>f</b></p></td>
<td width="5%"></td>
<td width="37%">


<p>Set coefficients format.</p></td>
<td width="46%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>tf</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%"></td>
<td width="3%"></td>
<td width="62%">


<p style="margin-top: 1em">transfer function</p></td>
<td width="15%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>zp</b></p></td>
<td width="3%"></td>
<td width="62%">


<p>Z-plane zeros/poles, cartesian (default)</p></td>
<td width="15%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>pr</b></p></td>
<td width="3%"></td>
<td width="62%">


<p>Z-plane zeros/poles, polar radians</p></td>
<td width="15%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>pd</b></p></td>
<td width="3%"></td>
<td width="62%">


<p>Z-plane zeros/poles, polar degrees</p></td>
<td width="15%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>r</b></p></td>
<td width="3%"></td>
<td width="62%"></td>
<td width="15%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Set kind of
processing. Can be &quot;d&quot; - direct or &quot;s&quot; -
serial cascading. Default is &quot;s&quot;.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em"><b>e</b></p></td>
<td width="5%"></td>
<td width="37%">


<p style="margin-top: 1em">Set filtering precision.</p></td>
<td width="46%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>dbl</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%"></td>
<td width="1%"></td>
<td width="63%">


<p style="margin-top: 1em">double-precision floating-point
(default)</p> </td>
<td width="14%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>flt</b></p></td>
<td width="1%"></td>
<td width="63%">


<p>single-precision floating-point</p></td>
<td width="14%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>i32</b></p></td>
<td width="1%"></td>
<td width="63%">


<p>32-bit integers</p></td>
<td width="14%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>i16</b></p></td>
<td width="1%"></td>
<td width="63%">


<p>16-bit integers</p></td>
<td width="14%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><b>mix</b></p></td>
<td width="1%"></td>
<td width="63%"></td>
<td width="14%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">How much to use
filtered signal in output. Default is 1. Range is between 0
and 1.</p>

<p style="margin-left:11%;"><b>response</b></p>

<p style="margin-left:17%;">Show <small>IR</small>
frequency response, magnitude(magenta), phase(green) and
group delay(yellow) in additional video stream. By default
it is disabled.</p>

<p style="margin-left:11%;"><b>channel</b></p>

<p style="margin-left:17%;">Set for which <small>IR</small>
channel to display frequency response. By default is first
channel displayed. This option is used only when
<i>response</i> is enabled.</p>

<p style="margin-left:11%;"><b>size</b></p>

<p style="margin-left:17%;">Set video stream size. This
option is used only when <i>response</i> is enabled.</p>

<p style="margin-left:11%; margin-top: 1em">Coefficients in
&quot;tf&quot; format are separated by spaces and are in
ascending order.</p>

<p style="margin-left:11%; margin-top: 1em">Coefficients in
&quot;zp&quot; format are separated by spaces and order of
coefficients doesn&rsquo;t matter. Coefficients in
&quot;zp&quot; format are complex numbers with <i>i</i>
imaginary unit.</p>

<p style="margin-left:11%; margin-top: 1em">Different
coefficients and gains can be provided for every channel, in
such case use &rsquo;|&rsquo; to separate coefficients or
gains. Last provided coefficients will be used for all
remaining channels.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Apply 2 pole elliptic notch at around 5000Hz for 48000
Hz sample rate:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">aiir=k=1:z=7.957584807809675810E-1
-2.575128568908332300 3.674839853930788710
-2.57512875289799137 7.957586296317130880E-1:p=1
-2.86950072432325953 3.63022088054647218
-2.28075678147272232 6.361362326477423500E-1:f=tf:r=d</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="51%">


<p style="margin-top: 1em">Same as above but in
&quot;zp&quot; format:</p></td>
<td width="32%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">aiir=k=0.79575848078096756:z=0.80918701+0.58773007i
0.80918701-0.58773007i 0.80884700+0.58784055i
0.80884700-0.58784055i:p=0.63892345+0.59951235i
0.63892345-0.59951235i 0.79582691+0.44198673i
0.79582691-0.44198673i:f=zp:r=s</p>


<p style="margin-left:11%; margin-top: 1em"><b>alimiter</b>
<br>
The limiter prevents an input signal from rising over a
desired threshold. This limiter uses lookahead technology to
prevent your signal from distorting. It means that there is
a small delay after the signal is processed. Keep in mind
that the delay it produces is the attack time you set.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
level_in</b></p>

<p style="margin-left:17%;">Set input gain. Default is
1.</p>

<p style="margin-left:11%;"><b>level_out</b></p>

<p style="margin-left:17%;">Set output gain. Default is
1.</p>

<p style="margin-left:11%;"><b>limit</b></p>

<p style="margin-left:17%;">Don&rsquo;t let signals above
this level pass the limiter. Default is 1.</p>

<p style="margin-left:11%;"><b>attack</b></p>

<p style="margin-left:17%;">The limiter will reach its
attenuation level in this amount of time in milliseconds.
Default is 5 milliseconds.</p>

<p style="margin-left:11%;"><b>release</b></p>

<p style="margin-left:17%;">Come back from limiting to
attenuation 1.0 in this amount of milliseconds. Default is
50 milliseconds.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>asc</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>When gain reduction is always needed <small>ASC</small>
takes care of releasing to an average reduction level rather
than reaching a reduction of 0 in the release time.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>asc_level</b></p>

<p style="margin-left:17%;">Select how much the release
time is affected by <small>ASC, 0</small> means nearly no
changes in release time while 1 produces higher release
times.</p>

<p style="margin-left:11%;"><b>level</b></p>

<p style="margin-left:17%;">Auto level output signal.
Default is enabled. This normalizes audio back to 0dB if
enabled.</p>

<p style="margin-left:11%; margin-top: 1em">Depending on
picked setting it is recommended to upsample input 2x or 4x
times with <b>aresample</b> before applying this filter.</p>

<p style="margin-left:11%; margin-top: 1em"><b>allpass</b>
<br>
Apply a two-pole all-pass filter with central frequency (in
Hz) <i>frequency</i>, and filter-width <i>width</i>. An
all-pass filter changes the audio&rsquo;s frequency to phase
relationship without changing its frequency to amplitude
relationship.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
frequency, f</b></p>

<p style="margin-left:17%;">Set frequency in Hz.</p>

<p style="margin-left:11%;"><b>width_type, t</b></p>

<p style="margin-left:17%;">Set method to specify
band-width of filter.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>h</b></p></td>
<td width="5%"></td>
<td width="12%">


<p>Hz</p></td>
<td width="65%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>q</b></p></td>
<td width="5%"></td>
<td width="12%">


<p>Q-Factor</p></td>
<td width="65%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>o</b></p></td>
<td width="5%"></td>
<td width="12%">


<p>octave</p></td>
<td width="65%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>s</b></p></td>
<td width="5%"></td>
<td width="12%">


<p>slope</p></td>
<td width="65%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>k</b></p></td>
<td width="5%"></td>
<td width="12%">


<p>kHz</p></td>
<td width="65%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>width, w</b></p>

<p style="margin-left:17%;">Specify the band-width of a
filter in width_type units.</p>

<p style="margin-left:11%;"><b>mix, m</b></p>

<p style="margin-left:17%;">How much to use filtered signal
in output. Default is 1. Range is between 0 and 1.</p>

<p style="margin-left:11%;"><b>channels, c</b></p>

<p style="margin-left:17%;">Specify which channels to
filter, by default all available are filtered.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Commands</i></p>

<p style="margin-left:11%; margin-top: 1em">This filter
supports the following commands: <b><br>
frequency, f</b></p>

<p style="margin-left:17%;">Change allpass frequency.
Syntax for the command is : &quot;<i>frequency</i>&quot;</p>

<p style="margin-left:11%;"><b>width_type, t</b></p>

<p style="margin-left:17%;">Change allpass width_type.
Syntax for the command is :
&quot;<i>width_type</i>&quot;</p>

<p style="margin-left:11%;"><b>width, w</b></p>

<p style="margin-left:17%;">Change allpass width. Syntax
for the command is : &quot;<i>width</i>&quot;</p>

<p style="margin-left:11%;"><b>mix, m</b></p>

<p style="margin-left:17%;">Change allpass mix. Syntax for
the command is : &quot;<i>mix</i>&quot;</p>

<p style="margin-left:11%; margin-top: 1em"><b>aloop</b>
<br>
Loop audio samples.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
loop</b></p>

<p style="margin-left:17%;">Set the number of loops.
Setting this value to -1 will result in infinite loops.
Default is 0.</p>

<p style="margin-left:11%;"><b>size</b></p>

<p style="margin-left:17%;">Set maximal number of samples.
Default is 0.</p>

<p style="margin-left:11%;"><b>start</b></p>

<p style="margin-left:17%;">Set first sample of loop.
Default is 0.</p>

<p style="margin-left:11%; margin-top: 1em"><b>amerge</b>
<br>
Merge two or more audio streams into a single multi-channel
stream.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
inputs</b></p>

<p style="margin-left:17%;">Set the number of inputs.
Default is 2.</p>

<p style="margin-left:11%; margin-top: 1em">If the channel
layouts of the inputs are disjoint, and therefore
compatible, the channel layout of the output will be set
accordingly and the channels will be reordered as necessary.
If the channel layouts of the inputs are not disjoint, the
output will have all the channels of the first input then
all the channels of the second input, in that order, and the
channel layout of the output will be the default value
corresponding to the total number of channels.</p>

<p style="margin-left:11%; margin-top: 1em">For example, if
the first input is in 2.1 ( <small>FL+FR+LF</small> ) and
the second input is <small>FC+BL+BR,</small> then the output
will be in 5.1, with the channels in the following order:
a1, a2, b1, a3, b2, b3 (a1 is the first channel of the first
input, b1 is the first channel of the second input).</p>

<p style="margin-left:11%; margin-top: 1em">On the other
hand, if both input are in stereo, the output channels will
be in the default order: a1, a2, b1, b2, and the channel
layout will be arbitrarily set to 4.0, which may or may not
be the expected value.</p>

<p style="margin-left:11%; margin-top: 1em">All inputs must
have the same sample rate, and format.</p>

<p style="margin-left:11%; margin-top: 1em">If inputs do
not have the same duration, the output will stop with the
shortest.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="65%">


<p>Merge two mono files into a stereo stream:</p></td>
<td width="18%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">amovie=left.wav
[l] ; amovie=right.mp3 [r] ; [l] [r] amerge</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Multiple merges assuming 1 video
stream and 6 audio streams in <i>input.mkv</i>:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
input.mkv -filter_complex
&quot;[0:1][0:2][0:3][0:4][0:5][0:6] amerge=inputs=6&quot;
-c:a pcm_s16le output.mkv</p>

<p style="margin-left:11%; margin-top: 1em"><b>amix</b>
<br>
Mixes multiple audio inputs into a single output.</p>

<p style="margin-left:11%; margin-top: 1em">Note that this
filter only supports float samples (the <i>amerge</i> and
<i>pan</i> audio filters support many formats). If the
<i>amix</i> input has integer samples then <b>aresample</b>
will be automatically inserted to perform the conversion to
float samples.</p>

<p style="margin-left:11%; margin-top: 1em">For example</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i
INPUT1 -i INPUT2 -i INPUT3 -filter_complex
amix=inputs=3:duration=first:dropout_transition=3 OUTPUT</p>

<p style="margin-left:11%; margin-top: 1em">will mix 3
input audio streams to a single output with the same
duration as the first input and a dropout transition time of
3 seconds.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters: <b><br>
inputs</b></p>

<p style="margin-left:17%;">The number of inputs. If
unspecified, it defaults to 2.</p>

<p style="margin-left:11%;"><b>duration</b></p>

<p style="margin-left:17%;">How to determine the
end-of-stream. <b><br>
longest</b></p>

<p style="margin-left:23%;">The duration of the longest
input. (default)</p>

<p style="margin-left:17%;"><b>shortest</b></p>

<p style="margin-left:23%;">The duration of the shortest
input.</p>

<p style="margin-left:17%;"><b>first</b></p>

<p style="margin-left:23%;">The duration of the first
input.</p>

<p style="margin-left:11%;"><b>dropout_transition</b></p>

<p style="margin-left:17%;">The transition time, in
seconds, for volume renormalization when an input stream
ends. The default value is 2 seconds.</p>

<p style="margin-left:11%;"><b>weights</b></p>

<p style="margin-left:17%;">Specify weight of each input
audio stream as sequence. Each weight is separated by space.
By default all inputs have same weight.</p>


<p style="margin-left:11%; margin-top: 1em"><b>amultiply</b>
<br>
Multiply first audio stream with second audio stream and
store result in output audio stream. Multiplication is done
by multiplying each sample from first stream with sample at
same position from second stream.</p>

<p style="margin-left:11%; margin-top: 1em">With this
element-wise multiplication one can create amplitude fades
and amplitude modulations.</p>


<p style="margin-left:11%; margin-top: 1em"><b>anequalizer</b>
<br>
High-order parametric multiband equalizer for each
channel.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters: <b><br>
params</b></p>

<p style="margin-left:17%;">This option string is in
format: &quot;c<i>chn</i> f=<i>cf</i> w=<i>w</i> g=<i>g</i>
t=<i>f</i> | ...&quot; Each equalizer band is separated by
&rsquo;|&rsquo;.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>chn</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>Set channel number to which equalization will be
applied. If input doesn&rsquo;t have that channel the entry
is ignored.</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>f</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>Set central frequency for band. If input doesn&rsquo;t
have that frequency the entry is ignored.</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>w</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>Set band width in hertz.</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>g</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>Set band gain in dB.</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>t</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>Set filter type for band, optional, can be:</p></td></tr>
</table>

<p style="margin-left:23%;"><b>0</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td>
<td width="2%"></td>
<td width="4%"></td>
<td width="45%">


<p style="margin-top: 1em">Butterworth, this is
default.</p> </td>
<td width="26%">
</td></tr>
<tr valign="top" align="left">
<td width="23%"></td>
<td width="2%">


<p><b>1</b></p></td>
<td width="4%"></td>
<td width="45%">


<p>Chebyshev type 1.</p></td>
<td width="26%">
</td></tr>
<tr valign="top" align="left">
<td width="23%"></td>
<td width="2%">


<p><b>2</b></p></td>
<td width="4%"></td>
<td width="45%">


<p>Chebyshev type 2.</p></td>
<td width="26%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>curves</b></p>

<p style="margin-left:17%;">With this option activated
frequency response of anequalizer is displayed in video
stream.</p>

<p style="margin-left:11%;"><b>size</b></p>

<p style="margin-left:17%;">Set video stream size. Only
useful if curves option is activated.</p>

<p style="margin-left:11%;"><b>mgain</b></p>

<p style="margin-left:17%;">Set max gain that will be
displayed. Only useful if curves option is activated.
Setting this to a reasonable value makes it possible to
display gain which is derived from neighbour bands which are
too close to each other and thus produce higher gain when
both are activated.</p>

<p style="margin-left:11%;"><b>fscale</b></p>

<p style="margin-left:17%;">Set frequency scale used to
draw frequency response in video output. Can be linear or
logarithmic. Default is logarithmic.</p>

<p style="margin-left:11%;"><b>colors</b></p>

<p style="margin-left:17%;">Set color for each channel
curve which is going to be displayed in video stream. This
is list of color names separated by space or by
&rsquo;|&rsquo;. Unrecognised or missing colors will be
replaced by white color.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Lower gain by 10 of central frequency 200Hz and width
100 Hz for first 2 channels using Chebyshev type 1
filter:</p> </td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">anequalizer=c0
f=200 w=100 g=-10 t=1|c1 f=200 w=100 g=-10 t=1</p>


<p style="margin-left:11%; margin-top: 1em"><i>Commands</i></p>

<p style="margin-left:11%; margin-top: 1em">This filter
supports the following commands: <b><br>
change</b></p>

<p style="margin-left:17%;">Alter existing filter
parameters. Syntax for the commands is :
&quot;<i>fN</i>|f=<i>freq</i>|w=<i>width</i>|g=<i>gain</i>&quot;</p>

<p style="margin-left:17%; margin-top: 1em"><i>fN</i> is
existing filter number, starting from 0, if no such filter
is available error is returned. <i>freq</i> set new
frequency parameter. <i>width</i> set new width parameter in
herz. <i>gain</i> set new gain parameter in dB.</p>

<p style="margin-left:17%; margin-top: 1em">Full filter
invocation with asendcmd may look like this:
asendcmd=c=&rsquo;4.0 anequalizer change
0|f=200|w=50|g=1&rsquo;,anequalizer=...</p>

<p style="margin-left:11%; margin-top: 1em"><b>anlmdn</b>
<br>
Reduce broadband noise in audio samples using Non-Local
Means algorithm.</p>

<p style="margin-left:11%; margin-top: 1em">Each sample is
adjusted by looking for other samples with similar contexts.
This context similarity is defined by comparing their
surrounding patches of size <b>p</b>. Patches are searched
in an area of <b>r</b> around the sample.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>s</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set denoising strength. Allowed range is from 0.00001 to
10. Default value is 0.00001.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>p</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set patch radius duration. Allowed range is from 1 to
100 milliseconds. Default value is 2 milliseconds.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>r</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set research radius duration. Allowed range is from 2 to
300 milliseconds. Default value is 6 milliseconds.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>o</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set the output mode.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p style="margin-top: 1em"><b>i</b></p></td>
<td width="5%"></td>
<td width="37%">


<p style="margin-top: 1em">Pass input unchanged.</p></td>
<td width="40%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>o</b></p></td>
<td width="5%"></td>
<td width="37%">


<p>Pass noise filtered out.</p></td>
<td width="40%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>n</b></p></td>
<td width="5%"></td>
<td width="37%">


<p>Pass only noise.</p></td>
<td width="40%">
</td></tr>
</table>

<p style="margin-left:23%; margin-top: 1em">Default value
is <i>o</i>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em"><b>m</b></p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Set smooth factor. Default value
is <i>11</i>. Allowed range is from <i>1</i> to
<i>15</i>.</p> </td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><i>Commands</i></p>

<p style="margin-left:11%; margin-top: 1em">This filter
supports the following commands:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em"><b>s</b></p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Change denoise strength.
Argument is single float number. Syntax for the command is :
&quot;<i>s</i>&quot;</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>o</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Change output mode. Syntax for the command is :
&quot;i&quot;, &quot;o&quot; or &quot;n&quot; string.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>anull</b>
<br>
Pass the audio source unchanged to the output.</p>

<p style="margin-left:11%; margin-top: 1em"><b>apad</b>
<br>
Pad the end of an audio stream with silence.</p>

<p style="margin-left:11%; margin-top: 1em">This can be
used together with <b>ffmpeg -shortest</b> to extend audio
streams to the same length as the video stream.</p>

<p style="margin-left:11%; margin-top: 1em">A description
of the accepted options follows. <b><br>
packet_size</b></p>

<p style="margin-left:17%;">Set silence packet size.
Default value is 4096.</p>

<p style="margin-left:11%;"><b>pad_len</b></p>

<p style="margin-left:17%;">Set the number of samples of
silence to add to the end. After the value is reached, the
stream is terminated. This option is mutually exclusive with
<b>whole_len</b>.</p>

<p style="margin-left:11%;"><b>whole_len</b></p>

<p style="margin-left:17%;">Set the minimum total number of
samples in the output audio stream. If the value is longer
than the input audio length, silence is added to the end,
until the value is reached. This option is mutually
exclusive with <b>pad_len</b>.</p>

<p style="margin-left:11%;"><b>pad_dur</b></p>

<p style="margin-left:17%;">Specify the duration of samples
of silence to add. See <b>the Time duration section in the
ffmpeg-utils(1) manual</b> for the accepted syntax. Used
only if set to non-zero value.</p>

<p style="margin-left:11%;"><b>whole_dur</b></p>

<p style="margin-left:17%;">Specify the minimum total
duration in the output audio stream. See <b>the Time
duration section in the ffmpeg-utils(1) manual</b> for the
accepted syntax. Used only if set to non-zero value. If the
value is longer than the input audio length, silence is
added to the end, until the value is reached. This option is
mutually exclusive with <b>pad_dur</b></p>

<p style="margin-left:11%; margin-top: 1em">If neither the
<b>pad_len</b> nor the <b>whole_len</b> nor <b>pad_dur</b>
nor <b>whole_dur</b> option is set, the filter will add
silence to the end of the input stream indefinitely.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="80%">


<p>Add 1024 samples of silence to the end of the input:</p></td>
<td width="3%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">apad=pad_len=1024</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Make sure the audio output will
contain at least 10000 samples, pad the input with silence
if required:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">apad=whole_len=10000</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Use <b>ffmpeg</b> to pad the
audio input with silence, so that the video stream will
always result the shortest and will be converted until the
end in the output file when using the <b>shortest</b>
option:</p> </td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i VIDEO
-i AUDIO -filter_complex &quot;[1:0]apad&quot; -shortest
OUTPUT</p>

<p style="margin-left:11%; margin-top: 1em"><b>aphaser</b>
<br>
Add a phasing effect to the input audio.</p>

<p style="margin-left:11%; margin-top: 1em">A phaser filter
creates series of peaks and troughs in the frequency
spectrum. The position of the peaks and troughs are
modulated so that they vary over time, creating a sweeping
effect.</p>

<p style="margin-left:11%; margin-top: 1em">A description
of the accepted parameters follows. <b><br>
in_gain</b></p>

<p style="margin-left:17%;">Set input gain. Default is
0.4.</p>

<p style="margin-left:11%;"><b>out_gain</b></p>

<p style="margin-left:17%;">Set output gain. Default is
0.74</p>

<p style="margin-left:11%;"><b>delay</b></p>

<p style="margin-left:17%;">Set delay in milliseconds.
Default is 3.0.</p>

<p style="margin-left:11%;"><b>decay</b></p>

<p style="margin-left:17%;">Set decay. Default is 0.4.</p>

<p style="margin-left:11%;"><b>speed</b></p>

<p style="margin-left:17%;">Set modulation speed in Hz.
Default is 0.5.</p>

<p style="margin-left:11%;"><b>type</b></p>

<p style="margin-left:17%;">Set modulation type. Default is
triangular.</p>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values: <b><br>
triangular, t <br>
sinusoidal, s</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>apulsator</b>
<br>
Audio pulsator is something between an autopanner and a
tremolo. But it can produce funny stereo effects as well.
Pulsator changes the volume of the left and right channel
based on a <small>LFO</small> (low frequency oscillator)
with different waveforms and shifted phases. This filter
have the ability to define an offset between left and right
channel. An offset of 0 means that both <small>LFO</small>
shapes match each other. The left and right channel are
altered equally - a conventional tremolo. An offset of 50%
means that the shape of the right channel is exactly shifted
in phase (or moved backwards about half of the frequency) -
pulsator acts as an autopanner. At 1 both curves match
again. Every setting in between moves the phase shift
gapless between all stages and produces some
&quot;bypassing&quot; sounds with sine and triangle
waveforms. The more you set the offset near 1 (starting from
the 0.5) the faster the signal passes from the left to the
right speaker.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
level_in</b></p>

<p style="margin-left:17%;">Set input gain. By default it
is 1. Range is [0.015625 - 64].</p>

<p style="margin-left:11%;"><b>level_out</b></p>

<p style="margin-left:17%;">Set output gain. By default it
is 1. Range is [0.015625 - 64].</p>

<p style="margin-left:11%;"><b>mode</b></p>

<p style="margin-left:17%;">Set waveform shape the
<small>LFO</small> will use. Can be one of: sine, triangle,
square, sawup or sawdown. Default is sine.</p>

<p style="margin-left:11%;"><b>amount</b></p>

<p style="margin-left:17%;">Set modulation. Define how much
of original signal is affected by the
<small>LFO.</small></p>

<p style="margin-left:11%;"><b>offset_l</b></p>

<p style="margin-left:17%;">Set left channel offset.
Default is 0. Allowed range is [0 - 1].</p>

<p style="margin-left:11%;"><b>offset_r</b></p>

<p style="margin-left:17%;">Set right channel offset.
Default is 0.5. Allowed range is [0 - 1].</p>

<p style="margin-left:11%;"><b>width</b></p>

<p style="margin-left:17%;">Set pulse width. Default is 1.
Allowed range is [0 - 2].</p>

<p style="margin-left:11%;"><b>timing</b></p>

<p style="margin-left:17%;">Set possible timing mode. Can
be one of: bpm, ms or hz. Default is hz.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>bpm</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set bpm. Default is 120. Allowed range is [30 - 300].
Only used if timing is set to bpm.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>ms</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set ms. Default is 500. Allowed range is [10 - 2000].
Only used if timing is set to ms.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>hz</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set frequency in Hz. Default is 2. Allowed range is
[0.01 - 100]. Only used if timing is set to hz.</p></td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><b>aresample</b>
<br>
Resample the input audio to the specified parameters, using
the libswresample library. If none are specified then the
filter will automatically convert between its input and
output.</p>

<p style="margin-left:11%; margin-top: 1em">This filter is
also able to stretch/squeeze the audio data to make it match
the timestamps or to inject silence / cut out audio to make
it match the timestamps, do a combination of both or do
neither.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the syntax
[<i>sample_rate</i>:]<i>resampler_options</i>, where
<i>sample_rate</i> expresses a sample rate and
<i>resampler_options</i> is a list of
<i>key</i>=<i>value</i> pairs, separated by &quot;:&quot;.
See the <b>&quot;Resampler Options&quot; section in the
ffmpeg-resampler(1) manual</b> for the complete list of
supported options.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="55%">


<p style="margin-top: 1em">Resample the input audio to
44100Hz:</p> </td>
<td width="28%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">aresample=44100</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Stretch/squeeze samples to the
given timestamps, with a maximum of 1000 samples per second
compensation:</p> </td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">aresample=async=1000</p>


<p style="margin-left:11%; margin-top: 1em"><b>areverse</b>
<br>
Reverse an audio clip.</p>

<p style="margin-left:11%; margin-top: 1em">Warning: This
filter requires memory to buffer the entire clip, so
trimming is suggested.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="78%">


<p style="margin-top: 1em">Take the first 5 seconds of a
clip, and reverse it.</p></td>
<td width="5%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">atrim=end=5,areverse</p>


<p style="margin-left:11%; margin-top: 1em"><b>asetnsamples</b>
<br>
Set the number of samples per each output audio frame.</p>

<p style="margin-left:11%; margin-top: 1em">The last output
packet may contain a different number of samples, as the
filter will flush all the remaining samples when the input
audio signals its end.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
nb_out_samples, n</b></p>

<p style="margin-left:17%;">Set the number of frames per
each output audio frame. The number is intended as the
number of samples <i>per each channel</i>. Default value is
1024.</p>

<p style="margin-left:11%;"><b>pad, p</b></p>

<p style="margin-left:17%;">If set to 1, the filter will
pad the last audio frame with zeroes, so that the last frame
will contain the same number of samples as the previous
ones. Default value is 1.</p>

<p style="margin-left:11%; margin-top: 1em">For example, to
set the number of per-frame samples to 1234 and disable
padding for the last frame, use:</p>


<p style="margin-left:11%; margin-top: 1em">asetnsamples=n=1234:p=0</p>


<p style="margin-left:11%; margin-top: 1em"><b>asetrate</b>
<br>
Set the sample rate without altering the <small>PCM</small>
data. This will result in a change of speed and pitch.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
sample_rate, r</b></p>

<p style="margin-left:17%;">Set the output sample rate.
Default is 44100 Hz.</p>


<p style="margin-left:11%; margin-top: 1em"><b>ashowinfo</b>
<br>
Show a line containing various information for each input
audio frame. The input audio is not modified.</p>

<p style="margin-left:11%; margin-top: 1em">The shown line
contains a sequence of key/value pairs of the form
<i>key</i>:<i>value</i>.</p>

<p style="margin-left:11%; margin-top: 1em">The following
values are shown in the output:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>n</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>The (sequential) number of the input frame, starting
from 0.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>pts</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>The presentation timestamp of the input frame, in time
base units; the time base depends on the filter input pad,
and is usually 1/<i>sample_rate</i>.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>pts_time</b></p>

<p style="margin-left:17%;">The presentation timestamp of
the input frame in seconds.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>pos</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>position of the frame in the input stream, -1 if this
information in unavailable and/or meaningless (for example
in case of synthetic audio)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>fmt</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>The sample format.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>chlayout</b></p>

<p style="margin-left:17%;">The channel layout.</p>

<p style="margin-left:11%;"><b>rate</b></p>

<p style="margin-left:17%;">The sample rate for the audio
frame.</p>

<p style="margin-left:11%;"><b>nb_samples</b></p>

<p style="margin-left:17%;">The number of samples (per
channel) in the frame.</p>

<p style="margin-left:11%;"><b>checksum</b></p>

<p style="margin-left:17%;">The Adler-32 checksum (printed
in hexadecimal) of the audio data. For planar audio, the
data is treated as if all the planes were concatenated.</p>

<p style="margin-left:11%;"><b>plane_checksums</b></p>

<p style="margin-left:17%;">A list of Adler-32 checksums
for each data plane.</p>


<p style="margin-left:11%; margin-top: 1em"><b>asoftclip</b>
<br>
Apply audio soft clipping.</p>

<p style="margin-left:11%; margin-top: 1em">Soft clipping
is a type of distortion effect where the amplitude of a
signal is saturated along a smooth curve, rather than the
abrupt shape of hard-clipping.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
accepts the following options: <b><br>
type</b></p>

<p style="margin-left:17%;">Set type of soft-clipping.</p>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values: <b><br>
tanh <br>
atan <br>
cubic</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>exp</b></p></td>
<td width="78%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>alg</b></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>quintic</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>sin</b></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>param</b></p>

<p style="margin-left:17%;">Set additional parameter which
controls sigmoid function.</p>

<p style="margin-left:11%; margin-top: 1em"><b>asr</b> <br>
Automatic Speech Recognition</p>

<p style="margin-left:11%; margin-top: 1em">This filter
uses PocketSphinx for speech recognition. To enable
compilation of this filter, you need to configure FFmpeg
with &quot;--enable-pocketsphinx&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following options: <b><br>
rate</b></p>

<p style="margin-left:17%;">Set sampling rate of input
audio. Defaults is 16000. This need to match speech models,
otherwise one will get poor results.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>hmm</b></p></td>
<td width="2%"></td>
<td width="72%">


<p>Set dictionary containing acoustic model files.</p></td>
<td width="11%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>dict</b></p>

<p style="margin-left:17%;">Set pronunciation
dictionary.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>lm</b></p></td>
<td width="3%"></td>
<td width="37%">


<p>Set language model file.</p></td>
<td width="46%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>lmctl</b></p>

<p style="margin-left:17%;">Set language model set.</p>

<p style="margin-left:11%;"><b>lmname</b></p>

<p style="margin-left:17%;">Set which language model to
use.</p>

<p style="margin-left:11%;"><b>logfn</b></p>

<p style="margin-left:17%;">Set output for log
messages.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
exports recognized speech as the frame metadata
&quot;lavfi.asr.text&quot;.</p>

<p style="margin-left:11%; margin-top: 1em"><b>astats</b>
<br>
Display time domain statistical information about the audio
channels. Statistics are calculated and displayed for each
audio channel and, where applicable, an overall figure is
also given.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following option: <b><br>
length</b></p>

<p style="margin-left:17%;">Short window length in seconds,
used for peak and trough <small>RMS</small> measurement.
Default is 0.05 (50 milliseconds). Allowed range is
&quot;[0.01 - 10]&quot;.</p>

<p style="margin-left:11%;"><b>metadata</b></p>

<p style="margin-left:17%;">Set metadata injection. All the
metadata keys are prefixed with &quot;lavfi.astats.X&quot;,
where &quot;X&quot; is channel number starting from 1 or
string &quot;Overall&quot;. Default is disabled.</p>

<p style="margin-left:17%; margin-top: 1em">Available keys
for each channel are: DC_offset Min_level Max_level
Min_difference Max_difference Mean_difference RMS_difference
Peak_level RMS_peak RMS_trough Crest_factor Flat_factor
Peak_count Bit_depth Dynamic_range Zero_crossings
Zero_crossings_rate Number_of_NaNs Number_of_Infs
Number_of_denormals</p>

<p style="margin-left:17%; margin-top: 1em">and for
Overall: DC_offset Min_level Max_level Min_difference
Max_difference Mean_difference RMS_difference Peak_level
RMS_level RMS_peak RMS_trough Flat_factor Peak_count
Bit_depth Number_of_samples Number_of_NaNs Number_of_Infs
Number_of_denormals</p>

<p style="margin-left:17%; margin-top: 1em">For example
full key look like this &quot;lavfi.astats.1.DC_offset&quot;
or this &quot;lavfi.astats.Overall.Peak_count&quot;.</p>

<p style="margin-left:17%; margin-top: 1em">For description
what each key means read below.</p>

<p style="margin-left:11%;"><b>reset</b></p>

<p style="margin-left:17%;">Set number of frame after which
stats are going to be recalculated. Default is disabled.</p>

<p style="margin-left:11%;"><b>measure_perchannel</b></p>

<p style="margin-left:17%;">Select the entries which need
to be measured per channel. The metadata keys can be used as
flags, default is <b>all</b> which measures everything.
<b>none</b> disables all per channel measurement.</p>

<p style="margin-left:11%;"><b>measure_overall</b></p>

<p style="margin-left:17%;">Select the entries which need
to be measured overall. The metadata keys can be used as
flags, default is <b>all</b> which measures everything.
<b>none</b> disables all overall measurement.</p>

<p style="margin-left:11%; margin-top: 1em">A description
of each shown parameter follows: <b><small><br>
DC</small> offset</b></p>

<p style="margin-left:17%;">Mean amplitude displacement
from zero.</p>

<p style="margin-left:11%;"><b>Min level</b></p>

<p style="margin-left:17%;">Minimal sample level.</p>

<p style="margin-left:11%;"><b>Max level</b></p>

<p style="margin-left:17%;">Maximal sample level.</p>

<p style="margin-left:11%;"><b>Min difference</b></p>

<p style="margin-left:17%;">Minimal difference between two
consecutive samples.</p>

<p style="margin-left:11%;"><b>Max difference</b></p>

<p style="margin-left:17%;">Maximal difference between two
consecutive samples.</p>

<p style="margin-left:11%;"><b>Mean difference</b></p>

<p style="margin-left:17%;">Mean difference between two
consecutive samples. The average of each difference between
two consecutive samples.</p>

<p style="margin-left:11%;"><b><small>RMS</small>
difference</b></p>

<p style="margin-left:17%;">Root Mean Square difference
between two consecutive samples.</p>

<p style="margin-left:11%;"><b>Peak level dB <small><br>
RMS</small> level dB</b></p>

<p style="margin-left:17%;">Standard peak and
<small>RMS</small> level measured in dBFS.</p>

<p style="margin-left:11%;"><b><small>RMS</small> peak dB
<small><br>
RMS</small> trough dB</b></p>

<p style="margin-left:17%;">Peak and trough values for
<small>RMS</small> level measured over a short window.</p>

<p style="margin-left:11%;"><b>Crest factor</b></p>

<p style="margin-left:17%;">Standard ratio of peak to
<small>RMS</small> level (note: not in dB).</p>

<p style="margin-left:11%;"><b>Flat factor</b></p>

<p style="margin-left:17%;">Flatness (i.e. consecutive
samples with the same value) of the signal at its peak
levels (i.e. either <i>Min level</i> or <i>Max
level</i>).</p>

<p style="margin-left:11%;"><b>Peak count</b></p>

<p style="margin-left:17%;">Number of occasions (not the
number of samples) that the signal attained either <i>Min
level</i> or <i>Max level</i>.</p>

<p style="margin-left:11%;"><b>Bit depth</b></p>

<p style="margin-left:17%;">Overall bit depth of audio.
Number of bits used for each sample.</p>

<p style="margin-left:11%;"><b>Dynamic range</b></p>

<p style="margin-left:17%;">Measured dynamic range of audio
in dB.</p>

<p style="margin-left:11%;"><b>Zero crossings</b></p>

<p style="margin-left:17%;">Number of points where the
waveform crosses the zero level axis.</p>

<p style="margin-left:11%;"><b>Zero crossings rate</b></p>

<p style="margin-left:17%;">Rate of Zero crossings and
number of audio samples.</p>

<p style="margin-left:11%; margin-top: 1em"><b>atempo</b>
<br>
Adjust audio tempo.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts exactly one parameter, the audio tempo. If not
specified then the filter will assume nominal 1.0 tempo.
Tempo must be in the [0.5, 100.0] range.</p>

<p style="margin-left:11%; margin-top: 1em">Note that tempo
greater than 2 will skip some samples rather than blend them
in. If for any reason this is a concern it is always
possible to daisy-chain several instances of atempo to
achieve the desired product tempo.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="45%">


<p>Slow down audio to 80% tempo:</p></td>
<td width="38%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">atempo=0.8</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="49%">


<p style="margin-top: 1em">To speed up audio to 300%
tempo:</p> </td>
<td width="34%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">atempo=3</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">To speed up audio to 300% tempo
by daisy-chaining two atempo instances:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">atempo=sqrt(3),atempo=sqrt(3)</p>

<p style="margin-left:11%; margin-top: 1em"><b>atrim</b>
<br>
Trim the input so that the output contains one continuous
subpart of the input.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters: <b><br>
start</b></p>

<p style="margin-left:17%;">Timestamp (in seconds) of the
start of the section to keep. I.e. the audio sample with the
timestamp <i>start</i> will be the first sample in the
output.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>end</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Specify time of the first audio sample that will be
dropped, i.e. the audio sample immediately preceding the one
with the timestamp <i>end</i> will be the last sample in the
output.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>start_pts</b></p>

<p style="margin-left:17%;">Same as <i>start</i>, except
this option sets the start timestamp in samples instead of
seconds.</p>

<p style="margin-left:11%;"><b>end_pts</b></p>

<p style="margin-left:17%;">Same as <i>end</i>, except this
option sets the end timestamp in samples instead of
seconds.</p>

<p style="margin-left:11%;"><b>duration</b></p>

<p style="margin-left:17%;">The maximum duration of the
output in seconds.</p>

<p style="margin-left:11%;"><b>start_sample</b></p>

<p style="margin-left:17%;">The number of the first sample
that should be output.</p>

<p style="margin-left:11%;"><b>end_sample</b></p>

<p style="margin-left:17%;">The number of the first sample
that should be dropped.</p>

<p style="margin-left:11%; margin-top: 1em"><b>start</b>,
<b>end</b>, and <b>duration</b> are expressed as time
duration specifications; see <b>the Time duration section in
the ffmpeg-utils(1) manual</b>.</p>

<p style="margin-left:11%; margin-top: 1em">Note that the
first two sets of the start/end options and the
<b>duration</b> option look at the frame timestamp, while
the _sample options simply count the samples that pass
through the filter. So start/end_pts and start/end_sample
will give different results when the timestamps are wrong,
inexact or do not start at zero. Also note that this filter
does not modify the timestamps. If you wish to have the
output timestamps start at zero, insert the asetpts filter
after the atrim filter.</p>

<p style="margin-left:11%; margin-top: 1em">If multiple
start or end options are set, this filter tries to be greedy
and keep all samples that match at least one of the
specified constraints. To keep only the part that matches
all the constraints at once, chain multiple atrim
filters.</p>

<p style="margin-left:11%; margin-top: 1em">The defaults
are such that all the input is kept. So it is possible to
set e.g. just the end values to keep everything before the
specified time.</p>

<p style="margin-left:11%; margin-top: 1em">Examples:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="77%">


<p>Drop everything except the second minute of input:</p></td>
<td width="6%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i INPUT
-af atrim=60:120</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="51%">


<p style="margin-top: 1em">Keep only the first 1000
samples:</p> </td>
<td width="32%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i INPUT
-af atrim=end_sample=1000</p>


<p style="margin-left:11%; margin-top: 1em"><b>bandpass</b>
<br>
Apply a two-pole Butterworth band-pass filter with central
frequency <i>frequency</i>, and (3dB-point) band-width
width. The <i>csg</i> option selects a constant skirt gain
(peak gain = Q) instead of the default: constant 0dB peak
gain. The filter roll off at 6dB per octave (20dB per
decade).</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
frequency, f</b></p>

<p style="margin-left:17%;">Set the filter&rsquo;s central
frequency. Default is 3000.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>csg</b></p></td>
<td width="2%"></td>
<td width="72%">


<p>Constant skirt gain if set to 1. Defaults to 0.</p></td>
<td width="11%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>width_type, t</b></p>

<p style="margin-left:17%;">Set method to specify
band-width of filter.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>h</b></p></td>
<td width="5%"></td>
<td width="12%">


<p>Hz</p></td>
<td width="65%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>q</b></p></td>
<td width="5%"></td>
<td width="12%">


<p>Q-Factor</p></td>
<td width="65%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>o</b></p></td>
<td width="5%"></td>
<td width="12%">


<p>octave</p></td>
<td width="65%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>s</b></p></td>
<td width="5%"></td>
<td width="12%">


<p>slope</p></td>
<td width="65%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>k</b></p></td>
<td width="5%"></td>
<td width="12%">


<p>kHz</p></td>
<td width="65%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>width, w</b></p>

<p style="margin-left:17%;">Specify the band-width of a
filter in width_type units.</p>

<p style="margin-left:11%;"><b>mix, m</b></p>

<p style="margin-left:17%;">How much to use filtered signal
in output. Default is 1. Range is between 0 and 1.</p>

<p style="margin-left:11%;"><b>channels, c</b></p>

<p style="margin-left:17%;">Specify which channels to
filter, by default all available are filtered.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Commands</i></p>

<p style="margin-left:11%; margin-top: 1em">This filter
supports the following commands: <b><br>
frequency, f</b></p>

<p style="margin-left:17%;">Change bandpass frequency.
Syntax for the command is : &quot;<i>frequency</i>&quot;</p>

<p style="margin-left:11%;"><b>width_type, t</b></p>

<p style="margin-left:17%;">Change bandpass width_type.
Syntax for the command is :
&quot;<i>width_type</i>&quot;</p>

<p style="margin-left:11%;"><b>width, w</b></p>

<p style="margin-left:17%;">Change bandpass width. Syntax
for the command is : &quot;<i>width</i>&quot;</p>

<p style="margin-left:11%;"><b>mix, m</b></p>

<p style="margin-left:17%;">Change bandpass mix. Syntax for
the command is : &quot;<i>mix</i>&quot;</p>


<p style="margin-left:11%; margin-top: 1em"><b>bandreject</b>
<br>
Apply a two-pole Butterworth band-reject filter with central
frequency <i>frequency</i>, and (3dB-point) band-width
<i>width</i>. The filter roll off at 6dB per octave (20dB
per decade).</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
frequency, f</b></p>

<p style="margin-left:17%;">Set the filter&rsquo;s central
frequency. Default is 3000.</p>

<p style="margin-left:11%;"><b>width_type, t</b></p>

<p style="margin-left:17%;">Set method to specify
band-width of filter.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>h</b></p></td>
<td width="5%"></td>
<td width="12%">


<p>Hz</p></td>
<td width="65%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>q</b></p></td>
<td width="5%"></td>
<td width="12%">


<p>Q-Factor</p></td>
<td width="65%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>o</b></p></td>
<td width="5%"></td>
<td width="12%">


<p>octave</p></td>
<td width="65%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>s</b></p></td>
<td width="5%"></td>
<td width="12%">


<p>slope</p></td>
<td width="65%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>k</b></p></td>
<td width="5%"></td>
<td width="12%">


<p>kHz</p></td>
<td width="65%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>width, w</b></p>

<p style="margin-left:17%;">Specify the band-width of a
filter in width_type units.</p>

<p style="margin-left:11%;"><b>mix, m</b></p>

<p style="margin-left:17%;">How much to use filtered signal
in output. Default is 1. Range is between 0 and 1.</p>

<p style="margin-left:11%;"><b>channels, c</b></p>

<p style="margin-left:17%;">Specify which channels to
filter, by default all available are filtered.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Commands</i></p>

<p style="margin-left:11%; margin-top: 1em">This filter
supports the following commands: <b><br>
frequency, f</b></p>

<p style="margin-left:17%;">Change bandreject frequency.
Syntax for the command is : &quot;<i>frequency</i>&quot;</p>

<p style="margin-left:11%;"><b>width_type, t</b></p>

<p style="margin-left:17%;">Change bandreject width_type.
Syntax for the command is :
&quot;<i>width_type</i>&quot;</p>

<p style="margin-left:11%;"><b>width, w</b></p>

<p style="margin-left:17%;">Change bandreject width. Syntax
for the command is : &quot;<i>width</i>&quot;</p>

<p style="margin-left:11%;"><b>mix, m</b></p>

<p style="margin-left:17%;">Change bandreject mix. Syntax
for the command is : &quot;<i>mix</i>&quot;</p>

<p style="margin-left:11%; margin-top: 1em"><b>bass,
lowshelf</b> <br>
Boost or cut the bass (lower) frequencies of the audio using
a two-pole shelving filter with a response similar to that
of a standard hi-fi&rsquo;s tone-controls. This is also
known as shelving equalisation ( <small>EQ</small> ).</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
gain, g</b></p>

<p style="margin-left:17%;">Give the gain at 0 Hz. Its
useful range is about -20 (for a large cut) to +20 (for a
large boost). Beware of clipping when using a positive
gain.</p>

<p style="margin-left:11%;"><b>frequency, f</b></p>

<p style="margin-left:17%;">Set the filter&rsquo;s central
frequency and so can be used to extend or reduce the
frequency range to be boosted or cut. The default value is
100 Hz.</p>

<p style="margin-left:11%;"><b>width_type, t</b></p>

<p style="margin-left:17%;">Set method to specify
band-width of filter.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>h</b></p></td>
<td width="5%"></td>
<td width="12%">


<p>Hz</p></td>
<td width="65%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>q</b></p></td>
<td width="5%"></td>
<td width="12%">


<p>Q-Factor</p></td>
<td width="65%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>o</b></p></td>
<td width="5%"></td>
<td width="12%">


<p>octave</p></td>
<td width="65%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>s</b></p></td>
<td width="5%"></td>
<td width="12%">


<p>slope</p></td>
<td width="65%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>k</b></p></td>
<td width="5%"></td>
<td width="12%">


<p>kHz</p></td>
<td width="65%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>width, w</b></p>

<p style="margin-left:17%;">Determine how steep is the
filter&rsquo;s shelf transition.</p>

<p style="margin-left:11%;"><b>mix, m</b></p>

<p style="margin-left:17%;">How much to use filtered signal
in output. Default is 1. Range is between 0 and 1.</p>

<p style="margin-left:11%;"><b>channels, c</b></p>

<p style="margin-left:17%;">Specify which channels to
filter, by default all available are filtered.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Commands</i></p>

<p style="margin-left:11%; margin-top: 1em">This filter
supports the following commands: <b><br>
frequency, f</b></p>

<p style="margin-left:17%;">Change bass frequency. Syntax
for the command is : &quot;<i>frequency</i>&quot;</p>

<p style="margin-left:11%;"><b>width_type, t</b></p>

<p style="margin-left:17%;">Change bass width_type. Syntax
for the command is : &quot;<i>width_type</i>&quot;</p>

<p style="margin-left:11%;"><b>width, w</b></p>

<p style="margin-left:17%;">Change bass width. Syntax for
the command is : &quot;<i>width</i>&quot;</p>

<p style="margin-left:11%;"><b>gain, g</b></p>

<p style="margin-left:17%;">Change bass gain. Syntax for
the command is : &quot;<i>gain</i>&quot;</p>

<p style="margin-left:11%;"><b>mix, m</b></p>

<p style="margin-left:17%;">Change bass mix. Syntax for the
command is : &quot;<i>mix</i>&quot;</p>

<p style="margin-left:11%; margin-top: 1em"><b>biquad</b>
<br>
Apply a biquad <small>IIR</small> filter with the given
coefficients. Where <i>b0</i>, <i>b1</i>, <i>b2</i> and
<i>a0</i>, <i>a1</i>, <i>a2</i> are the numerator and
denominator coefficients respectively. and <i>channels</i>,
<i>c</i> specify which channels to filter, by default all
available are filtered.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Commands</i></p>

<p style="margin-left:11%; margin-top: 1em">This filter
supports the following commands:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>a0</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>a1</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>a2</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>b0</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>b1</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>b2</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Change biquad parameter. Syntax for the command is :
&quot;<i>value</i>&quot;</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>mix, m</b></p>

<p style="margin-left:17%;">How much to use filtered signal
in output. Default is 1. Range is between 0 and 1.</p>

<p style="margin-left:11%; margin-top: 1em"><b>bs2b</b>
<br>
Bauer stereo to binaural transformation, which improves
headphone listening of stereo audio records.</p>

<p style="margin-left:11%; margin-top: 1em">To enable
compilation of this filter you need to configure FFmpeg with
&quot;--enable-libbs2b&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters: <b><br>
profile</b></p>

<p style="margin-left:17%;">Pre-defined crossfeed level.
<b><br>
default</b></p>

<p style="margin-left:23%;">Default level (fcut=700,
feed=50).</p>

<p style="margin-left:17%;"><b>cmoy</b></p>

<p style="margin-left:23%;">Chu Moy circuit (fcut=700,
feed=60).</p>

<p style="margin-left:17%;"><b>jmeier</b></p>

<p style="margin-left:23%;">Jan Meier circuit (fcut=650,
feed=95).</p>

<p style="margin-left:11%;"><b>fcut</b></p>

<p style="margin-left:17%;">Cut frequency (in Hz).</p>

<p style="margin-left:11%;"><b>feed</b></p>

<p style="margin-left:17%;">Feed level (in Hz).</p>


<p style="margin-left:11%; margin-top: 1em"><b>channelmap</b>
<br>
Remap input channels to new locations.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>map</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Map channels from input to output. The argument is a
&rsquo;|&rsquo;-separated list of mappings, each in the
&quot;<i>in_channel</i>-<i>out_channel</i>&quot; or
<i>in_channel</i> form. <i>in_channel</i> can be either the
name of the input channel (e.g. <small>FL</small> for front
left) or its index in the input channel layout.
<i>out_channel</i> is the name of the output channel or its
index in the output channel layout. If <i>out_channel</i> is
not given then it is implicitly an index, starting with zero
and increasing by one for each mapping.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>channel_layout</b></p>

<p style="margin-left:17%;">The channel layout of the
output stream.</p>

<p style="margin-left:11%; margin-top: 1em">If no mapping
is present, the filter will implicitly map input channels to
output channels, preserving indices.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="78%">


<p>For example, assuming a 5.1+downmix input
<small>MOV</small> file,</p></td>
<td width="5%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
in.mov -filter 'channelmap=map=DL-FL|DR-FR' out.wav</p>

<p style="margin-left:17%; margin-top: 1em">will create an
output <small>WAV</small> file tagged as stereo from the
downmix channels of the input.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">To fix a 5.1 <small>WAV</small>
improperly encoded in <small>AAC</small> &rsquo;s native
channel order</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
in.wav -filter 'channelmap=1|2|0|5|3|4:5.1' out.wav</p>


<p style="margin-left:11%; margin-top: 1em"><b>channelsplit</b>
<br>
Split each channel from an input audio stream into a
separate output stream.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters: <b><br>
channel_layout</b></p>

<p style="margin-left:17%;">The channel layout of the input
stream. The default is &quot;stereo&quot;.</p>

<p style="margin-left:11%;"><b>channels</b></p>

<p style="margin-left:17%;">A channel layout describing the
channels to be extracted as separate output streams or
&quot;all&quot; to extract each input channel as a separate
stream. The default is &quot;all&quot;.</p>

<p style="margin-left:17%; margin-top: 1em">Choosing
channels not present in channel layout in the input will
result in an error.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="71%">


<p>For example, assuming a stereo input <small>MP3</small>
file,</p> </td>
<td width="12%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
in.mp3 -filter_complex channelsplit out.mkv</p>

<p style="margin-left:17%; margin-top: 1em">will create an
output Matroska file with two audio streams, one containing
only the left channel and the other the right channel.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="68%">


<p style="margin-top: 1em">Split a 5.1 <small>WAV</small>
file into per-channel files:</p></td>
<td width="15%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
in.wav -filter_complex <br>
'channelsplit=channel_layout=5.1[FL][FR][FC][LFE][SL][SR]'
<br>
-map '[FL]' front_left.wav -map '[FR]' front_right.wav -map
'[FC]' <br>
front_center.wav -map '[LFE]' lfe.wav -map '[SL]'
side_left.wav -map '[SR]' <br>
side_right.wav</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="57%">


<p style="margin-top: 1em">Extract only <small>LFE</small>
from a 5.1 <small>WAV</small> file:</p></td>
<td width="26%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
in.wav -filter_complex
'channelsplit=channel_layout=5.1:channels=LFE[LFE]' <br>
-map '[LFE]' lfe.wav</p>

<p style="margin-left:11%; margin-top: 1em"><b>chorus</b>
<br>
Add a chorus effect to the audio.</p>

<p style="margin-left:11%; margin-top: 1em">Can make a
single vocal sound like a chorus, but can also be applied to
instrumentation.</p>

<p style="margin-left:11%; margin-top: 1em">Chorus
resembles an echo effect with a short delay, but whereas
with echo the delay is constant, with chorus, it is varied
using using sinusoidal or triangular modulation. The
modulation depth defines the range the modulated delay is
played before or after the delay. Hence the delayed sound
will sound slower or faster, that is the delayed sound tuned
around the original one, like in a chorus where some vocals
are slightly off key.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters: <b><br>
in_gain</b></p>

<p style="margin-left:17%;">Set input gain. Default is
0.4.</p>

<p style="margin-left:11%;"><b>out_gain</b></p>

<p style="margin-left:17%;">Set output gain. Default is
0.4.</p>

<p style="margin-left:11%;"><b>delays</b></p>

<p style="margin-left:17%;">Set delays. A typical delay is
around 40ms to 60ms.</p>

<p style="margin-left:11%;"><b>decays</b></p>

<p style="margin-left:17%;">Set decays.</p>

<p style="margin-left:11%;"><b>speeds</b></p>

<p style="margin-left:17%;">Set speeds.</p>

<p style="margin-left:11%;"><b>depths</b></p>

<p style="margin-left:17%;">Set depths.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="23%">


<p>A single delay:</p></td>
<td width="60%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">chorus=0.7:0.9:55:0.4:0.25:2</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="17%">


<p style="margin-top: 1em">Two delays:</p></td>
<td width="66%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">chorus=0.6:0.9:50|60:0.4|0.32:0.25|0.4:2|1.3</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="63%">


<p style="margin-top: 1em">Fuller sounding chorus with
three delays:</p></td>
<td width="20%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">chorus=0.5:0.9:50|60|40:0.4|0.32|0.3:0.25|0.4|0.3:2|2.3|1.3</p>

<p style="margin-left:11%; margin-top: 1em"><b>compand</b>
<br>
Compress or expand the audio&rsquo;s dynamic range.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters: <b><br>
attacks <br>
decays</b></p>

<p style="margin-left:17%;">A list of times in seconds for
each channel over which the instantaneous level of the input
signal is averaged to determine its volume. <i>attacks</i>
refers to increase of volume and <i>decays</i> refers to
decrease of volume. For most situations, the attack time
(response to the audio getting louder) should be shorter
than the decay time, because the human ear is more sensitive
to sudden loud audio than sudden soft audio. A typical value
for attack is 0.3 seconds and a typical value for decay is
0.8 seconds. If specified number of attacks &amp; decays is
lower than number of channels, the last set attack/decay
will be used for all remaining channels.</p>

<p style="margin-left:11%;"><b>points</b></p>

<p style="margin-left:17%;">A list of points for the
transfer function, specified in dB relative to the maximum
possible signal amplitude. Each key points list must be
defined using the following syntax:
&quot;x0/y0|x1/y1|x2/y2|....&quot; or &quot;x0/y0 x1/y1
x2/y2 ....&quot;</p>

<p style="margin-left:17%; margin-top: 1em">The input
values must be in strictly increasing order but the transfer
function does not have to be monotonically rising. The point
&quot;0/0&quot; is assumed but may be overridden (by
&quot;0/out-dBn&quot;). Typical values for the transfer
function are &quot;-70/-70|-60/-20|1/0&quot;.</p>

<p style="margin-left:11%;"><b>soft-knee</b></p>

<p style="margin-left:17%;">Set the curve radius in dB for
all joints. It defaults to 0.01.</p>

<p style="margin-left:11%;"><b>gain</b></p>

<p style="margin-left:17%;">Set the additional gain in dB
to be applied at all points on the transfer function. This
allows for easy adjustment of the overall gain. It defaults
to 0.</p>

<p style="margin-left:11%;"><b>volume</b></p>

<p style="margin-left:17%;">Set an initial volume, in dB,
to be assumed for each channel when filtering starts. This
permits the user to supply a nominal level initially, so
that, for example, a very large gain is not applied to
initial signal levels before the companding has begun to
operate. A typical value for audio which is initially quiet
is -90 dB. It defaults to 0.</p>

<p style="margin-left:11%;"><b>delay</b></p>

<p style="margin-left:17%;">Set a delay, in seconds. The
input audio is analyzed immediately, but audio is delayed
before being fed to the volume adjuster. Specifying a delay
approximately equal to the attack/decay times allows the
filter to effectively operate in predictive rather than
reactive mode. It defaults to 0.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Make music with both quiet and loud passages suitable
for listening to in a noisy environment:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">compand=.3|.3:1|1:-90/-60|-60/-40|-40/-30|-20/-20:6:0:-90:0.2</p>

<p style="margin-left:17%; margin-top: 1em">Another example
for audio with whisper and explosion parts:</p>


<p style="margin-left:17%; margin-top: 1em">compand=0|0:1|1:-90/-900|-70/-70|-30/-9|0/-3:6:0:0:0</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">A noise gate for when the noise
is at a lower level than the signal:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">compand=.1|.1:.2|.2:-900/-900|-50.1/-900|-50/-50:.01:0:-90:.1</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Here is another noise gate, this
time for when the noise is at a higher level than the signal
(making it, in some ways, similar to squelch):</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">compand=.1|.1:.1|.1:-45.1/-45.1|-45/-900|0/-900:.01:45:-90:.1</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="51%">


<p style="margin-top: 1em">2:1 compression starting at
-6dB:</p> </td>
<td width="32%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">compand=points=-80/-80|-6/-6|0/-3.8|20/3.5</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="51%">


<p style="margin-top: 1em">2:1 compression starting at
-9dB:</p> </td>
<td width="32%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">compand=points=-80/-80|-9/-9|0/-5.3|20/2.9</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="52%">


<p style="margin-top: 1em">2:1 compression starting at
-12dB:</p> </td>
<td width="31%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">compand=points=-80/-80|-12/-12|0/-6.8|20/1.9</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="52%">


<p style="margin-top: 1em">2:1 compression starting at
-18dB:</p> </td>
<td width="31%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">compand=points=-80/-80|-18/-18|0/-9.8|20/0.7</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="52%">


<p style="margin-top: 1em">3:1 compression starting at
-15dB:</p> </td>
<td width="31%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">compand=points=-80/-80|-15/-15|0/-10.8|20/-5.2</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="25%">


<p style="margin-top: 1em">Compressor/Gate:</p></td>
<td width="58%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">compand=points=-80/-105|-62/-80|-15.4/-15.4|0/-12|20/-7.6</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="14%">


<p style="margin-top: 1em">Expander:</p></td>
<td width="69%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">compand=attacks=0:points=-80/-169|-54/-80|-49.5/-64.6|-41.1/-41.1|-25.8/-15|-10.8/-4.5|0/0|20/8.3</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="32%">


<p style="margin-top: 1em">Hard limiter at -6dB:</p></td>
<td width="51%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">compand=attacks=0:points=-80/-80|-6/-6|20/-6</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="34%">


<p style="margin-top: 1em">Hard limiter at -12dB:</p></td>
<td width="49%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">compand=attacks=0:points=-80/-80|-12/-12|20/-12</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="40%">


<p style="margin-top: 1em">Hard noise gate at -35 dB:</p></td>
<td width="43%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">compand=attacks=0:points=-80/-115|-35.1/-80|-35/-35|20/20</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="20%">


<p style="margin-top: 1em">Soft limiter:</p></td>
<td width="63%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">compand=attacks=0:points=-80/-80|-12.4/-12.4|-6/-8|0/-6.8|20/-2.8</p>


<p style="margin-left:11%; margin-top: 1em"><b>compensationdelay</b>
<br>
Compensation Delay Line is a metric based delay to
compensate differing positions of microphones or
speakers.</p>

<p style="margin-left:11%; margin-top: 1em">For example,
you have recorded guitar with two microphones placed in
different location. Because the front of sound wave has
fixed speed in normal conditions, the phasing of microphones
can vary and depends on their location and interposition.
The best sound mix can be achieved when these microphones
are in phase (synchronized). Note that distance of ~30 cm
between microphones makes one microphone to capture signal
in antiphase to another microphone. That makes the final mix
sounding moody. This filter helps to solve phasing problems
by adding different delays to each microphone track and make
them synchronized.</p>

<p style="margin-left:11%; margin-top: 1em">The best result
can be reached when you take one track as base and
synchronize other tracks one by one with it. Remember that
synchronization/delay tolerance depends on sample rate, too.
Higher sample rates will give more tolerance.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p style="margin-top: 1em"><b>mm</b></p></td>
<td width="2%"></td>
<td width="83%">


<p style="margin-top: 1em">Set millimeters distance. This
is compensation distance for fine tuning. Default is 0.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>cm</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set cm distance. This is compensation distance for
tightening distance setup. Default is 0.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>m</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set meters distance. This is compensation distance for
hard distance setup. Default is 0.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>dry</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set dry amount. Amount of unprocessed (dry) signal.
Default is 0.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>wet</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set wet amount. Amount of processed (wet) signal.
Default is 1.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>temp</b></p>

<p style="margin-left:17%;">Set temperature degree in
Celsius. This is the temperature of the environment. Default
is 20.</p>


<p style="margin-left:11%; margin-top: 1em"><b>crossfeed</b>
<br>
Apply headphone crossfeed filter.</p>

<p style="margin-left:11%; margin-top: 1em">Crossfeed is
the process of blending the left and right channels of
stereo audio recording. It is mainly used to reduce extreme
stereo separation of low frequencies.</p>

<p style="margin-left:11%; margin-top: 1em">The intent is
to produce more speaker like sound to the listener.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
strength</b></p>

<p style="margin-left:17%;">Set strength of crossfeed.
Default is 0.2. Allowed range is from 0 to 1. This sets gain
of low shelf filter for side part of stereo image. Default
is -6dB. Max allowed is -30db when strength is set to 1.</p>

<p style="margin-left:11%;"><b>range</b></p>

<p style="margin-left:17%;">Set soundstage wideness.
Default is 0.5. Allowed range is from 0 to 1. This sets cut
off frequency of low shelf filter. Default is cut off near
1550 Hz. With range set to 1 cut off frequency is set to
2100 Hz.</p>

<p style="margin-left:11%;"><b>level_in</b></p>

<p style="margin-left:17%;">Set input gain. Default is
0.9.</p>

<p style="margin-left:11%;"><b>level_out</b></p>

<p style="margin-left:17%;">Set output gain. Default is
1.</p>


<p style="margin-left:11%; margin-top: 1em"><b>crystalizer</b>
<br>
Simple algorithm to expand audio dynamic range.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>i</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Sets the intensity of effect (default: 2.0). Must be in
range between 0.0 (unchanged sound) to 10.0 (maximum
effect).</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>c</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Enable clipping. By default is enabled.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>dcshift</b>
<br>
Apply a <small>DC</small> shift to the audio.</p>

<p style="margin-left:11%; margin-top: 1em">This can be
useful to remove a <small>DC</small> offset (caused perhaps
by a hardware problem in the recording chain) from the
audio. The effect of a <small>DC</small> offset is reduced
headroom and hence volume. The <b>astats</b> filter can be
used to determine if a signal has a <small>DC</small>
offset. <b><br>
shift</b></p>

<p style="margin-left:17%;">Set the <small>DC</small>
shift, allowed range is [-1, 1]. It indicates the amount to
shift the audio.</p>

<p style="margin-left:11%;"><b>limitergain</b></p>

<p style="margin-left:17%;">Optional. It should have a
value much less than 1 (e.g. 0.05 or 0.02) and is used to
prevent clipping.</p>

<p style="margin-left:11%; margin-top: 1em"><b>deesser</b>
<br>
Apply de-essing to the audio samples.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>i</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set intensity for triggering de-essing. Allowed range is
from 0 to 1. Default is 0.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>m</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set amount of ducking on treble part of sound. Allowed
range is from 0 to 1. Default is 0.5.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>f</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>How much of original frequency content to keep when
de-essing. Allowed range is from 0 to 1. Default is 0.5.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>s</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set the output mode.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p style="margin-top: 1em"><b>i</b></p></td>
<td width="5%"></td>
<td width="34%">


<p style="margin-top: 1em">Pass input unchanged.</p></td>
<td width="43%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>o</b></p></td>
<td width="5%"></td>
<td width="34%">


<p>Pass ess filtered out.</p></td>
<td width="43%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>e</b></p></td>
<td width="5%"></td>
<td width="34%">


<p>Pass only ess.</p></td>
<td width="43%">
</td></tr>
</table>

<p style="margin-left:23%; margin-top: 1em">Default value
is <i>o</i>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>drmeter</b>
<br>
Measure audio dynamic range.</p>


<p style="margin-left:11%; margin-top: 1em"><small>DR</small>
values of 14 and higher is found in very dynamic material.
<small>DR</small> of 8 to 13 is found in transition
material. And anything less that 8 have very poor dynamics
and is very compressed.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
length</b></p>

<p style="margin-left:17%;">Set window length in seconds
used to split audio into segments of equal length. Default
is 3 seconds.</p>


<p style="margin-left:11%; margin-top: 1em"><b>dynaudnorm</b>
<br>
Dynamic Audio Normalizer.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
applies a certain amount of gain to the input audio in order
to bring its peak magnitude to a target level (e.g. 0 dBFS).
However, in contrast to more &quot;simple&quot;
normalization algorithms, the Dynamic Audio Normalizer
*dynamically* re-adjusts the gain factor to the input audio.
This allows for applying extra gain to the &quot;quiet&quot;
sections of the audio while avoiding distortions or clipping
the &quot;loud&quot; sections. In other words: The Dynamic
Audio Normalizer will &quot;even out&quot; the volume of
quiet and loud sections, in the sense that the volume of
each section is brought to the same target level. Note,
however, that the Dynamic Audio Normalizer achieves this
goal *without* applying &quot;dynamic range
compressing&quot;. It will retain 100% of the dynamic range
*within* each section of the audio file.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>f</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set the frame length in milliseconds. In range from 10
to 8000 milliseconds. Default is 500 milliseconds. The
Dynamic Audio Normalizer processes the input audio in small
chunks, referred to as frames. This is required, because a
peak magnitude has no meaning for just a single sample
value. Instead, we need to determine the peak magnitude for
a contiguous sequence of sample values. While a
&quot;standard&quot; normalizer would simply use the peak
magnitude of the complete file, the Dynamic Audio Normalizer
determines the peak magnitude individually for each frame.
The length of a frame is specified in milliseconds. By
default, the Dynamic Audio Normalizer uses a frame length of
500 milliseconds, which has been found to give good results
with most files. Note that the exact frame length, in number
of samples, will be determined automatically, based on the
sampling rate of the individual input audio file.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>g</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set the Gaussian filter window size. In range from 3 to
301, must be odd number. Default is 31. Probably the most
important parameter of the Dynamic Audio Normalizer is the
&quot;window size&quot; of the Gaussian smoothing filter.
The filter&rsquo;s window size is specified in frames,
centered around the current frame. For the sake of
simplicity, this must be an odd number. Consequently, the
default value of 31 takes into account the current frame, as
well as the 15 preceding frames and the 15 subsequent
frames. Using a larger window results in a stronger
smoothing effect and thus in less gain variation, i.e.
slower gain adaptation. Conversely, using a smaller window
results in a weaker smoothing effect and thus in more gain
variation, i.e. faster gain adaptation. In other words, the
more you increase this value, the more the Dynamic Audio
Normalizer will behave like a &quot;traditional&quot;
normalization filter. On the contrary, the more you decrease
this value, the more the Dynamic Audio Normalizer will
behave like a dynamic range compressor.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>p</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set the target peak value. This specifies the highest
permissible magnitude level for the normalized audio input.
This filter will try to approach the target peak magnitude
as closely as possible, but at the same time it also makes
sure that the normalized signal will never exceed the peak
magnitude. A frame&rsquo;s maximum local gain factor is
imposed directly by the target peak magnitude. The default
value is 0.95 and thus leaves a headroom of 5%*. It is not
recommended to go above this value.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>m</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set the maximum gain factor. In range from 1.0 to 100.0.
Default is 10.0. The Dynamic Audio Normalizer determines the
maximum possible (local) gain factor for each input frame,
i.e. the maximum gain factor that does not result in
clipping or distortion. The maximum gain factor is
determined by the frame&rsquo;s highest magnitude sample.
However, the Dynamic Audio Normalizer additionally bounds
the frame&rsquo;s maximum gain factor by a predetermined
(global) maximum gain factor. This is done in order to avoid
excessive gain factors in &quot;silent&quot; or almost
silent frames. By default, the maximum gain factor is 10.0,
For most inputs the default value should be sufficient and
it usually is not recommended to increase this value.
Though, for input with an extremely low overall volume
level, it may be necessary to allow even higher gain
factors. Note, however, that the Dynamic Audio Normalizer
does not simply apply a &quot;hard&quot; threshold (i.e. cut
off values above the threshold). Instead, a
&quot;sigmoid&quot; threshold function will be applied. This
way, the gain factors will smoothly approach the threshold
value, but never exceed that value.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>r</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set the target <small>RMS.</small> In range from 0.0 to
1.0. Default is 0.0 - disabled. By default, the Dynamic
Audio Normalizer performs &quot;peak&quot; normalization.
This means that the maximum local gain factor for each frame
is defined (only) by the frame&rsquo;s highest magnitude
sample. This way, the samples can be amplified as much as
possible without exceeding the maximum signal level, i.e.
without clipping. Optionally, however, the Dynamic Audio
Normalizer can also take into account the frame&rsquo;s root
mean square, abbreviated <small>RMS.</small> In electrical
engineering, the <small>RMS</small> is commonly used to
determine the power of a time-varying signal. It is
therefore considered that the <small>RMS</small> is a better
approximation of the &quot;perceived loudness&quot; than
just looking at the signal&rsquo;s peak magnitude.
Consequently, by adjusting all frames to a constant
<small>RMS</small> value, a uniform &quot;perceived
loudness&quot; can be established. If a target
<small>RMS</small> value has been specified, a frame&rsquo;s
local gain factor is defined as the factor that would result
in exactly that <small>RMS</small> value. Note, however,
that the maximum local gain factor is still restricted by
the frame&rsquo;s highest magnitude sample, in order to
prevent clipping.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>n</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Enable channels coupling. By default is enabled. By
default, the Dynamic Audio Normalizer will amplify all
channels by the same amount. This means the same gain factor
will be applied to all channels, i.e. the maximum possible
gain factor is determined by the &quot;loudest&quot;
channel. However, in some recordings, it may happen that the
volume of the different channels is uneven, e.g. one channel
may be &quot;quieter&quot; than the other one(s). In this
case, this option can be used to disable the channel
coupling. This way, the gain factor will be determined
independently for each channel, depending only on the
individual channel&rsquo;s highest magnitude sample. This
allows for harmonizing the volume of the different
channels.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>c</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Enable <small>DC</small> bias correction. By default is
disabled. An audio signal (in the time domain) is a sequence
of sample values. In the Dynamic Audio Normalizer these
sample values are represented in the -1.0 to 1.0 range,
regardless of the original input format. Normally, the audio
signal, or &quot;waveform&quot;, should be centered around
the zero point. That means if we calculate the mean value of
all samples in a file, or in a single frame, then the result
should be 0.0 or at least very close to that value. If,
however, there is a significant deviation of the mean value
from 0.0, in either positive or negative direction, this is
referred to as a <small>DC</small> bias or <small>DC</small>
offset. Since a <small>DC</small> bias is clearly
undesirable, the Dynamic Audio Normalizer provides optional
<small>DC</small> bias correction. With <small>DC</small>
bias correction enabled, the Dynamic Audio Normalizer will
determine the mean value, or &quot; <small>DC</small>
correction&quot; offset, of each input frame and subtract
that value from all of the frame&rsquo;s sample values which
ensures those samples are centered around 0.0 again. Also,
in order to avoid &quot;gaps&quot; at the frame boundaries,
the <small>DC</small> correction offset values will be
interpolated smoothly between neighbouring frames.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>b</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Enable alternative boundary mode. By default is
disabled. The Dynamic Audio Normalizer takes into account a
certain neighbourhood around each frame. This includes the
preceding frames as well as the subsequent frames. However,
for the &quot;boundary&quot; frames, located at the very
beginning and at the very end of the audio file, not all
neighbouring frames are available. In particular, for the
first few frames in the audio file, the preceding frames are
not known. And, similarly, for the last few frames in the
audio file, the subsequent frames are not known. Thus, the
question arises which gain factors should be assumed for the
missing frames in the &quot;boundary&quot; region. The
Dynamic Audio Normalizer implements two modes to deal with
this situation. The default boundary mode assumes a gain
factor of exactly 1.0 for the missing frames, resulting in a
smooth &quot;fade in&quot; and &quot;fade out&quot; at the
beginning and at the end of the input, respectively.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>s</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set the compress factor. In range from 0.0 to 30.0.
Default is 0.0. By default, the Dynamic Audio Normalizer
does not apply &quot;traditional&quot; compression. This
means that signal peaks will not be pruned and thus the full
dynamic range will be retained within each local
neighbourhood. However, in some cases it may be desirable to
combine the Dynamic Audio Normalizer&rsquo;s normalization
algorithm with a more &quot;traditional&quot; compression.
For this purpose, the Dynamic Audio Normalizer provides an
optional compression (thresholding) function. If (and only
if) the compression feature is enabled, all input frames
will be processed by a soft knee thresholding function prior
to the actual normalization process. Put simply, the
thresholding function is going to prune all samples whose
magnitude exceeds a certain threshold value. However, the
Dynamic Audio Normalizer does not simply apply a fixed
threshold value. Instead, the threshold value will be
adjusted for each individual frame. In general, smaller
parameters result in stronger compression, and vice versa.
Values below 3.0 are not recommended, because audible
distortion may appear.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>earwax</b>
<br>
Make audio easier to listen to on headphones.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
adds &rsquo;cues&rsquo; to 44.1kHz stereo (i.e. audio
<small>CD</small> format) audio so that when listened to on
headphones the stereo image is moved from inside your head
(standard for headphones) to outside and in front of the
listener (standard for speakers).</p>

<p style="margin-left:11%; margin-top: 1em">Ported from
SoX.</p>


<p style="margin-left:11%; margin-top: 1em"><b>equalizer</b>
<br>
Apply a two-pole peaking equalisation ( <small>EQ</small> )
filter. With this filter, the signal-level at and around a
selected frequency can be increased or decreased, whilst
(unlike bandpass and bandreject filters) that at all other
frequencies is unchanged.</p>

<p style="margin-left:11%; margin-top: 1em">In order to
produce complex equalisation curves, this filter can be
given several times, each with a different central
frequency.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
frequency, f</b></p>

<p style="margin-left:17%;">Set the filter&rsquo;s central
frequency in Hz.</p>

<p style="margin-left:11%;"><b>width_type, t</b></p>

<p style="margin-left:17%;">Set method to specify
band-width of filter.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>h</b></p></td>
<td width="5%"></td>
<td width="12%">


<p>Hz</p></td>
<td width="65%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>q</b></p></td>
<td width="5%"></td>
<td width="12%">


<p>Q-Factor</p></td>
<td width="65%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>o</b></p></td>
<td width="5%"></td>
<td width="12%">


<p>octave</p></td>
<td width="65%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>s</b></p></td>
<td width="5%"></td>
<td width="12%">


<p>slope</p></td>
<td width="65%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>k</b></p></td>
<td width="5%"></td>
<td width="12%">


<p>kHz</p></td>
<td width="65%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>width, w</b></p>

<p style="margin-left:17%;">Specify the band-width of a
filter in width_type units.</p>

<p style="margin-left:11%;"><b>gain, g</b></p>

<p style="margin-left:17%;">Set the required gain or
attenuation in dB. Beware of clipping when using a positive
gain.</p>

<p style="margin-left:11%;"><b>mix, m</b></p>

<p style="margin-left:17%;">How much to use filtered signal
in output. Default is 1. Range is between 0 and 1.</p>

<p style="margin-left:11%;"><b>channels, c</b></p>

<p style="margin-left:17%;">Specify which channels to
filter, by default all available are filtered.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Attenuate 10 dB at 1000 Hz, with a bandwidth of 200
Hz:</p> </td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">equalizer=f=1000:t=h:width=200:g=-10</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Apply 2 dB gain at 1000 Hz with
Q 1 and attenuate 5 dB at 100 Hz with Q 2:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">equalizer=f=1000:t=q:w=1:g=2,equalizer=f=100:t=q:w=2:g=-5</p>


<p style="margin-left:11%; margin-top: 1em"><i>Commands</i></p>

<p style="margin-left:11%; margin-top: 1em">This filter
supports the following commands: <b><br>
frequency, f</b></p>

<p style="margin-left:17%;">Change equalizer frequency.
Syntax for the command is : &quot;<i>frequency</i>&quot;</p>

<p style="margin-left:11%;"><b>width_type, t</b></p>

<p style="margin-left:17%;">Change equalizer width_type.
Syntax for the command is :
&quot;<i>width_type</i>&quot;</p>

<p style="margin-left:11%;"><b>width, w</b></p>

<p style="margin-left:17%;">Change equalizer width. Syntax
for the command is : &quot;<i>width</i>&quot;</p>

<p style="margin-left:11%;"><b>gain, g</b></p>

<p style="margin-left:17%;">Change equalizer gain. Syntax
for the command is : &quot;<i>gain</i>&quot;</p>

<p style="margin-left:11%;"><b>mix, m</b></p>

<p style="margin-left:17%;">Change equalizer mix. Syntax
for the command is : &quot;<i>mix</i>&quot;</p>


<p style="margin-left:11%; margin-top: 1em"><b>extrastereo</b>
<br>
Linearly increases the difference between left and right
channels which adds some sort of &quot;live&quot; effect to
playback.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>m</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Sets the difference coefficient (default: 2.5). 0.0
means mono sound (average of both channels), with 1.0 sound
will be unchanged, with -1.0 left and right channels will be
swapped.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>c</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Enable clipping. By default is enabled.</p></td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><b>firequalizer</b>
<br>
Apply <small>FIR</small> Equalization using arbitrary
frequency response.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following option: <b><br>
gain</b></p>

<p style="margin-left:17%;">Set gain curve equation (in
dB). The expression can contain variables:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>f</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>the evaluated frequency</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>sr</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>sample rate</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>ch</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>channel number, set to 0 when multichannels evaluation
is disabled</p></td></tr>
</table>

<p style="margin-left:17%;"><b>chid</b></p>

<p style="margin-left:23%;">channel id, see
libavutil/channel_layout.h, set to the first channel id when
multichannels evaluation is disabled</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>chs</b></p></td>
<td width="1%"></td>
<td width="28%">


<p>number of channels</p></td>
<td width="49%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>chlayout</b></p>

<p style="margin-left:23%;">channel_layout, see
libavutil/channel_layout.h</p>

<p style="margin-left:17%; margin-top: 1em">and functions:
<b><br>
gain_interpolate(f)</b></p>

<p style="margin-left:23%;">interpolate gain on frequency f
based on gain_entry</p>


<p style="margin-left:17%;"><b>cubic_interpolate(f)</b></p>

<p style="margin-left:23%;">same as gain_interpolate, but
smoother</p>

<p style="margin-left:17%; margin-top: 1em">This option is
also available as command. Default is
gain_interpolate(f).</p>

<p style="margin-left:11%;"><b>gain_entry</b></p>

<p style="margin-left:17%;">Set gain entry for
gain_interpolate function. The expression can contain
functions: <b><br>
entry(f, g)</b></p>

<p style="margin-left:23%;">store gain entry at frequency f
with value g</p>

<p style="margin-left:17%; margin-top: 1em">This option is
also available as command.</p>

<p style="margin-left:11%;"><b>delay</b></p>

<p style="margin-left:17%;">Set filter delay in seconds.
Higher value means more accurate. Default is 0.01.</p>

<p style="margin-left:11%;"><b>accuracy</b></p>

<p style="margin-left:17%;">Set filter accuracy in Hz.
Lower value means more accurate. Default is 5.</p>

<p style="margin-left:11%;"><b>wfunc</b></p>

<p style="margin-left:17%;">Set window function. Acceptable
values are: <b><br>
rectangular</b></p>

<p style="margin-left:23%;">rectangular window, useful when
gain curve is already smooth</p>

<p style="margin-left:17%;"><b>hann</b></p>

<p style="margin-left:23%;">hann window (default)</p>

<p style="margin-left:17%;"><b>hamming</b></p>

<p style="margin-left:23%;">hamming window</p>

<p style="margin-left:17%;"><b>blackman</b></p>

<p style="margin-left:23%;">blackman window</p>

<p style="margin-left:17%;"><b>nuttall3</b></p>

<p style="margin-left:23%;">3-terms continuous 1st
derivative nuttall window</p>

<p style="margin-left:17%;"><b>mnuttall3</b></p>

<p style="margin-left:23%;">minimum 3-terms discontinuous
nuttall window</p>

<p style="margin-left:17%;"><b>nuttall</b></p>

<p style="margin-left:23%;">4-terms continuous 1st
derivative nuttall window</p>

<p style="margin-left:17%;"><b>bnuttall</b></p>

<p style="margin-left:23%;">minimum 4-terms discontinuous
nuttall (blackman-nuttall) window</p>

<p style="margin-left:17%;"><b>bharris</b></p>

<p style="margin-left:23%;">blackman-harris window</p>

<p style="margin-left:17%;"><b>tukey</b></p>

<p style="margin-left:23%;">tukey window</p>

<p style="margin-left:11%;"><b>fixed</b></p>

<p style="margin-left:17%;">If enabled, use fixed number of
audio samples. This improves speed when filtering with large
delay. Default is disabled.</p>

<p style="margin-left:11%;"><b>multi</b></p>

<p style="margin-left:17%;">Enable multichannels evaluation
on gain. Default is disabled.</p>

<p style="margin-left:11%;"><b>zero_phase</b></p>

<p style="margin-left:17%;">Enable zero phase mode by
subtracting timestamp to compensate delay. Default is
disabled.</p>

<p style="margin-left:11%;"><b>scale</b></p>

<p style="margin-left:17%;">Set scale used by gain.
Acceptable values are: <b><br>
linlin</b></p>

<p style="margin-left:23%;">linear frequency, linear
gain</p>

<p style="margin-left:17%;"><b>linlog</b></p>

<p style="margin-left:23%;">linear frequency, logarithmic
(in dB) gain (default)</p>

<p style="margin-left:17%;"><b>loglin</b></p>

<p style="margin-left:23%;">logarithmic (in octave scale
where 20 Hz is 0) frequency, linear gain</p>

<p style="margin-left:17%;"><b>loglog</b></p>

<p style="margin-left:23%;">logarithmic frequency,
logarithmic gain</p>

<p style="margin-left:11%;"><b>dumpfile</b></p>

<p style="margin-left:17%;">Set file for dumping, suitable
for gnuplot.</p>

<p style="margin-left:11%;"><b>dumpscale</b></p>

<p style="margin-left:17%;">Set scale for dumpfile.
Acceptable values are same with scale option. Default is
linlog.</p>

<p style="margin-left:11%;"><b>fft2</b></p>

<p style="margin-left:17%;">Enable 2-channel convolution
using complex <small>FFT.</small> This improves speed
significantly. Default is disabled.</p>

<p style="margin-left:11%;"><b>min_phase</b></p>

<p style="margin-left:17%;">Enable minimum phase impulse
response. Default is disabled.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="29%">


<p>lowpass at 1000 Hz:</p></td>
<td width="54%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">firequalizer=gain='if(lt(f,1000),
0, -INF)'</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="54%">


<p style="margin-top: 1em">lowpass at 1000 Hz with
gain_entry:</p> </td>
<td width="29%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">firequalizer=gain_entry='entry(1000,0);
entry(1001, -INF)'</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="31%">


<p style="margin-top: 1em">custom equalization:</p></td>
<td width="52%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">firequalizer=gain_entry='entry(100,0);
entry(400, -4); entry(1000, -6); entry(2000, 0)'</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="75%">


<p style="margin-top: 1em">higher delay with zero phase to
compensate delay:</p></td>
<td width="8%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">firequalizer=delay=0.1:fixed=on:zero_phase=on</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="78%">


<p style="margin-top: 1em">lowpass on left channel,
highpass on right channel:</p></td>
<td width="5%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">firequalizer=gain='if(eq(chid,1),
gain_interpolate(f), if(eq(chid,2), gain_interpolate(1e6+f),
0))' <br>
:gain_entry='entry(1000, 0); entry(1001,-INF);
entry(1e6+1000,0)':multi=on</p>

<p style="margin-left:11%; margin-top: 1em"><b>flanger</b>
<br>
Apply a flanging effect to the audio.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
delay</b></p>

<p style="margin-left:17%;">Set base delay in milliseconds.
Range from 0 to 30. Default value is 0.</p>

<p style="margin-left:11%;"><b>depth</b></p>

<p style="margin-left:17%;">Set added sweep delay in
milliseconds. Range from 0 to 10. Default value is 2.</p>

<p style="margin-left:11%;"><b>regen</b></p>

<p style="margin-left:17%;">Set percentage regeneration
(delayed signal feedback). Range from -95 to 95. Default
value is 0.</p>

<p style="margin-left:11%;"><b>width</b></p>

<p style="margin-left:17%;">Set percentage of delayed
signal mixed with original. Range from 0 to 100. Default
value is 71.</p>

<p style="margin-left:11%;"><b>speed</b></p>

<p style="margin-left:17%;">Set sweeps per second (Hz).
Range from 0.1 to 10. Default value is 0.5.</p>

<p style="margin-left:11%;"><b>shape</b></p>

<p style="margin-left:17%;">Set swept wave shape, can be
<i>triangular</i> or <i>sinusoidal</i>. Default value is
<i>sinusoidal</i>.</p>

<p style="margin-left:11%;"><b>phase</b></p>

<p style="margin-left:17%;">Set swept wave percentage-shift
for multi channel. Range from 0 to 100. Default value is
25.</p>

<p style="margin-left:11%;"><b>interp</b></p>

<p style="margin-left:17%;">Set delay-line interpolation,
<i>linear</i> or <i>quadratic</i>. Default is
<i>linear</i>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>haas</b>
<br>
Apply Haas effect to audio.</p>

<p style="margin-left:11%; margin-top: 1em">Note that this
makes most sense to apply on mono signals. With this filter
applied to mono signals it give some directionality and
stretches its stereo image.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
level_in</b></p>

<p style="margin-left:17%;">Set input level. By default is
<i>1</i>, or 0dB</p>

<p style="margin-left:11%;"><b>level_out</b></p>

<p style="margin-left:17%;">Set output level. By default is
<i>1</i>, or 0dB.</p>

<p style="margin-left:11%;"><b>side_gain</b></p>

<p style="margin-left:17%;">Set gain applied to side part
of signal. By default is <i>1</i>.</p>

<p style="margin-left:11%;"><b>middle_source</b></p>

<p style="margin-left:17%;">Set kind of middle source. Can
be one of the following: <b><br>
left</b></p>

<p style="margin-left:23%;">Pick left channel.</p>

<p style="margin-left:17%;"><b>right</b></p>

<p style="margin-left:23%;">Pick right channel.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>mid</b></p></td>
<td width="1%"></td>
<td width="62%">


<p>Pick middle part signal of stereo image.</p></td>
<td width="15%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>side</b></p>

<p style="margin-left:23%;">Pick side part signal of stereo
image.</p>

<p style="margin-left:11%;"><b>middle_phase</b></p>

<p style="margin-left:17%;">Change middle phase. By default
is disabled.</p>

<p style="margin-left:11%;"><b>left_delay</b></p>

<p style="margin-left:17%;">Set left channel delay. By
default is <i>2.05</i> milliseconds.</p>

<p style="margin-left:11%;"><b>left_balance</b></p>

<p style="margin-left:17%;">Set left channel balance. By
default is <i>-1</i>.</p>

<p style="margin-left:11%;"><b>left_gain</b></p>

<p style="margin-left:17%;">Set left channel gain. By
default is <i>1</i>.</p>

<p style="margin-left:11%;"><b>left_phase</b></p>

<p style="margin-left:17%;">Change left phase. By default
is disabled.</p>

<p style="margin-left:11%;"><b>right_delay</b></p>

<p style="margin-left:17%;">Set right channel delay. By
defaults is <i>2.12</i> milliseconds.</p>

<p style="margin-left:11%;"><b>right_balance</b></p>

<p style="margin-left:17%;">Set right channel balance. By
default is <i>1</i>.</p>

<p style="margin-left:11%;"><b>right_gain</b></p>

<p style="margin-left:17%;">Set right channel gain. By
default is <i>1</i>.</p>

<p style="margin-left:11%;"><b>right_phase</b></p>

<p style="margin-left:17%;">Change right phase. By default
is enabled.</p>

<p style="margin-left:11%; margin-top: 1em"><b>hdcd</b>
<br>
Decodes High Definition Compatible Digital (
<small>HDCD</small> ) data. A 16-bit <small>PCM</small>
stream with embedded <small>HDCD</small> codes is expanded
into a 20-bit <small>PCM</small> stream.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
supports the Peak Extend and Low-level Gain Adjustment
features of <small>HDCD,</small> and detects the Transient
Filter flag.</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i
HDCD16.flac -af hdcd OUT24.flac</p>

<p style="margin-left:11%; margin-top: 1em">When using the
filter with wav, note the default encoding for wav is
16-bit, so the resulting 20-bit stream will be truncated
back to 16-bit. Use something like <b>-acodec pcm_s24le</b>
after the filter to get 24-bit <small>PCM</small>
output.</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i
HDCD16.wav -af hdcd OUT16.wav <br>
ffmpeg -i HDCD16.wav -af hdcd -c:a pcm_s24le OUT24.wav</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
disable_autoconvert</b></p>

<p style="margin-left:17%;">Disable any automatic format
conversion or resampling in the filter graph.</p>

<p style="margin-left:11%;"><b>process_stereo</b></p>

<p style="margin-left:17%;">Process the stereo channels
together. If target_gain does not match between channels,
consider it invalid and use the last valid target_gain.</p>

<p style="margin-left:11%;"><b>cdt_ms</b></p>

<p style="margin-left:17%;">Set the code detect timer
period in ms.</p>

<p style="margin-left:11%;"><b>force_pe</b></p>

<p style="margin-left:17%;">Always extend peaks above
-3dBFS even if <small>PE</small> isn&rsquo;t signaled.</p>

<p style="margin-left:11%;"><b>analyze_mode</b></p>

<p style="margin-left:17%;">Replace audio with a solid tone
and adjust the amplitude to signal some specific aspect of
the decoding process. The output file can be loaded in an
audio editor alongside the original to aid analysis.</p>


<p style="margin-left:17%; margin-top: 1em">&quot;analyze_mode=pe:force_pe=true&quot;
can be used to see all samples above the <small>PE</small>
level.</p>

<p style="margin-left:17%; margin-top: 1em">Modes are:
<b><br>
0, off</b></p>

<p style="margin-left:23%;">Disabled</p>

<p style="margin-left:17%;"><b>1, lle</b></p>

<p style="margin-left:23%;">Gain adjustment level at each
sample</p>

<p style="margin-left:17%;"><b>2, pe</b></p>

<p style="margin-left:23%;">Samples where peak extend
occurs</p>

<p style="margin-left:17%;"><b>3, cdt</b></p>

<p style="margin-left:23%;">Samples where the code detect
timer is active</p>

<p style="margin-left:17%;"><b>4, tgm</b></p>

<p style="margin-left:23%;">Samples where the target gain
does not match between channels</p>


<p style="margin-left:11%; margin-top: 1em"><b>headphone</b>
<br>
Apply head-related transfer functions (HRTFs) to create
virtual loudspeakers around the user for binaural listening
via headphones. The HRIRs are provided via additional
streams, for each channel one stereo input stream is
needed.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>map</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set mapping of input streams for convolution. The
argument is a &rsquo;|&rsquo;-separated list of channel
names in order as they are given as additional stream inputs
for filter. This also specify number of input streams.
Number of input streams must be not less than number of
channels in first stream plus one.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>gain</b></p>

<p style="margin-left:17%;">Set gain applied to audio.
Value is in dB. Default is 0.</p>

<p style="margin-left:11%;"><b>type</b></p>

<p style="margin-left:17%;">Set processing type. Can be
<i>time</i> or <i>freq</i>. <i>time</i> is processing audio
in time domain which is slow. <i>freq</i> is processing
audio in frequency domain which is fast. Default is
<i>freq</i>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>lfe</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set custom gain for <small>LFE</small> channels. Value
is in dB. Default is 0.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>size</b></p>

<p style="margin-left:17%;">Set size of frame in number of
samples which will be processed at once. Default value is
<i>1024</i>. Allowed range is from 1024 to 96000.</p>

<p style="margin-left:11%;"><b>hrir</b></p>

<p style="margin-left:17%;">Set format of hrir stream.
Default value is <i>stereo</i>. Alternative value is
<i>multich</i>. If value is set to <i>stereo</i>, number of
additional streams should be greater or equal to number of
input channels in first input stream. Also each additional
stream should have stereo number of channels. If value is
set to <i>multich</i>, number of additional streams should
be exactly one. Also number of input channels of additional
stream should be equal or greater than twice number of
channels of first input stream.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Full example using wav files as coefficients with amovie
filters for 7.1 downmix, each amovie filter use stereo file
with <small>IR</small> coefficients as input. The files give
coefficients for each position of virtual loudspeaker:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
input.wav <br>
-filter_complex
&quot;amovie=azi_270_ele_0_DFC.wav[sr];amovie=azi_90_ele_0_DFC.wav[sl];amovie=azi_225_ele_0_DFC.wav[br];amovie=azi_135_ele_0_DFC.wav[bl];amovie=azi_0_ele_0_DFC.wav,asplit[fc][lfe];amovie=azi_35_ele_0_DFC.wav[fl];amovie=azi_325_ele_0_DFC.wav[fr];[0:a][fl][fr][fc][lfe][bl][br][sl][sr]headphone=FL|FR|FC|LFE|BL|BR|SL|SR&quot;
<br>
output.wav</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Full example using wav files as
coefficients with amovie filters for 7.1 downmix, but now in
<i>multich hrir</i> format.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
input.wav -filter_complex
&quot;amovie=minp.wav[hrirs];[0:a][hrirs]headphone=map=FL|FR|FC|LFE|BL|BR|SL|SR:hrir=multich&quot;
<br>
output.wav</p>


<p style="margin-left:11%; margin-top: 1em"><b>highpass</b>
<br>
Apply a high-pass filter with 3dB point frequency. The
filter can be either single-pole, or double-pole (the
default). The filter roll off at 6dB per pole per octave
(20dB per pole per decade).</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
frequency, f</b></p>

<p style="margin-left:17%;">Set frequency in Hz. Default is
3000.</p>

<p style="margin-left:11%;"><b>poles, p</b></p>

<p style="margin-left:17%;">Set number of poles. Default is
2.</p>

<p style="margin-left:11%;"><b>width_type, t</b></p>

<p style="margin-left:17%;">Set method to specify
band-width of filter.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>h</b></p></td>
<td width="5%"></td>
<td width="12%">


<p>Hz</p></td>
<td width="65%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>q</b></p></td>
<td width="5%"></td>
<td width="12%">


<p>Q-Factor</p></td>
<td width="65%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>o</b></p></td>
<td width="5%"></td>
<td width="12%">


<p>octave</p></td>
<td width="65%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>s</b></p></td>
<td width="5%"></td>
<td width="12%">


<p>slope</p></td>
<td width="65%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>k</b></p></td>
<td width="5%"></td>
<td width="12%">


<p>kHz</p></td>
<td width="65%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>width, w</b></p>

<p style="margin-left:17%;">Specify the band-width of a
filter in width_type units. Applies only to double-pole
filter. The default is 0.707q and gives a Butterworth
response.</p>

<p style="margin-left:11%;"><b>mix, m</b></p>

<p style="margin-left:17%;">How much to use filtered signal
in output. Default is 1. Range is between 0 and 1.</p>

<p style="margin-left:11%;"><b>channels, c</b></p>

<p style="margin-left:17%;">Specify which channels to
filter, by default all available are filtered.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Commands</i></p>

<p style="margin-left:11%; margin-top: 1em">This filter
supports the following commands: <b><br>
frequency, f</b></p>

<p style="margin-left:17%;">Change highpass frequency.
Syntax for the command is : &quot;<i>frequency</i>&quot;</p>

<p style="margin-left:11%;"><b>width_type, t</b></p>

<p style="margin-left:17%;">Change highpass width_type.
Syntax for the command is :
&quot;<i>width_type</i>&quot;</p>

<p style="margin-left:11%;"><b>width, w</b></p>

<p style="margin-left:17%;">Change highpass width. Syntax
for the command is : &quot;<i>width</i>&quot;</p>

<p style="margin-left:11%;"><b>mix, m</b></p>

<p style="margin-left:17%;">Change highpass mix. Syntax for
the command is : &quot;<i>mix</i>&quot;</p>

<p style="margin-left:11%; margin-top: 1em"><b>join</b>
<br>
Join multiple input streams into one multi-channel
stream.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters: <b><br>
inputs</b></p>

<p style="margin-left:17%;">The number of input streams. It
defaults to 2.</p>

<p style="margin-left:11%;"><b>channel_layout</b></p>

<p style="margin-left:17%;">The desired output channel
layout. It defaults to stereo.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>map</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Map channels from inputs to output. The argument is a
&rsquo;|&rsquo;-separated list of mappings, each in the
&quot;<i>input_idx</i>.<i>in_channel</i>-<i>out_channel</i>&quot;
form. <i>input_idx</i> is the 0-based index of the input
stream. <i>in_channel</i> can be either the name of the
input channel (e.g. <small>FL</small> for front left) or its
index in the specified input stream. <i>out_channel</i> is
the name of the output channel.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">The filter will
attempt to guess the mappings when they are not specified
explicitly. It does so by first trying to find an unused
matching input channel and if that fails it picks the first
unused input channel.</p>

<p style="margin-left:11%; margin-top: 1em">Join 3 inputs
(with properly set channel layouts):</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i
INPUT1 -i INPUT2 -i INPUT3 -filter_complex join=inputs=3
OUTPUT</p>

<p style="margin-left:11%; margin-top: 1em">Build a 5.1
output from 6 single-channel streams:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i fl -i
fr -i fc -i sl -i sr -i lfe -filter_complex <br>

'join=inputs=6:channel_layout=5.1:map=0.0-FL|1.0-FR|2.0-FC|3.0-SL|4.0-SR|5.0-LFE'
<br>
out</p>

<p style="margin-left:11%; margin-top: 1em"><b>ladspa</b>
<br>
Load a <small>LADSPA</small> (Linux Audio Developer&rsquo;s
Simple Plugin <small>API</small> ) plugin.</p>

<p style="margin-left:11%; margin-top: 1em">To enable
compilation of this filter you need to configure FFmpeg with
&quot;--enable-ladspa&quot;. <b><br>
file, f</b></p>

<p style="margin-left:17%;">Specifies the name of
<small>LADSPA</small> plugin library to load. If the
environment variable <b><small>LADSPA_PATH</small></b> is
defined, the <small>LADSPA</small> plugin is searched in
each one of the directories specified by the colon separated
list in <b><small>LADSPA_PATH</small></b> , otherwise in the
standard <small>LADSPA</small> paths, which are in this
order: <i><small>HOME/</small> .ladspa/lib/</i>,
<i>/usr/local/lib/ladspa/</i>, <i>/usr/lib/ladspa/</i>.</p>

<p style="margin-left:11%;"><b>plugin, p</b></p>

<p style="margin-left:17%;">Specifies the plugin within the
library. Some libraries contain only one plugin, but others
contain many of them. If this is not set filter will list
all available plugins within the specified library.</p>

<p style="margin-left:11%;"><b>controls, c</b></p>

<p style="margin-left:17%;">Set the &rsquo;|&rsquo;
separated list of controls which are zero or more floating
point values that determine the behavior of the loaded
plugin (for example delay, threshold or gain). Controls need
to be defined using the following syntax:
c0=<i>value0</i>|c1=<i>value1</i>|c2=<i>value2</i>|...,
where <i>valuei</i> is the value set on the <i>i</i>-th
control. Alternatively they can be also defined using the
following syntax:
<i>value0</i>|<i>value1</i>|<i>value2</i>|..., where
<i>valuei</i> is the value set on the <i>i</i>-th control.
If <b>controls</b> is set to &quot;help&quot;, all available
controls and their valid ranges are printed.</p>

<p style="margin-left:11%;"><b>sample_rate, s</b></p>

<p style="margin-left:17%;">Specify the sample rate,
default to 44100. Only used if plugin have zero inputs.</p>

<p style="margin-left:11%;"><b>nb_samples, n</b></p>

<p style="margin-left:17%;">Set the number of samples per
channel per each output frame, default is 1024. Only used if
plugin have zero inputs.</p>

<p style="margin-left:11%;"><b>duration, d</b></p>

<p style="margin-left:17%;">Set the minimum duration of the
sourced audio. See <b>the Time duration section in the
ffmpeg-utils(1) manual</b> for the accepted syntax. Note
that the resulting duration may be greater than the
specified duration, as the generated audio is always cut at
the end of a complete frame. If not specified, or the
expressed duration is negative, the audio is supposed to be
generated forever. Only used if plugin have zero inputs.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>List all available plugins within amp (
<small>LADSPA</small> example plugin) library:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">ladspa=file=amp</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">List all available controls and
their valid ranges for &quot;vcf_notch&quot; plugin from
&quot;VCF&quot; library:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">ladspa=f=vcf:p=vcf_notch:c=help</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Simulate low quality audio
equipment using &quot;Computer Music Toolkit&quot; (
<small>CMT</small> ) plugin library:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">ladspa=file=cmt:plugin=lofi:controls=c0=22|c1=12|c2=12</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Add reverberation to the audio
using TAP-plugins (Tom&rsquo;s Audio Processing
plugins):</p> </td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">ladspa=file=tap_reverb:tap_reverb</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="63%">


<p style="margin-top: 1em">Generate white noise, with 0.2
amplitude:</p> </td>
<td width="20%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">ladspa=file=cmt:noise_source_white:c=c0=.2</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Generate 20 bpm clicks using
plugin &quot;C* Click - Metronome&quot; from the &quot;C*
Audio Plugin Suite&quot; ( <small>CAPS</small> )
library:</p> </td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">ladspa=file=caps:Click:c=c1=20'</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="80%">


<p style="margin-top: 1em">Apply &quot;C* Eq10X2 - Stereo
10-band equaliser&quot; effect:</p></td>
<td width="3%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">ladspa=caps:Eq10X2:c=c0=-48|c9=-24|c3=12|c4=2</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Increase volume by 20dB using
fast lookahead limiter from Steve Harris &quot;SWH
Plugins&quot; collection:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">ladspa=fast_lookahead_limiter_1913:fastLookaheadLimiter:20|0|2</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Attenuate low frequencies using
Multiband <small>EQ</small> from Steve Harris &quot;SWH
Plugins&quot; collection:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">ladspa=mbeq_1197:mbeq:-24|-24|-24|0|0|0|0|0|0|0|0|0|0|0|0</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Reduce stereo image using
&quot;Narrower&quot; from the &quot;C* Audio Plugin
Suite&quot; ( <small>CAPS</small> ) library:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">ladspa=caps:Narrower</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Another white noise, now using
&quot;C* Audio Plugin Suite&quot; ( <small>CAPS</small> )
library:</p> </td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">ladspa=caps:White:.2</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Some fractal noise, using
&quot;C* Audio Plugin Suite&quot; ( <small>CAPS</small> )
library:</p> </td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">ladspa=caps:Fractal:c=c1=1</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="78%">


<p style="margin-top: 1em">Dynamic volume normalization
using &quot;VLevel&quot; plugin:</p></td>
<td width="5%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">ladspa=vlevel-ladspa:vlevel_mono</p>


<p style="margin-left:11%; margin-top: 1em"><i>Commands</i></p>

<p style="margin-left:11%; margin-top: 1em">This filter
supports the following commands:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>cN</b></p></td>
<td width="3%"></td>
<td width="46%">


<p style="margin-top: 1em">Modify the <i>N</i>-th control
value.</p> </td>
<td width="37%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">If the
specified value is not valid, it is ignored and prior one is
kept.</p>


<p style="margin-left:11%; margin-top: 1em"><b>loudnorm</b>
<small><br>
EBU R128</small> loudness normalization. Includes both
dynamic and linear normalization modes. Support for both
single pass (livestreams, files) and double pass (files)
modes. This algorithm can target <small>IL, LRA,</small> and
maximum true peak. To accurately detect true peaks, the
audio stream will be upsampled to 192 kHz unless the
normalization mode is linear. Use the &quot;-ar&quot; option
or &quot;aresample&quot; filter to explicitly set an output
sample rate.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
I, i</b></p>

<p style="margin-left:17%;">Set integrated loudness target.
Range is -70.0 - -5.0. Default value is -24.0.</p>

<p style="margin-left:11%;"><b><small>LRA,</small>
lra</b></p>

<p style="margin-left:17%;">Set loudness range target.
Range is 1.0 - 20.0. Default value is 7.0.</p>

<p style="margin-left:11%;"><b><small>TP,</small>
tp</b></p>

<p style="margin-left:17%;">Set maximum true peak. Range is
-9.0 - +0.0. Default value is -2.0.</p>

<p style="margin-left:11%;"><b>measured_I,
measured_i</b></p>

<p style="margin-left:17%;">Measured <small>IL</small> of
input file. Range is -99.0 - +0.0.</p>

<p style="margin-left:11%;"><b>measured_LRA,
measured_lra</b></p>

<p style="margin-left:17%;">Measured <small>LRA</small> of
input file. Range is 0.0 - 99.0.</p>

<p style="margin-left:11%;"><b>measured_TP,
measured_tp</b></p>

<p style="margin-left:17%;">Measured true peak of input
file. Range is -99.0 - +99.0.</p>

<p style="margin-left:11%;"><b>measured_thresh</b></p>

<p style="margin-left:17%;">Measured threshold of input
file. Range is -99.0 - +0.0.</p>

<p style="margin-left:11%;"><b>offset</b></p>

<p style="margin-left:17%;">Set offset gain. Gain is
applied before the true-peak limiter. Range is -99.0 -
+99.0. Default is +0.0.</p>

<p style="margin-left:11%;"><b>linear</b></p>

<p style="margin-left:17%;">Normalize linearly if possible.
measured_I, measured_LRA, measured_TP, and measured_thresh
must also to be specified in order to use this mode. Options
are true or false. Default is true.</p>

<p style="margin-left:11%;"><b>dual_mono</b></p>

<p style="margin-left:17%;">Treat mono input files as
&quot;dual-mono&quot;. If a mono file is intended for
playback on a stereo system, its <small>EBU R128</small>
measurement will be perceptually incorrect. If set to
&quot;true&quot;, this option will compensate for this
effect. Multi-channel input files are not affected by this
option. Options are true or false. Default is false.</p>

<p style="margin-left:11%;"><b>print_format</b></p>

<p style="margin-left:17%;">Set print format for stats.
Options are summary, json, or none. Default value is
none.</p>

<p style="margin-left:11%; margin-top: 1em"><b>lowpass</b>
<br>
Apply a low-pass filter with 3dB point frequency. The filter
can be either single-pole or double-pole (the default). The
filter roll off at 6dB per pole per octave (20dB per pole
per decade).</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
frequency, f</b></p>

<p style="margin-left:17%;">Set frequency in Hz. Default is
500.</p>

<p style="margin-left:11%;"><b>poles, p</b></p>

<p style="margin-left:17%;">Set number of poles. Default is
2.</p>

<p style="margin-left:11%;"><b>width_type, t</b></p>

<p style="margin-left:17%;">Set method to specify
band-width of filter.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>h</b></p></td>
<td width="5%"></td>
<td width="12%">


<p>Hz</p></td>
<td width="65%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>q</b></p></td>
<td width="5%"></td>
<td width="12%">


<p>Q-Factor</p></td>
<td width="65%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>o</b></p></td>
<td width="5%"></td>
<td width="12%">


<p>octave</p></td>
<td width="65%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>s</b></p></td>
<td width="5%"></td>
<td width="12%">


<p>slope</p></td>
<td width="65%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>k</b></p></td>
<td width="5%"></td>
<td width="12%">


<p>kHz</p></td>
<td width="65%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>width, w</b></p>

<p style="margin-left:17%;">Specify the band-width of a
filter in width_type units. Applies only to double-pole
filter. The default is 0.707q and gives a Butterworth
response.</p>

<p style="margin-left:11%;"><b>mix, m</b></p>

<p style="margin-left:17%;">How much to use filtered signal
in output. Default is 1. Range is between 0 and 1.</p>

<p style="margin-left:11%;"><b>channels, c</b></p>

<p style="margin-left:17%;">Specify which channels to
filter, by default all available are filtered.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Lowpass only <small>LFE</small> channel, it
<small>LFE</small> is not present it does nothing:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">lowpass=c=LFE</p>


<p style="margin-left:11%; margin-top: 1em"><i>Commands</i></p>

<p style="margin-left:11%; margin-top: 1em">This filter
supports the following commands: <b><br>
frequency, f</b></p>

<p style="margin-left:17%;">Change lowpass frequency.
Syntax for the command is : &quot;<i>frequency</i>&quot;</p>

<p style="margin-left:11%;"><b>width_type, t</b></p>

<p style="margin-left:17%;">Change lowpass width_type.
Syntax for the command is :
&quot;<i>width_type</i>&quot;</p>

<p style="margin-left:11%;"><b>width, w</b></p>

<p style="margin-left:17%;">Change lowpass width. Syntax
for the command is : &quot;<i>width</i>&quot;</p>

<p style="margin-left:11%;"><b>mix, m</b></p>

<p style="margin-left:17%;">Change lowpass mix. Syntax for
the command is : &quot;<i>mix</i>&quot;</p>

<p style="margin-left:11%; margin-top: 1em"><b>lv2</b> <br>
Load a <small>LV2</small> ( <small>LADSPA</small> Version 2)
plugin.</p>

<p style="margin-left:11%; margin-top: 1em">To enable
compilation of this filter you need to configure FFmpeg with
&quot;--enable-lv2&quot;. <b><br>
plugin, p</b></p>

<p style="margin-left:17%;">Specifies the plugin
<small>URI.</small> You may need to escape
&rsquo;:&rsquo;.</p>

<p style="margin-left:11%;"><b>controls, c</b></p>

<p style="margin-left:17%;">Set the &rsquo;|&rsquo;
separated list of controls which are zero or more floating
point values that determine the behavior of the loaded
plugin (for example delay, threshold or gain). If
<b>controls</b> is set to &quot;help&quot;, all available
controls and their valid ranges are printed.</p>

<p style="margin-left:11%;"><b>sample_rate, s</b></p>

<p style="margin-left:17%;">Specify the sample rate,
default to 44100. Only used if plugin have zero inputs.</p>

<p style="margin-left:11%;"><b>nb_samples, n</b></p>

<p style="margin-left:17%;">Set the number of samples per
channel per each output frame, default is 1024. Only used if
plugin have zero inputs.</p>

<p style="margin-left:11%;"><b>duration, d</b></p>

<p style="margin-left:17%;">Set the minimum duration of the
sourced audio. See <b>the Time duration section in the
ffmpeg-utils(1) manual</b> for the accepted syntax. Note
that the resulting duration may be greater than the
specified duration, as the generated audio is always cut at
the end of a complete frame. If not specified, or the
expressed duration is negative, the audio is supposed to be
generated forever. Only used if plugin have zero inputs.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="57%">


<p>Apply bass enhancer plugin from Calf:</p></td>
<td width="26%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">lv2=p=http\\\\://calf.sourceforge.net/plugins/BassEnhancer:c=amount=2</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="45%">


<p style="margin-top: 1em">Apply vinyl plugin from
Calf:</p> </td>
<td width="38%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">lv2=p=http\\\\://calf.sourceforge.net/plugins/Vinyl:c=drone=0.2|aging=0.5</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="57%">


<p style="margin-top: 1em">Apply bit crusher plugin from
ArtyFX:</p> </td>
<td width="26%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">lv2=p=http\\\\://www.openavproductions.com/artyfx#bitta:c=crush=0.3</p>


<p style="margin-left:11%; margin-top: 1em"><b>mcompand</b>
<br>
Multiband Compress or expand the audio&rsquo;s dynamic
range.</p>

<p style="margin-left:11%; margin-top: 1em">The input audio
is divided into bands using 4th order Linkwitz-Riley IIRs.
This is akin to the crossover of a loudspeaker, and results
in flat frequency response when absent compander action.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters: <b><br>
args</b></p>

<p style="margin-left:17%;">This option syntax is:
attack,decay,[attack,decay..] soft-knee points
crossover_frequency [delay [initial_volume [gain]]] |
attack,decay ... For explanation of each item refer to
compand filter documentation.</p>

<p style="margin-left:11%; margin-top: 1em"><b>pan</b> <br>
Mix channels with specific gain levels. The filter accepts
the output channel layout followed by a set of channels
definitions.</p>

<p style="margin-left:11%; margin-top: 1em">This filter is
also designed to efficiently remap the channels of an audio
stream.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts parameters of the form:
&quot;<i>l</i>|<i>outdef</i>|<i>outdef</i>|...&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>l</b></p></td>
<td width="5%"></td>
<td width="66%">


<p>output channel layout or number of channels</p></td>
<td width="17%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>outdef</b></p>

<p style="margin-left:17%;">output channel specification,
of the form:
&quot;<i>out_name</i>=[<i>gain</i>*]<i>in_name</i>[(+-)[<i>gain</i>*]<i>in_name</i>...]&quot;</p>

<p style="margin-left:11%;"><b>out_name</b></p>

<p style="margin-left:17%;">output channel to define,
either a channel name ( <small>FL, FR,</small> etc.) or a
channel number (c0, c1, etc.)</p>

<p style="margin-left:11%;"><b>gain</b></p>

<p style="margin-left:17%;">multiplicative coefficient for
the channel, 1 leaving the volume unchanged</p>

<p style="margin-left:11%;"><b>in_name</b></p>

<p style="margin-left:17%;">input channel to use, see
out_name for details; it is not possible to mix named and
numbered input channels</p>

<p style="margin-left:11%; margin-top: 1em">If the
&rsquo;=&rsquo; in a channel specification is replaced by
&rsquo;&lt;&rsquo;, then the gains for that specification
will be renormalized so that the total is 1, thus avoiding
clipping noise.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Mixing
examples</i></p>

<p style="margin-left:11%; margin-top: 1em">For example, if
you want to down-mix from stereo to mono, but with a bigger
factor for the left channel:</p>


<p style="margin-left:11%; margin-top: 1em">pan=1c|c0=0.9*c0+0.1*c1</p>

<p style="margin-left:11%; margin-top: 1em">A customized
down-mix to stereo that works automatically for 3-, 4-, 5-
and 7-channels surround:</p>

<p style="margin-left:11%; margin-top: 1em">pan=stereo| FL
&lt; FL + 0.5*FC + 0.6*BL + 0.6*SL | FR &lt; FR + 0.5*FC +
0.6*BR + 0.6*SR</p>

<p style="margin-left:11%; margin-top: 1em">Note that
<b>ffmpeg</b> integrates a default down-mix (and up-mix)
system that should be preferred (see &quot;-ac&quot; option)
unless you have very specific needs.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Remapping
examples</i></p>

<p style="margin-left:11%; margin-top: 1em">The channel
remapping will be effective if, and only if: <br>
*&lt;gain coefficients are zeroes or ones,&gt; <br>
*&lt;only one input per channel output,&gt;</p>

<p style="margin-left:11%; margin-top: 1em">If all these
conditions are satisfied, the filter will notify the user
(&quot;Pure channel mapping detected&quot;), and use an
optimized and lossless method to do the remapping.</p>

<p style="margin-left:11%; margin-top: 1em">For example, if
you have a 5.1 source and want a stereo audio stream by
dropping the extra channels:</p>


<p style="margin-left:11%; margin-top: 1em">pan=&quot;stereo|
c0=FL | c1=FR&quot;</p>

<p style="margin-left:11%; margin-top: 1em">Given the same
source, you can also switch front left and front right
channels and keep the input channel layout:</p>

<p style="margin-left:11%; margin-top: 1em">pan=&quot;5.1|
c0=c1 | c1=c0 | c2=c2 | c3=c3 | c4=c4 | c5=c5&quot;</p>

<p style="margin-left:11%; margin-top: 1em">If the input is
a stereo audio stream, you can mute the front left channel
(and still keep the stereo channel layout) with:</p>


<p style="margin-left:11%; margin-top: 1em">pan=&quot;stereo|c1=c1&quot;</p>

<p style="margin-left:11%; margin-top: 1em">Still with a
stereo audio stream input, you can copy the right channel in
both front left and right:</p>


<p style="margin-left:11%; margin-top: 1em">pan=&quot;stereo|
c0=FR | c1=FR&quot;</p>


<p style="margin-left:11%; margin-top: 1em"><b>replaygain</b>
<br>
ReplayGain scanner filter. This filter takes an audio stream
as an input and outputs it unchanged. At end of filtering it
displays &quot;track_gain&quot; and
&quot;track_peak&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><b>resample</b>
<br>
Convert the audio sample format, sample rate and channel
layout. It is not meant to be used directly.</p>


<p style="margin-left:11%; margin-top: 1em"><b>rubberband</b>
<br>
Apply time-stretching and pitch-shifting with
librubberband.</p>

<p style="margin-left:11%; margin-top: 1em">To enable
compilation of this filter, you need to configure FFmpeg
with &quot;--enable-librubberband&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
tempo</b></p>

<p style="margin-left:17%;">Set tempo scale factor.</p>

<p style="margin-left:11%;"><b>pitch</b></p>

<p style="margin-left:17%;">Set pitch scale factor.</p>

<p style="margin-left:11%;"><b>transients</b></p>

<p style="margin-left:17%;">Set transients detector.
Possible values are: <i><br>
crisp <br>
mixed <br>
smooth</i></p>

<p style="margin-left:11%;"><b>detector</b></p>

<p style="margin-left:17%;">Set detector. Possible values
are: <i><br>
compound <br>
percussive <br>
soft</i></p>

<p style="margin-left:11%;"><b>phase</b></p>

<p style="margin-left:17%;">Set phase. Possible values are:
<i><br>
laminar <br>
independent</i></p>

<p style="margin-left:11%;"><b>window</b></p>

<p style="margin-left:17%;">Set processing window size.
Possible values are: <i><br>
standard <br>
short <br>
long</i></p>

<p style="margin-left:11%;"><b>smoothing</b></p>

<p style="margin-left:17%;">Set smoothing. Possible values
are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><i>off</i></p></td>
<td width="78%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><i>on</i></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>formant</b></p>

<p style="margin-left:17%;">Enable formant preservation
when shift pitching. Possible values are: <i><br>
shifted <br>
preserved</i></p>

<p style="margin-left:11%;"><b>pitchq</b></p>

<p style="margin-left:17%;">Set pitch quality. Possible
values are: <i><br>
quality <br>
speed <br>
consistency</i></p>

<p style="margin-left:11%;"><b>channels</b></p>

<p style="margin-left:17%;">Set channels. Possible values
are: <i><br>
apart <br>
together</i></p>


<p style="margin-left:11%; margin-top: 1em"><b>sidechaincompress</b>
<br>
This filter acts like normal compressor but has the ability
to compress detected signal using second input signal. It
needs two input streams and returns one output stream. First
input stream will be processed depending on second stream
signal. The filtered signal then can be filtered with other
filters in later stages of processing. See <b>pan</b> and
<b>amerge</b> filter.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
level_in</b></p>

<p style="margin-left:17%;">Set input gain. Default is 1.
Range is between 0.015625 and 64.</p>

<p style="margin-left:11%;"><b>mode</b></p>

<p style="margin-left:17%;">Set mode of compressor
operation. Can be &quot;upward&quot; or
&quot;downward&quot;. Default is &quot;downward&quot;.</p>

<p style="margin-left:11%;"><b>threshold</b></p>

<p style="margin-left:17%;">If a signal of second stream
raises above this level it will affect the gain reduction of
first stream. By default is 0.125. Range is between
0.00097563 and 1.</p>

<p style="margin-left:11%;"><b>ratio</b></p>

<p style="margin-left:17%;">Set a ratio about which the
signal is reduced. 1:2 means that if the level raised 4dB
above the threshold, it will be only 2dB above after the
reduction. Default is 2. Range is between 1 and 20.</p>

<p style="margin-left:11%;"><b>attack</b></p>

<p style="margin-left:17%;">Amount of milliseconds the
signal has to rise above the threshold before gain reduction
starts. Default is 20. Range is between 0.01 and 2000.</p>

<p style="margin-left:11%;"><b>release</b></p>

<p style="margin-left:17%;">Amount of milliseconds the
signal has to fall below the threshold before reduction is
decreased again. Default is 250. Range is between 0.01 and
9000.</p>

<p style="margin-left:11%;"><b>makeup</b></p>

<p style="margin-left:17%;">Set the amount by how much
signal will be amplified after processing. Default is 1.
Range is from 1 to 64.</p>

<p style="margin-left:11%;"><b>knee</b></p>

<p style="margin-left:17%;">Curve the sharp knee around the
threshold to enter gain reduction more softly. Default is
2.82843. Range is between 1 and 8.</p>

<p style="margin-left:11%;"><b>link</b></p>

<p style="margin-left:17%;">Choose if the
&quot;average&quot; level between all channels of side-chain
stream or the louder(&quot;maximum&quot;) channel of
side-chain stream affects the reduction. Default is
&quot;average&quot;.</p>

<p style="margin-left:11%;"><b>detection</b></p>

<p style="margin-left:17%;">Should the exact signal be
taken in case of &quot;peak&quot; or an <small>RMS</small>
one in case of &quot;rms&quot;. Default is &quot;rms&quot;
which is mainly smoother.</p>

<p style="margin-left:11%;"><b>level_sc</b></p>

<p style="margin-left:17%;">Set sidechain gain. Default is
1. Range is between 0.015625 and 64.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>mix</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>How much to use compressed signal in output. Default is
1. Range is between 0 and 1.</p></td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Full ffmpeg example taking 2
audio inputs, 1st input to be compressed depending on the
signal of 2nd input and later compressed signal to be merged
with 2nd input:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
main.flac -i sidechain.flac -filter_complex
&quot;[1:a]asplit=2[sc][mix];[0:a][sc]sidechaincompress[compr];[compr][mix]amerge&quot;</p>


<p style="margin-left:11%; margin-top: 1em"><b>sidechaingate</b>
<br>
A sidechain gate acts like a normal (wideband) gate but has
the ability to filter the detected signal before sending it
to the gain reduction stage. Normally a gate uses the full
range signal to detect a level above the threshold. For
example: If you cut all lower frequencies from your
sidechain signal the gate will decrease the volume of your
track only if not enough highs appear. With this technique
you are able to reduce the resonation of a natural drum or
remove &quot;rumbling&quot; of muted strokes from a heavily
distorted guitar. It needs two input streams and returns one
output stream. First input stream will be processed
depending on second stream signal.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
level_in</b></p>

<p style="margin-left:17%;">Set input level before
filtering. Default is 1. Allowed range is from 0.015625 to
64.</p>

<p style="margin-left:11%;"><b>mode</b></p>

<p style="margin-left:17%;">Set the mode of operation. Can
be &quot;upward&quot; or &quot;downward&quot;. Default is
&quot;downward&quot;. If set to &quot;upward&quot; mode,
higher parts of signal will be amplified, expanding dynamic
range in upward direction. Otherwise, in case of
&quot;downward&quot; lower parts of signal will be
reduced.</p>

<p style="margin-left:11%;"><b>range</b></p>

<p style="margin-left:17%;">Set the level of gain reduction
when the signal is below the threshold. Default is 0.06125.
Allowed range is from 0 to 1. Setting this to 0 disables
reduction and then filter behaves like expander.</p>

<p style="margin-left:11%;"><b>threshold</b></p>

<p style="margin-left:17%;">If a signal rises above this
level the gain reduction is released. Default is 0.125.
Allowed range is from 0 to 1.</p>

<p style="margin-left:11%;"><b>ratio</b></p>

<p style="margin-left:17%;">Set a ratio about which the
signal is reduced. Default is 2. Allowed range is from 1 to
9000.</p>

<p style="margin-left:11%;"><b>attack</b></p>

<p style="margin-left:17%;">Amount of milliseconds the
signal has to rise above the threshold before gain reduction
stops. Default is 20 milliseconds. Allowed range is from
0.01 to 9000.</p>

<p style="margin-left:11%;"><b>release</b></p>

<p style="margin-left:17%;">Amount of milliseconds the
signal has to fall below the threshold before the reduction
is increased again. Default is 250 milliseconds. Allowed
range is from 0.01 to 9000.</p>

<p style="margin-left:11%;"><b>makeup</b></p>

<p style="margin-left:17%;">Set amount of amplification of
signal after processing. Default is 1. Allowed range is from
1 to 64.</p>

<p style="margin-left:11%;"><b>knee</b></p>

<p style="margin-left:17%;">Curve the sharp knee around the
threshold to enter gain reduction more softly. Default is
2.828427125. Allowed range is from 1 to 8.</p>

<p style="margin-left:11%;"><b>detection</b></p>

<p style="margin-left:17%;">Choose if exact signal should
be taken for detection or an <small>RMS</small> like one.
Default is rms. Can be peak or rms.</p>

<p style="margin-left:11%;"><b>link</b></p>

<p style="margin-left:17%;">Choose if the average level
between all channels or the louder channel affects the
reduction. Default is average. Can be average or
maximum.</p>

<p style="margin-left:11%;"><b>level_sc</b></p>

<p style="margin-left:17%;">Set sidechain gain. Default is
1. Range is from 0.015625 to 64.</p>


<p style="margin-left:11%; margin-top: 1em"><b>silencedetect</b>
<br>
Detect silence in an audio stream.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
logs a message when it detects that the input audio volume
is less or equal to a noise tolerance value for a duration
greater or equal to the minimum detected noise duration.</p>

<p style="margin-left:11%; margin-top: 1em">The printed
times and duration are expressed in seconds.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
noise, n</b></p>

<p style="margin-left:17%;">Set noise tolerance. Can be
specified in dB (in case &quot;dB&quot; is appended to the
specified value) or amplitude ratio. Default is -60dB, or
0.001.</p>

<p style="margin-left:11%;"><b>duration, d</b></p>

<p style="margin-left:17%;">Set silence duration until
notification (default is 2 seconds).</p>

<p style="margin-left:11%;"><b>mono, m</b></p>

<p style="margin-left:17%;">Process each channel
separately, instead of combined. By default is disabled.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Detect 5 seconds of silence with -50dB noise
tolerance:</p> </td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">silencedetect=n=-50dB:d=5</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Complete example with
<b>ffmpeg</b> to detect silence with 0.0001 noise tolerance
in <i>silence.mp3</i>:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
silence.mp3 -af silencedetect=noise=0.0001 -f null -</p>


<p style="margin-left:11%; margin-top: 1em"><b>silenceremove</b>
<br>
Remove silence from the beginning, middle or end of the
audio.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
start_periods</b></p>

<p style="margin-left:17%;">This value is used to indicate
if audio should be trimmed at beginning of the audio. A
value of zero indicates no silence should be trimmed from
the beginning. When specifying a non-zero value, it trims
audio up until it finds non-silence. Normally, when trimming
silence from beginning of audio the <i>start_periods</i>
will be 1 but it can be increased to higher values to trim
all audio up to specific count of non-silence periods.
Default value is 0.</p>

<p style="margin-left:11%;"><b>start_duration</b></p>

<p style="margin-left:17%;">Specify the amount of time that
non-silence must be detected before it stops trimming audio.
By increasing the duration, bursts of noises can be treated
as silence and trimmed off. Default value is 0.</p>

<p style="margin-left:11%;"><b>start_threshold</b></p>

<p style="margin-left:17%;">This indicates what sample
value should be treated as silence. For digital audio, a
value of 0 may be fine but for audio recorded from analog,
you may wish to increase the value to account for background
noise. Can be specified in dB (in case &quot;dB&quot; is
appended to the specified value) or amplitude ratio. Default
value is 0.</p>

<p style="margin-left:11%;"><b>start_silence</b></p>

<p style="margin-left:17%;">Specify max duration of silence
at beginning that will be kept after trimming. Default is 0,
which is equal to trimming all samples detected as
silence.</p>

<p style="margin-left:11%;"><b>start_mode</b></p>

<p style="margin-left:17%;">Specify mode of detection of
silence end in start of multi-channel audio. Can be
<i>any</i> or <i>all</i>. Default is <i>any</i>. With
<i>any</i>, any sample that is detected as non-silence will
cause stopped trimming of silence. With <i>all</i>, only if
all channels are detected as non-silence will cause stopped
trimming of silence.</p>

<p style="margin-left:11%;"><b>stop_periods</b></p>

<p style="margin-left:17%;">Set the count for trimming
silence from the end of audio. To remove silence from the
middle of a file, specify a <i>stop_periods</i> that is
negative. This value is then treated as a positive value and
is used to indicate the effect should restart processing as
specified by <i>start_periods</i>, making it suitable for
removing periods of silence in the middle of the audio.
Default value is 0.</p>

<p style="margin-left:11%;"><b>stop_duration</b></p>

<p style="margin-left:17%;">Specify a duration of silence
that must exist before audio is not copied any more. By
specifying a higher duration, silence that is wanted can be
left in the audio. Default value is 0.</p>

<p style="margin-left:11%;"><b>stop_threshold</b></p>

<p style="margin-left:17%;">This is the same as
<b>start_threshold</b> but for trimming silence from the end
of audio. Can be specified in dB (in case &quot;dB&quot; is
appended to the specified value) or amplitude ratio. Default
value is 0.</p>

<p style="margin-left:11%;"><b>stop_silence</b></p>

<p style="margin-left:17%;">Specify max duration of silence
at end that will be kept after trimming. Default is 0, which
is equal to trimming all samples detected as silence.</p>

<p style="margin-left:11%;"><b>stop_mode</b></p>

<p style="margin-left:17%;">Specify mode of detection of
silence start in end of multi-channel audio. Can be
<i>any</i> or <i>all</i>. Default is <i>any</i>. With
<i>any</i>, any sample that is detected as non-silence will
cause stopped trimming of silence. With <i>all</i>, only if
all channels are detected as non-silence will cause stopped
trimming of silence.</p>

<p style="margin-left:11%;"><b>detection</b></p>

<p style="margin-left:17%;">Set how is silence detected.
Can be &quot;rms&quot; or &quot;peak&quot;. Second is faster
and works better with digital silence which is exactly 0.
Default value is &quot;rms&quot;.</p>

<p style="margin-left:11%;"><b>window</b></p>

<p style="margin-left:17%;">Set duration in number of
seconds used to calculate size of window in number of
samples for detecting silence. Default value is 0.02.
Allowed range is from 0 to 10.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The following example shows how this filter can be used
to start a recording that does not contain the delay at the
start which usually occurs between pressing the record
button and the start of the performance:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">silenceremove=start_periods=1:start_duration=5:start_threshold=0.02</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Trim all silence encountered
from beginning to end where there is more than 1 second of
silence in audio:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">silenceremove=stop_periods=-1:stop_duration=1:stop_threshold=-90dB</p>


<p style="margin-left:11%; margin-top: 1em"><b>sofalizer</b>
<br>
SOFAlizer uses head-related transfer functions (HRTFs) to
create virtual loudspeakers around the user for binaural
listening via headphones (audio formats up to 9 channels
supported). The HRTFs are stored in <small>SOFA</small>
files (see &lt;<b>http://www.sofacoustics.org/</b>&gt; for a
database). SOFAlizer is developed at the Acoustics Research
Institute ( <small>ARI</small> ) of the Austrian Academy of
Sciences.</p>

<p style="margin-left:11%; margin-top: 1em">To enable
compilation of this filter you need to configure FFmpeg with
&quot;--enable-libmysofa&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
sofa</b></p>

<p style="margin-left:17%;">Set the <small>SOFA</small>
file used for rendering.</p>

<p style="margin-left:11%;"><b>gain</b></p>

<p style="margin-left:17%;">Set gain applied to audio.
Value is in dB. Default is 0.</p>

<p style="margin-left:11%;"><b>rotation</b></p>

<p style="margin-left:17%;">Set rotation of virtual
loudspeakers in deg. Default is 0.</p>

<p style="margin-left:11%;"><b>elevation</b></p>

<p style="margin-left:17%;">Set elevation of virtual
speakers in deg. Default is 0.</p>

<p style="margin-left:11%;"><b>radius</b></p>

<p style="margin-left:17%;">Set distance in meters between
loudspeakers and the listener with near-field HRTFs. Default
is 1.</p>

<p style="margin-left:11%;"><b>type</b></p>

<p style="margin-left:17%;">Set processing type. Can be
<i>time</i> or <i>freq</i>. <i>time</i> is processing audio
in time domain which is slow. <i>freq</i> is processing
audio in frequency domain which is fast. Default is
<i>freq</i>.</p>

<p style="margin-left:11%;"><b>speakers</b></p>

<p style="margin-left:17%;">Set custom positions of virtual
loudspeakers. Syntax for this option is: &lt;
<small>CH</small> &gt; &lt; <small>AZIM</small> &gt; &lt;
<small>ELEV</small> &gt;[|&lt; <small>CH</small> &gt; &lt;
<small>AZIM</small> &gt; &lt; <small>ELEV</small> &gt;|...].
Each virtual loudspeaker is described with short channel
name following with azimuth and elevation in degrees. Each
virtual loudspeaker description is separated by
&rsquo;|&rsquo;. For example to override front left and
front right channel positions use: &rsquo;speakers=FL 45
15|FR 345 15&rsquo;. Descriptions with unrecognised channel
names are ignored.</p>

<p style="margin-left:11%;"><b>lfegain</b></p>

<p style="margin-left:17%;">Set custom gain for
<small>LFE</small> channels. Value is in dB. Default is
0.</p>

<p style="margin-left:11%;"><b>framesize</b></p>

<p style="margin-left:17%;">Set custom frame size in number
of samples. Default is 1024. Allowed range is from 1024 to
96000. Only used if option <b>type</b> is set to
<i>freq</i>.</p>

<p style="margin-left:11%;"><b>normalize</b></p>

<p style="margin-left:17%;">Should all IRs be normalized
upon importing <small>SOFA</small> file. By default is
enabled.</p>

<p style="margin-left:11%;"><b>interpolate</b></p>

<p style="margin-left:17%;">Should nearest IRs be
interpolated with neighbor IRs if exact position does not
match. By default is disabled.</p>

<p style="margin-left:11%;"><b>minphase</b></p>

<p style="margin-left:17%;">Minphase all IRs upon loading
of <small>SOFA</small> file. By default is disabled.</p>

<p style="margin-left:11%;"><b>anglestep</b></p>

<p style="margin-left:17%;">Set neighbor search angle step.
Only used if option <i>interpolate</i> is enabled.</p>

<p style="margin-left:11%;"><b>radstep</b></p>

<p style="margin-left:17%;">Set neighbor search radius
step. Only used if option <i>interpolate</i> is enabled.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="41%">


<p>Using ClubFritz6 sofa file:</p></td>
<td width="42%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">sofalizer=sofa=/path/to/ClubFritz6.sofa:type=freq:radius=1</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Using ClubFritz12 sofa file and
bigger radius with small rotation:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">sofalizer=sofa=/path/to/ClubFritz12.sofa:type=freq:radius=2:rotation=5</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Similar as above but with custom
speaker positions for front left, front right, back left and
back right and also with custom gain:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">&quot;sofalizer=sofa=/path/to/ClubFritz6.sofa:type=freq:radius=2:speakers=FL
45|FR 315|BL 135|BR 225:gain=28&quot;</p>


<p style="margin-left:11%; margin-top: 1em"><b>stereotools</b>
<br>
This filter has some handy utilities to manage stereo
signals, for converting M/S stereo recordings to L/R signal
while having control over the parameters or spreading the
stereo image of master track.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
level_in</b></p>

<p style="margin-left:17%;">Set input level before
filtering for both channels. Defaults is 1. Allowed range is
from 0.015625 to 64.</p>

<p style="margin-left:11%;"><b>level_out</b></p>

<p style="margin-left:17%;">Set output level after
filtering for both channels. Defaults is 1. Allowed range is
from 0.015625 to 64.</p>

<p style="margin-left:11%;"><b>balance_in</b></p>

<p style="margin-left:17%;">Set input balance between both
channels. Default is 0. Allowed range is from -1 to 1.</p>

<p style="margin-left:11%;"><b>balance_out</b></p>

<p style="margin-left:17%;">Set output balance between both
channels. Default is 0. Allowed range is from -1 to 1.</p>

<p style="margin-left:11%;"><b>softclip</b></p>

<p style="margin-left:17%;">Enable softclipping. Results in
analog distortion instead of harsh digital 0dB clipping.
Disabled by default.</p>

<p style="margin-left:11%;"><b>mutel</b></p>

<p style="margin-left:17%;">Mute the left channel. Disabled
by default.</p>

<p style="margin-left:11%;"><b>muter</b></p>

<p style="margin-left:17%;">Mute the right channel.
Disabled by default.</p>

<p style="margin-left:11%;"><b>phasel</b></p>

<p style="margin-left:17%;">Change the phase of the left
channel. Disabled by default.</p>

<p style="margin-left:11%;"><b>phaser</b></p>

<p style="margin-left:17%;">Change the phase of the right
channel. Disabled by default.</p>

<p style="margin-left:11%;"><b>mode</b></p>

<p style="margin-left:17%;">Set stereo mode. Available
values are: <b><br>
lr&gt;lr</b></p>

<p style="margin-left:23%;">Left/Right to Left/Right, this
is default.</p>

<p style="margin-left:17%;"><b>lr&gt;ms</b></p>

<p style="margin-left:23%;">Left/Right to Mid/Side.</p>

<p style="margin-left:17%;"><b>ms&gt;lr</b></p>

<p style="margin-left:23%;">Mid/Side to Left/Right.</p>

<p style="margin-left:17%;"><b>lr&gt;ll</b></p>

<p style="margin-left:23%;">Left/Right to Left/Left.</p>

<p style="margin-left:17%;"><b>lr&gt;rr</b></p>

<p style="margin-left:23%;">Left/Right to Right/Right.</p>

<p style="margin-left:17%;"><b>lr&gt;l+r</b></p>

<p style="margin-left:23%;">Left/Right to Left + Right.</p>

<p style="margin-left:17%;"><b>lr&gt;rl</b></p>

<p style="margin-left:23%;">Left/Right to Right/Left.</p>

<p style="margin-left:17%;"><b>ms&gt;ll</b></p>

<p style="margin-left:23%;">Mid/Side to Left/Left.</p>

<p style="margin-left:17%;"><b>ms&gt;rr</b></p>

<p style="margin-left:23%;">Mid/Side to Right/Right.</p>

<p style="margin-left:11%;"><b>slev</b></p>

<p style="margin-left:17%;">Set level of side signal.
Default is 1. Allowed range is from 0.015625 to 64.</p>

<p style="margin-left:11%;"><b>sbal</b></p>

<p style="margin-left:17%;">Set balance of side signal.
Default is 0. Allowed range is from -1 to 1.</p>

<p style="margin-left:11%;"><b>mlev</b></p>

<p style="margin-left:17%;">Set level of the middle signal.
Default is 1. Allowed range is from 0.015625 to 64.</p>

<p style="margin-left:11%;"><b>mpan</b></p>

<p style="margin-left:17%;">Set middle signal pan. Default
is 0. Allowed range is from -1 to 1.</p>

<p style="margin-left:11%;"><b>base</b></p>

<p style="margin-left:17%;">Set stereo base between mono
and inversed channels. Default is 0. Allowed range is from
-1 to 1.</p>

<p style="margin-left:11%;"><b>delay</b></p>

<p style="margin-left:17%;">Set delay in milliseconds how
much to delay left from right channel and vice versa.
Default is 0. Allowed range is from -20 to 20.</p>

<p style="margin-left:11%;"><b>sclevel</b></p>

<p style="margin-left:17%;">Set S/C level. Default is 1.
Allowed range is from 1 to 100.</p>

<p style="margin-left:11%;"><b>phase</b></p>

<p style="margin-left:17%;">Set the stereo phase in
degrees. Default is 0. Allowed range is from 0 to 360.</p>

<p style="margin-left:11%;"><b>bmode_in, bmode_out</b></p>

<p style="margin-left:17%;">Set balance mode for
balance_in/balance_out option.</p>

<p style="margin-left:17%; margin-top: 1em">Can be one of
the following: <b><br>
balance</b></p>

<p style="margin-left:23%;">Classic balance mode. Attenuate
one channel at time. Gain is raised up to 1.</p>

<p style="margin-left:17%;"><b>amplitude</b></p>

<p style="margin-left:23%;">Similar as classic mode above
but gain is raised up to 2.</p>

<p style="margin-left:17%;"><b>power</b></p>

<p style="margin-left:23%;">Equal power distribution, from
-6dB to +6dB range.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="40%">


<p>Apply karaoke like effect:</p></td>
<td width="43%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">stereotools=mlev=0.015625</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="40%">


<p style="margin-top: 1em">Convert M/S signal to L/R:</p></td>
<td width="43%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">&quot;stereotools=mode=ms&gt;lr&quot;</p>


<p style="margin-left:11%; margin-top: 1em"><b>stereowiden</b>
<br>
This filter enhance the stereo effect by suppressing signal
common to both channels and by delaying the signal of left
into right and vice versa, thereby widening the stereo
effect.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
delay</b></p>

<p style="margin-left:17%;">Time in milliseconds of the
delay of left signal into right and vice versa. Default is
20 milliseconds.</p>

<p style="margin-left:11%;"><b>feedback</b></p>

<p style="margin-left:17%;">Amount of gain in delayed
signal into right and vice versa. Gives a delay effect of
left signal in right output and vice versa which gives
widening effect. Default is 0.3.</p>

<p style="margin-left:11%;"><b>crossfeed</b></p>

<p style="margin-left:17%;">Cross feed of left into right
with inverted phase. This helps in suppressing the mono. If
the value is 1 it will cancel all the signal common to both
channels. Default is 0.3.</p>

<p style="margin-left:11%;"><b>drymix</b></p>

<p style="margin-left:17%;">Set level of input signal of
original channel. Default is 0.8.</p>


<p style="margin-left:11%; margin-top: 1em"><b>superequalizer</b>
<br>
Apply 18 band equalizer.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>1b</b></p></td>
<td width="2%"></td>
<td width="34%">


<p>Set 65Hz band gain.</p></td>
<td width="49%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>2b</b></p></td>
<td width="2%"></td>
<td width="34%">


<p>Set 92Hz band gain.</p></td>
<td width="49%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>3b</b></p></td>
<td width="2%"></td>
<td width="34%">


<p>Set 131Hz band gain.</p></td>
<td width="49%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>4b</b></p></td>
<td width="2%"></td>
<td width="34%">


<p>Set 185Hz band gain.</p></td>
<td width="49%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>5b</b></p></td>
<td width="2%"></td>
<td width="34%">


<p>Set 262Hz band gain.</p></td>
<td width="49%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>6b</b></p></td>
<td width="2%"></td>
<td width="34%">


<p>Set 370Hz band gain.</p></td>
<td width="49%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>7b</b></p></td>
<td width="2%"></td>
<td width="34%">


<p>Set 523Hz band gain.</p></td>
<td width="49%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>8b</b></p></td>
<td width="2%"></td>
<td width="34%">


<p>Set 740Hz band gain.</p></td>
<td width="49%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>9b</b></p></td>
<td width="2%"></td>
<td width="34%">


<p>Set 1047Hz band gain.</p></td>
<td width="49%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>10b</b></p></td>
<td width="2%"></td>
<td width="34%">


<p>Set 1480Hz band gain.</p></td>
<td width="49%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>11b</b></p></td>
<td width="2%"></td>
<td width="34%">


<p>Set 2093Hz band gain.</p></td>
<td width="49%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>12b</b></p></td>
<td width="2%"></td>
<td width="34%">


<p>Set 2960Hz band gain.</p></td>
<td width="49%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>13b</b></p></td>
<td width="2%"></td>
<td width="34%">


<p>Set 4186Hz band gain.</p></td>
<td width="49%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>14b</b></p></td>
<td width="2%"></td>
<td width="34%">


<p>Set 5920Hz band gain.</p></td>
<td width="49%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>15b</b></p></td>
<td width="2%"></td>
<td width="34%">


<p>Set 8372Hz band gain.</p></td>
<td width="49%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>16b</b></p></td>
<td width="2%"></td>
<td width="34%">


<p>Set 11840Hz band gain.</p></td>
<td width="49%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>17b</b></p></td>
<td width="2%"></td>
<td width="34%">


<p>Set 16744Hz band gain.</p></td>
<td width="49%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>18b</b></p></td>
<td width="2%"></td>
<td width="34%">


<p>Set 20000Hz band gain.</p></td>
<td width="49%">
</td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><b>surround</b>
<br>
Apply audio surround upmix filter.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
allows to produce multichannel output from audio stream.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
chl_out</b></p>

<p style="margin-left:17%;">Set output channel layout. By
default, this is <i>5.1</i>.</p>

<p style="margin-left:17%; margin-top: 1em">See <b>the
Channel Layout section in the ffmpeg-utils(1) manual</b> for
the required syntax.</p>

<p style="margin-left:11%;"><b>chl_in</b></p>

<p style="margin-left:17%;">Set input channel layout. By
default, this is <i>stereo</i>.</p>

<p style="margin-left:17%; margin-top: 1em">See <b>the
Channel Layout section in the ffmpeg-utils(1) manual</b> for
the required syntax.</p>

<p style="margin-left:11%;"><b>level_in</b></p>

<p style="margin-left:17%;">Set input volume level. By
default, this is <i>1</i>.</p>

<p style="margin-left:11%;"><b>level_out</b></p>

<p style="margin-left:17%;">Set output volume level. By
default, this is <i>1</i>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>lfe</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Enable <small>LFE</small> channel output if output
channel layout has it. By default, this is enabled.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>lfe_low</b></p>

<p style="margin-left:17%;">Set <small>LFE</small> low cut
off frequency. By default, this is <i>128</i> Hz.</p>

<p style="margin-left:11%;"><b>lfe_high</b></p>

<p style="margin-left:17%;">Set <small>LFE</small> high cut
off frequency. By default, this is <i>256</i> Hz.</p>

<p style="margin-left:11%;"><b>lfe_mode</b></p>

<p style="margin-left:17%;">Set <small>LFE</small> mode,
can be <i>add</i> or <i>sub</i>. Default is <i>add</i>. In
<i>add</i> mode, <small>LFE</small> channel is created from
input audio and added to output. In <i>sub</i> mode,
<small>LFE</small> channel is created from input audio and
added to output but also all non-LFE output channels are
subtracted with output <small>LFE</small> channel.</p>

<p style="margin-left:11%;"><b>angle</b></p>

<p style="margin-left:17%;">Set angle of stereo surround
transform, Allowed range is from <i>0</i> to <i>360</i>.
Default is <i>90</i>.</p>

<p style="margin-left:11%;"><b>fc_in</b></p>

<p style="margin-left:17%;">Set front center input volume.
By default, this is <i>1</i>.</p>

<p style="margin-left:11%;"><b>fc_out</b></p>

<p style="margin-left:17%;">Set front center output volume.
By default, this is <i>1</i>.</p>

<p style="margin-left:11%;"><b>fl_in</b></p>

<p style="margin-left:17%;">Set front left input volume. By
default, this is <i>1</i>.</p>

<p style="margin-left:11%;"><b>fl_out</b></p>

<p style="margin-left:17%;">Set front left output volume.
By default, this is <i>1</i>.</p>

<p style="margin-left:11%;"><b>fr_in</b></p>

<p style="margin-left:17%;">Set front right input volume.
By default, this is <i>1</i>.</p>

<p style="margin-left:11%;"><b>fr_out</b></p>

<p style="margin-left:17%;">Set front right output volume.
By default, this is <i>1</i>.</p>

<p style="margin-left:11%;"><b>sl_in</b></p>

<p style="margin-left:17%;">Set side left input volume. By
default, this is <i>1</i>.</p>

<p style="margin-left:11%;"><b>sl_out</b></p>

<p style="margin-left:17%;">Set side left output volume. By
default, this is <i>1</i>.</p>

<p style="margin-left:11%;"><b>sr_in</b></p>

<p style="margin-left:17%;">Set side right input volume. By
default, this is <i>1</i>.</p>

<p style="margin-left:11%;"><b>sr_out</b></p>

<p style="margin-left:17%;">Set side right output volume.
By default, this is <i>1</i>.</p>

<p style="margin-left:11%;"><b>bl_in</b></p>

<p style="margin-left:17%;">Set back left input volume. By
default, this is <i>1</i>.</p>

<p style="margin-left:11%;"><b>bl_out</b></p>

<p style="margin-left:17%;">Set back left output volume. By
default, this is <i>1</i>.</p>

<p style="margin-left:11%;"><b>br_in</b></p>

<p style="margin-left:17%;">Set back right input volume. By
default, this is <i>1</i>.</p>

<p style="margin-left:11%;"><b>br_out</b></p>

<p style="margin-left:17%;">Set back right output volume.
By default, this is <i>1</i>.</p>

<p style="margin-left:11%;"><b>bc_in</b></p>

<p style="margin-left:17%;">Set back center input volume.
By default, this is <i>1</i>.</p>

<p style="margin-left:11%;"><b>bc_out</b></p>

<p style="margin-left:17%;">Set back center output volume.
By default, this is <i>1</i>.</p>

<p style="margin-left:11%;"><b>lfe_in</b></p>

<p style="margin-left:17%;">Set <small>LFE</small> input
volume. By default, this is <i>1</i>.</p>

<p style="margin-left:11%;"><b>lfe_out</b></p>

<p style="margin-left:17%;">Set <small>LFE</small> output
volume. By default, this is <i>1</i>.</p>

<p style="margin-left:11%;"><b>allx</b></p>

<p style="margin-left:17%;">Set spread usage of stereo
image across X axis for all channels.</p>

<p style="margin-left:11%;"><b>ally</b></p>

<p style="margin-left:17%;">Set spread usage of stereo
image across Y axis for all channels.</p>

<p style="margin-left:11%;"><b>fcx, flx, frx, blx, brx,
slx, srx, bcx</b></p>

<p style="margin-left:17%;">Set spread usage of stereo
image across X axis for each channel.</p>

<p style="margin-left:11%;"><b>fcy, fly, fry, bly, bry,
sly, sry, bcy</b></p>

<p style="margin-left:17%;">Set spread usage of stereo
image across Y axis for each channel.</p>

<p style="margin-left:11%;"><b>win_size</b></p>

<p style="margin-left:17%;">Set window size. Allowed range
is from <i>1024</i> to <i>65536</i>. Default size is
<i>4096</i>.</p>

<p style="margin-left:11%;"><b>win_func</b></p>

<p style="margin-left:17%;">Set window function.</p>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values: <b><br>
rect <br>
bartlett <br>
hann, hanning <br>
hamming <br>
blackman <br>
welch <br>
flattop <br>
bharris <br>
bnuttall <br>
bhann <br>
sine <br>
nuttall <br>
lanczos <br>
gauss <br>
tukey <br>
dolph <br>
cauchy <br>
parzen <br>
poisson <br>
bohman</b></p>

<p style="margin-left:17%; margin-top: 1em">Default is
&quot;hann&quot;.</p>

<p style="margin-left:11%;"><b>overlap</b></p>

<p style="margin-left:17%;">Set window overlap. If set to
1, the recommended overlap for selected window function will
be picked. Default is 0.5.</p>

<p style="margin-left:11%; margin-top: 1em"><b>treble,
highshelf</b> <br>
Boost or cut treble (upper) frequencies of the audio using a
two-pole shelving filter with a response similar to that of
a standard hi-fi&rsquo;s tone-controls. This is also known
as shelving equalisation ( <small>EQ</small> ).</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
gain, g</b></p>

<p style="margin-left:17%;">Give the gain at whichever is
the lower of ~22 kHz and the Nyquist frequency. Its useful
range is about -20 (for a large cut) to +20 (for a large
boost). Beware of clipping when using a positive gain.</p>

<p style="margin-left:11%;"><b>frequency, f</b></p>

<p style="margin-left:17%;">Set the filter&rsquo;s central
frequency and so can be used to extend or reduce the
frequency range to be boosted or cut. The default value is
3000 Hz.</p>

<p style="margin-left:11%;"><b>width_type, t</b></p>

<p style="margin-left:17%;">Set method to specify
band-width of filter.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>h</b></p></td>
<td width="5%"></td>
<td width="12%">


<p>Hz</p></td>
<td width="65%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>q</b></p></td>
<td width="5%"></td>
<td width="12%">


<p>Q-Factor</p></td>
<td width="65%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>o</b></p></td>
<td width="5%"></td>
<td width="12%">


<p>octave</p></td>
<td width="65%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>s</b></p></td>
<td width="5%"></td>
<td width="12%">


<p>slope</p></td>
<td width="65%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>k</b></p></td>
<td width="5%"></td>
<td width="12%">


<p>kHz</p></td>
<td width="65%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>width, w</b></p>

<p style="margin-left:17%;">Determine how steep is the
filter&rsquo;s shelf transition.</p>

<p style="margin-left:11%;"><b>mix, m</b></p>

<p style="margin-left:17%;">How much to use filtered signal
in output. Default is 1. Range is between 0 and 1.</p>

<p style="margin-left:11%;"><b>channels, c</b></p>

<p style="margin-left:17%;">Specify which channels to
filter, by default all available are filtered.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Commands</i></p>

<p style="margin-left:11%; margin-top: 1em">This filter
supports the following commands: <b><br>
frequency, f</b></p>

<p style="margin-left:17%;">Change treble frequency. Syntax
for the command is : &quot;<i>frequency</i>&quot;</p>

<p style="margin-left:11%;"><b>width_type, t</b></p>

<p style="margin-left:17%;">Change treble width_type.
Syntax for the command is :
&quot;<i>width_type</i>&quot;</p>

<p style="margin-left:11%;"><b>width, w</b></p>

<p style="margin-left:17%;">Change treble width. Syntax for
the command is : &quot;<i>width</i>&quot;</p>

<p style="margin-left:11%;"><b>gain, g</b></p>

<p style="margin-left:17%;">Change treble gain. Syntax for
the command is : &quot;<i>gain</i>&quot;</p>

<p style="margin-left:11%;"><b>mix, m</b></p>

<p style="margin-left:17%;">Change treble mix. Syntax for
the command is : &quot;<i>mix</i>&quot;</p>

<p style="margin-left:11%; margin-top: 1em"><b>tremolo</b>
<br>
Sinusoidal amplitude modulation.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>f</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Modulation frequency in Hertz. Modulation frequencies in
the subharmonic range (20 Hz or lower) will result in a
tremolo effect. This filter may also be used as a ring
modulator by specifying a modulation frequency higher than
20 Hz. Range is 0.1 - 20000.0. Default value is 5.0 Hz.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>d</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Depth of modulation as a percentage. Range is 0.0 - 1.0.
Default value is 0.5.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>vibrato</b>
<br>
Sinusoidal phase modulation.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em"><b>f</b></p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Modulation frequency in Hertz.
Range is 0.1 - 20000.0. Default value is 5.0 Hz.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>d</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Depth of modulation as a percentage. Range is 0.0 - 1.0.
Default value is 0.5.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>volume</b>
<br>
Adjust the input audio volume.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters: <b><br>
volume</b></p>

<p style="margin-left:17%;">Set audio volume
expression.</p>

<p style="margin-left:17%; margin-top: 1em">Output values
are clipped to the maximum value.</p>

<p style="margin-left:17%; margin-top: 1em">The output
audio volume is given by the relation:</p>


<p style="margin-left:17%; margin-top: 1em">&lt;output_volume&gt;
= &lt;volume&gt; * &lt;input_volume&gt;</p>

<p style="margin-left:17%; margin-top: 1em">The default
value for <i>volume</i> is &quot;1.0&quot;.</p>

<p style="margin-left:11%;"><b>precision</b></p>

<p style="margin-left:17%;">This parameter represents the
mathematical precision.</p>

<p style="margin-left:17%; margin-top: 1em">It determines
which input sample formats will be allowed, which affects
the precision of the volume scaling. <b><br>
fixed</b></p>

<p style="margin-left:23%;">8-bit fixed-point; this limits
input sample format to U8, S16, and S32.</p>

<p style="margin-left:17%;"><b>float</b></p>

<p style="margin-left:23%;">32-bit floating-point; this
limits input sample format to <small>FLT.</small>
(default)</p>

<p style="margin-left:17%;"><b>double</b></p>

<p style="margin-left:23%;">64-bit floating-point; this
limits input sample format to <small>DBL.</small></p>

<p style="margin-left:11%;"><b>replaygain</b></p>

<p style="margin-left:17%;">Choose the behaviour on
encountering ReplayGain side data in input frames. <b><br>
drop</b></p>

<p style="margin-left:23%;">Remove ReplayGain side data,
ignoring its contents (the default).</p>

<p style="margin-left:17%;"><b>ignore</b></p>

<p style="margin-left:23%;">Ignore ReplayGain side data,
but leave it in the frame.</p>

<p style="margin-left:17%;"><b>track</b></p>

<p style="margin-left:23%;">Prefer the track gain, if
present.</p>

<p style="margin-left:17%;"><b>album</b></p>

<p style="margin-left:23%;">Prefer the album gain, if
present.</p>

<p style="margin-left:11%;"><b>replaygain_preamp</b></p>

<p style="margin-left:17%;">Pre-amplification gain in dB to
apply to the selected replaygain gain.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
for <i>replaygain_preamp</i> is 0.0.</p>

<p style="margin-left:11%;"><b>eval</b></p>

<p style="margin-left:17%;">Set when the volume expression
is evaluated.</p>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values: <b><br>
once</b></p>

<p style="margin-left:23%;">only evaluate expression once
during the filter initialization, or when the <b>volume</b>
command is sent</p>

<p style="margin-left:17%;"><b>frame</b></p>

<p style="margin-left:23%;">evaluate expression for each
incoming frame</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is <b>once</b>.</p>

<p style="margin-left:11%; margin-top: 1em">The volume
expression can contain the following parameters.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>n</b></p></td>
<td width="5%"></td>
<td width="48%">


<p>frame number (starting at zero)</p></td>
<td width="35%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>nb_channels</b></p>

<p style="margin-left:17%;">number of channels</p>

<p style="margin-left:11%;"><b>nb_consumed_samples</b></p>

<p style="margin-left:17%;">number of samples consumed by
the filter</p>

<p style="margin-left:11%;"><b>nb_samples</b></p>

<p style="margin-left:17%;">number of samples in the
current frame</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>pos</b></p></td>
<td width="2%"></td>
<td width="54%">


<p>original frame position in the file</p></td>
<td width="29%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>pts</b></p></td>
<td width="2%"></td>
<td width="54%">


<p>frame <small>PTS</small></p></td>
<td width="29%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>sample_rate</b></p>

<p style="margin-left:17%;">sample rate</p>

<p style="margin-left:11%;"><b>startpts</b></p>

<p style="margin-left:17%;"><small>PTS</small> at start of
stream</p>

<p style="margin-left:11%;"><b>startt</b></p>

<p style="margin-left:17%;">time at start of stream</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>t</b></p></td>
<td width="3%"></td>
<td width="28%">


<p>frame time</p></td>
<td width="55%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>tb</b></p></td>
<td width="3%"></td>
<td width="28%">


<p>timestamp timebase</p></td>
<td width="55%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>volume</b></p>

<p style="margin-left:17%;">last set volume value</p>

<p style="margin-left:11%; margin-top: 1em">Note that when
<b>eval</b> is set to <b>once</b> only the
<i>sample_rate</i> and <i>tb</i> variables are available,
all other variables will evaluate to <small>NAN.</small></p>


<p style="margin-left:11%; margin-top: 1em"><i>Commands</i></p>

<p style="margin-left:11%; margin-top: 1em">This filter
supports the following commands: <b><br>
volume</b></p>

<p style="margin-left:17%;">Modify the volume expression.
The command accepts the same syntax of the corresponding
option.</p>

<p style="margin-left:17%; margin-top: 1em">If the
specified expression is not valid, it is kept at its current
value.</p>

<p style="margin-left:11%;"><b>replaygain_noclip</b></p>

<p style="margin-left:17%;">Prevent clipping by limiting
the gain applied.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
for <i>replaygain_noclip</i> is 1.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="45%">


<p>Halve the input audio volume:</p></td>
<td width="38%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">volume=volume=0.5
<br>
volume=volume=1/2 <br>
volume=volume=-6.0206dB</p>

<p style="margin-left:17%; margin-top: 1em">In all the
above example the named key for <b>volume</b> can be
omitted, for example like in:</p>

<p style="margin-left:17%; margin-top: 1em">volume=0.5</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Increase input audio power by 6
decibels using fixed-point precision:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">volume=volume=6dB:precision=fixed</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Fade volume after time 10 with
an annihilation period of 5 seconds:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">volume='if(lt(t,10),1,max(1-(t-10)/5,0))':eval=frame</p>


<p style="margin-left:11%; margin-top: 1em"><b>volumedetect</b>
<br>
Detect the volume of the input video.</p>

<p style="margin-left:11%; margin-top: 1em">The filter has
no parameters. The input is not modified. Statistics about
the volume will be printed in the log when the input stream
end is reached.</p>

<p style="margin-left:11%; margin-top: 1em">In particular
it will show the mean volume (root mean square), maximum
volume (on a per-sample basis), and the beginning of a
histogram of the registered volume values (from the maximum
value to a cumulated 1/1000 of the samples).</p>

<p style="margin-left:11%; margin-top: 1em">All volumes are
in decibels relative to the maximum <small>PCM</small>
value.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<p style="margin-left:11%; margin-top: 1em">Here is an
excerpt of the output:</p>


<p style="margin-left:11%; margin-top: 1em">[Parsed_volumedetect_0
0xa23120] mean_volume: -27 dB <br>
[Parsed_volumedetect_0 0xa23120] max_volume: -4 dB <br>
[Parsed_volumedetect_0 0xa23120] histogram_4db: 6 <br>
[Parsed_volumedetect_0 0xa23120] histogram_5db: 62 <br>
[Parsed_volumedetect_0 0xa23120] histogram_6db: 286 <br>
[Parsed_volumedetect_0 0xa23120] histogram_7db: 1042 <br>
[Parsed_volumedetect_0 0xa23120] histogram_8db: 2551 <br>
[Parsed_volumedetect_0 0xa23120] histogram_9db: 4609 <br>
[Parsed_volumedetect_0 0xa23120] histogram_10db: 8409</p>

<p style="margin-left:11%; margin-top: 1em">It means
that:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">The mean square energy is
approximately -27 dB, or 10^-2.7.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The largest sample is at -4 dB, or more precisely
between -4 dB and -5 dB.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>There are 6 samples at -4 dB, 62 at -5 dB, 286 at -6 dB,
etc.</p> </td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">In other words,
raising the volume by +4 dB does not cause any clipping,
raising it by +5 dB causes clipping for 6 samples, etc.</p>

<h2>AUDIO SOURCES
<a name="AUDIO SOURCES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Below is a
description of the currently available audio sources.</p>

<p style="margin-left:11%; margin-top: 1em"><b>abuffer</b>
<br>
Buffer audio frames, and make them available to the filter
chain.</p>

<p style="margin-left:11%; margin-top: 1em">This source is
mainly intended for a programmatic use, in particular
through the interface defined in
<i>libavfilter/asrc_abuffer.h</i>.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters: <b><br>
time_base</b></p>

<p style="margin-left:17%;">The timebase which will be used
for timestamps of submitted frames. It must be either a
floating-point number or in
<i>numerator</i>/<i>denominator</i> form.</p>

<p style="margin-left:11%;"><b>sample_rate</b></p>

<p style="margin-left:17%;">The sample rate of the incoming
audio buffers.</p>

<p style="margin-left:11%;"><b>sample_fmt</b></p>

<p style="margin-left:17%;">The sample format of the
incoming audio buffers. Either a sample format name or its
corresponding integer representation from the enum
AVSampleFormat in <i>libavutil/samplefmt.h</i></p>

<p style="margin-left:11%;"><b>channel_layout</b></p>

<p style="margin-left:17%;">The channel layout of the
incoming audio buffers. Either a channel layout name from
channel_layout_map in <i>libavutil/channel_layout.c</i> or
its corresponding integer representation from the
AV_CH_LAYOUT_* macros in
<i>libavutil/channel_layout.h</i></p>

<p style="margin-left:11%;"><b>channels</b></p>

<p style="margin-left:17%;">The number of channels of the
incoming audio buffers. If both <i>channels</i> and
<i>channel_layout</i> are specified, then they must be
consistent.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>


<p style="margin-left:11%; margin-top: 1em">abuffer=sample_rate=44100:sample_fmt=s16p:channel_layout=stereo</p>

<p style="margin-left:11%; margin-top: 1em">will instruct
the source to accept planar 16bit signed stereo at 44100Hz.
Since the sample format with name &quot;s16p&quot;
corresponds to the number 6 and the &quot;stereo&quot;
channel layout corresponds to the value 0x3, this is
equivalent to:</p>


<p style="margin-left:11%; margin-top: 1em">abuffer=sample_rate=44100:sample_fmt=6:channel_layout=0x3</p>


<p style="margin-left:11%; margin-top: 1em"><b>aevalsrc</b>
<br>
Generate an audio signal specified by an expression.</p>

<p style="margin-left:11%; margin-top: 1em">This source
accepts in input one or more expressions (one for each
channel), which are evaluated and used to generate a
corresponding audio signal.</p>

<p style="margin-left:11%; margin-top: 1em">This source
accepts the following options: <b><br>
exprs</b></p>

<p style="margin-left:17%;">Set the
&rsquo;|&rsquo;-separated expressions list for each separate
channel. In case the <b>channel_layout</b> option is not
specified, the selected channel layout depends on the number
of provided expressions. Otherwise the last specified
expression is applied to the remaining output channels.</p>

<p style="margin-left:11%;"><b>channel_layout, c</b></p>

<p style="margin-left:17%;">Set the channel layout. The
number of channels in the specified layout must be equal to
the number of specified expressions.</p>

<p style="margin-left:11%;"><b>duration, d</b></p>

<p style="margin-left:17%;">Set the minimum duration of the
sourced audio. See <b>the Time duration section in the
ffmpeg-utils(1) manual</b> for the accepted syntax. Note
that the resulting duration may be greater than the
specified duration, as the generated audio is always cut at
the end of a complete frame.</p>

<p style="margin-left:17%; margin-top: 1em">If not
specified, or the expressed duration is negative, the audio
is supposed to be generated forever.</p>

<p style="margin-left:11%;"><b>nb_samples, n</b></p>

<p style="margin-left:17%;">Set the number of samples per
channel per each output frame, default to 1024.</p>

<p style="margin-left:11%;"><b>sample_rate, s</b></p>

<p style="margin-left:17%;">Specify the sample rate,
default to 44100.</p>

<p style="margin-left:11%; margin-top: 1em">Each expression
in <i>exprs</i> can contain the following constants:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>n</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>number of the evaluated sample, starting from 0</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>t</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>time of the evaluated sample expressed in seconds,
starting from 0</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>s</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>sample rate</p></td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="26%">


<p style="margin-top: 1em">Generate silence:</p></td>
<td width="57%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">aevalsrc=0</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Generate a sin signal with
frequency of 440 Hz, set sample rate to 8000 Hz:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">aevalsrc=&quot;sin(440*2*PI*t):s=8000&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Generate a two channels signal,
specify the channel layout (Front Center + Back Center)
explicitly:</p> </td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">aevalsrc=&quot;sin(420*2*PI*t)|cos(430*2*PI*t):c=FC|BC&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="32%">


<p style="margin-top: 1em">Generate white noise:</p></td>
<td width="51%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">aevalsrc=&quot;-2+random(0)&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="60%">


<p style="margin-top: 1em">Generate an amplitude modulated
signal:</p> </td>
<td width="23%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">aevalsrc=&quot;sin(10*2*PI*t)*sin(880*2*PI*t)&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="78%">


<p style="margin-top: 1em">Generate 2.5 Hz binaural beats
on a 360 Hz carrier:</p></td>
<td width="5%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">aevalsrc=&quot;0.1*sin(2*PI*(360-2.5/2)*t)
| 0.1*sin(2*PI*(360+2.5/2)*t)&quot;</p>


<p style="margin-left:11%; margin-top: 1em"><b>anullsrc</b>
<br>
The null audio source, return unprocessed audio frames. It
is mainly useful as a template and to be employed in
analysis / debugging tools, or as the source for filters
which ignore the input data (for example the sox synth
filter).</p>

<p style="margin-left:11%; margin-top: 1em">This source
accepts the following options: <b><br>
channel_layout, cl</b></p>

<p style="margin-left:17%;">Specifies the channel layout,
and can be either an integer or a string representing a
channel layout. The default value of <i>channel_layout</i>
is &quot;stereo&quot;.</p>

<p style="margin-left:17%; margin-top: 1em">Check the
channel_layout_map definition in
<i>libavutil/channel_layout.c</i> for the mapping between
strings and channel layout values.</p>

<p style="margin-left:11%;"><b>sample_rate, r</b></p>

<p style="margin-left:17%;">Specifies the sample rate, and
defaults to 44100.</p>

<p style="margin-left:11%;"><b>nb_samples, n</b></p>

<p style="margin-left:17%;">Set the number of samples per
requested frames.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Set the sample rate to 48000 Hz and the channel layout
to <small>AV_CH_LAYOUT_MONO.</small></p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">anullsrc=r=48000:cl=4</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="75%">


<p style="margin-top: 1em">Do the same operation with a
more obvious syntax:</p></td>
<td width="8%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">anullsrc=r=48000:cl=mono</p>

<p style="margin-left:11%; margin-top: 1em">All the
parameters need to be explicitly defined.</p>

<p style="margin-left:11%; margin-top: 1em"><b>flite</b>
<br>
Synthesize a voice utterance using the libflite library.</p>

<p style="margin-left:11%; margin-top: 1em">To enable
compilation of this filter you need to configure FFmpeg with
&quot;--enable-libflite&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">Note that
versions of the flite library prior to 2.0 are not
thread-safe.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
list_voices</b></p>

<p style="margin-left:17%;">If set to 1, list the names of
the available voices and exit immediately. Default value is
0.</p>

<p style="margin-left:11%;"><b>nb_samples, n</b></p>

<p style="margin-left:17%;">Set the maximum number of
samples per frame. Default value is 512.</p>

<p style="margin-left:11%;"><b>textfile</b></p>

<p style="margin-left:17%;">Set the filename containing the
text to speak.</p>

<p style="margin-left:11%;"><b>text</b></p>

<p style="margin-left:17%;">Set the text to speak.</p>

<p style="margin-left:11%;"><b>voice, v</b></p>

<p style="margin-left:17%;">Set the voice to use for the
speech synthesis. Default value is &quot;kal&quot;. See also
the <i>list_voices</i> option.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Read from file <i>speech.txt</i>, and synthesize the
text using the standard flite voice:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">flite=textfile=speech.txt</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="77%">


<p style="margin-top: 1em">Read the specified text
selecting the &quot;slt&quot; voice:</p></td>
<td width="6%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">flite=text='So
fare thee well, poor devil of a Sub-Sub, whose commentator I
am':voice=slt</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="32%">


<p style="margin-top: 1em">Input text to ffmpeg:</p></td>
<td width="51%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -f lavfi
-i flite=text='So fare thee well, poor devil of a Sub-Sub,
whose commentator I am':voice=slt</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Make <i>ffplay</i> speak the
specified text, using &quot;flite&quot; and the
&quot;lavfi&quot; device:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffplay -f lavfi
flite=text='No more be grieved for which that thou hast
done.'</p>

<p style="margin-left:11%; margin-top: 1em">For more
information about libflite, check:
&lt;<b>http://www.festvox.org/flite/</b>&gt;</p>


<p style="margin-left:11%; margin-top: 1em"><b>anoisesrc</b>
<br>
Generate a noise audio signal.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
sample_rate, r</b></p>

<p style="margin-left:17%;">Specify the sample rate.
Default value is 48000 Hz.</p>

<p style="margin-left:11%;"><b>amplitude, a</b></p>

<p style="margin-left:17%;">Specify the amplitude (0.0 -
1.0) of the generated audio stream. Default value is
1.0.</p>

<p style="margin-left:11%;"><b>duration, d</b></p>

<p style="margin-left:17%;">Specify the duration of the
generated audio stream. Not specifying this option results
in noise with an infinite length.</p>

<p style="margin-left:11%;"><b>color, colour, c</b></p>

<p style="margin-left:17%;">Specify the color of noise.
Available noise colors are white, pink, brown, blue and
violet. Default color is white.</p>

<p style="margin-left:11%;"><b>seed, s</b></p>

<p style="margin-left:17%;">Specify a value used to seed
the <small>PRNG.</small></p>

<p style="margin-left:11%;"><b>nb_samples, n</b></p>

<p style="margin-left:17%;">Set the number of samples per
each output frame, default is 1024.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Generate 60 seconds of pink noise, with a 44.1 kHz
sampling rate and an amplitude of 0.5:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">anoisesrc=d=60:c=pink:r=44100:a=0.5</p>

<p style="margin-left:11%; margin-top: 1em"><b>hilbert</b>
<br>
Generate odd-tap Hilbert transform <small>FIR</small>
coefficients.</p>

<p style="margin-left:11%; margin-top: 1em">The resulting
stream can be used with <b>afir</b> filter for
phase-shifting the signal by 90 degrees.</p>

<p style="margin-left:11%; margin-top: 1em">This is used in
many matrix coding schemes and for analytic signal
generation. The process is often written as a multiplication
by i (or j), the imaginary unit.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
sample_rate, s</b></p>

<p style="margin-left:17%;">Set sample rate, default is
44100.</p>

<p style="margin-left:11%;"><b>taps, t</b></p>

<p style="margin-left:17%;">Set length of
<small>FIR</small> filter, default is 22051.</p>

<p style="margin-left:11%;"><b>nb_samples, n</b></p>

<p style="margin-left:17%;">Set number of samples per each
frame.</p>

<p style="margin-left:11%;"><b>win_func, w</b></p>

<p style="margin-left:17%;">Set window function to be used
when generating <small>FIR</small> coefficients.</p>

<p style="margin-left:11%; margin-top: 1em"><b>sinc</b>
<br>
Generate a sinc kaiser-windowed low-pass, high-pass,
band-pass, or band-reject <small>FIR</small>
coefficients.</p>

<p style="margin-left:11%; margin-top: 1em">The resulting
stream can be used with <b>afir</b> filter for filtering the
audio signal.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
sample_rate, r</b></p>

<p style="margin-left:17%;">Set sample rate, default is
44100.</p>

<p style="margin-left:11%;"><b>nb_samples, n</b></p>

<p style="margin-left:17%;">Set number of samples per each
frame. Default is 1024.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>hp</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Set high-pass frequency. Default is 0.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>lp</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Set low-pass frequency. Default is 0. If high-pass
frequency is lower than low-pass frequency and low-pass
frequency is higher than 0 then filter will create band-pass
filter coefficients, otherwise band-reject filter
coefficients.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>phase</b></p>

<p style="margin-left:17%;">Set filter phase response.
Default is 50. Allowed range is from 0 to 100.</p>

<p style="margin-left:11%;"><b>beta</b></p>

<p style="margin-left:17%;">Set Kaiser window beta.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>att</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set stop-band attenuation. Default is 120dB, allowed
range is from 40 to 180 dB.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>round</b></p>

<p style="margin-left:17%;">Enable rounding, by default is
disabled.</p>

<p style="margin-left:11%;"><b>hptaps</b></p>

<p style="margin-left:17%;">Set number of taps for
high-pass filter.</p>

<p style="margin-left:11%;"><b>lptaps</b></p>

<p style="margin-left:17%;">Set number of taps for low-pass
filter.</p>

<p style="margin-left:11%; margin-top: 1em"><b>sine</b>
<br>
Generate an audio signal made of a sine wave with amplitude
1/8.</p>

<p style="margin-left:11%; margin-top: 1em">The audio
signal is bit-exact.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
frequency, f</b></p>

<p style="margin-left:17%;">Set the carrier frequency.
Default is 440 Hz.</p>

<p style="margin-left:11%;"><b>beep_factor, b</b></p>

<p style="margin-left:17%;">Enable a periodic beep every
second with frequency <i>beep_factor</i> times the carrier
frequency. Default is 0, meaning the beep is disabled.</p>

<p style="margin-left:11%;"><b>sample_rate, r</b></p>

<p style="margin-left:17%;">Specify the sample rate,
default is 44100.</p>

<p style="margin-left:11%;"><b>duration, d</b></p>

<p style="margin-left:17%;">Specify the duration of the
generated audio stream.</p>

<p style="margin-left:11%;"><b>samples_per_frame</b></p>

<p style="margin-left:17%;">Set the number of samples per
output frame.</p>

<p style="margin-left:17%; margin-top: 1em">The expression
can contain the following constants:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>n</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>The (sequential) number of the output audio frame,
starting from 0.</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>pts</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>The <small>PTS</small> (Presentation TimeStamp) of the
output audio frame, expressed in <i><small>TB</small></i>
units.</p> </td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>t</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>The <small>PTS</small> of the output audio frame,
expressed in seconds.</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b><small>TB</small></b></p></td>
<td width="1%"></td>
<td width="77%">


<p>The timebase of the output audio frames.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Default is
1024.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="54%">


<p style="margin-top: 1em">Generate a simple 440 Hz sine
wave:</p> </td>
<td width="29%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">sine</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Generate a 220 Hz sine wave with
a 880 Hz beep each second, for 5 seconds:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">sine=220:4:d=5
<br>
sine=f=220:b=4:d=5 <br>
sine=frequency=220:beep_factor=4:duration=5</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Generate a 1 kHz sine wave
following &quot;1602,1601,1602,1601,1602&quot;
<small>NTSC</small> pattern:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">sine=1000:samples_per_frame='st(0,mod(n,5));
1602-not(not(eq(ld(0),1)+eq(ld(0),3)))'</p>

<h2>AUDIO SINKS
<a name="AUDIO SINKS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Below is a
description of the currently available audio sinks.</p>


<p style="margin-left:11%; margin-top: 1em"><b>abuffersink</b>
<br>
Buffer audio frames, and make them available to the end of
filter chain.</p>

<p style="margin-left:11%; margin-top: 1em">This sink is
mainly intended for programmatic use, in particular through
the interface defined in <i>libavfilter/buffersink.h</i> or
the options system.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts a
pointer to an AVABufferSinkContext structure, which defines
the incoming buffers&rsquo; formats, to be passed as the
opaque parameter to &quot;avfilter_init_filter&quot; for
initialization.</p>


<p style="margin-left:11%; margin-top: 1em"><b>anullsink</b>
<br>
Null audio sink; do absolutely nothing with the input audio.
It is mainly useful as a template and for use in analysis /
debugging tools.</p>

<h2>VIDEO FILTERS
<a name="VIDEO FILTERS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">When you
configure your FFmpeg build, you can disable any of the
existing filters using &quot;--disable-filters&quot;. The
configure output will show the video filters included in
your build.</p>

<p style="margin-left:11%; margin-top: 1em">Below is a
description of the currently available video filters.</p>


<p style="margin-left:11%; margin-top: 1em"><b>alphaextract</b>
<br>
Extract the alpha component from the input as a grayscale
video. This is especially useful with the <i>alphamerge</i>
filter.</p>


<p style="margin-left:11%; margin-top: 1em"><b>alphamerge</b>
<br>
Add or replace the alpha component of the primary input with
the grayscale value of a second input. This is intended for
use with <i>alphaextract</i> to allow the transmission or
storage of frame sequences that have alpha in a format that
doesn&rsquo;t support an alpha channel.</p>

<p style="margin-left:11%; margin-top: 1em">For example, to
reconstruct full frames from a normal YUV-encoded video and
a separate video created with <i>alphaextract</i>, you might
use:</p>


<p style="margin-left:11%; margin-top: 1em">movie=in_alpha.mkv
[alpha]; [in][alpha] alphamerge [out]</p>

<p style="margin-left:11%; margin-top: 1em">Since this
filter is designed for reconstruction, it operates on frame
sequences without considering timestamps, and terminates
when either input reaches end of stream. This will cause
problems if your encoding pipeline drops frames. If
you&rsquo;re trying to apply an image as an overlay to a
video stream, consider the <i>overlay</i> filter
instead.</p>

<p style="margin-left:11%; margin-top: 1em"><b>amplify</b>
<br>
Amplify differences between current pixel and pixels of
adjacent frames in same pixel location.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
accepts the following options: <b><br>
radius</b></p>

<p style="margin-left:17%;">Set frame radius. Default is 2.
Allowed range is from 1 to 63. For example radius of 3 will
instruct filter to calculate average of 7 frames.</p>

<p style="margin-left:11%;"><b>factor</b></p>

<p style="margin-left:17%;">Set factor to amplify
difference. Default is 2. Allowed range is from 0 to
65535.</p>

<p style="margin-left:11%;"><b>threshold</b></p>

<p style="margin-left:17%;">Set threshold for difference
amplification. Any difference greater or equal to this value
will not alter source pixel. Default is 10. Allowed range is
from 0 to 65535.</p>

<p style="margin-left:11%;"><b>tolerance</b></p>

<p style="margin-left:17%;">Set tolerance for difference
amplification. Any difference lower to this value will not
alter source pixel. Default is 0. Allowed range is from 0 to
65535.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>low</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set lower limit for changing source pixel. Default is
65535. Allowed range is from 0 to 65535. This option
controls maximum possible value that will decrease source
pixel value.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>high</b></p>

<p style="margin-left:17%;">Set high limit for changing
source pixel. Default is 65535. Allowed range is from 0 to
65535. This option controls maximum possible value that will
increase source pixel value.</p>

<p style="margin-left:11%;"><b>planes</b></p>

<p style="margin-left:17%;">Set which planes to filter.
Default is all. Allowed range is from 0 to 15.</p>

<p style="margin-left:11%; margin-top: 1em"><b>ass</b> <br>
Same as the <b>subtitles</b> filter, except that it
doesn&rsquo;t require libavcodec and libavformat to work. On
the other hand, it is limited to <small>ASS</small>
(Advanced Substation Alpha) subtitles files.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
accepts the following option in addition to the common
options from the <b>subtitles</b> filter: <b><br>
shaping</b></p>

<p style="margin-left:17%;">Set the shaping engine</p>

<p style="margin-left:17%; margin-top: 1em">Available
values are: <b><br>
auto</b></p>

<p style="margin-left:23%;">The default libass shaping
engine, which is the best available.</p>

<p style="margin-left:17%;"><b>simple</b></p>

<p style="margin-left:23%;">Fast, font-agnostic shaper that
can do only substitutions</p>

<p style="margin-left:17%;"><b>complex</b></p>

<p style="margin-left:23%;">Slower shaper using OpenType
for substitutions and positioning</p>

<p style="margin-left:17%; margin-top: 1em">The default is
&quot;auto&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><b>atadenoise</b>
<br>
Apply an Adaptive Temporal Averaging Denoiser to the video
input.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>0a</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Set threshold A for 1st plane. Default is 0.02. Valid
range is 0 to 0.3.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>0b</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Set threshold B for 1st plane. Default is 0.04. Valid
range is 0 to 5.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>1a</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Set threshold A for 2nd plane. Default is 0.02. Valid
range is 0 to 0.3.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>1b</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Set threshold B for 2nd plane. Default is 0.04. Valid
range is 0 to 5.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>2a</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Set threshold A for 3rd plane. Default is 0.02. Valid
range is 0 to 0.3.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>2b</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Set threshold B for 3rd plane. Default is 0.04. Valid
range is 0 to 5.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Threshold A is
designed to react on abrupt changes in the input signal and
threshold B is designed to react on continuous changes in
the input signal.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em"><b>s</b></p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Set number of frames filter will
use for averaging. Default is 9. Must be odd number in range
[5, 129].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>p</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set what planes of frame filter will use for averaging.
Default is all.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>avgblur</b>
<br>
Apply average blur filter.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
sizeX</b></p>

<p style="margin-left:17%;">Set horizontal radius size.</p>

<p style="margin-left:11%;"><b>planes</b></p>

<p style="margin-left:17%;">Set which planes to filter. By
default all planes are filtered.</p>

<p style="margin-left:11%;"><b>sizeY</b></p>

<p style="margin-left:17%;">Set vertical radius size, if
zero it will be same as &quot;sizeX&quot;. Default is 0.</p>

<p style="margin-left:11%; margin-top: 1em"><b>bbox</b>
<br>
Compute the bounding box for the non-black pixels in the
input frame luminance plane.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
computes the bounding box containing all the pixels with a
luminance value greater than the minimum allowed value. The
parameters describing the bounding box are printed on the
filter log.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following option: <b><br>
min_val</b></p>

<p style="margin-left:17%;">Set the minimal luminance
value. Default is 16.</p>


<p style="margin-left:11%; margin-top: 1em"><b>bitplanenoise</b>
<br>
Show and measure bit plane noise.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
bitplane</b></p>

<p style="margin-left:17%;">Set which plane to analyze.
Default is 1.</p>

<p style="margin-left:11%;"><b>filter</b></p>

<p style="margin-left:17%;">Filter out noisy pixels from
&quot;bitplane&quot; set above. Default is disabled.</p>


<p style="margin-left:11%; margin-top: 1em"><b>blackdetect</b>
<br>
Detect video intervals that are (almost) completely black.
Can be useful to detect chapter transitions, commercials, or
invalid recordings. Output lines contains the time for the
start, end and duration of the detected black interval
expressed in seconds.</p>

<p style="margin-left:11%; margin-top: 1em">In order to
display the output lines, you need to set the loglevel at
least to the <small>AV_LOG_INFO</small> value.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
black_min_duration, d</b></p>

<p style="margin-left:17%;">Set the minimum detected black
duration expressed in seconds. It must be a non-negative
floating point number.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is 2.0.</p>

<p style="margin-left:11%;"><b>picture_black_ratio_th,
pic_th</b></p>

<p style="margin-left:17%;">Set the threshold for
considering a picture &quot;black&quot;. Express the minimum
value for the ratio:</p>


<p style="margin-left:17%; margin-top: 1em">&lt;nb_black_pixels&gt;
/ &lt;nb_pixels&gt;</p>

<p style="margin-left:17%; margin-top: 1em">for which a
picture is considered black. Default value is 0.98.</p>

<p style="margin-left:11%;"><b>pixel_black_th,
pix_th</b></p>

<p style="margin-left:17%;">Set the threshold for
considering a pixel &quot;black&quot;.</p>

<p style="margin-left:17%; margin-top: 1em">The threshold
expresses the maximum pixel luminance value for which a
pixel is considered &quot;black&quot;. The provided value is
scaled according to the following equation:</p>


<p style="margin-left:17%; margin-top: 1em">&lt;absolute_threshold&gt;
= &lt;luminance_minimum_value&gt; + &lt;pixel_black_th&gt; *
&lt;luminance_range_size&gt;</p>


<p style="margin-left:17%; margin-top: 1em"><i>luminance_range_size</i>
and <i>luminance_minimum_value</i> depend on the input video
format, the range is [0-255] for <small>YUV</small>
full-range formats and [16-235] for <small>YUV</small> non
full-range formats.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is 0.10.</p>

<p style="margin-left:11%; margin-top: 1em">The following
example sets the maximum pixel threshold to the minimum
value, and detects only black intervals of 2 or more
seconds:</p>


<p style="margin-left:11%; margin-top: 1em">blackdetect=d=2:pix_th=0.00</p>


<p style="margin-left:11%; margin-top: 1em"><b>blackframe</b>
<br>
Detect frames that are (almost) completely black. Can be
useful to detect chapter transitions or commercials. Output
lines consist of the frame number of the detected frame, the
percentage of blackness, the position in the file if known
or -1 and the timestamp in seconds.</p>

<p style="margin-left:11%; margin-top: 1em">In order to
display the output lines, you need to set the loglevel at
least to the <small>AV_LOG_INFO</small> value.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
exports frame metadata &quot;lavfi.blackframe.pblack&quot;.
The value represents the percentage of pixels in the picture
that are below the threshold value.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters: <b><br>
amount</b></p>

<p style="margin-left:17%;">The percentage of the pixels
that have to be below the threshold; it defaults to 98.</p>

<p style="margin-left:11%;"><b>threshold, thresh</b></p>

<p style="margin-left:17%;">The threshold below which a
pixel value is considered black; it defaults to 32.</p>

<p style="margin-left:11%; margin-top: 1em"><b>blend,
tblend</b> <br>
Blend two video frames into each other.</p>

<p style="margin-left:11%; margin-top: 1em">The
&quot;blend&quot; filter takes two input streams and outputs
one stream, the first input is the &quot;top&quot; layer and
second input is &quot;bottom&quot; layer. By default, the
output terminates when the longest input terminates.</p>

<p style="margin-left:11%; margin-top: 1em">The
&quot;tblend&quot; (time blend) filter takes two consecutive
frames from one single stream, and outputs the result
obtained by blending the new frame on top of the old
frame.</p>

<p style="margin-left:11%; margin-top: 1em">A description
of the accepted options follows. <b><br>
c0_mode <br>
c1_mode <br>
c2_mode <br>
c3_mode <br>
all_mode</b></p>

<p style="margin-left:17%;">Set blend mode for specific
pixel component or all pixel components in case of
<i>all_mode</i>. Default value is &quot;normal&quot;.</p>

<p style="margin-left:17%; margin-top: 1em">Available
values for component modes are: <b><br>
addition <br>
grainmerge</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>and</b></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>average <br>
burn <br>
darken <br>
difference <br>
grainextract <br>
divide <br>
dodge <br>
freeze <br>
exclusion <br>
extremity <br>
glow <br>
hardlight <br>
hardmix <br>
heat <br>
lighten <br>
linearlight <br>
multiply <br>
multiply128 <br>
negation <br>
normal</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>or</b></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>overlay <br>
phoenix <br>
pinlight <br>
reflect <br>
screen <br>
softlight <br>
subtract <br>
vividlight</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>xor</b></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>c0_opacity <br>
c1_opacity <br>
c2_opacity <br>
c3_opacity <br>
all_opacity</b></p>

<p style="margin-left:17%;">Set blend opacity for specific
pixel component or all pixel components in case of
<i>all_opacity</i>. Only used in combination with pixel
component blend modes.</p>

<p style="margin-left:11%;"><b>c0_expr <br>
c1_expr <br>
c2_expr <br>
c3_expr <br>
all_expr</b></p>

<p style="margin-left:17%;">Set blend expression for
specific pixel component or all pixel components in case of
<i>all_expr</i>. Note that related mode options will be
ignored if those are set.</p>

<p style="margin-left:17%; margin-top: 1em">The expressions
can use the following variables:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>N</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>The sequential number of the filtered frame, starting
from 0.</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>X</b></p></td>
<td width="3%"></td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>Y</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>the coordinates of the current sample</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>W</b></p></td>
<td width="3%"></td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>H</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>the width and height of currently filtered plane</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b><small>SW</small></b></p></td>
<td width="3%"></td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b><small>SH</small></b></p></td>
<td width="3%"></td>
<td width="77%">


<p>Width and height scale for the plane being filtered. It
is the ratio between the dimensions of the current plane to
the luma plane, e.g. for a &quot;yuv420p&quot; frame, the
values are &quot;1,1&quot; for the luma plane and
&quot;0.5,0.5&quot; for the chroma planes.</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>T</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>Time of the current frame, expressed in seconds.</p></td></tr>
</table>

<p style="margin-left:17%;"><b><small>TOP,
A</small></b></p>

<p style="margin-left:23%;">Value of pixel component at
current location for first video frame (top layer).</p>

<p style="margin-left:17%;"><b><small>BOTTOM,
B</small></b></p>

<p style="margin-left:23%;">Value of pixel component at
current location for second video frame (bottom layer).</p>

<p style="margin-left:11%; margin-top: 1em">The
&quot;blend&quot; filter also supports the <b>framesync</b>
options.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Apply transition from bottom layer to top layer in first
10 seconds:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">blend=all_expr='A*(if(gte(T,10),1,T/10))+B*(1-(if(gte(T,10),1,T/10)))'</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Apply linear horizontal
transition from top layer to bottom layer:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">blend=all_expr='A*(X/W)+B*(1-X/W)'</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="46%">


<p style="margin-top: 1em">Apply 1x1 checkerboard
effect:</p> </td>
<td width="37%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">blend=all_expr='if(eq(mod(X,2),mod(Y,2)),A,B)'</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="40%">


<p style="margin-top: 1em">Apply uncover left effect:</p></td>
<td width="43%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">blend=all_expr='if(gte(N*SW+X,W),A,B)'</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="40%">


<p style="margin-top: 1em">Apply uncover down effect:</p></td>
<td width="43%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">blend=all_expr='if(gte(Y-N*SH,0),A,B)'</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="45%">


<p style="margin-top: 1em">Apply uncover up-left
effect:</p> </td>
<td width="38%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">blend=all_expr='if(gte(T*SH*40+Y,H)*gte((T*40*SW+X)*W/H,W),A,B)'</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Split diagonally video and shows
top and bottom layer on each side:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">blend=all_expr='if(gt(X,Y*(W/H)),A,B)'</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Display differences between the
current and the previous frame:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">tblend=all_mode=grainextract</p>

<p style="margin-left:11%; margin-top: 1em"><b>bm3d</b>
<br>
Denoise frames using Block-Matching 3D algorithm.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options. <b><br>
sigma</b></p>

<p style="margin-left:17%;">Set denoising strength. Default
value is 1. Allowed range is from 0 to 999.9. The denoising
algorithm is very sensitive to sigma, so adjust it according
to the source.</p>

<p style="margin-left:11%;"><b>block</b></p>

<p style="margin-left:17%;">Set local patch size. This sets
dimensions in 2D.</p>

<p style="margin-left:11%;"><b>bstep</b></p>

<p style="margin-left:17%;">Set sliding step for processing
blocks. Default value is 4. Allowed range is from 1 to 64.
Smaller values allows processing more reference blocks and
is slower.</p>

<p style="margin-left:11%;"><b>group</b></p>

<p style="margin-left:17%;">Set maximal number of similar
blocks for 3rd dimension. Default value is 1. When set to 1,
no block matching is done. Larger values allows more blocks
in single group. Allowed range is from 1 to 256.</p>

<p style="margin-left:11%;"><b>range</b></p>

<p style="margin-left:17%;">Set radius for search block
matching. Default is 9. Allowed range is from 1 to
<small>INT32_MAX.</small></p>

<p style="margin-left:11%;"><b>mstep</b></p>

<p style="margin-left:17%;">Set step between two search
locations for block matching. Default is 1. Allowed range is
from 1 to 64. Smaller is slower.</p>

<p style="margin-left:11%;"><b>thmse</b></p>

<p style="margin-left:17%;">Set threshold of mean square
error for block matching. Valid range is 0 to
<small>INT32_MAX.</small></p>

<p style="margin-left:11%;"><b>hdthr</b></p>

<p style="margin-left:17%;">Set thresholding parameter for
hard thresholding in 3D transformed domain. Larger values
results in stronger hard-thresholding filtering in frequency
domain.</p>

<p style="margin-left:11%;"><b>estim</b></p>

<p style="margin-left:17%;">Set filtering estimation mode.
Can be &quot;basic&quot; or &quot;final&quot;. Default is
&quot;basic&quot;.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>ref</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>If enabled, filter will use 2nd stream for block
matching. Default is disabled for &quot;basic&quot; value of
<i>estim</i> option, and always enabled if value of
<i>estim</i> is &quot;final&quot;.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>planes</b></p>

<p style="margin-left:17%;">Set planes to filter. Default
is all available except alpha.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="40%">


<p>Basic filtering with bm3d:</p></td>
<td width="43%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">bm3d=sigma=3:block=4:bstep=2:group=1:estim=basic</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="60%">


<p style="margin-top: 1em">Same as above, but filtering
only luma:</p></td>
<td width="23%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">bm3d=sigma=3:block=4:bstep=2:group=1:estim=basic:planes=1</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="71%">


<p style="margin-top: 1em">Same as above, but with both
estimation modes:</p></td>
<td width="12%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">split[a][b],[a]bm3d=sigma=3:block=4:bstep=2:group=1:estim=basic[a],[b][a]bm3d=sigma=3:block=4:bstep=2:group=16:estim=final:ref=1</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Same as above, but prefilter
with <b>nlmeans</b> filter instead:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">split[a][b],[a]nlmeans=s=3:r=7:p=3[a],[b][a]bm3d=sigma=3:block=4:bstep=2:group=16:estim=final:ref=1</p>

<p style="margin-left:11%; margin-top: 1em"><b>boxblur</b>
<br>
Apply a boxblur algorithm to the input video.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters: <b><br>
luma_radius, lr <br>
luma_power, lp <br>
chroma_radius, cr <br>
chroma_power, cp <br>
alpha_radius, ar <br>
alpha_power, ap</b></p>

<p style="margin-left:11%; margin-top: 1em">A description
of the accepted options follows. <b><br>
luma_radius, lr <br>
chroma_radius, cr <br>
alpha_radius, ar</b></p>

<p style="margin-left:17%;">Set an expression for the box
radius in pixels used for blurring the corresponding input
plane.</p>

<p style="margin-left:17%; margin-top: 1em">The radius
value must be a non-negative number, and must not be greater
than the value of the expression &quot;min(w,h)/2&quot; for
the luma and alpha planes, and of &quot;min(cw,ch)/2&quot;
for the chroma planes.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
for <b>luma_radius</b> is &quot;2&quot;. If not specified,
<b>chroma_radius</b> and <b>alpha_radius</b> default to the
corresponding value set for <b>luma_radius</b>.</p>

<p style="margin-left:17%; margin-top: 1em">The expressions
can contain the following constants:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>w</b></p></td>
<td width="3%"></td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>h</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>The input width and height in pixels.</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>cw</b></p></td>
<td width="3%"></td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>ch</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>The input chroma image width and height in pixels.</p></td></tr>
</table>

<p style="margin-left:17%;"><b>hsub <br>
vsub</b></p>

<p style="margin-left:23%;">The horizontal and vertical
chroma subsample values. For example, for the pixel format
&quot;yuv422p&quot;, <i>hsub</i> is 2 and <i>vsub</i> is
1.</p>

<p style="margin-left:11%;"><b>luma_power, lp <br>
chroma_power, cp <br>
alpha_power, ap</b></p>

<p style="margin-left:17%;">Specify how many times the
boxblur filter is applied to the corresponding plane.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
for <b>luma_power</b> is 2. If not specified,
<b>chroma_power</b> and <b>alpha_power</b> default to the
corresponding value set for <b>luma_power</b>.</p>

<p style="margin-left:17%; margin-top: 1em">A value of 0
will disable the effect.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Apply a boxblur filter with the luma, chroma, and alpha
radii set to 2:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">boxblur=luma_radius=2:luma_power=1
<br>
boxblur=2:1</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Set the luma radius to 2, and
alpha and chroma radius to 0:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">boxblur=2:1:cr=0:ar=0</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Set the luma and chroma radii to
a fraction of the video dimension:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">boxblur=luma_radius=min(h\,w)/10:luma_power=1:chroma_radius=min(cw\,ch)/10:chroma_power=1</p>

<p style="margin-left:11%; margin-top: 1em"><b>bwdif</b>
<br>
Deinterlace the input video (&quot;bwdif&quot; stands for
&quot;Bob Weaver Deinterlacing Filter&quot;).</p>

<p style="margin-left:11%; margin-top: 1em">Motion adaptive
deinterlacing based on yadif with the use of w3fdif and
cubic interpolation algorithms. It accepts the following
parameters: <b><br>
mode</b></p>

<p style="margin-left:17%;">The interlacing mode to adopt.
It accepts one of the following values: <b><br>
0, send_frame</b></p>

<p style="margin-left:23%;">Output one frame for each
frame.</p>

<p style="margin-left:17%;"><b>1, send_field</b></p>

<p style="margin-left:23%;">Output one frame for each
field.</p>

<p style="margin-left:17%; margin-top: 1em">The default
value is &quot;send_field&quot;.</p>

<p style="margin-left:11%;"><b>parity</b></p>

<p style="margin-left:17%;">The picture field parity
assumed for the input interlaced video. It accepts one of
the following values: <b><br>
0, tff</b></p>

<p style="margin-left:23%;">Assume the top field is
first.</p>

<p style="margin-left:17%;"><b>1, bff</b></p>

<p style="margin-left:23%;">Assume the bottom field is
first.</p>

<p style="margin-left:17%;"><b>-1, auto</b></p>

<p style="margin-left:23%;">Enable automatic detection of
field parity.</p>

<p style="margin-left:17%; margin-top: 1em">The default
value is &quot;auto&quot;. If the interlacing is unknown or
the decoder does not export this information, top field
first will be assumed.</p>

<p style="margin-left:11%;"><b>deint</b></p>

<p style="margin-left:17%;">Specify which frames to
deinterlace. Accept one of the following values: <b><br>
0, all</b></p>

<p style="margin-left:23%;">Deinterlace all frames.</p>

<p style="margin-left:17%;"><b>1, interlaced</b></p>

<p style="margin-left:23%;">Only deinterlace frames marked
as interlaced.</p>

<p style="margin-left:17%; margin-top: 1em">The default
value is &quot;all&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><b>chromahold</b>
<br>
Remove all color information for all colors except for
certain one.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
color</b></p>

<p style="margin-left:17%;">The color which will not be
replaced with neutral chroma.</p>

<p style="margin-left:11%;"><b>similarity</b></p>

<p style="margin-left:17%;">Similarity percentage with the
above color. 0.01 matches only the exact key color, while
1.0 matches everything.</p>

<p style="margin-left:11%;"><b>blend</b></p>

<p style="margin-left:17%;">Blend percentage. 0.0 makes
pixels either fully gray, or not gray at all. Higher values
result in more preserved color.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>yuv</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Signals that the color passed is already in
<small>YUV</small> instead of <small>RGB.</small></p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Literal colors
like &quot;green&quot; or &quot;red&quot; don&rsquo;t make
sense with this enabled anymore. This can be used to pass
exact <small>YUV</small> values as hexadecimal numbers.</p>


<p style="margin-left:11%; margin-top: 1em"><b>chromakey</b>
<small><br>
YUV</small> colorspace color/chroma keying.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
color</b></p>

<p style="margin-left:17%;">The color which will be
replaced with transparency.</p>

<p style="margin-left:11%;"><b>similarity</b></p>

<p style="margin-left:17%;">Similarity percentage with the
key color.</p>

<p style="margin-left:17%; margin-top: 1em">0.01 matches
only the exact key color, while 1.0 matches everything.</p>

<p style="margin-left:11%;"><b>blend</b></p>

<p style="margin-left:17%;">Blend percentage.</p>

<p style="margin-left:17%; margin-top: 1em">0.0 makes
pixels either fully transparent, or not transparent at
all.</p>

<p style="margin-left:17%; margin-top: 1em">Higher values
result in semi-transparent pixels, with a higher
transparency the more similar the pixels color is to the key
color.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>yuv</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Signals that the color passed is already in
<small>YUV</small> instead of <small>RGB.</small></p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Literal colors
like &quot;green&quot; or &quot;red&quot; don&rsquo;t make
sense with this enabled anymore. This can be used to pass
exact <small>YUV</small> values as hexadecimal numbers.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Make every green pixel in the
input image transparent:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
input.png -vf chromakey=green out.png</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Overlay a greenscreen-video on
top of a static black background.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -f lavfi
-i color=c=black:s=1280x720 -i video.mp4 -shortest
-filter_complex
&quot;[1:v]chromakey=0x70de77:0.1:0.2[ckout];[0:v][ckout]overlay[out]&quot;
-map &quot;[out]&quot; output.mkv</p>


<p style="margin-left:11%; margin-top: 1em"><b>chromashift</b>
<br>
Shift chroma pixels horizontally and/or vertically.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p style="margin-top: 1em"><b>cbh</b></p></td>
<td width="2%"></td>
<td width="69%">


<p style="margin-top: 1em">Set amount to shift chroma-blue
horizontally.</p> </td>
<td width="14%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>cbv</b></p></td>
<td width="2%"></td>
<td width="69%">


<p>Set amount to shift chroma-blue vertically.</p></td>
<td width="14%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>crh</b></p></td>
<td width="2%"></td>
<td width="69%">


<p>Set amount to shift chroma-red horizontally.</p></td>
<td width="14%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>crv</b></p></td>
<td width="2%"></td>
<td width="69%">


<p>Set amount to shift chroma-red vertically.</p></td>
<td width="14%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>edge</b></p>

<p style="margin-left:17%;">Set edge mode, can be
<i>smear</i>, default, or <i>warp</i>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>ciescope</b>
<br>
Display <small>CIE</small> color diagram with pixels
overlaid onto it.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
system</b></p>

<p style="margin-left:17%;">Set color system. <b><br>
ntsc, 470m <br>
ebu, 470bg <br>
smpte <br>
240m <br>
apple <br>
widergb <br>
cie1931 <br>
rec709, hdtv <br>
uhdtv, rec2020</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>cie</b></p></td>
<td width="2%"></td>
<td width="23%">


<p>Set <small>CIE</small> system.</p></td>
<td width="60%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>xyy</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%"></td>
<td width="78%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>ucs</b></p></td>
<td width="78%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>luv</b></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>gamuts</b></p>

<p style="margin-left:17%;">Set what gamuts to draw.</p>

<p style="margin-left:17%; margin-top: 1em">See
&quot;system&quot; option for available values.</p>

<p style="margin-left:11%;"><b>size, s</b></p>

<p style="margin-left:17%;">Set ciescope size, by default
set to 512.</p>

<p style="margin-left:11%;"><b>intensity, i</b></p>

<p style="margin-left:17%;">Set intensity used to map input
pixel values to <small>CIE</small> diagram.</p>

<p style="margin-left:11%;"><b>contrast</b></p>

<p style="margin-left:17%;">Set contrast used to draw
tongue colors that are out of active color system gamut.</p>

<p style="margin-left:11%;"><b>corrgamma</b></p>

<p style="margin-left:17%;">Correct gamma displayed on
scope, by default enabled.</p>

<p style="margin-left:11%;"><b>showwhite</b></p>

<p style="margin-left:17%;">Show white point on
<small>CIE</small> diagram, by default disabled.</p>

<p style="margin-left:11%;"><b>gamma</b></p>

<p style="margin-left:17%;">Set input gamma. Used only with
<small>XYZ</small> input color space.</p>


<p style="margin-left:11%; margin-top: 1em"><b>codecview</b>
<br>
Visualize information exported by some codecs.</p>

<p style="margin-left:11%; margin-top: 1em">Some codecs can
export information through frames using side-data or other
means. For example, some <small>MPEG</small> based codecs
export motion vectors through the <i>export_mvs</i> flag in
the codec <b>flags2</b> option.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following option:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>mv</b></p></td>
<td width="3%"></td>
<td width="49%">


<p>Set motion vectors to visualize.</p></td>
<td width="34%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Available flags
for <i>mv</i> are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p style="margin-top: 1em"><b>pf</b></p></td>
<td width="3%"></td>
<td width="52%">


<p style="margin-top: 1em">forward predicted MVs of
P-frames</p> </td>
<td width="25%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>bf</b></p></td>
<td width="3%"></td>
<td width="52%">


<p>forward predicted MVs of B-frames</p></td>
<td width="25%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>bb</b></p></td>
<td width="3%"></td>
<td width="52%">


<p>backward predicted MVs of B-frames</p></td>
<td width="25%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>qp</b></p></td>
<td width="3%"></td>
<td width="52%"></td>
<td width="25%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Display
quantization parameters using the chroma planes.</p>

<p style="margin-left:11%;"><b>mv_type, mvt</b></p>

<p style="margin-left:17%;">Set motion vectors type to
visualize. Includes MVs from all frames unless specified by
<i>frame_type</i> option.</p>

<p style="margin-left:17%; margin-top: 1em">Available flags
for <i>mv_type</i> are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>fp</b></p></td>
<td width="3%"></td>
<td width="34%">


<p>forward predicted MVs</p></td>
<td width="43%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>bp</b></p></td>
<td width="3%"></td>
<td width="34%">


<p>backward predicted MVs</p></td>
<td width="43%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>frame_type, ft</b></p>

<p style="margin-left:17%;">Set frame type to visualize
motion vectors of.</p>

<p style="margin-left:17%; margin-top: 1em">Available flags
for <i>frame_type</i> are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>if</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>intra-coded frames (I-frames)</p></td>
<td width="9%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>pf</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>predicted frames (P-frames)</p></td>
<td width="9%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>bf</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>bi-directionally predicted frames (B-frames)</p></td>
<td width="9%">
</td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Visualize forward predicted MVs
of all frames using <b>ffplay</b>:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffplay -flags2
+export_mvs input.mp4 -vf codecview=mv_type=fp</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Visualize multi-directionals MVs
of P and B-Frames using <b>ffplay</b>:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffplay -flags2
+export_mvs input.mp4 -vf codecview=mv=pf+bf+bb</p>


<p style="margin-left:11%; margin-top: 1em"><b>colorbalance</b>
<br>
Modify intensity of primary colors (red, green and blue) of
input frames.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
allows an input frame to be adjusted in the shadows,
midtones or highlights regions for the red-cyan,
green-magenta or blue-yellow balance.</p>

<p style="margin-left:11%; margin-top: 1em">A positive
adjustment value shifts the balance towards the primary
color, a negative value towards the complementary color.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>rs</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>gs</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>bs</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Adjust red, green and blue shadows (darkest pixels).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>rm</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>gm</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>bm</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Adjust red, green and blue midtones (medium pixels).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>rh</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>gh</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>bh</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Adjust red, green and blue highlights (brightest
pixels).</p> </td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Allowed ranges
for options are &quot;[-1.0, 1.0]&quot;. Defaults are 0.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="46%">


<p style="margin-top: 1em">Add red color cast to
shadows:</p> </td>
<td width="37%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">colorbalance=rs=.3</p>


<p style="margin-left:11%; margin-top: 1em"><b>colorkey</b>
<small><br>
RGB</small> colorspace color keying.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
color</b></p>

<p style="margin-left:17%;">The color which will be
replaced with transparency.</p>

<p style="margin-left:11%;"><b>similarity</b></p>

<p style="margin-left:17%;">Similarity percentage with the
key color.</p>

<p style="margin-left:17%; margin-top: 1em">0.01 matches
only the exact key color, while 1.0 matches everything.</p>

<p style="margin-left:11%;"><b>blend</b></p>

<p style="margin-left:17%;">Blend percentage.</p>

<p style="margin-left:17%; margin-top: 1em">0.0 makes
pixels either fully transparent, or not transparent at
all.</p>

<p style="margin-left:17%; margin-top: 1em">Higher values
result in semi-transparent pixels, with a higher
transparency the more similar the pixels color is to the key
color.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Make every green pixel in the input image
transparent:</p> </td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
input.png -vf colorkey=green out.png</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Overlay a greenscreen-video on
top of a static background image.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
background.png -i video.mp4 -filter_complex
&quot;[1:v]colorkey=0x3BBD1E:0.3:0.2[ckout];[0:v][ckout]overlay[out]&quot;
-map &quot;[out]&quot; output.flv</p>


<p style="margin-left:11%; margin-top: 1em"><b>colorhold</b>
<br>
Remove all color information for all <small>RGB</small>
colors except for certain one.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
color</b></p>

<p style="margin-left:17%;">The color which will not be
replaced with neutral gray.</p>

<p style="margin-left:11%;"><b>similarity</b></p>

<p style="margin-left:17%;">Similarity percentage with the
above color. 0.01 matches only the exact key color, while
1.0 matches everything.</p>

<p style="margin-left:11%;"><b>blend</b></p>

<p style="margin-left:17%;">Blend percentage. 0.0 makes
pixels fully gray. Higher values result in more preserved
color.</p>


<p style="margin-left:11%; margin-top: 1em"><b>colorlevels</b>
<br>
Adjust video input frames using levels.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
rimin <br>
gimin <br>
bimin <br>
aimin</b></p>

<p style="margin-left:17%;">Adjust red, green, blue and
alpha input black point. Allowed ranges for options are
&quot;[-1.0, 1.0]&quot;. Defaults are 0.</p>

<p style="margin-left:11%;"><b>rimax <br>
gimax <br>
bimax <br>
aimax</b></p>

<p style="margin-left:17%;">Adjust red, green, blue and
alpha input white point. Allowed ranges for options are
&quot;[-1.0, 1.0]&quot;. Defaults are 1.</p>

<p style="margin-left:17%; margin-top: 1em">Input levels
are used to lighten highlights (bright tones), darken
shadows (dark tones), change the balance of bright and dark
tones.</p>

<p style="margin-left:11%;"><b>romin <br>
gomin <br>
bomin <br>
aomin</b></p>

<p style="margin-left:17%;">Adjust red, green, blue and
alpha output black point. Allowed ranges for options are
&quot;[0, 1.0]&quot;. Defaults are 0.</p>

<p style="margin-left:11%;"><b>romax <br>
gomax <br>
bomax <br>
aomax</b></p>

<p style="margin-left:17%;">Adjust red, green, blue and
alpha output white point. Allowed ranges for options are
&quot;[0, 1.0]&quot;. Defaults are 1.</p>

<p style="margin-left:17%; margin-top: 1em">Output levels
allows manual selection of a constrained output level
range.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="38%">


<p>Make video output darker:</p></td>
<td width="45%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">colorlevels=rimin=0.058:gimin=0.058:bimin=0.058</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="28%">


<p style="margin-top: 1em">Increase contrast:</p></td>
<td width="55%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">colorlevels=rimin=0.039:gimin=0.039:bimin=0.039:rimax=0.96:gimax=0.96:bimax=0.96</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="40%">


<p style="margin-top: 1em">Make video output lighter:</p></td>
<td width="43%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">colorlevels=rimax=0.902:gimax=0.902:bimax=0.902</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="31%">


<p style="margin-top: 1em">Increase brightness:</p></td>
<td width="52%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">colorlevels=romin=0.5:gomin=0.5:bomin=0.5</p>


<p style="margin-left:11%; margin-top: 1em"><b>colorchannelmixer</b>
<br>
Adjust video input frames by re-mixing color channels.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
modifies a color channel by adding the values associated to
the other channels of the same pixels. For example if the
value to modify is red, the output value will be:</p>


<p style="margin-left:11%; margin-top: 1em">&lt;red&gt;=&lt;red&gt;*&lt;rr&gt;
+ &lt;blue&gt;*&lt;rb&gt; + &lt;green&gt;*&lt;rg&gt; +
&lt;alpha&gt;*&lt;ra&gt;</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>rr</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>rg</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>rb</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>ra</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Adjust contribution of input red, green, blue and alpha
channels for output red channel. Default is 1 for <i>rr</i>,
and 0 for <i>rg</i>, <i>rb</i> and <i>ra</i>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>gr</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>gg</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>gb</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>ga</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Adjust contribution of input red, green, blue and alpha
channels for output green channel. Default is 1 for
<i>gg</i>, and 0 for <i>gr</i>, <i>gb</i> and <i>ga</i>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>br</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>bg</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>bb</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>ba</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Adjust contribution of input red, green, blue and alpha
channels for output blue channel. Default is 1 for
<i>bb</i>, and 0 for <i>br</i>, <i>bg</i> and <i>ba</i>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>ar</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>ag</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>ab</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>aa</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Adjust contribution of input red, green, blue and alpha
channels for output alpha channel. Default is 1 for
<i>aa</i>, and 0 for <i>ar</i>, <i>ag</i> and <i>ab</i>.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Allowed ranges
for options are &quot;[-2.0, 2.0]&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="43%">


<p style="margin-top: 1em">Convert source to grayscale:</p></td>
<td width="40%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">colorchannelmixer=.3:.4:.3:0:.3:.4:.3:0:.3:.4:.3</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="32%">


<p style="margin-top: 1em">Simulate sepia tones:</p></td>
<td width="51%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">colorchannelmixer=.393:.769:.189:0:.349:.686:.168:0:.272:.534:.131</p>


<p style="margin-left:11%; margin-top: 1em"><b>colormatrix</b>
<br>
Convert color matrix.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p style="margin-top: 1em"><b>src</b></p></td>
<td width="2%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>dst</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Specify the source and destination color matrix. Both
values must be specified.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The accepted
values are: <b><br>
bt709</b></p>

<p style="margin-left:23%;"><small>BT.709</small></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>fcc</b></p></td>
<td width="1%"></td>
<td width="5%">


<p><small>FCC</small></p></td>
<td width="72%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>bt601</b></p>

<p style="margin-left:23%;"><small>BT.601</small></p>

<p style="margin-left:17%;"><b>bt470</b></p>

<p style="margin-left:23%;"><small>BT.470</small></p>

<p style="margin-left:17%;"><b>bt470bg</b></p>

<p style="margin-left:23%;"><small>BT.470BG</small></p>

<p style="margin-left:17%;"><b>smpte170m</b></p>

<p style="margin-left:23%;"><small>SMPTE-170M</small></p>

<p style="margin-left:17%;"><b>smpte240m</b></p>

<p style="margin-left:23%;"><small>SMPTE-240M</small></p>

<p style="margin-left:17%;"><b>bt2020</b></p>

<p style="margin-left:23%;"><small>BT.2020</small></p>

<p style="margin-left:11%; margin-top: 1em">For example to
convert from <small>BT.601</small> to
<small>SMPTE-240M,</small> use the command:</p>


<p style="margin-left:11%; margin-top: 1em">colormatrix=bt601:smpte240m</p>


<p style="margin-left:11%; margin-top: 1em"><b>colorspace</b>
<br>
Convert colorspace, transfer characteristics or color
primaries. Input video needs to have an even size.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>all</b></p></td>
<td width="2%"></td>
<td width="57%">


<p>Specify all color properties at once.</p></td>
<td width="26%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The accepted
values are: <b><br>
bt470m</b></p>

<p style="margin-left:23%;"><small>BT.470M</small></p>

<p style="margin-left:17%;"><b>bt470bg</b></p>

<p style="margin-left:23%;"><small>BT.470BG</small></p>

<p style="margin-left:17%;"><b>bt601-6-525</b></p>

<p style="margin-left:23%;"><small>BT.601-6 525</small></p>

<p style="margin-left:17%;"><b>bt601-6-625</b></p>

<p style="margin-left:23%;"><small>BT.601-6 625</small></p>

<p style="margin-left:17%;"><b>bt709</b></p>

<p style="margin-left:23%;"><small>BT.709</small></p>

<p style="margin-left:17%;"><b>smpte170m</b></p>

<p style="margin-left:23%;"><small>SMPTE-170M</small></p>

<p style="margin-left:17%;"><b>smpte240m</b></p>

<p style="margin-left:23%;"><small>SMPTE-240M</small></p>

<p style="margin-left:17%;"><b>bt2020</b></p>

<p style="margin-left:23%;"><small>BT.2020</small></p>

<p style="margin-left:11%;"><b>space</b></p>

<p style="margin-left:17%;">Specify output colorspace.</p>

<p style="margin-left:17%; margin-top: 1em">The accepted
values are: <b><br>
bt709</b></p>

<p style="margin-left:23%;"><small>BT.709</small></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>fcc</b></p></td>
<td width="1%"></td>
<td width="5%">


<p><small>FCC</small></p></td>
<td width="72%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>bt470bg</b></p>

<p style="margin-left:23%;"><small>BT.470BG</small> or
<small>BT.601-6 625</small></p>

<p style="margin-left:17%;"><b>smpte170m</b></p>

<p style="margin-left:23%;"><small>SMPTE-170M</small> or
<small>BT.601-6 525</small></p>

<p style="margin-left:17%;"><b>smpte240m</b></p>

<p style="margin-left:23%;"><small>SMPTE-240M</small></p>

<p style="margin-left:17%;"><b>ycgco</b></p>

<p style="margin-left:23%;">YCgCo</p>

<p style="margin-left:17%;"><b>bt2020ncl</b></p>

<p style="margin-left:23%;"><small>BT.2020</small> with
non-constant luminance</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>trc</b></p></td>
<td width="2%"></td>
<td width="61%">


<p>Specify output transfer characteristics.</p></td>
<td width="22%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The accepted
values are: <b><br>
bt709</b></p>

<p style="margin-left:23%;"><small>BT.709</small></p>

<p style="margin-left:17%;"><b>bt470m</b></p>

<p style="margin-left:23%;"><small>BT.470M</small></p>

<p style="margin-left:17%;"><b>bt470bg</b></p>

<p style="margin-left:23%;"><small>BT.470BG</small></p>

<p style="margin-left:17%;"><b>gamma22</b></p>

<p style="margin-left:23%;">Constant gamma of 2.2</p>

<p style="margin-left:17%;"><b>gamma28</b></p>

<p style="margin-left:23%;">Constant gamma of 2.8</p>

<p style="margin-left:17%;"><b>smpte170m</b></p>

<p style="margin-left:23%;"><small>SMPTE-170M, BT.601-6
625</small> or <small>BT.601-6 525</small></p>

<p style="margin-left:17%;"><b>smpte240m</b></p>

<p style="margin-left:23%;"><small>SMPTE-240M</small></p>

<p style="margin-left:17%;"><b>srgb</b></p>

<p style="margin-left:23%;"><small>SRGB</small></p>

<p style="margin-left:17%;"><b>iec61966-2-1</b></p>

<p style="margin-left:23%;">iec61966-2-1</p>

<p style="margin-left:17%;"><b>iec61966-2-4</b></p>

<p style="margin-left:23%;">iec61966-2-4</p>

<p style="margin-left:17%;"><b>xvycc</b></p>

<p style="margin-left:23%;">xvycc</p>

<p style="margin-left:17%;"><b>bt2020-10</b></p>

<p style="margin-left:23%;"><small>BT.2020</small> for
10-bits content</p>

<p style="margin-left:17%;"><b>bt2020-12</b></p>

<p style="margin-left:23%;"><small>BT.2020</small> for
12-bits content</p>

<p style="margin-left:11%;"><b>primaries</b></p>

<p style="margin-left:17%;">Specify output color
primaries.</p>

<p style="margin-left:17%; margin-top: 1em">The accepted
values are: <b><br>
bt709</b></p>

<p style="margin-left:23%;"><small>BT.709</small></p>

<p style="margin-left:17%;"><b>bt470m</b></p>

<p style="margin-left:23%;"><small>BT.470M</small></p>

<p style="margin-left:17%;"><b>bt470bg</b></p>

<p style="margin-left:23%;"><small>BT.470BG</small> or
<small>BT.601-6 625</small></p>

<p style="margin-left:17%;"><b>smpte170m</b></p>

<p style="margin-left:23%;"><small>SMPTE-170M</small> or
<small>BT.601-6 525</small></p>

<p style="margin-left:17%;"><b>smpte240m</b></p>

<p style="margin-left:23%;"><small>SMPTE-240M</small></p>

<p style="margin-left:17%;"><b>film</b></p>

<p style="margin-left:23%;">film</p>

<p style="margin-left:17%;"><b>smpte431</b></p>

<p style="margin-left:23%;"><small>SMPTE-431</small></p>

<p style="margin-left:17%;"><b>smpte432</b></p>

<p style="margin-left:23%;"><small>SMPTE-432</small></p>

<p style="margin-left:17%;"><b>bt2020</b></p>

<p style="margin-left:23%;"><small>BT.2020</small></p>

<p style="margin-left:17%;"><b>jedec-p22</b></p>

<p style="margin-left:23%;"><small>JEDEC P22</small>
phosphors</p>

<p style="margin-left:11%;"><b>range</b></p>

<p style="margin-left:17%;">Specify output color range.</p>

<p style="margin-left:17%; margin-top: 1em">The accepted
values are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>tv</b></p></td>
<td width="3%"></td>
<td width="32%">


<p><small>TV</small> (restricted) range</p></td>
<td width="45%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>mpeg</b></p>

<p style="margin-left:23%;"><small>MPEG</small>
(restricted) range</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>pc</b></p></td>
<td width="3%"></td>
<td width="23%">


<p><small>PC</small> (full) range</p></td>
<td width="54%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>jpeg</b></p>

<p style="margin-left:23%;"><small>JPEG</small> (full)
range</p>

<p style="margin-left:11%;"><b>format</b></p>

<p style="margin-left:17%;">Specify output color
format.</p>

<p style="margin-left:17%; margin-top: 1em">The accepted
values are: <b><br>
yuv420p</b></p>

<p style="margin-left:23%;"><small>YUV 4:2:0</small> planar
8-bits</p>

<p style="margin-left:17%;"><b>yuv420p10</b></p>

<p style="margin-left:23%;"><small>YUV 4:2:0</small> planar
10-bits</p>

<p style="margin-left:17%;"><b>yuv420p12</b></p>

<p style="margin-left:23%;"><small>YUV 4:2:0</small> planar
12-bits</p>

<p style="margin-left:17%;"><b>yuv422p</b></p>

<p style="margin-left:23%;"><small>YUV 4:2:2</small> planar
8-bits</p>

<p style="margin-left:17%;"><b>yuv422p10</b></p>

<p style="margin-left:23%;"><small>YUV 4:2:2</small> planar
10-bits</p>

<p style="margin-left:17%;"><b>yuv422p12</b></p>

<p style="margin-left:23%;"><small>YUV 4:2:2</small> planar
12-bits</p>

<p style="margin-left:17%;"><b>yuv444p</b></p>

<p style="margin-left:23%;"><small>YUV 4:4:4</small> planar
8-bits</p>

<p style="margin-left:17%;"><b>yuv444p10</b></p>

<p style="margin-left:23%;"><small>YUV 4:4:4</small> planar
10-bits</p>

<p style="margin-left:17%;"><b>yuv444p12</b></p>

<p style="margin-left:23%;"><small>YUV 4:4:4</small> planar
12-bits</p>

<p style="margin-left:11%;"><b>fast</b></p>

<p style="margin-left:17%;">Do a fast conversion, which
skips gamma/primary correction. This will take significantly
less <small>CPU,</small> but will be mathematically
incorrect. To get output compatible with that produced by
the colormatrix filter, use fast=1.</p>

<p style="margin-left:11%;"><b>dither</b></p>

<p style="margin-left:17%;">Specify dithering mode.</p>

<p style="margin-left:17%; margin-top: 1em">The accepted
values are: <b><br>
none</b></p>

<p style="margin-left:23%;">No dithering</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>fsb</b></p></td>
<td width="1%"></td>
<td width="39%">


<p>Floyd-Steinberg dithering</p></td>
<td width="38%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>wpadapt</b></p>

<p style="margin-left:17%;">Whitepoint adaptation mode.</p>

<p style="margin-left:17%; margin-top: 1em">The accepted
values are: <b><br>
bradford</b></p>

<p style="margin-left:23%;">Bradford whitepoint
adaptation</p>

<p style="margin-left:17%;"><b>vonkries</b></p>

<p style="margin-left:23%;">von Kries whitepoint
adaptation</p>

<p style="margin-left:17%;"><b>identity</b></p>

<p style="margin-left:23%;">identity whitepoint adaptation
(i.e. no whitepoint adaptation)</p>

<p style="margin-left:11%;"><b>iall</b></p>

<p style="margin-left:17%;">Override all input properties
at once. Same accepted values as <b>all</b>.</p>

<p style="margin-left:11%;"><b>ispace</b></p>

<p style="margin-left:17%;">Override input colorspace. Same
accepted values as <b>space</b>.</p>

<p style="margin-left:11%;"><b>iprimaries</b></p>

<p style="margin-left:17%;">Override input color primaries.
Same accepted values as <b>primaries</b>.</p>

<p style="margin-left:11%;"><b>itrc</b></p>

<p style="margin-left:17%;">Override input transfer
characteristics. Same accepted values as <b>trc</b>.</p>

<p style="margin-left:11%;"><b>irange</b></p>

<p style="margin-left:17%;">Override input color range.
Same accepted values as <b>range</b>.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
converts the transfer characteristics, color space and color
primaries to the specified user values. The output value, if
not specified, is set to a default value based on the
&quot;all&quot; property. If that property is also not
specified, the filter will log an error. The output color
range and format default to the same value as the input
color range and format. The input transfer characteristics,
color space, color primaries and color range should be set
on the input data. If any of these are missing, the filter
will log an error and no conversion will take place.</p>

<p style="margin-left:11%; margin-top: 1em">For example to
convert the input to <small>SMPTE-240M,</small> use the
command:</p>


<p style="margin-left:11%; margin-top: 1em">colorspace=smpte240m</p>


<p style="margin-left:11%; margin-top: 1em"><b>convolution</b>
<br>
Apply convolution of 3x3, 5x5, 7x7 or horizontal/vertical up
to 49 elements.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>0m</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>1m</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>2m</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>3m</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Set matrix for each plane. Matrix is sequence of 9, 25
or 49 signed integers in <i>square</i> mode, and from 1 to
49 odd number of signed integers in <i>row</i> mode.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>0rdiv <br>
1rdiv <br>
2rdiv <br>
3rdiv</b></p>

<p style="margin-left:17%;">Set multiplier for calculated
value for each plane. If unset or 0, it will be sum of all
matrix elements.</p>

<p style="margin-left:11%;"><b>0bias <br>
1bias <br>
2bias <br>
3bias</b></p>

<p style="margin-left:17%;">Set bias for each plane. This
value is added to the result of the multiplication. Useful
for making the overall image brighter or darker. Default is
0.0.</p>

<p style="margin-left:11%;"><b>0mode <br>
1mode <br>
2mode <br>
3mode</b></p>

<p style="margin-left:17%;">Set matrix mode for each plane.
Can be <i>square</i>, <i>row</i> or <i>column</i>. Default
is <i>square</i>.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="21%">


<p>Apply sharpen:</p></td>
<td width="62%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">convolution=&quot;0
-1 0 -1 5 -1 0 -1 0:0 -1 0 -1 5 -1 0 -1 0:0 -1 0 -1 5 -1 0
-1 0:0 -1 0 -1 5 -1 0 -1 0&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="17%">


<p style="margin-top: 1em">Apply blur:</p></td>
<td width="66%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">convolution=&quot;1
1 1 1 1 1 1 1 1:1 1 1 1 1 1 1 1 1:1 1 1 1 1 1 1 1 1:1 1 1 1
1 1 1 1 1:1/9:1/9:1/9:1/9&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="29%">


<p style="margin-top: 1em">Apply edge enhance:</p></td>
<td width="54%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">convolution=&quot;0
0 0 -1 1 0 0 0 0:0 0 0 -1 1 0 0 0 0:0 0 0 -1 1 0 0 0 0:0 0 0
-1 1 0 0 0 0:5:1:1:1:0:128:128:128&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="28%">


<p style="margin-top: 1em">Apply edge detect:</p></td>
<td width="55%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">convolution=&quot;0
1 0 1 -4 1 0 1 0:0 1 0 1 -4 1 0 1 0:0 1 0 1 -4 1 0 1 0:0 1 0
1 -4 1 0 1 0:5:5:5:1:0:128:128:128&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Apply laplacian edge detector
which includes diagonals:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">convolution=&quot;1
1 1 1 -8 1 1 1 1:1 1 1 1 -8 1 1 1 1:1 1 1 1 -8 1 1 1 1:1 1 1
1 -8 1 1 1 1:5:5:5:1:0:128:128:0&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="20%">


<p style="margin-top: 1em">Apply emboss:</p></td>
<td width="63%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">convolution=&quot;-2
-1 0 -1 1 1 0 1 2:-2 -1 0 -1 1 1 0 1 2:-2 -1 0 -1 1 1 0 1
2:-2 -1 0 -1 1 1 0 1 2&quot;</p>


<p style="margin-left:11%; margin-top: 1em"><b>convolve</b>
<br>
Apply 2D convolution of video stream in frequency domain
using second stream as impulse.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
planes</b></p>

<p style="margin-left:17%;">Set which planes to
process.</p>

<p style="margin-left:11%;"><b>impulse</b></p>

<p style="margin-left:17%;">Set which impulse video frames
will be processed, can be <i>first</i> or <i>all</i>.
Default is <i>all</i>.</p>

<p style="margin-left:11%; margin-top: 1em">The
&quot;convolve&quot; filter also supports the
<b>framesync</b> options.</p>

<p style="margin-left:11%; margin-top: 1em"><b>copy</b>
<br>
Copy the input video source unchanged to the output. This is
mainly useful for testing purposes.</p>


<p style="margin-left:11%; margin-top: 1em"><b>coreimage</b>
<br>
Video filtering on <small>GPU</small> using Apple&rsquo;s
CoreImage <small>API</small> on <small>OSX.</small></p>

<p style="margin-left:11%; margin-top: 1em">Hardware
acceleration is based on an OpenGL context. Usually, this
means it is processed by video hardware. However,
software-based OpenGL implementations exist which means
there is no guarantee for hardware processing. It depends on
the respective <small>OSX.</small></p>

<p style="margin-left:11%; margin-top: 1em">There are many
filters and image generators provided by Apple that come
with a large variety of options. The filter has to be
referenced by its name along with its options.</p>

<p style="margin-left:11%; margin-top: 1em">The coreimage
filter accepts the following options: <b><br>
list_filters</b></p>

<p style="margin-left:17%;">List all available filters and
generators along with all their respective options as well
as possible minimum and maximum values along with the
default values.</p>


<p style="margin-left:17%; margin-top: 1em">list_filters=true</p>

<p style="margin-left:11%;"><b>filter</b></p>

<p style="margin-left:17%;">Specify all filters by their
respective name and options. Use <i>list_filters</i> to
determine all valid filter names and options. Numerical
options are specified by a float value and are automatically
clamped to their respective value range. Vector and color
options have to be specified by a list of space separated
float values. Character escaping has to be done. A special
option name &quot;default&quot; is available to use default
options for a filter.</p>

<p style="margin-left:17%; margin-top: 1em">It is required
to specify either &quot;default&quot; or at least one of the
filter options. All omitted options are used with their
default values. The syntax of the filter string is as
follows:</p>


<p style="margin-left:17%; margin-top: 1em">filter=&lt;NAME&gt;@&lt;OPTION&gt;=&lt;VALUE&gt;[@&lt;OPTION&gt;=&lt;VALUE&gt;][@...][#&lt;NAME&gt;@&lt;OPTION&gt;=&lt;VALUE&gt;[@&lt;OPTION&gt;=&lt;VALUE&gt;][@...]][#...]</p>

<p style="margin-left:11%;"><b>output_rect</b></p>

<p style="margin-left:17%;">Specify a rectangle where the
output of the filter chain is copied into the input image.
It is given by a list of space separated float values:</p>

<p style="margin-left:17%; margin-top: 1em">output_rect=x\
y\ width\ height</p>

<p style="margin-left:17%; margin-top: 1em">If not given,
the output rectangle equals the dimensions of the input
image. The output rectangle is automatically cropped at the
borders of the input image. Negative values are valid for
each component.</p>


<p style="margin-left:17%; margin-top: 1em">output_rect=25\
25\ 100\ 100</p>

<p style="margin-left:11%; margin-top: 1em">Several filters
can be chained for successive processing without GPU-HOST
transfers allowing for fast processing of complex filter
chains. Currently, only filters with zero (generators) or
exactly one (filters) input image and one output image are
supported. Also, transition filters are not yet usable as
intended.</p>

<p style="margin-left:11%; margin-top: 1em">Some filters
generate output images with additional padding depending on
the respective filter kernel. The padding is automatically
removed to ensure the filter output has the same size as the
input image.</p>

<p style="margin-left:11%; margin-top: 1em">For image
generators, the size of the output image is determined by
the previous output image of the filter chain or the input
image of the whole filterchain, respectively. The generators
do not use the pixel information of this image to generate
their output. However, the generated output is blended onto
this image, resulting in partial or complete coverage of the
output image.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>coreimagesrc</b> video source can be used for generating
input images which are directly fed into the filter chain.
By using it, providing input images by another video source
or an input video is not required.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="41%">


<p>List all filters available:</p></td>
<td width="42%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">coreimage=list_filters=true</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Use the CIBoxBlur filter with
default options to blur an image:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">coreimage=filter=CIBoxBlur@default</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Use a filter chain with
CISepiaTone at default values and CIVignetteEffect with its
center at 100x100 and a radius of 50 pixels:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">coreimage=filter=CIBoxBlur@default#CIVignetteEffect@inputCenter=100\
100@inputRadius=50</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Use nullsrc and
CIQRCodeGenerator to create a <small>QR</small> code for the
FFmpeg homepage, given as complete and escaped command-line
for Apple&rsquo;s standard bash shell:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -f lavfi
-i
nullsrc=s=100x100,coreimage=filter=CIQRCodeGenerator@inputMessage=https\\\\\://FFmpeg.org/@inputCorrectionLevel=H
-frames:v 1 QRCode.png</p>

<p style="margin-left:11%; margin-top: 1em"><b>crop</b>
<br>
Crop the input video to given dimensions.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters: <b><br>
w, out_w</b></p>

<p style="margin-left:17%;">The width of the output video.
It defaults to &quot;iw&quot;. This expression is evaluated
only once during the filter configuration, or when the
<b>w</b> or <b>out_w</b> command is sent.</p>

<p style="margin-left:11%;"><b>h, out_h</b></p>

<p style="margin-left:17%;">The height of the output video.
It defaults to &quot;ih&quot;. This expression is evaluated
only once during the filter configuration, or when the
<b>h</b> or <b>out_h</b> command is sent.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>x</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>The horizontal position, in the input video, of the left
edge of the output video. It defaults to
&quot;(in_w-out_w)/2&quot;. This expression is evaluated
per-frame.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>y</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>The vertical position, in the input video, of the top
edge of the output video. It defaults to
&quot;(in_h-out_h)/2&quot;. This expression is evaluated
per-frame.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>keep_aspect</b></p>

<p style="margin-left:17%;">If set to 1 will force the
output display aspect ratio to be the same of the input, by
changing the output sample aspect ratio. It defaults to
0.</p>

<p style="margin-left:11%;"><b>exact</b></p>

<p style="margin-left:17%;">Enable exact cropping. If
enabled, subsampled videos will be cropped at exact
width/height/x/y as specified and will not be rounded to
nearest smaller value. It defaults to 0.</p>

<p style="margin-left:11%; margin-top: 1em">The
<i>out_w</i>, <i>out_h</i>, <i>x</i>, <i>y</i> parameters
are expressions containing the following constants:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>x</b></p></td>
<td width="5%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>y</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>The computed values for <i>x</i> and <i>y</i>. They are
evaluated for each new frame.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>in_w <br>
in_h</b></p>

<p style="margin-left:17%;">The input width and height.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>iw</b></p></td>
<td width="3%"></td>
<td width="55%">
</td>
<td width="28%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>ih</b></p></td>
<td width="3%"></td>
<td width="55%">


<p>These are the same as <i>in_w</i> and <i>in_h</i>.</p></td>
<td width="28%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>out_w <br>
out_h</b></p>

<p style="margin-left:17%;">The output (cropped) width and
height.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>ow</b></p></td>
<td width="2%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>oh</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>These are the same as <i>out_w</i> and <i>out_h</i>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>a</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>same as <i>iw</i> / <i>ih</i></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>sar</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>input sample aspect ratio</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>dar</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>input display aspect ratio, it is the same as (<i>iw</i>
/ <i>ih</i>) * <i>sar</i></p></td></tr>
</table>

<p style="margin-left:11%;"><b>hsub <br>
vsub</b></p>

<p style="margin-left:17%;">horizontal and vertical chroma
subsample values. For example for the pixel format
&quot;yuv422p&quot; <i>hsub</i> is 2 and <i>vsub</i> is
1.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>n</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>The number of the input frame, starting from 0.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>pos</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>the position in the file of the input frame,
<small>NAN</small> if unknown</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>t</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>The timestamp expressed in seconds. It&rsquo;s
<small>NAN</small> if the input timestamp is unknown.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">The expression
for <i>out_w</i> may depend on the value of <i>out_h</i>,
and the expression for <i>out_h</i> may depend on
<i>out_w</i>, but they cannot depend on <i>x</i> and
<i>y</i>, as <i>x</i> and <i>y</i> are evaluated after
<i>out_w</i> and <i>out_h</i>.</p>

<p style="margin-left:11%; margin-top: 1em">The <i>x</i>
and <i>y</i> parameters specify the expressions for the
position of the top-left corner of the output (non-cropped)
area. They are evaluated for each frame. If the evaluated
value is not valid, it is approximated to the nearest valid
value.</p>

<p style="margin-left:11%; margin-top: 1em">The expression
for <i>x</i> may depend on <i>y</i>, and the expression for
<i>y</i> may depend on <i>x</i>.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="74%">


<p style="margin-top: 1em">Crop area with size 100x100 at
position (12,34).</p></td>
<td width="9%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">crop=100:100:12:34</p>

<p style="margin-left:17%; margin-top: 1em">Using named
options, the example above becomes:</p>


<p style="margin-left:17%; margin-top: 1em">crop=w=100:h=100:x=12:y=34</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="71%">


<p style="margin-top: 1em">Crop the central input area with
size 100x100:</p></td>
<td width="12%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">crop=100:100</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Crop the central input area with
size 2/3 of the input video:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">crop=2/3*in_w:2/3*in_h</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="55%">


<p style="margin-top: 1em">Crop the input video central
square:</p> </td>
<td width="28%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">crop=out_w=in_h
<br>
crop=in_h</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Delimit the rectangle with the
top-left corner placed at position 100:100 and the
right-bottom corner corresponding to the right-bottom corner
of the input image.</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">crop=in_w-100:in_h-100:100:100</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Crop 10 pixels from the left and
right borders, and 20 pixels from the top and bottom
borders</p> </td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">crop=in_w-2*10:in_h-2*20</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Keep only the bottom right
quarter of the input image:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">crop=in_w/2:in_h/2:in_w/2:in_h/2</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="58%">


<p style="margin-top: 1em">Crop height for getting Greek
harmony:</p> </td>
<td width="25%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">crop=in_w:1/PHI*in_w</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="35%">


<p style="margin-top: 1em">Apply trembling effect:</p></td>
<td width="48%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">crop=in_w/2:in_h/2:(in_w-out_w)/2+((in_w-out_w)/2)*sin(n/10):(in_h-out_h)/2
+((in_h-out_h)/2)*sin(n/7)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="78%">


<p style="margin-top: 1em">Apply erratic camera effect
depending on timestamp:</p></td>
<td width="5%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">crop=in_w/2:in_h/2:(in_w-out_w)/2+((in_w-out_w)/2)*sin(t*10):(in_h-out_h)/2
+((in_h-out_h)/2)*sin(t*13)&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="52%">


<p style="margin-top: 1em">Set x depending on the value of
y:</p> </td>
<td width="31%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">crop=in_w/2:in_h/2:y:10+10*sin(n/10)</p>


<p style="margin-left:11%; margin-top: 1em"><i>Commands</i></p>

<p style="margin-left:11%; margin-top: 1em">This filter
supports the following commands: <b><br>
w, out_w <br>
h, out_h</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>x</b></p></td>
<td width="5%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>y</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set width/height of the output video and the
horizontal/vertical position in the input video. The command
accepts the same syntax of the corresponding option.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">If the
specified expression is not valid, it is kept at its current
value.</p>


<p style="margin-left:11%; margin-top: 1em"><b>cropdetect</b>
<br>
Auto-detect the crop size.</p>

<p style="margin-left:11%; margin-top: 1em">It calculates
the necessary cropping parameters and prints the recommended
parameters via the logging system. The detected dimensions
correspond to the non-black area of the input video.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters: <b><br>
limit</b></p>

<p style="margin-left:17%;">Set higher black value
threshold, which can be optionally specified from nothing
(0) to everything (255 for 8-bit based formats). An
intensity value greater to the set value is considered
non-black. It defaults to 24. You can also specify a value
between 0.0 and 1.0 which will be scaled depending on the
bitdepth of the pixel format.</p>

<p style="margin-left:11%;"><b>round</b></p>

<p style="margin-left:17%;">The value which the
width/height should be divisible by. It defaults to 16. The
offset is automatically adjusted to center the video. Use 2
to get only even dimensions (needed for 4:2:2 video). 16 is
best when encoding to most video codecs.</p>

<p style="margin-left:11%;"><b>reset_count, reset</b></p>

<p style="margin-left:17%;">Set the counter that determines
after how many frames cropdetect will reset the previously
detected largest video area and start over to detect the
current optimal crop area. Default value is 0.</p>

<p style="margin-left:17%; margin-top: 1em">This can be
useful when channel logos distort the video area. 0
indicates &rsquo;never reset&rsquo;, and returns the largest
area encountered during playback.</p>

<p style="margin-left:11%; margin-top: 1em"><b>cue</b> <br>
Delay video filtering until a given wallclock timestamp. The
filter first passes on <b>preroll</b> amount of frames, then
it buffers at most <b>buffer</b> amount of frames and waits
for the cue. After reaching the cue it forwards the buffered
frames and also any subsequent frames coming in its
input.</p>

<p style="margin-left:11%; margin-top: 1em">The filter can
be used synchronize the output of multiple ffmpeg processes
for realtime output devices like decklink. By putting the
delay in the filtering chain and pre-buffering frames the
process can pass on data to output almost immediately after
the target wallclock timestamp is reached.</p>

<p style="margin-left:11%; margin-top: 1em">Perfect frame
accuracy cannot be guaranteed, but the result is good enough
for some use cases.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>cue</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>The cue timestamp expressed in a <small>UNIX</small>
timestamp in microseconds. Default is 0.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>preroll</b></p>

<p style="margin-left:17%;">The duration of content to pass
on as preroll expressed in seconds. Default is 0.</p>

<p style="margin-left:11%;"><b>buffer</b></p>

<p style="margin-left:17%;">The maximum duration of content
to buffer before waiting for the cue expressed in seconds.
Default is 0.</p>

<p style="margin-left:11%; margin-top: 1em"><b>curves</b>
<br>
Apply color adjustments using curves.</p>

<p style="margin-left:11%; margin-top: 1em">This filter is
similar to the Adobe Photoshop and <small>GIMP</small>
curves tools. Each component (red, green and blue) has its
values defined by <i>N</i> key points tied from each other
using a smooth curve. The x-axis represents the pixel values
from the input frame, and the y-axis the new pixel values to
be set for the output frame.</p>

<p style="margin-left:11%; margin-top: 1em">By default, a
component curve is defined by the two points <i>(0;0)</i>
and <i>(1;1)</i>. This creates a straight line where each
original pixel value is &quot;adjusted&quot; to its own
value, which means no change to the image.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
allows you to redefine these two points and add some more. A
new curve (using a natural cubic spline interpolation) will
be define to pass smoothly through all these new
coordinates. The new defined points needs to be strictly
increasing over the x-axis, and their <i>x</i> and <i>y</i>
values must be in the <i>[0;1]</i> interval. If the computed
curves happened to go outside the vector spaces, the values
will be clipped accordingly.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
preset</b></p>

<p style="margin-left:17%;">Select one of the available
color presets. This option can be used in addition to the
<b>r</b>, <b>g</b>, <b>b</b> parameters; in this case, the
later options takes priority on the preset values. Available
presets are: <b><br>
none <br>
color_negative <br>
cross_process <br>
darker <br>
increase_contrast <br>
lighter <br>
linear_contrast <br>
medium_contrast <br>
negative <br>
strong_contrast <br>
vintage</b></p>

<p style="margin-left:17%; margin-top: 1em">Default is
&quot;none&quot;.</p>

<p style="margin-left:11%;"><b>master, m</b></p>

<p style="margin-left:17%;">Set the master key points.
These points will define a second pass mapping. It is
sometimes called a &quot;luminance&quot; or
&quot;value&quot; mapping. It can be used with <b>r</b>,
<b>g</b>, <b>b</b> or <b>all</b> since it acts like a
post-processing <small>LUT.</small></p>

<p style="margin-left:11%;"><b>red, r</b></p>

<p style="margin-left:17%;">Set the key points for the red
component.</p>

<p style="margin-left:11%;"><b>green, g</b></p>

<p style="margin-left:17%;">Set the key points for the
green component.</p>

<p style="margin-left:11%;"><b>blue, b</b></p>

<p style="margin-left:17%;">Set the key points for the blue
component.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>all</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set the key points for all components (not including
master). Can be used in addition to the other key points
component options. In this case, the unset component(s) will
fallback on this <b>all</b> setting.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>psfile</b></p>

<p style="margin-left:17%;">Specify a Photoshop curves file
(&quot;.acv&quot;) to import the settings from.</p>

<p style="margin-left:11%;"><b>plot</b></p>

<p style="margin-left:17%;">Save Gnuplot script of the
curves in specified file.</p>

<p style="margin-left:11%; margin-top: 1em">To avoid some
filtergraph syntax conflicts, each key points list need to
be defined using the following syntax: &quot;x0/y0 x1/y1
x2/y2 ...&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="66%">


<p>Increase slightly the middle level of blue:</p></td>
<td width="17%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">curves=blue='0/0
0.5/0.58 1/1'</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="23%">


<p style="margin-top: 1em">Vintage effect:</p></td>
<td width="60%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">curves=r='0/0.11
.42/.51 1/0.95':g='0/0 0.50/0.48 1/1':b='0/0.22 .49/.44
1/0.8'</p>

<p style="margin-left:17%; margin-top: 1em">Here we obtain
the following coordinates for each components:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p style="margin-top: 1em"><i>red</i></p></td>
<td width="1%"></td>
<td width="48%">


<p style="margin-top: 1em">&quot;(0;0.11) (0.42;0.51)
(1;0.95)&quot;</p> </td>
<td width="29%">
</td></tr>
</table>

<p style="margin-left:17%;"><i>green</i></p>

<p style="margin-left:23%;">&quot;(0;0) (0.50;0.48)
(1;1)&quot;</p>

<p style="margin-left:17%;"><i>blue</i></p>

<p style="margin-left:23%;">&quot;(0;0.22) (0.49;0.44)
(1;0.80)&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The previous example can also be achieved with the
associated built-in preset:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">curves=preset=vintage</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="15%">


<p style="margin-top: 1em">Or simply:</p></td>
<td width="68%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">curves=vintage</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Use a Photoshop preset and
redefine the points of the green component:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">curves=psfile='MyCurvesPresets/purple.acv':green='0/0
0.45/0.53 1/1'</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Check out the curves of the
&quot;cross_process&quot; profile using <b>ffmpeg</b> and
<b>gnuplot</b>:</p> </td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -f lavfi
-i color -vf curves=cross_process:plot=/tmp/curves.plt
-frames:v 1 -f null - <br>
gnuplot -p /tmp/curves.plt</p>


<p style="margin-left:11%; margin-top: 1em"><b>datascope</b>
<br>
Video data analysis filter.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
shows hexadecimal pixel values of part of video.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
size, s</b></p>

<p style="margin-left:17%;">Set output video size.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>x</b></p></td>
<td width="5%"></td>
<td width="60%">


<p>Set x offset from where to pick pixels.</p></td>
<td width="23%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>y</b></p></td>
<td width="5%"></td>
<td width="60%">


<p>Set y offset from where to pick pixels.</p></td>
<td width="23%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>mode</b></p>

<p style="margin-left:17%;">Set scope mode, can be one of
the following: <b><br>
mono</b></p>

<p style="margin-left:23%;">Draw hexadecimal pixel values
with white color on black background.</p>

<p style="margin-left:17%;"><b>color</b></p>

<p style="margin-left:23%;">Draw hexadecimal pixel values
with input video pixel color on black background.</p>

<p style="margin-left:17%;"><b>color2</b></p>

<p style="margin-left:23%;">Draw hexadecimal pixel values
on color background picked from input video, the text color
is picked in such way so its always visible.</p>

<p style="margin-left:11%;"><b>axis</b></p>

<p style="margin-left:17%;">Draw rows and columns numbers
on left and top of video.</p>

<p style="margin-left:11%;"><b>opacity</b></p>

<p style="margin-left:17%;">Set background opacity.</p>


<p style="margin-left:11%; margin-top: 1em"><b>dctdnoiz</b>
<br>
Denoise frames using 2D <small>DCT</small> (frequency domain
filtering).</p>

<p style="margin-left:11%; margin-top: 1em">This filter is
not designed for real time.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
sigma, s</b></p>

<p style="margin-left:17%;">Set the noise sigma
constant.</p>

<p style="margin-left:17%; margin-top: 1em">This
<i>sigma</i> defines a hard threshold of &quot;3 *
sigma&quot;; every <small>DCT</small> coefficient (absolute
value) below this threshold with be dropped.</p>

<p style="margin-left:17%; margin-top: 1em">If you need a
more advanced filtering, see <b>expr</b>.</p>

<p style="margin-left:17%; margin-top: 1em">Default is
0.</p>

<p style="margin-left:11%;"><b>overlap</b></p>

<p style="margin-left:17%;">Set number overlapping pixels
for each block. Since the filter can be slow, you may want
to reduce this value, at the cost of a less effective filter
and the risk of various artefacts.</p>

<p style="margin-left:17%; margin-top: 1em">If the
overlapping value doesn&rsquo;t permit processing the whole
input width or height, a warning will be displayed and
according borders won&rsquo;t be denoised.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is <i>blocksize</i>-1, which is the best possible
setting.</p>

<p style="margin-left:11%;"><b>expr, e</b></p>

<p style="margin-left:17%;">Set the coefficient factor
expression.</p>

<p style="margin-left:17%; margin-top: 1em">For each
coefficient of a <small>DCT</small> block, this expression
will be evaluated as a multiplier value for the
coefficient.</p>

<p style="margin-left:17%; margin-top: 1em">If this is
option is set, the <b>sigma</b> option will be ignored.</p>

<p style="margin-left:17%; margin-top: 1em">The absolute
value of the coefficient can be accessed through the
<i>c</i> variable.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>n</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set the <i>blocksize</i> using the number of bits.
&quot;1&lt;&lt;<i>n</i>&quot; defines the <i>blocksize</i>,
which is the width and height of the processed blocks.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The default
value is <i>3</i> (8x8) and can be raised to <i>4</i> for a
<i>blocksize</i> of 16x16. Note that changing this setting
has huge consequences on the speed processing. Also, a
larger block size does not necessarily means a better
de-noising.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<p style="margin-left:11%; margin-top: 1em">Apply a denoise
with a <b>sigma</b> of 4.5:</p>


<p style="margin-left:11%; margin-top: 1em">dctdnoiz=4.5</p>

<p style="margin-left:11%; margin-top: 1em">The same
operation can be achieved using the expression system:</p>


<p style="margin-left:11%; margin-top: 1em">dctdnoiz=e='gte(c,
4.5*3)'</p>

<p style="margin-left:11%; margin-top: 1em">Violent denoise
using a block size of &quot;16x16&quot;:</p>


<p style="margin-left:11%; margin-top: 1em">dctdnoiz=15:n=4</p>

<p style="margin-left:11%; margin-top: 1em"><b>deband</b>
<br>
Remove banding artifacts from input video. It works by
replacing banded pixels with average value of referenced
pixels.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
1thr <br>
2thr <br>
3thr <br>
4thr</b></p>

<p style="margin-left:17%;">Set banding detection threshold
for each plane. Default is 0.02. Valid range is 0.00003 to
0.5. If difference between current pixel and reference pixel
is less than threshold, it will be considered as banded.</p>

<p style="margin-left:11%;"><b>range, r</b></p>

<p style="margin-left:17%;">Banding detection range in
pixels. Default is 16. If positive, random number in range 0
to set value will be used. If negative, exact absolute value
will be used. The range defines square of four pixels around
current pixel.</p>

<p style="margin-left:11%;"><b>direction, d</b></p>

<p style="margin-left:17%;">Set direction in radians from
which four pixel will be compared. If positive, random
direction from 0 to set direction will be picked. If
negative, exact of absolute value will be picked. For
example direction 0, -PI or -2*PI radians will pick only
pixels on same row and -PI/2 will pick only pixels on same
column.</p>

<p style="margin-left:11%;"><b>blur, b</b></p>

<p style="margin-left:17%;">If enabled, current pixel is
compared with average value of all four surrounding pixels.
The default is enabled. If disabled current pixel is
compared with all four surrounding pixels. The pixel is
considered banded if only all four differences with
surrounding pixels are less than threshold.</p>

<p style="margin-left:11%;"><b>coupling, c</b></p>

<p style="margin-left:17%;">If enabled, current pixel is
changed if and only if all pixel components are banded, e.g.
banding detection threshold is triggered for all color
components. The default is disabled.</p>

<p style="margin-left:11%; margin-top: 1em"><b>deblock</b>
<br>
Remove blocking artifacts from input video.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
filter</b></p>

<p style="margin-left:17%;">Set filter type, can be
<i>weak</i> or <i>strong</i>. Default is <i>strong</i>. This
controls what kind of deblocking is applied.</p>

<p style="margin-left:11%;"><b>block</b></p>

<p style="margin-left:17%;">Set size of block, allowed
range is from 4 to 512. Default is <i>8</i>.</p>

<p style="margin-left:11%;"><b>alpha <br>
beta <br>
gamma <br>
delta</b></p>

<p style="margin-left:17%;">Set blocking detection
thresholds. Allowed range is 0 to 1. Defaults are:
<i>0.098</i> for <i>alpha</i> and <i>0.05</i> for the rest.
Using higher threshold gives more deblocking strength.
Setting <i>alpha</i> controls threshold detection at exact
edge of block. Remaining options controls threshold
detection near the edge. Each one for below/above or
left/right. Setting any of those to <i>0</i> disables
deblocking.</p>

<p style="margin-left:11%;"><b>planes</b></p>

<p style="margin-left:17%;">Set planes to filter. Default
is to filter all available planes.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="81%">


<p>Deblock using weak filter and block size of 4
pixels.</p> </td>
<td width="2%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">deblock=filter=weak:block=4</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Deblock using strong filter,
block size of 4 pixels and custom thresholds for deblocking
more edges.</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">deblock=filter=strong:block=4:alpha=0.12:beta=0.07:gamma=0.06:delta=0.05</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="71%">


<p style="margin-top: 1em">Similar as above, but filter
only first plane.</p></td>
<td width="12%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">deblock=filter=strong:block=4:alpha=0.12:beta=0.07:gamma=0.06:delta=0.05:planes=1</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Similar as above, but filter
only second and third plane.</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">deblock=filter=strong:block=4:alpha=0.12:beta=0.07:gamma=0.06:delta=0.05:planes=6</p>


<p style="margin-left:11%; margin-top: 1em"><b>decimate</b>
<br>
Drop duplicated frames at regular intervals.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
cycle</b></p>

<p style="margin-left:17%;">Set the number of frames from
which one will be dropped. Setting this to <i>N</i> means
one frame in every batch of <i>N</i> frames will be dropped.
Default is 5.</p>

<p style="margin-left:11%;"><b>dupthresh</b></p>

<p style="margin-left:17%;">Set the threshold for duplicate
detection. If the difference metric for a frame is less than
or equal to this value, then it is declared as duplicate.
Default is 1.1</p>

<p style="margin-left:11%;"><b>scthresh</b></p>

<p style="margin-left:17%;">Set scene change threshold.
Default is 15.</p>

<p style="margin-left:11%;"><b>blockx <br>
blocky</b></p>

<p style="margin-left:17%;">Set the size of the x and
y-axis blocks used during metric calculations. Larger blocks
give better noise suppression, but also give worse detection
of small movements. Must be a power of two. Default is
32.</p>

<p style="margin-left:11%;"><b>ppsrc</b></p>

<p style="margin-left:17%;">Mark main input as a
pre-processed input and activate clean source input stream.
This allows the input to be pre-processed with various
filters to help the metrics calculation while keeping the
frame selection lossless. When set to 1, the first stream is
for the pre-processed input, and the second stream is the
clean source from where the kept frames are chosen. Default
is 0.</p>

<p style="margin-left:11%;"><b>chroma</b></p>

<p style="margin-left:17%;">Set whether or not chroma is
considered in the metric calculations. Default is 1.</p>


<p style="margin-left:11%; margin-top: 1em"><b>deconvolve</b>
<br>
Apply 2D deconvolution of video stream in frequency domain
using second stream as impulse.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
planes</b></p>

<p style="margin-left:17%;">Set which planes to
process.</p>

<p style="margin-left:11%;"><b>impulse</b></p>

<p style="margin-left:17%;">Set which impulse video frames
will be processed, can be <i>first</i> or <i>all</i>.
Default is <i>all</i>.</p>

<p style="margin-left:11%;"><b>noise</b></p>

<p style="margin-left:17%;">Set noise when doing divisions.
Default is <i>0.0000001</i>. Useful when width and height
are not same and not power of 2 or if stream prior to
convolving had noise.</p>

<p style="margin-left:11%; margin-top: 1em">The
&quot;deconvolve&quot; filter also supports the
<b>framesync</b> options.</p>

<p style="margin-left:11%; margin-top: 1em"><b>dedot</b>
<br>
Reduce cross-luminance (dot-crawl) and cross-color
(rainbows) from video.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following options:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>m</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Set mode of operation. Can be combination of
<i>dotcrawl</i> for cross-luminance reduction and/or
<i>rainbows</i> for cross-color reduction.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>lt</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Set spatial luma threshold. Lower values increases
reduction of cross-luminance.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>tl</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Set tolerance for temporal luma. Higher values increases
reduction of cross-luminance.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>tc</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Set tolerance for chroma temporal variation. Higher
values increases reduction of cross-color.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>ct</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Set temporal chroma threshold. Lower values increases
reduction of cross-color.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>deflate</b>
<br>
Apply deflate effect to the video.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
replaces the pixel by the local(3x3) average by taking into
account only values lower than the pixel.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following options: <b><br>
threshold0 <br>
threshold1 <br>
threshold2 <br>
threshold3</b></p>

<p style="margin-left:17%;">Limit the maximum change for
each plane, default is 65535. If 0, plane will remain
unchanged.</p>


<p style="margin-left:11%; margin-top: 1em"><b>deflicker</b>
<br>
Remove temporal frame luminance variations.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following options: <b><br>
size, s</b></p>

<p style="margin-left:17%;">Set moving-average filter size
in frames. Default is 5. Allowed range is 2 - 129.</p>

<p style="margin-left:11%;"><b>mode, m</b></p>

<p style="margin-left:17%;">Set averaging mode to smooth
temporal luminance variations.</p>

<p style="margin-left:17%; margin-top: 1em">Available
values are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>am</b></p></td>
<td width="3%"></td>
<td width="23%">


<p>Arithmetic mean</p></td>
<td width="54%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>gm</b></p></td>
<td width="3%"></td>
<td width="23%">


<p>Geometric mean</p></td>
<td width="54%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>hm</b></p></td>
<td width="3%"></td>
<td width="23%">


<p>Harmonic mean</p></td>
<td width="54%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>qm</b></p></td>
<td width="3%"></td>
<td width="23%">


<p>Quadratic mean</p></td>
<td width="54%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>cm</b></p></td>
<td width="3%"></td>
<td width="23%">


<p>Cubic mean</p></td>
<td width="54%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>pm</b></p></td>
<td width="3%"></td>
<td width="23%">


<p>Power mean</p></td>
<td width="54%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>median</b></p>

<p style="margin-left:23%;">Median</p>

<p style="margin-left:11%;"><b>bypass</b></p>

<p style="margin-left:17%;">Do not actually modify frame.
Useful when one only wants metadata.</p>


<p style="margin-left:11%; margin-top: 1em"><b>dejudder</b>
<br>
Remove judder produced by partially interlaced telecined
content.</p>

<p style="margin-left:11%; margin-top: 1em">Judder can be
introduced, for instance, by <b>pullup</b> filter. If the
original source was partially telecined content then the
output of &quot;pullup,dejudder&quot; will have a variable
frame rate. May change the recorded frame rate of the
container. Aside from that change, this filter will not
affect constant frame rate video.</p>

<p style="margin-left:11%; margin-top: 1em">The option
available in this filter is: <b><br>
cycle</b></p>

<p style="margin-left:17%;">Specify the length of the
window over which the judder repeats.</p>

<p style="margin-left:17%; margin-top: 1em">Accepts any
integer greater than 1. Useful values are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>4</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>If the original was telecined from 24 to 30 fps (Film to
<small>NTSC</small> ).</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>5</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>If the original was telecined from 25 to 30 fps (
<small>PAL</small> to <small>NTSC</small> ).</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>20</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>If a mixture of the two.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The default is
<b>4</b>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>delogo</b>
<br>
Suppress a <small>TV</small> station logo by a simple
interpolation of the surrounding pixels. Just set a
rectangle covering the logo and watch it disappear (and
sometimes something even uglier appear - your mileage may
vary).</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em"><b>x</b></p></td>
<td width="5%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>y</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Specify the top left corner coordinates of the logo.
They must be specified.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>w</b></p></td>
<td width="5%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>h</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Specify the width and height of the logo to clear. They
must be specified.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>band, t</b></p>

<p style="margin-left:17%;">Specify the thickness of the
fuzzy edge of the rectangle (added to <i>w</i> and
<i>h</i>). The default value is 1. This option is
deprecated, setting higher values should no longer be
necessary and is not recommended.</p>

<p style="margin-left:11%;"><b>show</b></p>

<p style="margin-left:17%;">When set to 1, a green
rectangle is drawn on the screen to simplify finding the
right <i>x</i>, <i>y</i>, <i>w</i>, and <i>h</i> parameters.
The default value is 0.</p>

<p style="margin-left:17%; margin-top: 1em">The rectangle
is drawn on the outermost pixels which will be (partly)
replaced with interpolated values. The values of the next
pixels immediately outside this rectangle in each direction
will be used to compute the interpolated pixel values inside
the rectangle.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Set a rectangle covering the area with top left corner
coordinates 0,0 and size 100x77, and a band of size 10:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">delogo=x=0:y=0:w=100:h=77:band=10</p>

<p style="margin-left:11%; margin-top: 1em"><b>derain</b>
<br>
Remove the rain in the input image/video by applying the
derain methods based on convolutional neural networks.
Supported models:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Recurrent Squeeze-and-Excitation
Context Aggregation Net ( <small>RESCAN</small> ). See
&lt;<b>http://openaccess.thecvf.com/content_ECCV_2018/papers/Xia_Li_Recurrent_Squeeze-and-Excitation_Context_ECCV_2018_paper.pdf</b>&gt;.</p> </td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Training
scripts as well as scripts for model generation are provided
in the repository at
&lt;<b>https://github.com/XueweiMeng/derain_filter.git</b>&gt;.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
dnn_backend</b></p>

<p style="margin-left:17%;">Specify which
<small>DNN</small> backend to use for model loading and
execution. This option accepts the following values: <b><br>
native</b></p>

<p style="margin-left:23%;">Native implementation of
<small>DNN</small> loading and execution.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is <b>native</b>.</p>

<p style="margin-left:11%;"><b>model</b></p>

<p style="margin-left:17%;">Set path to model file
specifying network architecture and its parameters. Note
that different backends use different file formats.
TensorFlow backend can load files for both formats, while
native backend can load files for only its format.</p>

<p style="margin-left:11%; margin-top: 1em"><b>deshake</b>
<br>
Attempt to fix small changes in horizontal and/or vertical
shift. This filter helps remove camera shake from
hand-holding a camera, bumping a tripod, moving on a
vehicle, etc.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>x</b></p></td>
<td width="5%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>y</b></p></td>
<td width="5%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>w</b></p></td>
<td width="5%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>h</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Specify a rectangular area where to limit the search for
motion vectors. If desired the search for motion vectors can
be limited to a rectangular area of the frame defined by its
top left corner, width and height. These parameters have the
same meaning as the drawbox filter which can be used to
visualise the position of the bounding box.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">This is useful
when simultaneous movement of subjects within the frame
might be confused for camera motion by the motion vector
search.</p>

<p style="margin-left:17%; margin-top: 1em">If any or all
of <i>x</i>, <i>y</i>, <i>w</i> and <i>h</i> are set to -1
then the full frame is used. This allows later options to be
set without specifying the bounding box for the motion
vector search.</p>

<p style="margin-left:17%; margin-top: 1em">Default -
search the whole frame.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>rx</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>ry</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Specify the maximum extent of movement in x and y
directions in the range 0-64 pixels. Default 16.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>edge</b></p>

<p style="margin-left:17%;">Specify how to generate pixels
to fill blanks at the edge of the frame. Available values
are: <b><br>
blank, 0</b></p>

<p style="margin-left:23%;">Fill zeroes at blank
locations</p>

<p style="margin-left:17%;"><b>original, 1</b></p>

<p style="margin-left:23%;">Original image at blank
locations</p>

<p style="margin-left:17%;"><b>clamp, 2</b></p>

<p style="margin-left:23%;">Extruded edge value at blank
locations</p>

<p style="margin-left:17%;"><b>mirror, 3</b></p>

<p style="margin-left:23%;">Mirrored edge at blank
locations</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is <b>mirror</b>.</p>

<p style="margin-left:11%;"><b>blocksize</b></p>

<p style="margin-left:17%;">Specify the blocksize to use
for motion search. Range 4-128 pixels, default 8.</p>

<p style="margin-left:11%;"><b>contrast</b></p>

<p style="margin-left:17%;">Specify the contrast threshold
for blocks. Only blocks with more than the specified
contrast (difference between darkest and lightest pixels)
will be considered. Range 1-255, default 125.</p>

<p style="margin-left:11%;"><b>search</b></p>

<p style="margin-left:17%;">Specify the search strategy.
Available values are: <b><br>
exhaustive, 0</b></p>

<p style="margin-left:23%;">Set exhaustive search</p>

<p style="margin-left:17%;"><b>less, 1</b></p>

<p style="margin-left:23%;">Set less exhaustive search.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is <b>exhaustive</b>.</p>

<p style="margin-left:11%;"><b>filename</b></p>

<p style="margin-left:17%;">If set then a detailed log of
the motion search is written to the specified file.</p>

<p style="margin-left:11%; margin-top: 1em"><b>despill</b>
<br>
Remove unwanted contamination of foreground colors, caused
by reflected color of greenscreen or bluescreen.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
accepts the following options: <b><br>
type</b></p>

<p style="margin-left:17%;">Set what type of despill to
use.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>mix</b></p></td>
<td width="2%"></td>
<td width="54%">


<p>Set how spillmap will be generated.</p></td>
<td width="29%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>expand</b></p>

<p style="margin-left:17%;">Set how much to get rid of
still remaining spill.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>red</b></p></td>
<td width="2%"></td>
<td width="57%">


<p>Controls amount of red in spill area.</p></td>
<td width="26%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>green</b></p>

<p style="margin-left:17%;">Controls amount of green in
spill area. Should be -1 for greenscreen.</p>

<p style="margin-left:11%;"><b>blue</b></p>

<p style="margin-left:17%;">Controls amount of blue in
spill area. Should be -1 for bluescreen.</p>

<p style="margin-left:11%;"><b>brightness</b></p>

<p style="margin-left:17%;">Controls brightness of spill
area, preserving colors.</p>

<p style="margin-left:11%;"><b>alpha</b></p>

<p style="margin-left:17%;">Modify alpha from generated
spillmap.</p>


<p style="margin-left:11%; margin-top: 1em"><b>detelecine</b>
<br>
Apply an exact inverse of the telecine operation. It
requires a predefined pattern specified using the pattern
option which must be the same as that passed to the telecine
filter.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
accepts the following options: <b><br>
first_field</b></p>

<p style="margin-left:17%;"><b>top, t</b></p>

<p style="margin-left:23%;">top field first</p>

<p style="margin-left:17%;"><b>bottom, b</b></p>

<p style="margin-left:23%;">bottom field first The default
value is &quot;top&quot;.</p>

<p style="margin-left:11%;"><b>pattern</b></p>

<p style="margin-left:17%;">A string of numbers
representing the pulldown pattern you wish to apply. The
default value is 23.</p>

<p style="margin-left:11%;"><b>start_frame</b></p>

<p style="margin-left:17%;">A number representing position
of the first frame with respect to the telecine pattern.
This is to be used if the stream is cut. The default value
is 0.</p>


<p style="margin-left:11%; margin-top: 1em"><b>dilation</b>
<br>
Apply dilation effect to the video.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
replaces the pixel by the local(3x3) maximum.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following options: <b><br>
threshold0 <br>
threshold1 <br>
threshold2 <br>
threshold3</b></p>

<p style="margin-left:17%;">Limit the maximum change for
each plane, default is 65535. If 0, plane will remain
unchanged.</p>

<p style="margin-left:11%;"><b>coordinates</b></p>

<p style="margin-left:17%;">Flag which specifies the pixel
to refer to. Default is 255 i.e. all eight pixels are
used.</p>

<p style="margin-left:17%; margin-top: 1em">Flags to local
3x3 coordinates maps like this:</p>

<p style="margin-left:17%; margin-top: 1em">1 2 3 <br>
4 5 <br>
6 7 8</p>


<p style="margin-left:11%; margin-top: 1em"><b>displace</b>
<br>
Displace pixels as indicated by second and third input
stream.</p>

<p style="margin-left:11%; margin-top: 1em">It takes three
input streams and outputs one stream, the first input is the
source, and second and third input are displacement
maps.</p>

<p style="margin-left:11%; margin-top: 1em">The second
input specifies how much to displace pixels along the
x-axis, while the third input specifies how much to displace
pixels along the y-axis. If one of displacement map streams
terminates, last frame from that displacement map will be
used.</p>

<p style="margin-left:11%; margin-top: 1em">Note that once
generated, displacements maps can be reused over and over
again.</p>

<p style="margin-left:11%; margin-top: 1em">A description
of the accepted options follows. <b><br>
edge</b></p>

<p style="margin-left:17%;">Set displace behavior for
pixels that are out of range.</p>

<p style="margin-left:17%; margin-top: 1em">Available
values are: <b><br>
blank</b></p>

<p style="margin-left:23%;">Missing pixels are replaced by
black pixels.</p>

<p style="margin-left:17%;"><b>smear</b></p>

<p style="margin-left:23%;">Adjacent pixels will spread out
to replace missing pixels.</p>

<p style="margin-left:17%;"><b>wrap</b></p>

<p style="margin-left:23%;">Out of range pixels are wrapped
so they point to pixels of other side.</p>

<p style="margin-left:17%;"><b>mirror</b></p>

<p style="margin-left:23%;">Out of range pixels will be
replaced with mirrored pixels.</p>

<p style="margin-left:17%; margin-top: 1em">Default is
<b>smear</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="78%">


<p>Add ripple effect to rgb input of video size hd720:</p></td>
<td width="5%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i INPUT
-f lavfi -i nullsrc=s=hd720,lutrgb=128:128:128 -f lavfi -i
nullsrc=s=hd720,geq='r=128+30*sin(2*PI*X/400+T):g=128+30*sin(2*PI*X/400+T):b=128+30*sin(2*PI*X/400+T)'
-lavfi '[0][1][2]displace' OUTPUT</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="75%">


<p style="margin-top: 1em">Add wave effect to rgb input of
video size hd720:</p></td>
<td width="8%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i INPUT
-f lavfi -i
nullsrc=hd720,geq='r=128+80*(sin(sqrt((X-W/2)*(X-W/2)+(Y-H/2)*(Y-H/2))/220*2*PI+T)):g=128+80*(sin(sqrt((X-W/2)*(X-W/2)+(Y-H/2)*(Y-H/2))/220*2*PI+T)):b=128+80*(sin(sqrt((X-W/2)*(X-W/2)+(Y-H/2)*(Y-H/2))/220*2*PI+T))'
-lavfi '[1]split[x][y],[0][x][y]displace' OUTPUT</p>

<p style="margin-left:11%; margin-top: 1em"><b>drawbox</b>
<br>
Draw a colored box on the input image.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em"><b>x</b></p></td>
<td width="5%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>y</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>The expressions which specify the top left corner
coordinates of the box. It defaults to 0.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>width, w <br>
height, h</b></p>

<p style="margin-left:17%;">The expressions which specify
the width and height of the box; if 0 they are interpreted
as the input width and height. It defaults to 0.</p>

<p style="margin-left:11%;"><b>color, c</b></p>

<p style="margin-left:17%;">Specify the color of the box to
write. For the general syntax of this option, check the
<b>&quot;Color&quot; section in the ffmpeg-utils manual</b>.
If the special value &quot;invert&quot; is used, the box
edge color is the same as the video with inverted luma.</p>

<p style="margin-left:11%;"><b>thickness, t</b></p>

<p style="margin-left:17%;">The expression which sets the
thickness of the box edge. A value of &quot;fill&quot; will
create a filled box. Default value is 3.</p>

<p style="margin-left:17%; margin-top: 1em">See below for
the list of accepted constants.</p>

<p style="margin-left:11%;"><b>replace</b></p>

<p style="margin-left:17%;">Applicable if the input has
alpha. With value 1, the pixels of the painted box will
overwrite the video&rsquo;s color and alpha pixels. Default
is 0, which composites the box onto the input, leaving the
video&rsquo;s alpha intact.</p>

<p style="margin-left:11%; margin-top: 1em">The parameters
for <i>x</i>, <i>y</i>, <i>w</i> and <i>h</i> and <i>t</i>
are expressions containing the following constants:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>dar</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>The input display aspect ratio, it is the same as
(<i>w</i> / <i>h</i>) * <i>sar</i>.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>hsub <br>
vsub</b></p>

<p style="margin-left:17%;">horizontal and vertical chroma
subsample values. For example for the pixel format
&quot;yuv422p&quot; <i>hsub</i> is 2 and <i>vsub</i> is
1.</p>

<p style="margin-left:11%;"><b>in_h, ih <br>
in_w, iw</b></p>

<p style="margin-left:17%;">The input width and height.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>sar</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>The input sample aspect ratio.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>x</b></p></td>
<td width="2%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>y</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>The x and y offset coordinates where the box is
drawn.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>w</b></p></td>
<td width="2%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>h</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>The width and height of the drawn box.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>t</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>The thickness of the drawn box.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">These constants
allow the <i>x</i>, <i>y</i>, <i>w</i>, <i>h</i> and
<i>t</i> expressions to refer to each other, so you may for
example specify &quot;y=x/dar&quot; or
&quot;h=w/dar&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="80%">


<p style="margin-top: 1em">Draw a black box around the edge
of the input image:</p></td>
<td width="3%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">drawbox</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="74%">


<p style="margin-top: 1em">Draw a box with color red and an
opacity of 50%:</p></td>
<td width="9%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">drawbox=10:20:200:60:red@0.5</p>

<p style="margin-left:17%; margin-top: 1em">The previous
example can be specified as:</p>


<p style="margin-left:17%; margin-top: 1em">drawbox=x=10:y=20:w=200:h=60:color=red@0.5</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="45%">


<p style="margin-top: 1em">Fill the box with pink
color:</p> </td>
<td width="38%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">drawbox=x=10:y=10:w=100:h=100:color=pink@0.5:t=fill</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="48%">


<p style="margin-top: 1em">Draw a 2-pixel red 2.40:1
mask:</p> </td>
<td width="35%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">drawbox=x=-t:y=0.5*(ih-iw/2.4)-t:w=iw+t*2:h=iw/2.4+t*2:t=2:c=red</p>


<p style="margin-left:11%; margin-top: 1em"><b>drawgrid</b>
<br>
Draw a grid on the input image.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em"><b>x</b></p></td>
<td width="5%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>y</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>The expressions which specify the coordinates of some
point of grid intersection (meant to configure offset). Both
default to 0.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>width, w <br>
height, h</b></p>

<p style="margin-left:17%;">The expressions which specify
the width and height of the grid cell, if 0 they are
interpreted as the input width and height, respectively,
minus &quot;thickness&quot;, so image gets framed. Default
to 0.</p>

<p style="margin-left:11%;"><b>color, c</b></p>

<p style="margin-left:17%;">Specify the color of the grid.
For the general syntax of this option, check the
<b>&quot;Color&quot; section in the ffmpeg-utils manual</b>.
If the special value &quot;invert&quot; is used, the grid
color is the same as the video with inverted luma.</p>

<p style="margin-left:11%;"><b>thickness, t</b></p>

<p style="margin-left:17%;">The expression which sets the
thickness of the grid line. Default value is 1.</p>

<p style="margin-left:17%; margin-top: 1em">See below for
the list of accepted constants.</p>

<p style="margin-left:11%;"><b>replace</b></p>

<p style="margin-left:17%;">Applicable if the input has
alpha. With 1 the pixels of the painted grid will overwrite
the video&rsquo;s color and alpha pixels. Default is 0,
which composites the grid onto the input, leaving the
video&rsquo;s alpha intact.</p>

<p style="margin-left:11%; margin-top: 1em">The parameters
for <i>x</i>, <i>y</i>, <i>w</i> and <i>h</i> and <i>t</i>
are expressions containing the following constants:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>dar</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>The input display aspect ratio, it is the same as
(<i>w</i> / <i>h</i>) * <i>sar</i>.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>hsub <br>
vsub</b></p>

<p style="margin-left:17%;">horizontal and vertical chroma
subsample values. For example for the pixel format
&quot;yuv422p&quot; <i>hsub</i> is 2 and <i>vsub</i> is
1.</p>

<p style="margin-left:11%;"><b>in_h, ih <br>
in_w, iw</b></p>

<p style="margin-left:17%;">The input grid cell width and
height.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>sar</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>The input sample aspect ratio.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>x</b></p></td>
<td width="2%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>y</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>The x and y coordinates of some point of grid
intersection (meant to configure offset).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>w</b></p></td>
<td width="2%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>h</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>The width and height of the drawn cell.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>t</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>The thickness of the drawn cell.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">These constants
allow the <i>x</i>, <i>y</i>, <i>w</i>, <i>h</i> and
<i>t</i> expressions to refer to each other, so you may for
example specify &quot;y=x/dar&quot; or
&quot;h=w/dar&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Draw a grid with cell 100x100
pixels, thickness 2 pixels, with color red and an opacity of
50%:</p> </td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">drawgrid=width=100:height=100:thickness=2:color=red@0.5</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="69%">


<p style="margin-top: 1em">Draw a white 3x3 grid with an
opacity of 50%:</p></td>
<td width="14%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">drawgrid=w=iw/3:h=ih/3:t=2:c=white@0.5</p>


<p style="margin-left:11%; margin-top: 1em"><b>drawtext</b>
<br>
Draw a text string or text from a specified file on top of a
video, using the libfreetype library.</p>

<p style="margin-left:11%; margin-top: 1em">To enable
compilation of this filter, you need to configure FFmpeg
with &quot;--enable-libfreetype&quot;. To enable default
font fallback and the <i>font</i> option you need to
configure FFmpeg with &quot;--enable-libfontconfig&quot;. To
enable the <i>text_shaping</i> option, you need to configure
FFmpeg with &quot;--enable-libfribidi&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Syntax</i></p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p style="margin-top: 1em"><b>box</b></p></td>
<td width="2%"></td>
<td width="83%">


<p style="margin-top: 1em">Used to draw a box around text
using the background color. The value must be either 1
(enable) or 0 (disable). The default value of <i>box</i> is
0.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>boxborderw</b></p>

<p style="margin-left:17%;">Set the width of the border to
be drawn around the box using <i>boxcolor</i>. The default
value of <i>boxborderw</i> is 0.</p>

<p style="margin-left:11%;"><b>boxcolor</b></p>

<p style="margin-left:17%;">The color to be used for
drawing box around text. For the syntax of this option,
check the <b>&quot;Color&quot; section in the ffmpeg-utils
manual</b>.</p>

<p style="margin-left:17%; margin-top: 1em">The default
value of <i>boxcolor</i> is &quot;white&quot;.</p>

<p style="margin-left:11%;"><b>line_spacing</b></p>

<p style="margin-left:17%;">Set the line spacing in pixels
of the border to be drawn around the box using <i>box</i>.
The default value of <i>line_spacing</i> is 0.</p>

<p style="margin-left:11%;"><b>borderw</b></p>

<p style="margin-left:17%;">Set the width of the border to
be drawn around the text using <i>bordercolor</i>. The
default value of <i>borderw</i> is 0.</p>

<p style="margin-left:11%;"><b>bordercolor</b></p>

<p style="margin-left:17%;">Set the color to be used for
drawing border around text. For the syntax of this option,
check the <b>&quot;Color&quot; section in the ffmpeg-utils
manual</b>.</p>

<p style="margin-left:17%; margin-top: 1em">The default
value of <i>bordercolor</i> is &quot;black&quot;.</p>

<p style="margin-left:11%;"><b>expansion</b></p>

<p style="margin-left:17%;">Select how the <i>text</i> is
expanded. Can be either &quot;none&quot;,
&quot;strftime&quot; (deprecated) or &quot;normal&quot;
(default). See the <b>drawtext_expansion, Text expansion</b>
section below for details.</p>

<p style="margin-left:11%;"><b>basetime</b></p>

<p style="margin-left:17%;">Set a start time for the count.
Value is in microseconds. Only applied in the deprecated
strftime expansion mode. To emulate in normal expansion mode
use the &quot;pts&quot; function, supplying the start time
(in seconds) as the second argument.</p>

<p style="margin-left:11%;"><b>fix_bounds</b></p>

<p style="margin-left:17%;">If true, check and fix text
coords to avoid clipping.</p>

<p style="margin-left:11%;"><b>fontcolor</b></p>

<p style="margin-left:17%;">The color to be used for
drawing fonts. For the syntax of this option, check the
<b>&quot;Color&quot; section in the ffmpeg-utils
manual</b>.</p>

<p style="margin-left:17%; margin-top: 1em">The default
value of <i>fontcolor</i> is &quot;black&quot;.</p>

<p style="margin-left:11%;"><b>fontcolor_expr</b></p>

<p style="margin-left:17%;">String which is expanded the
same way as <i>text</i> to obtain dynamic <i>fontcolor</i>
value. By default this option has empty value and is not
processed. When this option is set, it overrides
<i>fontcolor</i> option.</p>

<p style="margin-left:11%;"><b>font</b></p>

<p style="margin-left:17%;">The font family to be used for
drawing text. By default Sans.</p>

<p style="margin-left:11%;"><b>fontfile</b></p>

<p style="margin-left:17%;">The font file to be used for
drawing text. The path must be included. This parameter is
mandatory if the fontconfig support is disabled.</p>

<p style="margin-left:11%;"><b>alpha</b></p>

<p style="margin-left:17%;">Draw the text applying alpha
blending. The value can be a number between 0.0 and 1.0. The
expression accepts the same variables <i>x, y</i> as well.
The default value is 1. Please see
<i>fontcolor_expr</i>.</p>

<p style="margin-left:11%;"><b>fontsize</b></p>

<p style="margin-left:17%;">The font size to be used for
drawing text. The default value of <i>fontsize</i> is
16.</p>

<p style="margin-left:11%;"><b>text_shaping</b></p>

<p style="margin-left:17%;">If set to 1, attempt to shape
the text (for example, reverse the order of right-to-left
text and join Arabic characters) before drawing it.
Otherwise, just draw the text exactly as given. By default 1
(if supported).</p>

<p style="margin-left:11%;"><b>ft_load_flags</b></p>

<p style="margin-left:17%;">The flags to be used for
loading the fonts.</p>

<p style="margin-left:17%; margin-top: 1em">The flags map
the corresponding flags supported by libfreetype, and are a
combination of the following values: <i><br>
default <br>
no_scale <br>
no_hinting <br>
render <br>
no_bitmap <br>
vertical_layout <br>
force_autohint <br>
crop_bitmap <br>
pedantic <br>
ignore_global_advance_width <br>
no_recurse <br>
ignore_transform <br>
monochrome <br>
linear_design <br>
no_autohint</i></p>

<p style="margin-left:17%; margin-top: 1em">Default value
is &quot;default&quot;.</p>

<p style="margin-left:17%; margin-top: 1em">For more
information consult the documentation for the FT_LOAD_*
libfreetype flags.</p>

<p style="margin-left:11%;"><b>shadowcolor</b></p>

<p style="margin-left:17%;">The color to be used for
drawing a shadow behind the drawn text. For the syntax of
this option, check the <b>&quot;Color&quot; section in the
ffmpeg-utils manual</b>.</p>

<p style="margin-left:17%; margin-top: 1em">The default
value of <i>shadowcolor</i> is &quot;black&quot;.</p>

<p style="margin-left:11%;"><b>shadowx <br>
shadowy</b></p>

<p style="margin-left:17%;">The x and y offsets for the
text shadow position with respect to the position of the
text. They can be either positive or negative values. The
default value for both is &quot;0&quot;.</p>

<p style="margin-left:11%;"><b>start_number</b></p>

<p style="margin-left:17%;">The starting frame number for
the n/frame_num variable. The default value is
&quot;0&quot;.</p>

<p style="margin-left:11%;"><b>tabsize</b></p>

<p style="margin-left:17%;">The size in number of spaces to
use for rendering the tab. Default value is 4.</p>

<p style="margin-left:11%;"><b>timecode</b></p>

<p style="margin-left:17%;">Set the initial timecode
representation in &quot;hh:mm:ss[:;.]ff&quot; format. It can
be used with or without text parameter. <i>timecode_rate</i>
option must be specified.</p>

<p style="margin-left:11%;"><b>timecode_rate, rate,
r</b></p>

<p style="margin-left:17%;">Set the timecode frame rate
(timecode only). Value will be rounded to nearest integer.
Minimum value is &quot;1&quot;. Drop-frame timecode is
supported for frame rates 30 &amp; 60.</p>

<p style="margin-left:11%;"><b>tc24hmax</b></p>

<p style="margin-left:17%;">If set to 1, the output of the
timecode option will wrap around at 24 hours. Default is 0
(disabled).</p>

<p style="margin-left:11%;"><b>text</b></p>

<p style="margin-left:17%;">The text string to be drawn.
The text must be a sequence of <small>UTF-8</small> encoded
characters. This parameter is mandatory if no file is
specified with the parameter <i>textfile</i>.</p>

<p style="margin-left:11%;"><b>textfile</b></p>

<p style="margin-left:17%;">A text file containing text to
be drawn. The text must be a sequence of
<small>UTF-8</small> encoded characters.</p>

<p style="margin-left:17%; margin-top: 1em">This parameter
is mandatory if no text string is specified with the
parameter <i>text</i>.</p>

<p style="margin-left:17%; margin-top: 1em">If both
<i>text</i> and <i>textfile</i> are specified, an error is
thrown.</p>

<p style="margin-left:11%;"><b>reload</b></p>

<p style="margin-left:17%;">If set to 1, the
<i>textfile</i> will be reloaded before each frame. Be sure
to update it atomically, or it may be read partially, or
even fail.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>x</b></p></td>
<td width="5%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>y</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>The expressions which specify the offsets where text
will be drawn within the video frame. They are relative to
the top/left border of the output image.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The default
value of <i>x</i> and <i>y</i> is &quot;0&quot;.</p>

<p style="margin-left:17%; margin-top: 1em">See below for
the list of accepted constants and functions.</p>

<p style="margin-left:11%; margin-top: 1em">The parameters
for <i>x</i> and <i>y</i> are expressions containing the
following constants and functions:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p style="margin-top: 1em"><b>dar</b></p></td>
<td width="2%"></td>
<td width="83%">


<p style="margin-top: 1em">input display aspect ratio, it
is the same as (<i>w</i> / <i>h</i>) * <i>sar</i></p></td></tr>
</table>

<p style="margin-left:11%;"><b>hsub <br>
vsub</b></p>

<p style="margin-left:17%;">horizontal and vertical chroma
subsample values. For example for the pixel format
&quot;yuv422p&quot; <i>hsub</i> is 2 and <i>vsub</i> is
1.</p>

<p style="margin-left:11%;"><b>line_h, lh</b></p>

<p style="margin-left:17%;">the height of each text
line</p>

<p style="margin-left:11%;"><b>main_h, h, H</b></p>

<p style="margin-left:17%;">the input height</p>

<p style="margin-left:11%;"><b>main_w, w, W</b></p>

<p style="margin-left:17%;">the input width</p>

<p style="margin-left:11%;"><b>max_glyph_a, ascent</b></p>

<p style="margin-left:17%;">the maximum distance from the
baseline to the highest/upper grid coordinate used to place
a glyph outline point, for all the rendered glyphs. It is a
positive value, due to the grid&rsquo;s orientation with the
Y axis upwards.</p>

<p style="margin-left:11%;"><b>max_glyph_d, descent</b></p>

<p style="margin-left:17%;">the maximum distance from the
baseline to the lowest grid coordinate used to place a glyph
outline point, for all the rendered glyphs. This is a
negative value, due to the grid&rsquo;s orientation, with
the Y axis upwards.</p>

<p style="margin-left:11%;"><b>max_glyph_h</b></p>

<p style="margin-left:17%;">maximum glyph height, that is
the maximum height for all the glyphs contained in the
rendered text, it is equivalent to <i>ascent</i> -
<i>descent</i>.</p>

<p style="margin-left:11%;"><b>max_glyph_w</b></p>

<p style="margin-left:17%;">maximum glyph width, that is
the maximum width for all the glyphs contained in the
rendered text</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>n</b></p></td>
<td width="5%"></td>
<td width="65%">


<p>the number of input frame, starting from 0</p></td>
<td width="18%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>rand(min, max)</b></p>

<p style="margin-left:17%;">return a random number included
between <i>min</i> and <i>max</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>sar</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>The input sample aspect ratio.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>t</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>timestamp expressed in seconds, <small>NAN</small> if
the input timestamp is unknown</p></td></tr>
</table>

<p style="margin-left:11%;"><b>text_h, th</b></p>

<p style="margin-left:17%;">the height of the rendered
text</p>

<p style="margin-left:11%;"><b>text_w, tw</b></p>

<p style="margin-left:17%;">the width of the rendered
text</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>x</b></p></td>
<td width="5%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>y</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>the x and y offset coordinates where the text is
drawn.</p> </td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">These
parameters allow the <i>x</i> and <i>y</i> expressions to
refer to each other, so you can for example specify
&quot;y=x/dar&quot;.</p>

<p style="margin-left:11%;"><b>pict_type</b></p>

<p style="margin-left:17%;">A one character description of
the current frame&rsquo;s picture type.</p>

<p style="margin-left:11%;"><b>pkt_pos</b></p>

<p style="margin-left:17%;">The current packet&rsquo;s
position in the input file or stream (in bytes, from the
start of the input). A value of -1 indicates this info is
not available.</p>

<p style="margin-left:11%;"><b>pkt_duration</b></p>

<p style="margin-left:17%;">The current packet&rsquo;s
duration, in seconds.</p>

<p style="margin-left:11%;"><b>pkt_size</b></p>

<p style="margin-left:17%;">The current packet&rsquo;s size
(in bytes).</p>

<p style="margin-left:11%; margin-top: 1em"><i>Text
expansion</i></p>

<p style="margin-left:11%; margin-top: 1em">If
<b>expansion</b> is set to &quot;strftime&quot;, the filter
recognizes <b>strftime()</b> sequences in the provided text
and expands them accordingly. Check the documentation of
<b>strftime()</b>. This feature is deprecated.</p>

<p style="margin-left:11%; margin-top: 1em">If
<b>expansion</b> is set to &quot;none&quot;, the text is
printed verbatim.</p>

<p style="margin-left:11%; margin-top: 1em">If
<b>expansion</b> is set to &quot;normal&quot; (which is the
default), the following expansion mechanism is used.</p>

<p style="margin-left:11%; margin-top: 1em">The backslash
character <b>\</b>, followed by any character, always
expands to the second character.</p>

<p style="margin-left:11%; margin-top: 1em">Sequences of
the form &quot;%{...}&quot; are expanded. The text between
the braces is a function name, possibly followed by
arguments separated by &rsquo;:&rsquo;. If the arguments
contain special characters or delimiters (&rsquo;:&rsquo; or
&rsquo;}&rsquo;), they should be escaped.</p>

<p style="margin-left:11%; margin-top: 1em">Note that they
probably must also be escaped as the value for the
<b>text</b> option in the filter argument string and as the
filter argument in the filtergraph description, and possibly
also for the shell, that makes up to four levels of
escaping; using a text file avoids these problems.</p>

<p style="margin-left:11%; margin-top: 1em">The following
functions are available: <b><br>
expr, e</b></p>

<p style="margin-left:17%;">The expression evaluation
result.</p>

<p style="margin-left:17%; margin-top: 1em">It must take
one argument specifying the expression to be evaluated,
which accepts the same constants and functions as the
<i>x</i> and <i>y</i> values. Note that not all constants
should be used, for example the text size is not known when
evaluating the expression, so the constants <i>text_w</i>
and <i>text_h</i> will have an undefined value.</p>

<p style="margin-left:11%;"><b>expr_int_format, eif</b></p>

<p style="margin-left:17%;">Evaluate the expression&rsquo;s
value and output as formatted integer.</p>

<p style="margin-left:17%; margin-top: 1em">The first
argument is the expression to be evaluated, just as for the
<i>expr</i> function. The second argument specifies the
output format. Allowed values are <b>x</b>, <b>X</b>,
<b>d</b> and <b>u</b>. They are treated exactly as in the
&quot;printf&quot; function. The third parameter is optional
and sets the number of positions taken by the output. It can
be used to add padding with zeros from the left.</p>

<p style="margin-left:11%;"><b>gmtime</b></p>

<p style="margin-left:17%;">The time at which the filter is
running, expressed in <small>UTC.</small> It can accept an
argument: a <b>strftime()</b> format string.</p>

<p style="margin-left:11%;"><b>localtime</b></p>

<p style="margin-left:17%;">The time at which the filter is
running, expressed in the local time zone. It can accept an
argument: a <b>strftime()</b> format string.</p>

<p style="margin-left:11%;"><b>metadata</b></p>

<p style="margin-left:17%;">Frame metadata. Takes one or
two arguments.</p>

<p style="margin-left:17%; margin-top: 1em">The first
argument is mandatory and specifies the metadata key.</p>

<p style="margin-left:17%; margin-top: 1em">The second
argument is optional and specifies a default value, used
when the metadata key is not found or empty.</p>

<p style="margin-left:17%; margin-top: 1em">Available
metadata can be identified by inspecting entries starting
with <small>TAG</small> included within each frame section
printed by running &quot;ffprobe -show_frames&quot;.</p>

<p style="margin-left:17%; margin-top: 1em">String metadata
generated in filters leading to the drawtext filter are also
available.</p>

<p style="margin-left:11%;"><b>n, frame_num</b></p>

<p style="margin-left:17%;">The frame number, starting from
0.</p>

<p style="margin-left:11%;"><b>pict_type</b></p>

<p style="margin-left:17%;">A one character description of
the current picture type.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>pts</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>The timestamp of the current frame. It can take up to
three arguments.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The first
argument is the format of the timestamp; it defaults to
&quot;flt&quot; for seconds as a decimal number with
microsecond accuracy; &quot;hms&quot; stands for a formatted
<i>[-]HH:MM:SS.mmm</i> timestamp with millisecond accuracy.
&quot;gmtime&quot; stands for the timestamp of the frame
formatted as <small>UTC</small> time; &quot;localtime&quot;
stands for the timestamp of the frame formatted as local
time zone time.</p>

<p style="margin-left:17%; margin-top: 1em">The second
argument is an offset added to the timestamp.</p>

<p style="margin-left:17%; margin-top: 1em">If the format
is set to &quot;hms&quot;, a third argument &quot;24HH&quot;
may be supplied to present the hour part of the formatted
timestamp in 24h format (00-23).</p>

<p style="margin-left:17%; margin-top: 1em">If the format
is set to &quot;localtime&quot; or &quot;gmtime&quot;, a
third argument may be supplied: a <b>strftime()</b> format
string. By default, <i>YYYY-MM-DD
<small>HH:MM:SS</small></i> format will be used.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Commands</i></p>

<p style="margin-left:11%; margin-top: 1em">This filter
supports altering parameters via commands: <b><br>
reinit</b></p>

<p style="margin-left:17%;">Alter existing filter
parameters.</p>

<p style="margin-left:17%; margin-top: 1em">Syntax for the
argument is the same as for filter invocation, e.g.</p>


<p style="margin-left:17%; margin-top: 1em">fontsize=56:fontcolor=green:text='Hello
World'</p>

<p style="margin-left:17%; margin-top: 1em">Full filter
invocation with sendcmd would look like this:</p>


<p style="margin-left:17%; margin-top: 1em">sendcmd=c='56.0
drawtext reinit fontsize=56\:fontcolor=green\:text=Hello\\
World'</p>

<p style="margin-left:11%; margin-top: 1em">If the entire
argument can&rsquo;t be parsed or applied as valid values
then the filter will continue with its existing
parameters.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Draw &quot;Test Text&quot; with font FreeSerif, using
the default values for the optional parameters.</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">drawtext=&quot;fontfile=/usr/share/fonts/truetype/freefont/FreeSerif.ttf:
text='Test Text'&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Draw &rsquo;Test Text&rsquo;
with font FreeSerif of size 24 at position x=100 and y=50
(counting from the top-left corner of the screen), text is
yellow with a red box around it. Both the text and the box
have an opacity of 20%.</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">drawtext=&quot;fontfile=/usr/share/fonts/truetype/freefont/FreeSerif.ttf:
text='Test Text':\ <br>
x=100: y=50: fontsize=24: fontcolor=yellow@0.2: box=1:
boxcolor=red@0.2&quot;</p>

<p style="margin-left:17%; margin-top: 1em">Note that the
double quotes are not necessary if spaces are not used
within the parameter list.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="72%">


<p style="margin-top: 1em">Show the text at the center of
the video frame:</p></td>
<td width="11%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">drawtext=&quot;fontsize=30:fontfile=FreeSerif.ttf:text='hello
world':x=(w-text_w)/2:y=(h-text_h)/2&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Show the text at a random
position, switching to a new position every 30 seconds:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">drawtext=&quot;fontsize=30:fontfile=FreeSerif.ttf:text='hello
world':x=if(eq(mod(t\,30)\,0)\,rand(0\,(w-text_w))\,x):y=if(eq(mod(t\,30)\,0)\,rand(0\,(h-text_h))\,y)&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Show a text line sliding from
right to left in the last row of the video frame. The file
<i><small>LONG_LINE</small></i> is assumed to contain a
single line with no newlines.</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">drawtext=&quot;fontsize=15:fontfile=FreeSerif.ttf:text=LONG_LINE:y=h-line_h:x=-50*t&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Show the content of file
<i><small>CREDITS</small></i> off the bottom of the frame
and scroll up.</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">drawtext=&quot;fontsize=20:fontfile=FreeSerif.ttf:textfile=CREDITS:y=h-20*t&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Draw a single green letter
&quot;g&quot;, at the center of the input video. The glyph
baseline is placed at half screen height.</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">drawtext=&quot;fontsize=60:fontfile=FreeSerif.ttf:fontcolor=green:text=g:x=(w-max_glyph_w)/2:y=h/2-ascent&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="60%">


<p style="margin-top: 1em">Show text for 1 second every 3
seconds:</p> </td>
<td width="23%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">drawtext=&quot;fontfile=FreeSerif.ttf:fontcolor=white:x=100:y=x/dar:enable=lt(mod(t\,3)\,1):text='blink'&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Use fontconfig to set the font.
Note that the colons need to be escaped.</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">drawtext='fontfile=Linux
Libertine O-40\:style=Semibold:text=FFmpeg'</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Print the date of a real-time
encoding (see <b>strftime</b>(3)):</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">drawtext='fontfile=FreeSans.ttf:text=%{localtime\:%a
%b %d %Y}'</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="81%">


<p style="margin-top: 1em">Show text fading in and out
(appearing/disappearing):</p> </td>
<td width="2%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">#!/bin/sh <br>
DS=1.0 # display start <br>
DE=10.0 # display end <br>
FID=1.5 # fade in duration <br>
FOD=5 # fade out duration <br>
ffplay -f lavfi
&quot;color,drawtext=text=TEST:fontsize=50:fontfile=FreeSerif.ttf:fontcolor_expr=ff0000%{eif\\\\:
clip(255*(1*between(t\\, $DS + $FID\\, $DE - $FOD) + ((t -
$DS)/$FID)*between(t\\, $DS\\, $DS + $FID) + (-(t -
$DE)/$FOD)*between(t\\, $DE - $FOD\\, $DE) )\\, 0\\, 255)
\\\\: x\\\\: 2 }&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Horizontally align multiple
separate texts. Note that <b>max_glyph_a</b> and the
<b>fontsize</b> value are included in the <b>y</b>
offset.</p> </td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">drawtext=fontfile=FreeSans.ttf:text=DOG:fontsize=24:x=10:y=20+24-max_glyph_a,
<br>

drawtext=fontfile=FreeSans.ttf:text=cow:fontsize=24:x=80:y=20+24-max_glyph_a</p>

<p style="margin-left:11%; margin-top: 1em">For more
information about libfreetype, check:
&lt;<b>http://www.freetype.org/</b>&gt;.</p>

<p style="margin-left:11%; margin-top: 1em">For more
information about fontconfig, check:
&lt;<b>http://freedesktop.org/software/fontconfig/fontconfig-user.html</b>&gt;.</p>

<p style="margin-left:11%; margin-top: 1em">For more
information about libfribidi, check:
&lt;<b>http://fribidi.org/</b>&gt;.</p>


<p style="margin-left:11%; margin-top: 1em"><b>edgedetect</b>
<br>
Detect and draw edges. The filter uses the Canny Edge
Detection algorithm.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p style="margin-top: 1em"><b>low</b></p></td>
<td width="85%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>high</b></p>

<p style="margin-left:17%;">Set low and high threshold
values used by the Canny thresholding algorithm.</p>

<p style="margin-left:17%; margin-top: 1em">The high
threshold selects the &quot;strong&quot; edge pixels, which
are then connected through 8-connectivity with the
&quot;weak&quot; edge pixels selected by the low
threshold.</p>

<p style="margin-left:17%; margin-top: 1em"><i>low</i> and
<i>high</i> threshold values must be chosen in the range
[0,1], and <i>low</i> should be lesser or equal to
<i>high</i>.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
for <i>low</i> is &quot;20/255&quot;, and default value for
<i>high</i> is &quot;50/255&quot;.</p>

<p style="margin-left:11%;"><b>mode</b></p>

<p style="margin-left:17%;">Define the drawing mode.
<b><br>
wires</b></p>

<p style="margin-left:23%;">Draw white/gray wires on black
background.</p>

<p style="margin-left:17%;"><b>colormix</b></p>

<p style="margin-left:23%;">Mix the colors to create a
paint/cartoon effect.</p>

<p style="margin-left:17%;"><b>canny</b></p>

<p style="margin-left:23%;">Apply Canny edge detector on
all selected planes.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is <i>wires</i>.</p>

<p style="margin-left:11%;"><b>planes</b></p>

<p style="margin-left:17%;">Select planes for filtering. By
default all available planes are filtered.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Standard edge detection with custom values for the
hysteresis thresholding:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">edgedetect=low=0.1:high=0.4</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="57%">


<p style="margin-top: 1em">Painting effect without
thresholding:</p> </td>
<td width="26%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">edgedetect=mode=colormix:high=0</p>

<p style="margin-left:11%; margin-top: 1em"><b>eq</b> <br>
Set brightness, contrast, saturation and approximate gamma
adjustment.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
contrast</b></p>

<p style="margin-left:17%;">Set the contrast expression.
The value must be a float value in range &quot;-2.0&quot; to
2.0. The default value is &quot;1&quot;.</p>

<p style="margin-left:11%;"><b>brightness</b></p>

<p style="margin-left:17%;">Set the brightness expression.
The value must be a float value in range &quot;-1.0&quot; to
1.0. The default value is &quot;0&quot;.</p>

<p style="margin-left:11%;"><b>saturation</b></p>

<p style="margin-left:17%;">Set the saturation expression.
The value must be a float in range 0.0 to 3.0. The default
value is &quot;1&quot;.</p>

<p style="margin-left:11%;"><b>gamma</b></p>

<p style="margin-left:17%;">Set the gamma expression. The
value must be a float in range 0.1 to 10.0. The default
value is &quot;1&quot;.</p>

<p style="margin-left:11%;"><b>gamma_r</b></p>

<p style="margin-left:17%;">Set the gamma expression for
red. The value must be a float in range 0.1 to 10.0. The
default value is &quot;1&quot;.</p>

<p style="margin-left:11%;"><b>gamma_g</b></p>

<p style="margin-left:17%;">Set the gamma expression for
green. The value must be a float in range 0.1 to 10.0. The
default value is &quot;1&quot;.</p>

<p style="margin-left:11%;"><b>gamma_b</b></p>

<p style="margin-left:17%;">Set the gamma expression for
blue. The value must be a float in range 0.1 to 10.0. The
default value is &quot;1&quot;.</p>

<p style="margin-left:11%;"><b>gamma_weight</b></p>

<p style="margin-left:17%;">Set the gamma weight
expression. It can be used to reduce the effect of a high
gamma value on bright image areas, e.g. keep them from
getting overamplified and just plain white. The value must
be a float in range 0.0 to 1.0. A value of 0.0 turns the
gamma correction all the way down while 1.0 leaves it at its
full strength. Default is &quot;1&quot;.</p>

<p style="margin-left:11%;"><b>eval</b></p>

<p style="margin-left:17%;">Set when the expressions for
brightness, contrast, saturation and gamma expressions are
evaluated.</p>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values: <b><br>
init</b></p>

<p style="margin-left:23%;">only evaluate expressions once
during the filter initialization or when a command is
processed</p>

<p style="margin-left:17%;"><b>frame</b></p>

<p style="margin-left:23%;">evaluate expressions for each
incoming frame</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is <b>init</b>.</p>

<p style="margin-left:11%; margin-top: 1em">The expressions
accept the following parameters:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>n</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>frame count of the input frame starting from 0</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>pos</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>byte position of the corresponding packet in the input
file, <small>NAN</small> if unspecified</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>r</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>frame rate of the input video, <small>NAN</small> if the
input frame rate is unknown</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>t</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>timestamp expressed in seconds, <small>NAN</small> if
the input timestamp is unknown</p></td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><i>Commands</i></p>

<p style="margin-left:11%; margin-top: 1em">The filter
supports the following commands: <b><br>
contrast</b></p>

<p style="margin-left:17%;">Set the contrast
expression.</p>

<p style="margin-left:11%;"><b>brightness</b></p>

<p style="margin-left:17%;">Set the brightness
expression.</p>

<p style="margin-left:11%;"><b>saturation</b></p>

<p style="margin-left:17%;">Set the saturation
expression.</p>

<p style="margin-left:11%;"><b>gamma</b></p>

<p style="margin-left:17%;">Set the gamma expression.</p>

<p style="margin-left:11%;"><b>gamma_r</b></p>

<p style="margin-left:17%;">Set the gamma_r expression.</p>

<p style="margin-left:11%;"><b>gamma_g</b></p>

<p style="margin-left:17%;">Set gamma_g expression.</p>

<p style="margin-left:11%;"><b>gamma_b</b></p>

<p style="margin-left:17%;">Set gamma_b expression.</p>

<p style="margin-left:11%;"><b>gamma_weight</b></p>

<p style="margin-left:17%;">Set gamma_weight
expression.</p>

<p style="margin-left:17%; margin-top: 1em">The command
accepts the same syntax of the corresponding option.</p>

<p style="margin-left:17%; margin-top: 1em">If the
specified expression is not valid, it is kept at its current
value.</p>

<p style="margin-left:11%; margin-top: 1em"><b>erosion</b>
<br>
Apply erosion effect to the video.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
replaces the pixel by the local(3x3) minimum.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following options: <b><br>
threshold0 <br>
threshold1 <br>
threshold2 <br>
threshold3</b></p>

<p style="margin-left:17%;">Limit the maximum change for
each plane, default is 65535. If 0, plane will remain
unchanged.</p>

<p style="margin-left:11%;"><b>coordinates</b></p>

<p style="margin-left:17%;">Flag which specifies the pixel
to refer to. Default is 255 i.e. all eight pixels are
used.</p>

<p style="margin-left:17%; margin-top: 1em">Flags to local
3x3 coordinates maps like this:</p>

<p style="margin-left:17%; margin-top: 1em">1 2 3 <br>
4 5 <br>
6 7 8</p>


<p style="margin-left:11%; margin-top: 1em"><b>extractplanes</b>
<br>
Extract color channel components from input video stream
into separate grayscale video streams.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following option: <b><br>
planes</b></p>

<p style="margin-left:17%;">Set plane(s) to extract.</p>

<p style="margin-left:17%; margin-top: 1em">Available
values for planes are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>y</b></p></td>
<td width="82%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>u</b></p></td>
<td width="82%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>v</b></p></td>
<td width="82%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>a</b></p></td>
<td width="82%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>r</b></p></td>
<td width="82%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>g</b></p></td>
<td width="82%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>b</b></p></td>
<td width="82%">
</td></tr>
</table>

<p style="margin-left:17%;">Choosing planes not available
in the input will result in an error. That means you cannot
select &quot;r&quot;, &quot;g&quot;, &quot;b&quot; planes
with &quot;y&quot;, &quot;u&quot;, &quot;v&quot; planes at
same time.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Extract luma, u and v color
channel component from input video frame into 3 grayscale
outputs:</p> </td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
video.avi -filter_complex 'extractplanes=y+u+v[y][u][v]'
-map '[y]' y.avi -map '[u]' u.avi -map '[v]' v.avi</p>

<p style="margin-left:11%; margin-top: 1em"><b>elbg</b>
<br>
Apply a posterize effect using the <small>ELBG</small>
(Enhanced <small>LBG</small> ) algorithm.</p>

<p style="margin-left:11%; margin-top: 1em">For each input
image, the filter will compute the optimal mapping from the
input to the output given the codebook length, that is the
number of distinct output colors.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
accepts the following options. <b><br>
codebook_length, l</b></p>

<p style="margin-left:17%;">Set codebook length. The value
must be a positive integer, and represents the number of
distinct output colors. Default value is 256.</p>

<p style="margin-left:11%;"><b>nb_steps, n</b></p>

<p style="margin-left:17%;">Set the maximum number of
iterations to apply for computing the optimal mapping. The
higher the value the better the result and the higher the
computation time. Default value is 1.</p>

<p style="margin-left:11%;"><b>seed, s</b></p>

<p style="margin-left:17%;">Set a random seed, must be an
integer included between 0 and <small>UINT32_MAX.</small> If
not specified, or if explicitly set to -1, the filter will
try to use a good random seed on a best effort basis.</p>

<p style="margin-left:11%;"><b>pal8</b></p>

<p style="margin-left:17%;">Set pal8 output pixel format.
This option does not work with codebook length greater than
256.</p>

<p style="margin-left:11%; margin-top: 1em"><b>entropy</b>
<br>
Measure graylevel entropy in histogram of color channels of
video frames.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters: <b><br>
mode</b></p>

<p style="margin-left:17%;">Can be either <i>normal</i> or
<i>diff</i>. Default is <i>normal</i>.</p>

<p style="margin-left:17%; margin-top: 1em"><i>diff</i>
mode measures entropy of histogram delta values, absolute
differences between neighbour histogram values.</p>

<p style="margin-left:11%; margin-top: 1em"><b>fade</b>
<br>
Apply a fade-in/out effect to the input video.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters: <b><br>
type, t</b></p>

<p style="margin-left:17%;">The effect type can be either
&quot;in&quot; for a fade-in, or &quot;out&quot; for a
fade-out effect. Default is &quot;in&quot;.</p>

<p style="margin-left:11%;"><b>start_frame, s</b></p>

<p style="margin-left:17%;">Specify the number of the frame
to start applying the fade effect at. Default is 0.</p>

<p style="margin-left:11%;"><b>nb_frames, n</b></p>

<p style="margin-left:17%;">The number of frames that the
fade effect lasts. At the end of the fade-in effect, the
output video will have the same intensity as the input
video. At the end of the fade-out transition, the output
video will be filled with the selected <b>color</b>. Default
is 25.</p>

<p style="margin-left:11%;"><b>alpha</b></p>

<p style="margin-left:17%;">If set to 1, fade only alpha
channel, if one exists on the input. Default value is 0.</p>

<p style="margin-left:11%;"><b>start_time, st</b></p>

<p style="margin-left:17%;">Specify the timestamp (in
seconds) of the frame to start to apply the fade effect. If
both start_frame and start_time are specified, the fade will
start at whichever comes last. Default is 0.</p>

<p style="margin-left:11%;"><b>duration, d</b></p>

<p style="margin-left:17%;">The number of seconds for which
the fade effect has to last. At the end of the fade-in
effect the output video will have the same intensity as the
input video, at the end of the fade-out transition the
output video will be filled with the selected <b>color</b>.
If both duration and nb_frames are specified, duration is
used. Default is 0 (nb_frames is used by default).</p>

<p style="margin-left:11%;"><b>color, c</b></p>

<p style="margin-left:17%;">Specify the color of the fade.
Default is &quot;black&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="57%">


<p>Fade in the first 30 frames of video:</p></td>
<td width="26%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">fade=in:0:30</p>

<p style="margin-left:17%; margin-top: 1em">The command
above is equivalent to:</p>


<p style="margin-left:17%; margin-top: 1em">fade=t=in:s=0:n=30</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="75%">


<p style="margin-top: 1em">Fade out the last 45 frames of a
200-frame video:</p></td>
<td width="8%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">fade=out:155:45
<br>
fade=type=out:start_frame=155:nb_frames=45</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Fade in the first 25 frames and
fade out the last 25 frames of a 1000-frame video:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">fade=in:0:25,
fade=out:975:25</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Make the first 5 frames yellow,
then fade in from frame 5-24:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">fade=in:5:20:color=yellow</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="68%">


<p style="margin-top: 1em">Fade in alpha over first 25
frames of video:</p></td>
<td width="15%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">fade=in:0:25:alpha=1</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Make the first 5.5 seconds
black, then fade in for 0.5 seconds:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">fade=t=in:st=5.5:d=0.5</p>

<p style="margin-left:11%; margin-top: 1em"><b>fftfilt</b>
<br>
Apply arbitrary expressions to samples in frequency domain
<b><br>
dc_Y</b></p>

<p style="margin-left:17%;">Adjust the dc value (gain) of
the luma plane of the image. The filter accepts an integer
value in range 0 to 1000. The default value is set to 0.</p>

<p style="margin-left:11%;"><b>dc_U</b></p>

<p style="margin-left:17%;">Adjust the dc value (gain) of
the 1st chroma plane of the image. The filter accepts an
integer value in range 0 to 1000. The default value is set
to 0.</p>

<p style="margin-left:11%;"><b>dc_V</b></p>

<p style="margin-left:17%;">Adjust the dc value (gain) of
the 2nd chroma plane of the image. The filter accepts an
integer value in range 0 to 1000. The default value is set
to 0.</p>

<p style="margin-left:11%;"><b>weight_Y</b></p>

<p style="margin-left:17%;">Set the frequency domain weight
expression for the luma plane.</p>

<p style="margin-left:11%;"><b>weight_U</b></p>

<p style="margin-left:17%;">Set the frequency domain weight
expression for the 1st chroma plane.</p>

<p style="margin-left:11%;"><b>weight_V</b></p>

<p style="margin-left:17%;">Set the frequency domain weight
expression for the 2nd chroma plane.</p>

<p style="margin-left:11%;"><b>eval</b></p>

<p style="margin-left:17%;">Set when the expressions are
evaluated.</p>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values: <b><br>
init</b></p>

<p style="margin-left:23%;">Only evaluate expressions once
during the filter initialization.</p>

<p style="margin-left:17%;"><b>frame</b></p>

<p style="margin-left:23%;">Evaluate expressions for each
incoming frame.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is <b>init</b>.</p>

<p style="margin-left:17%; margin-top: 1em">The filter
accepts the following variables:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>X</b></p></td>
<td width="5%"></td>
<td width="66%">
</td>
<td width="17%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>Y</b></p></td>
<td width="5%"></td>
<td width="66%">


<p>The coordinates of the current sample.</p></td>
<td width="17%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>W</b></p></td>
<td width="5%"></td>
<td width="66%">
</td>
<td width="17%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>H</b></p></td>
<td width="5%"></td>
<td width="66%">


<p>The width and height of the image.</p></td>
<td width="17%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>N</b></p></td>
<td width="5%"></td>
<td width="66%">


<p>The number of input frame, starting from 0.</p></td>
<td width="17%">
</td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="15%">


<p style="margin-top: 1em">High-pass:</p></td>
<td width="68%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">fftfilt=dc_Y=128:weight_Y='squish(1-(Y+X)/100)'</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="14%">


<p style="margin-top: 1em">Low-pass:</p></td>
<td width="69%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">fftfilt=dc_Y=0:weight_Y='squish((Y+X)/100-1)'</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="12%">


<p style="margin-top: 1em">Sharpen:</p></td>
<td width="71%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">fftfilt=dc_Y=0:weight_Y='1+squish(1-(Y+X)/100)'</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="8%">


<p style="margin-top: 1em">Blur:</p></td>
<td width="75%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">fftfilt=dc_Y=0:weight_Y='exp(-4
* ((Y+X)/(W+H)))'</p>


<p style="margin-left:11%; margin-top: 1em"><b>fftdnoiz</b>
<br>
Denoise frames using 3D <small>FFT</small> (frequency domain
filtering).</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
sigma</b></p>

<p style="margin-left:17%;">Set the noise sigma constant.
This sets denoising strength. Default value is 1. Allowed
range is from 0 to 30. Using very high sigma with low
overlap may give blocking artifacts.</p>

<p style="margin-left:11%;"><b>amount</b></p>

<p style="margin-left:17%;">Set amount of denoising. By
default all detected noise is reduced. Default value is 1.
Allowed range is from 0 to 1.</p>

<p style="margin-left:11%;"><b>block</b></p>

<p style="margin-left:17%;">Set size of block, Default is
4, can be 3, 4, 5 or 6. Actual size of block in pixels is 2
to power of <i>block</i>, so by default block size in pixels
is 2^4 which is 16.</p>

<p style="margin-left:11%;"><b>overlap</b></p>

<p style="margin-left:17%;">Set block overlap. Default is
0.5. Allowed range is from 0.2 to 0.8.</p>

<p style="margin-left:11%;"><b>prev</b></p>

<p style="margin-left:17%;">Set number of previous frames
to use for denoising. By default is set to 0.</p>

<p style="margin-left:11%;"><b>next</b></p>

<p style="margin-left:17%;">Set number of next frames to to
use for denoising. By default is set to 0.</p>

<p style="margin-left:11%;"><b>planes</b></p>

<p style="margin-left:17%;">Set planes which will be
filtered, by default are all available filtered except
alpha.</p>

<p style="margin-left:11%; margin-top: 1em"><b>field</b>
<br>
Extract a single field from an interlaced image using stride
arithmetic to avoid wasting <small>CPU</small> time. The
output frames are marked as non-interlaced.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
type</b></p>

<p style="margin-left:17%;">Specify whether to extract the
top (if the value is 0 or &quot;top&quot;) or the bottom
field (if the value is 1 or &quot;bottom&quot;).</p>


<p style="margin-left:11%; margin-top: 1em"><b>fieldhint</b>
<br>
Create new frames by copying the top and bottom fields from
surrounding frames supplied as numbers by the hint file.
<b><br>
hint</b></p>

<p style="margin-left:17%;">Set file containing hints:
absolute/relative frame numbers.</p>

<p style="margin-left:17%; margin-top: 1em">There must be
one line for each frame in a clip. Each line must contain
two numbers separated by the comma, optionally followed by
&quot;-&quot; or &quot;+&quot;. Numbers supplied on each
line of file can not be out of [N-1,N+1] where N is current
frame number for &quot;absolute&quot; mode or out of [-1, 1]
range for &quot;relative&quot; mode. First number tells from
which frame to pick up top field and second number tells
from which frame to pick up bottom field.</p>

<p style="margin-left:17%; margin-top: 1em">If optionally
followed by &quot;+&quot; output frame will be marked as
interlaced, else if followed by &quot;-&quot; output frame
will be marked as progressive, else it will be marked same
as input frame. If line starts with &quot;#&quot; or
&quot;;&quot; that line is skipped.</p>

<p style="margin-left:11%;"><b>mode</b></p>

<p style="margin-left:17%;">Can be item
&quot;absolute&quot; or &quot;relative&quot;. Default is
&quot;absolute&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">Example of
first several lines of &quot;hint&quot; file for
&quot;relative&quot; mode:</p>

<p style="margin-left:11%; margin-top: 1em">0,0 - # first
frame <br>
1,0 - # second frame, use third's frame top field and
second's frame bottom field <br>
1,0 - # third frame, use fourth's frame top field and
third's frame bottom field <br>
1,0 - <br>
0,0 - <br>
0,0 - <br>
1,0 - <br>
1,0 - <br>
1,0 - <br>
0,0 - <br>
0,0 - <br>
1,0 - <br>
1,0 - <br>
1,0 - <br>
0,0 -</p>


<p style="margin-left:11%; margin-top: 1em"><b>fieldmatch</b>
<br>
Field matching filter for inverse telecine. It is meant to
reconstruct the progressive frames from a telecined stream.
The filter does not drop duplicated frames, so to achieve a
complete inverse telecine &quot;fieldmatch&quot; needs to be
followed by a decimation filter such as <b>decimate</b> in
the filtergraph.</p>

<p style="margin-left:11%; margin-top: 1em">The separation
of the field matching and the decimation is notably
motivated by the possibility of inserting a de-interlacing
filter fallback between the two. If the source has mixed
telecined and real interlaced content,
&quot;fieldmatch&quot; will not be able to match fields for
the interlaced parts. But these remaining combed frames will
be marked as interlaced, and thus can be de-interlaced by a
later filter such as <b>yadif</b> before decimation.</p>

<p style="margin-left:11%; margin-top: 1em">In addition to
the various configuration options, &quot;fieldmatch&quot;
can take an optional second stream, activated through the
<b>ppsrc</b> option. If enabled, the frames reconstruction
will be based on the fields and frames from this second
stream. This allows the first input to be pre-processed in
order to help the various algorithms of the filter, while
keeping the output lossless (assuming the fields are matched
properly). Typically, a field-aware denoiser, or
brightness/contrast adjustments can help.</p>

<p style="margin-left:11%; margin-top: 1em">Note that this
filter uses the same algorithms as <small>TIVTC/TFM</small>
(AviSynth project) and <small>VIVTC/VFM</small> (VapourSynth
project). The later is a light clone of <small>TFM</small>
from which &quot;fieldmatch&quot; is based on. While the
semantic and usage are very close, some behaviour and
options names can differ.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>decimate</b> filter currently only works for constant
frame rate input. If your input has mixed telecined (30fps)
and progressive content with a lower framerate like 24fps
use the following filterchain to produce the necessary cfr
stream:
&quot;dejudder,fps=30000/1001,fieldmatch,decimate&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
order</b></p>

<p style="margin-left:17%;">Specify the assumed field order
of the input stream. Available values are: <b><br>
auto</b></p>

<p style="margin-left:23%;">Auto detect parity (use
FFmpeg&rsquo;s internal parity value).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>bff</b></p></td>
<td width="1%"></td>
<td width="40%">


<p>Assume bottom field first.</p></td>
<td width="37%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>tff</b></p></td>
<td width="1%"></td>
<td width="40%">


<p>Assume top field first.</p></td>
<td width="37%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Note that it is
sometimes recommended not to trust the parity announced by
the stream.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is <i>auto</i>.</p>

<p style="margin-left:11%;"><b>mode</b></p>

<p style="margin-left:17%;">Set the matching mode or
strategy to use. <b>pc</b> mode is the safest in the sense
that it won&rsquo;t risk creating jerkiness due to duplicate
frames when possible, but if there are bad edits or blended
fields it will end up outputting combed frames when a good
match might actually exist. On the other hand, <b>pcn_ub</b>
mode is the most risky in terms of creating jerkiness, but
will almost always find a good frame if there is one. The
other values are all somewhere in between <b>pc</b> and
<b>pcn_ub</b> in terms of risking jerkiness and creating
duplicate frames versus finding good matches in sections
with bad edits, orphaned fields, blended fields, etc.</p>

<p style="margin-left:17%; margin-top: 1em">More details
about p/c/n/u/b are available in <b>p/c/n/u/b meaning</b>
section.</p>

<p style="margin-left:17%; margin-top: 1em">Available
values are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>pc</b></p></td>
<td width="3%"></td>
<td width="31%">


<p>2-way matching (p/c)</p></td>
<td width="46%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>pc_n</b></p>

<p style="margin-left:23%;">2-way matching, and trying 3rd
match if still combed (p/c + n)</p>

<p style="margin-left:17%;"><b>pc_u</b></p>

<p style="margin-left:23%;">2-way matching, and trying 3rd
match (same order) if still combed (p/c + u)</p>

<p style="margin-left:17%;"><b>pc_n_ub</b></p>

<p style="margin-left:23%;">2-way matching, trying 3rd
match if still combed, and trying 4th/5th matches if still
combed (p/c + n + u/b)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>pcn</b></p></td>
<td width="1%"></td>
<td width="34%">


<p>3-way matching (p/c/n)</p></td>
<td width="43%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>pcn_ub</b></p>

<p style="margin-left:23%;">3-way matching, and trying
4th/5th matches if all 3 of the original matches are
detected as combed (p/c/n + u/b)</p>

<p style="margin-left:17%; margin-top: 1em">The parenthesis
at the end indicate the matches that would be used for that
mode assuming <b>order</b>=<i>tff</i> (and <b>field</b> on
<i>auto</i> or <i>top</i>).</p>

<p style="margin-left:17%; margin-top: 1em">In terms of
speed <b>pc</b> mode is by far the fastest and <b>pcn_ub</b>
is the slowest.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is <i>pc_n</i>.</p>

<p style="margin-left:11%;"><b>ppsrc</b></p>

<p style="margin-left:17%;">Mark the main input stream as a
pre-processed input, and enable the secondary input stream
as the clean source to pick the fields from. See the filter
introduction for more details. It is similar to the
<b>clip2</b> feature from <small>VFM/TFM.</small></p>

<p style="margin-left:17%; margin-top: 1em">Default value
is 0 (disabled).</p>

<p style="margin-left:11%;"><b>field</b></p>

<p style="margin-left:17%;">Set the field to match from. It
is recommended to set this to the same value as <b>order</b>
unless you experience matching failures with that setting.
In certain circumstances changing the field that is used to
match from can have a large impact on matching performance.
Available values are: <b><br>
auto</b></p>

<p style="margin-left:23%;">Automatic (same value as
<b>order</b>).</p>

<p style="margin-left:17%;"><b>bottom</b></p>

<p style="margin-left:23%;">Match from the bottom
field.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>top</b></p></td>
<td width="1%"></td>
<td width="39%">


<p>Match from the top field.</p></td>
<td width="38%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Default value
is <i>auto</i>.</p>

<p style="margin-left:11%;"><b>mchroma</b></p>

<p style="margin-left:17%;">Set whether or not chroma is
included during the match comparisons. In most cases it is
recommended to leave this enabled. You should set this to 0
only if your clip has bad chroma problems such as heavy
rainbowing or other artifacts. Setting this to 0 could also
be used to speed things up at the cost of some accuracy.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is 1.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>y0</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>y1</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>These define an exclusion band which excludes the lines
between <b>y0</b> and <b>y1</b> from being included in the
field matching decision. An exclusion band can be used to
ignore subtitles, a logo, or other things that may interfere
with the matching. <b>y0</b> sets the starting scan line and
<b>y1</b> sets the ending line; all lines in between
<b>y0</b> and <b>y1</b> (including <b>y0</b> and <b>y1</b>)
will be ignored. Setting <b>y0</b> and <b>y1</b> to the same
value will disable the feature. <b>y0</b> and <b>y1</b>
defaults to 0.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>scthresh</b></p>

<p style="margin-left:17%;">Set the scene change detection
threshold as a percentage of maximum change on the luma
plane. Good values are in the &quot;[8.0, 14.0]&quot; range.
Scene change detection is only relevant in case
<b>combmatch</b>=<i>sc</i>. The range for <b>scthresh</b> is
&quot;[0.0, 100.0]&quot;.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is 12.0.</p>

<p style="margin-left:11%;"><b>combmatch</b></p>

<p style="margin-left:17%;">When <b>combatch</b> is not
<i>none</i>, &quot;fieldmatch&quot; will take into account
the combed scores of matches when deciding what match to use
as the final match. Available values are: <b><br>
none</b></p>

<p style="margin-left:23%;">No final matching based on
combed scores.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>sc</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>Combed scores are only used when a scene change is
detected.</p> </td></tr>
</table>

<p style="margin-left:17%;"><b>full</b></p>

<p style="margin-left:23%;">Use combed scores all the
time.</p>

<p style="margin-left:17%; margin-top: 1em">Default is
<i>sc</i>.</p>

<p style="margin-left:11%;"><b>combdbg</b></p>

<p style="margin-left:17%;">Force &quot;fieldmatch&quot; to
calculate the combed metrics for certain matches and print
them. This setting is known as <b>micout</b> in
<small>TFM/VFM</small> vocabulary. Available values are:
<b><br>
none</b></p>

<p style="margin-left:23%;">No forced calculation.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>pcn</b></p></td>
<td width="1%"></td>
<td width="39%">


<p>Force p/c/n calculations.</p></td>
<td width="38%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>pcnub</b></p>

<p style="margin-left:23%;">Force p/c/n/u/b
calculations.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is <i>none</i>.</p>

<p style="margin-left:11%;"><b>cthresh</b></p>

<p style="margin-left:17%;">This is the area combing
threshold used for combed frame detection. This essentially
controls how &quot;strong&quot; or &quot;visible&quot;
combing must be to be detected. Larger values mean combing
must be more visible and smaller values mean combing can be
less visible or strong and still be detected. Valid settings
are from &quot;-1&quot; (every pixel will be detected as
combed) to 255 (no pixel will be detected as combed). This
is basically a pixel difference value. A good range is
&quot;[8, 12]&quot;.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is 9.</p>

<p style="margin-left:11%;"><b>chroma</b></p>

<p style="margin-left:17%;">Sets whether or not chroma is
considered in the combed frame decision. Only disable this
if your source has chroma problems (rainbowing, etc.) that
are causing problems for the combed frame detection with
chroma enabled. Actually, using <b>chroma</b>=<i>0</i> is
usually more reliable, except for the case where there is
chroma only combing in the source.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is 0.</p>

<p style="margin-left:11%;"><b>blockx <br>
blocky</b></p>

<p style="margin-left:17%;">Respectively set the x-axis and
y-axis size of the window used during combed frame
detection. This has to do with the size of the area in which
<b>combpel</b> pixels are required to be detected as combed
for a frame to be declared combed. See the <b>combpel</b>
parameter description for more info. Possible values are any
number that is a power of 2 starting at 4 and going up to
512.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is 16.</p>

<p style="margin-left:11%;"><b>combpel</b></p>

<p style="margin-left:17%;">The number of combed pixels
inside any of the <b>blocky</b> by <b>blockx</b> size blocks
on the frame for the frame to be detected as combed. While
<b>cthresh</b> controls how &quot;visible&quot; the combing
must be, this setting controls &quot;how much&quot; combing
there must be in any localized area (a window defined by the
<b>blockx</b> and <b>blocky</b> settings) on the frame.
Minimum value is 0 and maximum is &quot;blocky x
blockx&quot; (at which point no frames will ever be detected
as combed). This setting is known as
<b><small>MI</small></b> in <small>TFM/VFM</small>
vocabulary.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is 80.</p>

<p style="margin-left:11%; margin-top: 1em"><i>p/c/n/u/b
meaning</i></p>

<p style="margin-left:11%; margin-top: 1em">p/c/n</p>

<p style="margin-left:11%; margin-top: 1em">We assume the
following telecined stream:</p>

<p style="margin-left:11%; margin-top: 1em">Top fields: 1 2
2 3 4 <br>
Bottom fields: 1 2 3 4 4</p>

<p style="margin-left:11%; margin-top: 1em">The numbers
correspond to the progressive frame the fields relate to.
Here, the first two frames are progressive, the 3rd and 4th
are combed, and so on.</p>

<p style="margin-left:11%; margin-top: 1em">When
&quot;fieldmatch&quot; is configured to run a matching from
bottom (<b>field</b>=<i>bottom</i>) this is how this input
stream get transformed:</p>

<p style="margin-left:11%; margin-top: 1em">Input stream:
<br>
T 1 2 2 3 4 <br>
B 1 2 3 4 4 &lt;-- matching reference <br>
Matches: c c n n c <br>
Output stream: <br>
T 1 2 3 4 4 <br>
B 1 2 3 4 4</p>

<p style="margin-left:11%; margin-top: 1em">As a result of
the field matching, we can see that some frames get
duplicated. To perform a complete inverse telecine, you need
to rely on a decimation filter after this operation. See for
instance the <b>decimate</b> filter.</p>

<p style="margin-left:11%; margin-top: 1em">The same
operation now matching from top fields
(<b>field</b>=<i>top</i>) looks like this:</p>

<p style="margin-left:11%; margin-top: 1em">Input stream:
<br>
T 1 2 2 3 4 &lt;-- matching reference <br>
B 1 2 3 4 4 <br>
Matches: c c p p c <br>
Output stream: <br>
T 1 2 2 3 4 <br>
B 1 2 2 3 4</p>

<p style="margin-left:11%; margin-top: 1em">In these
examples, we can see what <i>p</i>, <i>c</i> and <i>n</i>
mean; basically, they refer to the frame and field of the
opposite parity: <br>
*&lt;<i>p</i> matches the field of the opposite parity in
the previous frame&gt; <br>
*&lt;<i>c</i> matches the field of the opposite parity in
the current frame&gt; <br>
*&lt;<i>n</i> matches the field of the opposite parity in
the next frame&gt;</p>

<p style="margin-left:11%; margin-top: 1em">u/b</p>

<p style="margin-left:11%; margin-top: 1em">The <i>u</i>
and <i>b</i> matching are a bit special in the sense that
they match from the opposite parity flag. In the following
examples, we assume that we are currently matching the 2nd
frame (Top:2, bottom:2). According to the match, a
&rsquo;x&rsquo; is placed above and below each matched
fields.</p>

<p style="margin-left:11%; margin-top: 1em">With bottom
matching (<b>field</b>=<i>bottom</i>):</p>

<p style="margin-left:11%; margin-top: 1em">Match: c p n b
u <br>
x x x x x <br>
Top 1 2 2 1 2 2 1 2 2 1 2 2 1 2 2 <br>
Bottom 1 2 3 1 2 3 1 2 3 1 2 3 1 2 3 <br>
x x x x x <br>
Output frames: <br>
2 1 2 2 2 <br>
2 2 2 1 3</p>

<p style="margin-left:11%; margin-top: 1em">With top
matching (<b>field</b>=<i>top</i>):</p>

<p style="margin-left:11%; margin-top: 1em">Match: c p n b
u <br>
x x x x x <br>
Top 1 2 2 1 2 2 1 2 2 1 2 2 1 2 2 <br>
Bottom 1 2 3 1 2 3 1 2 3 1 2 3 1 2 3 <br>
x x x x x <br>
Output frames: <br>
2 2 2 1 2 <br>
2 1 3 2 2</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<p style="margin-left:11%; margin-top: 1em">Simple
<small>IVTC</small> of a top field first telecined
stream:</p>


<p style="margin-left:11%; margin-top: 1em">fieldmatch=order=tff:combmatch=none,
decimate</p>

<p style="margin-left:11%; margin-top: 1em">Advanced
<small>IVTC,</small> with fallback on <b>yadif</b> for still
combed frames:</p>


<p style="margin-left:11%; margin-top: 1em">fieldmatch=order=tff:combmatch=full,
yadif=deint=interlaced, decimate</p>


<p style="margin-left:11%; margin-top: 1em"><b>fieldorder</b>
<br>
Transform the field order of the input video.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters: <b><br>
order</b></p>

<p style="margin-left:17%;">The output field order. Valid
values are <i>tff</i> for top field first or <i>bff</i> for
bottom field first.</p>

<p style="margin-left:11%; margin-top: 1em">The default
value is <b>tff</b>.</p>

<p style="margin-left:11%; margin-top: 1em">The
transformation is done by shifting the picture content up or
down by one line, and filling the remaining line with
appropriate picture content. This method is consistent with
most broadcast field order converters.</p>

<p style="margin-left:11%; margin-top: 1em">If the input
video is not flagged as being interlaced, or it is already
flagged as being of the required output field order, then
this filter does not alter the incoming video.</p>

<p style="margin-left:11%; margin-top: 1em">It is very
useful when converting to or from <small>PAL DV</small>
material, which is bottom field first.</p>

<p style="margin-left:11%; margin-top: 1em">For
example:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i
in.vob -vf &quot;fieldorder=bff&quot; out.dv</p>

<p style="margin-left:11%; margin-top: 1em"><b>fifo,
afifo</b> <br>
Buffer input images and send them when they are
requested.</p>

<p style="margin-left:11%; margin-top: 1em">It is mainly
useful when auto-inserted by the libavfilter framework.</p>

<p style="margin-left:11%; margin-top: 1em">It does not
take parameters.</p>


<p style="margin-left:11%; margin-top: 1em"><b>fillborders</b>
<br>
Fill borders of the input video, without changing video
stream dimensions. Sometimes video can have garbage at the
four edges and you may not want to crop video input to keep
size multiple of some number.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
accepts the following options: <b><br>
left</b></p>

<p style="margin-left:17%;">Number of pixels to fill from
left border.</p>

<p style="margin-left:11%;"><b>right</b></p>

<p style="margin-left:17%;">Number of pixels to fill from
right border.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>top</b></p></td>
<td width="2%"></td>
<td width="63%">


<p>Number of pixels to fill from top border.</p></td>
<td width="20%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>bottom</b></p>

<p style="margin-left:17%;">Number of pixels to fill from
bottom border.</p>

<p style="margin-left:11%;"><b>mode</b></p>

<p style="margin-left:17%;">Set fill mode.</p>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values: <b><br>
smear</b></p>

<p style="margin-left:23%;">fill pixels using outermost
pixels</p>

<p style="margin-left:17%;"><b>mirror</b></p>

<p style="margin-left:23%;">fill pixels using mirroring</p>

<p style="margin-left:17%;"><b>fixed</b></p>

<p style="margin-left:23%;">fill pixels with constant
value</p>

<p style="margin-left:17%; margin-top: 1em">Default is
<i>smear</i>.</p>

<p style="margin-left:11%;"><b>color</b></p>

<p style="margin-left:17%;">Set color for pixels in fixed
mode. Default is <i>black</i>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>find_rect</b>
<br>
Find a rectangular object</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following options: <b><br>
object</b></p>

<p style="margin-left:17%;">Filepath of the object image,
needs to be in gray8.</p>

<p style="margin-left:11%;"><b>threshold</b></p>

<p style="margin-left:17%;">Detection threshold, default is
0.5.</p>

<p style="margin-left:11%;"><b>mipmaps</b></p>

<p style="margin-left:17%;">Number of mipmaps, default is
3.</p>

<p style="margin-left:11%;"><b>xmin, ymin, xmax,
ymax</b></p>

<p style="margin-left:17%;">Specifies the rectangle in
which to search.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Cover a rectangular object by the supplied image of a
given video using <b>ffmpeg</b>:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
file.ts -vf
find_rect=newref.pgm,cover_rect=cover.jpg:mode=cover
new.mkv</p>


<p style="margin-left:11%; margin-top: 1em"><b>cover_rect</b>
<br>
Cover a rectangular object</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following options: <b><br>
cover</b></p>

<p style="margin-left:17%;">Filepath of the optional cover
image, needs to be in yuv420.</p>

<p style="margin-left:11%;"><b>mode</b></p>

<p style="margin-left:17%;">Set covering mode.</p>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values: <b><br>
cover</b></p>

<p style="margin-left:23%;">cover it by the supplied
image</p>

<p style="margin-left:17%;"><b>blur</b></p>

<p style="margin-left:23%;">cover it by interpolating the
surrounding pixels</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is <i>blur</i>.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Cover a rectangular object by the supplied image of a
given video using <b>ffmpeg</b>:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
file.ts -vf
find_rect=newref.pgm,cover_rect=cover.jpg:mode=cover
new.mkv</p>


<p style="margin-left:11%; margin-top: 1em"><b>floodfill</b>
<br>
Flood area with values of same pixel components with another
values.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following options:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>x</b></p></td>
<td width="3%"></td>
<td width="54%">


<p style="margin-top: 1em">Set pixel x coordinate.</p></td>
<td width="29%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>y</b></p></td>
<td width="3%"></td>
<td width="54%">


<p>Set pixel y coordinate.</p></td>
<td width="29%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>s0</b></p></td>
<td width="3%"></td>
<td width="54%">


<p>Set source #0 component value.</p></td>
<td width="29%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>s1</b></p></td>
<td width="3%"></td>
<td width="54%">


<p>Set source #1 component value.</p></td>
<td width="29%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>s2</b></p></td>
<td width="3%"></td>
<td width="54%">


<p>Set source #2 component value.</p></td>
<td width="29%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>s3</b></p></td>
<td width="3%"></td>
<td width="54%">


<p>Set source #3 component value.</p></td>
<td width="29%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>d0</b></p></td>
<td width="3%"></td>
<td width="54%">


<p>Set destination #0 component value.</p></td>
<td width="29%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>d1</b></p></td>
<td width="3%"></td>
<td width="54%">


<p>Set destination #1 component value.</p></td>
<td width="29%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>d2</b></p></td>
<td width="3%"></td>
<td width="54%">


<p>Set destination #2 component value.</p></td>
<td width="29%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>d3</b></p></td>
<td width="3%"></td>
<td width="54%">


<p>Set destination #3 component value.</p></td>
<td width="29%">
</td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>format</b>
<br>
Convert the input video to one of the specified pixel
formats. Libavfilter will try to pick one that is suitable
as input to the next filter.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters: <b><br>
pix_fmts</b></p>

<p style="margin-left:17%;">A &rsquo;|&rsquo;-separated
list of pixel format names, such as
&quot;pix_fmts=yuv420p|monow|rgb24&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="69%">


<p>Convert the input video to the <i>yuv420p</i> format</p></td>
<td width="14%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">format=pix_fmts=yuv420p</p>

<p style="margin-left:17%; margin-top: 1em">Convert the
input video to any of the formats in the list</p>


<p style="margin-left:17%; margin-top: 1em">format=pix_fmts=yuv420p|yuv444p|yuv410p</p>

<p style="margin-left:11%; margin-top: 1em"><b>fps</b> <br>
Convert the video to specified constant frame rate by
duplicating or dropping frames as necessary.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p style="margin-top: 1em"><b>fps</b></p></td>
<td width="2%"></td>
<td width="75%">


<p style="margin-top: 1em">The desired output frame rate.
The default is 25.</p></td>
<td width="8%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>start_time</b></p>

<p style="margin-left:17%;">Assume the first
<small>PTS</small> should be the given value, in seconds.
This allows for padding/trimming at the start of stream. By
default, no assumption is made about the first frame&rsquo;s
expected <small>PTS,</small> so no padding or trimming is
done. For example, this could be set to 0 to pad the
beginning with duplicates of the first frame if a video
stream starts after the audio stream or to trim any frames
with a negative <small>PTS.</small></p>

<p style="margin-left:11%;"><b>round</b></p>

<p style="margin-left:17%;">Timestamp ( <small>PTS</small>
) rounding method.</p>

<p style="margin-left:17%; margin-top: 1em">Possible values
are: <b><br>
zero</b></p>

<p style="margin-left:23%;">round towards 0</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>inf</b></p></td>
<td width="1%"></td>
<td width="26%">


<p>round away from 0</p></td>
<td width="51%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>down</b></p>

<p style="margin-left:23%;">round towards -infinity</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>up</b></p></td>
<td width="3%"></td>
<td width="35%">


<p>round towards +infinity</p></td>
<td width="42%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>near</b></p>

<p style="margin-left:23%;">round to nearest</p>

<p style="margin-left:17%; margin-top: 1em">The default is
&quot;near&quot;.</p>

<p style="margin-left:11%;"><b>eof_action</b></p>

<p style="margin-left:17%;">Action performed when reading
the last frame.</p>

<p style="margin-left:17%; margin-top: 1em">Possible values
are: <b><br>
round</b></p>

<p style="margin-left:23%;">Use same timestamp rounding
method as used for other frames.</p>

<p style="margin-left:17%;"><b>pass</b></p>

<p style="margin-left:23%;">Pass through last frame if
input duration has not been reached yet.</p>

<p style="margin-left:17%; margin-top: 1em">The default is
&quot;round&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">Alternatively,
the options can be specified as a flat string:
<i>fps</i>[:<i>start_time</i>[:<i>round</i>]].</p>

<p style="margin-left:11%; margin-top: 1em">See also the
<b>setpts</b> filter.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="71%">


<p>A typical usage in order to set the fps to 25:</p></td>
<td width="12%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">fps=fps=25</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Sets the fps to 24, using
abbreviation and rounding method to round to nearest:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">fps=fps=film:round=near</p>


<p style="margin-left:11%; margin-top: 1em"><b>framepack</b>
<br>
Pack two different video streams into a stereoscopic video,
setting proper metadata on supported codecs. The two views
should have the same size and framerate and processing will
stop when the shorter video ends. Please note that you may
conveniently adjust view properties with the <b>scale</b>
and <b>fps</b> filters.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters: <b><br>
format</b></p>

<p style="margin-left:17%;">The desired packing format.
Supported values are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>sbs</b></p></td>
<td width="1%"></td>
<td width="66%">


<p>The views are next to each other (default).</p></td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>tab</b></p></td>
<td width="1%"></td>
<td width="66%">


<p>The views are on top of each other.</p></td>
<td width="11%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>lines</b></p>

<p style="margin-left:23%;">The views are packed by
line.</p>

<p style="margin-left:17%;"><b>columns</b></p>

<p style="margin-left:23%;">The views are packed by
column.</p>

<p style="margin-left:17%;"><b>frameseq</b></p>

<p style="margin-left:23%;">The views are temporally
interleaved.</p>

<p style="margin-left:11%; margin-top: 1em">Some
examples:</p>

<p style="margin-left:11%; margin-top: 1em"># Convert left
and right views into a frame-sequential video <br>
ffmpeg -i LEFT -i RIGHT -filter_complex framepack=frameseq
OUTPUT <br>
# Convert views into a side-by-side video with the same
output resolution as the input <br>
ffmpeg -i LEFT -i RIGHT -filter_complex
[0:v]scale=w=iw/2[left],[1:v]scale=w=iw/2[right],[left][right]framepack=sbs
OUTPUT</p>


<p style="margin-left:11%; margin-top: 1em"><b>framerate</b>
<br>
Change the frame rate by interpolating new video output
frames from the source frames.</p>

<p style="margin-left:11%; margin-top: 1em">This filter is
not designed to function correctly with interlaced media. If
you wish to change the frame rate of interlaced media then
you are required to deinterlace before this filter and
re-interlace after this filter.</p>

<p style="margin-left:11%; margin-top: 1em">A description
of the accepted options follows.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>fps</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Specify the output frames per second. This option can
also be specified as a value alone. The default is 50.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>interp_start</b></p>

<p style="margin-left:17%;">Specify the start of a range
where the output frame will be created as a linear
interpolation of two frames. The range is [0-255], the
default is 15.</p>

<p style="margin-left:11%;"><b>interp_end</b></p>

<p style="margin-left:17%;">Specify the end of a range
where the output frame will be created as a linear
interpolation of two frames. The range is [0-255], the
default is 240.</p>

<p style="margin-left:11%;"><b>scene</b></p>

<p style="margin-left:17%;">Specify the level at which a
scene change is detected as a value between 0 and 100 to
indicate a new scene; a low value reflects a low probability
for the current frame to introduce a new scene, while a
higher value means the current frame is more likely to be
one. The default is 8.2.</p>

<p style="margin-left:11%;"><b>flags</b></p>

<p style="margin-left:17%;">Specify flags influencing the
filter process.</p>

<p style="margin-left:17%; margin-top: 1em">Available value
for <i>flags</i> is: <b><br>
scene_change_detect, scd</b></p>

<p style="margin-left:23%;">Enable scene change detection
using the value of the option <i>scene</i>. This flag is
enabled by default.</p>


<p style="margin-left:11%; margin-top: 1em"><b>framestep</b>
<br>
Select one frame every N-th frame.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
accepts the following option: <b><br>
step</b></p>

<p style="margin-left:17%;">Select frame after every
&quot;step&quot; frames. Allowed values are positive
integers higher than 0. Default value is 1.</p>


<p style="margin-left:11%; margin-top: 1em"><b>freezedetect</b>
<br>
Detect frozen video.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
logs a message and sets frame metadata when it detects that
the input video has no significant change in content during
a specified duration. Video freeze detection calculates the
mean average absolute difference of all the components of
video frames and compares it to a noise floor.</p>

<p style="margin-left:11%; margin-top: 1em">The printed
times and duration are expressed in seconds. The
&quot;lavfi.freezedetect.freeze_start&quot; metadata key is
set on the first frame whose timestamp equals or exceeds the
detection duration and it contains the timestamp of the
first frame of the freeze. The
&quot;lavfi.freezedetect.freeze_duration&quot; and
&quot;lavfi.freezedetect.freeze_end&quot; metadata keys are
set on the first frame after the freeze.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
noise, n</b></p>

<p style="margin-left:17%;">Set noise tolerance. Can be
specified in dB (in case &quot;dB&quot; is appended to the
specified value) or as a difference ratio between 0 and 1.
Default is -60dB, or 0.001.</p>

<p style="margin-left:11%;"><b>duration, d</b></p>

<p style="margin-left:17%;">Set freeze duration until
notification (default is 2 seconds).</p>

<p style="margin-left:11%; margin-top: 1em"><b>frei0r</b>
<br>
Apply a frei0r effect to the input video.</p>

<p style="margin-left:11%; margin-top: 1em">To enable the
compilation of this filter, you need to install the frei0r
header and configure FFmpeg with
&quot;--enable-frei0r&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters: <b><br>
filter_name</b></p>

<p style="margin-left:17%;">The name of the frei0r effect
to load. If the environment variable
<b><small>FREI0R_PATH</small></b> is defined, the frei0r
effect is searched for in each of the directories specified
by the colon-separated list in
<b><small>FREI0R_PATH</small></b> . Otherwise, the standard
frei0r paths are searched, in this order:
<i><small>HOME/</small> .frei0r-1/lib/</i>,
<i>/usr/local/lib/frei0r-1/</i>,
<i>/usr/lib/frei0r-1/</i>.</p>

<p style="margin-left:11%;"><b>filter_params</b></p>

<p style="margin-left:17%;">A &rsquo;|&rsquo;-separated
list of parameters to pass to the frei0r effect.</p>

<p style="margin-left:11%; margin-top: 1em">A frei0r effect
parameter can be a boolean (its value is either
&quot;y&quot; or &quot;n&quot;), a double, a color
(specified as <i>R</i>/<i>G</i>/<i>B</i>, where <i>R</i>,
<i>G</i>, and <i>B</i> are floating point numbers between
0.0 and 1.0, inclusive) or a color description as specified
in the <b>&quot;Color&quot; section in the ffmpeg-utils
manual</b>, a position (specified as <i>X</i>/<i>Y</i>,
where <i>X</i> and <i>Y</i> are floating point numbers)
and/or a string.</p>

<p style="margin-left:11%; margin-top: 1em">The number and
types of parameters depend on the loaded effect. If an
effect parameter is not specified, the default value is
set.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Apply the distort0r effect, setting the first two double
parameters:</p> </td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">frei0r=filter_name=distort0r:filter_params=0.5|0.01</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Apply the colordistance effect,
taking a color as the first parameter:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">frei0r=colordistance:0.2/0.3/0.4
<br>
frei0r=colordistance:violet <br>
frei0r=colordistance:0x112233</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Apply the perspective effect,
specifying the top left and top right image positions:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">frei0r=perspective:0.2/0.2|0.8/0.2</p>

<p style="margin-left:11%; margin-top: 1em">For more
information, see &lt;<b>http://frei0r.dyne.org</b>&gt;</p>

<p style="margin-left:11%; margin-top: 1em"><b>fspp</b>
<br>
Apply fast and simple postprocessing. It is a faster version
of <b>spp</b>.</p>

<p style="margin-left:11%; margin-top: 1em">It splits
(I)DCT into horizontal/vertical passes. Unlike the simple
post- processing filter, one of them is performed once per
block, not per pixel. This allows for much higher speed.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
quality</b></p>

<p style="margin-left:17%;">Set quality. This option
defines the number of levels for averaging. It accepts an
integer in the range 4-5. Default value is 4.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>qp</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Force a constant quantization parameter. It accepts an
integer in range 0-63. If not set, the filter will use the
<small>QP</small> from the video stream (if available).</p></td></tr>
</table>

<p style="margin-left:11%;"><b>strength</b></p>

<p style="margin-left:17%;">Set filter strength. It accepts
an integer in range -15 to 32. Lower values mean more
details but also more artifacts, while higher values make
the image smoother but also blurrier. Default value is 0 X
<small>PSNR</small> optimal.</p>

<p style="margin-left:11%;"><b>use_bframe_qp</b></p>

<p style="margin-left:17%;">Enable the use of the
<small>QP</small> from the B-Frames if set to 1. Using this
option may cause flicker since the B-Frames have often
larger <small>QP.</small> Default is 0 (not enabled).</p>

<p style="margin-left:11%; margin-top: 1em"><b>gblur</b>
<br>
Apply Gaussian blur filter.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
sigma</b></p>

<p style="margin-left:17%;">Set horizontal sigma, standard
deviation of Gaussian blur. Default is 0.5.</p>

<p style="margin-left:11%;"><b>steps</b></p>

<p style="margin-left:17%;">Set number of steps for
Gaussian approximation. Default is 1.</p>

<p style="margin-left:11%;"><b>planes</b></p>

<p style="margin-left:17%;">Set which planes to filter. By
default all planes are filtered.</p>

<p style="margin-left:11%;"><b>sigmaV</b></p>

<p style="margin-left:17%;">Set vertical sigma, if negative
it will be same as &quot;sigma&quot;. Default is
&quot;-1&quot;.</p>

<p style="margin-left:11%; margin-top: 1em"><b>geq</b> <br>
Apply generic equation to each pixel.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
lum_expr, lum</b></p>

<p style="margin-left:17%;">Set the luminance
expression.</p>

<p style="margin-left:11%;"><b>cb_expr, cb</b></p>

<p style="margin-left:17%;">Set the chrominance blue
expression.</p>

<p style="margin-left:11%;"><b>cr_expr, cr</b></p>

<p style="margin-left:17%;">Set the chrominance red
expression.</p>

<p style="margin-left:11%;"><b>alpha_expr, a</b></p>

<p style="margin-left:17%;">Set the alpha expression.</p>

<p style="margin-left:11%;"><b>red_expr, r</b></p>

<p style="margin-left:17%;">Set the red expression.</p>

<p style="margin-left:11%;"><b>green_expr, g</b></p>

<p style="margin-left:17%;">Set the green expression.</p>

<p style="margin-left:11%;"><b>blue_expr, b</b></p>

<p style="margin-left:17%;">Set the blue expression.</p>

<p style="margin-left:11%; margin-top: 1em">The colorspace
is selected according to the specified options. If one of
the <b>lum_expr</b>, <b>cb_expr</b>, or <b>cr_expr</b>
options is specified, the filter will automatically select a
YCbCr colorspace. If one of the <b>red_expr</b>,
<b>green_expr</b>, or <b>blue_expr</b> options is specified,
it will select an <small>RGB</small> colorspace.</p>

<p style="margin-left:11%; margin-top: 1em">If one of the
chrominance expression is not defined, it falls back on the
other one. If no alpha expression is specified it will
evaluate to opaque value. If none of chrominance expressions
are specified, they will evaluate to the luminance
expression.</p>

<p style="margin-left:11%; margin-top: 1em">The expressions
can use the following variables and functions:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>N</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>The sequential number of the filtered frame, starting
from 0.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>X</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>Y</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>The coordinates of the current sample.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>W</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>H</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>The width and height of the image.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b><small>SW</small></b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b><small>SH</small></b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Width and height scale depending on the currently
filtered plane. It is the ratio between the corresponding
luma plane number of pixels and the current plane ones. E.g.
for <small>YUV4:2:0</small> the values are &quot;1,1&quot;
for the luma plane, and &quot;0.5,0.5&quot; for chroma
planes.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>T</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Time of the current frame, expressed in seconds.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>p(x, y)</b></p>

<p style="margin-left:17%;">Return the value of the pixel
at location (<i>x</i>,<i>y</i>) of the current plane.</p>

<p style="margin-left:11%;"><b>lum(x, y)</b></p>

<p style="margin-left:17%;">Return the value of the pixel
at location (<i>x</i>,<i>y</i>) of the luminance plane.</p>

<p style="margin-left:11%;"><b>cb(x, y)</b></p>

<p style="margin-left:17%;">Return the value of the pixel
at location (<i>x</i>,<i>y</i>) of the blue-difference
chroma plane. Return 0 if there is no such plane.</p>

<p style="margin-left:11%;"><b>cr(x, y)</b></p>

<p style="margin-left:17%;">Return the value of the pixel
at location (<i>x</i>,<i>y</i>) of the red-difference chroma
plane. Return 0 if there is no such plane.</p>

<p style="margin-left:11%;"><b>r(x, y) <br>
g(x, y) <br>
b(x, y)</b></p>

<p style="margin-left:17%;">Return the value of the pixel
at location (<i>x</i>,<i>y</i>) of the red/green/blue
component. Return 0 if there is no such component.</p>

<p style="margin-left:11%;"><b>alpha(x, y)</b></p>

<p style="margin-left:17%;">Return the value of the pixel
at location (<i>x</i>,<i>y</i>) of the alpha plane. Return 0
if there is no such plane.</p>

<p style="margin-left:11%; margin-top: 1em">For functions,
if <i>x</i> and <i>y</i> are outside the area, the value
will be automatically clipped to the closer edge.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="43%">


<p>Flip the image horizontally:</p></td>
<td width="40%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">geq=p(W-X\,Y)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Generate a bidimensional sine
wave, with angle &quot;PI/3&quot; and a wavelength of 100
pixels:</p> </td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">geq=128 +
100*sin(2*(PI/100)*(cos(PI/3)*(X-50*T) +
sin(PI/3)*Y)):128:128</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="61%">


<p style="margin-top: 1em">Generate a fancy enigmatic
moving light:</p></td>
<td width="22%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">nullsrc=s=256x256,geq=random(1)/hypot(X-cos(N*0.07)*W/2-W/2\,Y-sin(N*0.09)*H/2-H/2)^2*1000000*sin(N*0.02):128:128</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="48%">


<p style="margin-top: 1em">Generate a quick emboss
effect:</p> </td>
<td width="35%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">format=gray,geq=lum_expr='(p(X,Y)+(256-p(X-4,Y-4)))/2'</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="77%">


<p style="margin-top: 1em">Modify <small>RGB</small>
components depending on pixel position:</p></td>
<td width="6%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">geq=r='X/W*r(X,Y)':g='(1-X/W)*g(X,Y)':b='(H-Y)/H*b(X,Y)'</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Create a radial gradient that is
the same size as the input (also see the <b>vignette</b>
filter):</p> </td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">geq=lum=255*gauss((X/W-0.5)*3)*gauss((Y/H-0.5)*3)/gauss(0)/gauss(0),format=gray</p>

<p style="margin-left:11%; margin-top: 1em"><b>gradfun</b>
<br>
Fix the banding artifacts that are sometimes introduced into
nearly flat regions by truncation to 8-bit color depth.
Interpolate the gradients that should go where the bands
are, and dither them.</p>

<p style="margin-left:11%; margin-top: 1em">It is designed
for playback only. Do not use it prior to lossy compression,
because compression tends to lose the dither and bring back
the bands.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters: <b><br>
strength</b></p>

<p style="margin-left:17%;">The maximum amount by which the
filter will change any one pixel. This is also the threshold
for detecting nearly flat regions. Acceptable values range
from .51 to 64; the default value is 1.2. Out-of-range
values will be clipped to the valid range.</p>

<p style="margin-left:11%;"><b>radius</b></p>

<p style="margin-left:17%;">The neighborhood to fit the
gradient to. A larger radius makes for smoother gradients,
but also prevents the filter from modifying the pixels near
detailed regions. Acceptable values are 8-32; the default
value is 16. Out-of-range values will be clipped to the
valid range.</p>

<p style="margin-left:11%; margin-top: 1em">Alternatively,
the options can be specified as a flat string:
<i>strength</i>[:<i>radius</i>]</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="81%">


<p>Apply the filter with a 3.5 strength and radius of
8:</p> </td>
<td width="2%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">gradfun=3.5:8</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Specify radius, omitting the
strength (which will fall-back to the default value):</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">gradfun=radius=8</p>


<p style="margin-left:11%; margin-top: 1em"><b>graphmonitor,
agraphmonitor</b> <br>
Show various filtergraph stats.</p>

<p style="margin-left:11%; margin-top: 1em">With this
filter one can debug complete filtergraph. Especially issues
with links filling with queued frames.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
size, s</b></p>

<p style="margin-left:17%;">Set video output size. Default
is <i>hd720</i>.</p>

<p style="margin-left:11%;"><b>opacity, o</b></p>

<p style="margin-left:17%;">Set video opacity. Default is
<i>0.9</i>. Allowed range is from <i>0</i> to <i>1</i>.</p>

<p style="margin-left:11%;"><b>mode, m</b></p>

<p style="margin-left:17%;">Set output mode, can be
<i>fulll</i> or <i>compact</i>. In <i>compact</i> mode only
filters with some queued frames have displayed stats.</p>

<p style="margin-left:11%;"><b>flags, f</b></p>

<p style="margin-left:17%;">Set flags which enable which
stats are shown in video.</p>

<p style="margin-left:17%; margin-top: 1em">Available
values for flags are: <b><br>
queue</b></p>

<p style="margin-left:23%;">Display number of queued frames
in each link.</p>

<p style="margin-left:17%;"><b>frame_count_in</b></p>

<p style="margin-left:23%;">Display number of frames taken
from filter.</p>

<p style="margin-left:17%;"><b>frame_count_out</b></p>

<p style="margin-left:23%;">Display number of frames given
out from filter.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>pts</b></p></td>
<td width="1%"></td>
<td width="54%">


<p>Display current filtered frame pts.</p></td>
<td width="23%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>time</b></p>

<p style="margin-left:23%;">Display current filtered frame
time.</p>

<p style="margin-left:17%;"><b>timebase</b></p>

<p style="margin-left:23%;">Display time base for filter
link.</p>

<p style="margin-left:17%;"><b>format</b></p>

<p style="margin-left:23%;">Display used format for filter
link.</p>

<p style="margin-left:17%;"><b>size</b></p>

<p style="margin-left:23%;">Display video size or number of
audio channels in case of audio used by filter link.</p>

<p style="margin-left:17%;"><b>rate</b></p>

<p style="margin-left:23%;">Display video frame rate or
sample rate in case of audio used by filter link.</p>

<p style="margin-left:11%;"><b>rate, r</b></p>

<p style="margin-left:17%;">Set upper limit for video rate
of output stream, Default value is <i>25</i>. This guarantee
that output video frame rate will not be higher than this
value.</p>


<p style="margin-left:11%; margin-top: 1em"><b>greyedge</b>
<br>
A color constancy variation filter which estimates scene
illumination via grey edge algorithm and corrects the scene
colors accordingly.</p>

<p style="margin-left:11%; margin-top: 1em">See:
&lt;<b>https://staff.science.uva.nl/th.gevers/pub/GeversTIP07.pdf</b>&gt;</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
difford</b></p>

<p style="margin-left:17%;">The order of differentiation to
be applied on the scene. Must be chosen in the range [0,2]
and default value is 1.</p>

<p style="margin-left:11%;"><b>minknorm</b></p>

<p style="margin-left:17%;">The Minkowski parameter to be
used for calculating the Minkowski distance. Must be chosen
in the range [0,20] and default value is 1. Set to 0 for
getting max value instead of calculating Minkowski
distance.</p>

<p style="margin-left:11%;"><b>sigma</b></p>

<p style="margin-left:17%;">The standard deviation of
Gaussian blur to be applied on the scene. Must be chosen in
the range [0,1024.0] and default value = 1. floor(
<i>sigma</i> * <b>break_off_sigma</b>(3) ) can&rsquo;t be
equal to 0 if <i>difford</i> is greater than 0.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="15%">


<p>Grey Edge:</p></td>
<td width="68%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">greyedge=difford=1:minknorm=5:sigma=2</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="14%">


<p style="margin-top: 1em">Max Edge:</p></td>
<td width="69%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">greyedge=difford=1:minknorm=0:sigma=2</p>


<p style="margin-left:11%; margin-top: 1em"><b>haldclut</b>
<br>
Apply a Hald <small>CLUT</small> to a video stream.</p>

<p style="margin-left:11%; margin-top: 1em">First input is
the video stream to process, and second one is the Hald
<small>CLUT.</small> The Hald <small>CLUT</small> input can
be a simple picture or a complete video stream.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
shortest</b></p>

<p style="margin-left:17%;">Force termination when the
shortest input terminates. Default is 0.</p>

<p style="margin-left:11%;"><b>repeatlast</b></p>

<p style="margin-left:17%;">Continue applying the last
<small>CLUT</small> after the end of the stream. A value of
0 disable the filter after the last frame of the
<small>CLUT</small> is reached. Default is 1.</p>


<p style="margin-left:11%; margin-top: 1em">&quot;haldclut&quot;
also has the same interpolation options as <b>lut3d</b>
(both filters share the same internals).</p>

<p style="margin-left:11%; margin-top: 1em">This filter
also supports the <b>framesync</b> options.</p>

<p style="margin-left:11%; margin-top: 1em">More
information about the Hald <small>CLUT</small> can be found
on Eskil Steenberg&rsquo;s website (Hald <small>CLUT</small>
author) at
&lt;<b>http://www.quelsolaar.com/technology/clut.html</b>&gt;.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Workflow
examples</i></p>

<p style="margin-left:11%; margin-top: 1em">Hald
<small>CLUT</small> video stream</p>

<p style="margin-left:11%; margin-top: 1em">Generate an
identity Hald <small>CLUT</small> stream altered with
various effects:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -f lavfi
-i B&lt;haldclutsrc&gt;=8 -vf
&quot;hue=H=2*PI*t:s=sin(2*PI*t)+1,
curves=cross_process&quot; -t 10 -c:v ffv1 clut.nut</p>

<p style="margin-left:11%; margin-top: 1em">Note: make sure
you use a lossless codec.</p>

<p style="margin-left:11%; margin-top: 1em">Then use it
with &quot;haldclut&quot; to apply it on some random
stream:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -f lavfi
-i mandelbrot -i clut.nut -filter_complex '[0][1] haldclut'
-t 20 mandelclut.mkv</p>

<p style="margin-left:11%; margin-top: 1em">The Hald
<small>CLUT</small> will be applied to the 10 first seconds
(duration of <i>clut.nut</i>), then the latest picture of
that <small>CLUT</small> stream will be applied to the
remaining frames of the &quot;mandelbrot&quot; stream.</p>

<p style="margin-left:11%; margin-top: 1em">Hald
<small>CLUT</small> with preview</p>

<p style="margin-left:11%; margin-top: 1em">A Hald
<small>CLUT</small> is supposed to be a squared image of
&quot;Level*Level*Level&quot; by
&quot;Level*Level*Level&quot; pixels. For a given Hald
<small>CLUT,</small> FFmpeg will select the biggest possible
square starting at the top left of the picture. The
remaining padding pixels (bottom or right) will be ignored.
This area can be used to add a preview of the Hald
<small>CLUT.</small></p>

<p style="margin-left:11%; margin-top: 1em">Typically, the
following generated Hald <small>CLUT</small> will be
supported by the &quot;haldclut&quot; filter:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -f lavfi
-i B&lt;haldclutsrc&gt;=8 -vf &quot; <br>
pad=iw+320 [padded_clut]; <br>
smptebars=s=320x256, split [a][b]; <br>
[padded_clut][a] overlay=W-320:h, curves=color_negative
[main]; <br>
[main][b] overlay=W-320&quot; -frames:v 1 clut.png</p>

<p style="margin-left:11%; margin-top: 1em">It contains the
original and a preview of the effect of the <small>CLUT:
SMPTE</small> color bars are displayed on the right-top, and
below the same color bars processed by the color
changes.</p>

<p style="margin-left:11%; margin-top: 1em">Then, the
effect of this Hald <small>CLUT</small> can be visualized
with:</p>

<p style="margin-left:11%; margin-top: 1em">ffplay
input.mkv -vf &quot;movie=clut.png, [in] haldclut&quot;</p>

<p style="margin-left:11%; margin-top: 1em"><b>hflip</b>
<br>
Flip the input video horizontally.</p>

<p style="margin-left:11%; margin-top: 1em">For example, to
horizontally flip the input video with <b>ffmpeg</b>:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i
in.avi -vf &quot;hflip&quot; out.avi</p>

<p style="margin-left:11%; margin-top: 1em"><b>histeq</b>
<br>
This filter applies a global color histogram equalization on
a per-frame basis.</p>

<p style="margin-left:11%; margin-top: 1em">It can be used
to correct video that has a compressed range of pixel
intensities. The filter redistributes the pixel intensities
to equalize their distribution across the intensity range.
It may be viewed as an &quot;automatically adjusting
contrast filter&quot;. This filter is useful only for
correcting degraded or poorly captured source video.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
strength</b></p>

<p style="margin-left:17%;">Determine the amount of
equalization to be applied. As the strength is reduced, the
distribution of pixel intensities more-and-more approaches
that of the input frame. The value must be a float number in
the range [0,1] and defaults to 0.200.</p>

<p style="margin-left:11%;"><b>intensity</b></p>

<p style="margin-left:17%;">Set the maximum intensity that
can generated and scale the output values appropriately. The
strength should be set as desired and then the intensity can
be limited if needed to avoid washing-out. The value must be
a float number in the range [0,1] and defaults to 0.210.</p>

<p style="margin-left:11%;"><b>antibanding</b></p>

<p style="margin-left:17%;">Set the antibanding level. If
enabled the filter will randomly vary the luminance of
output pixels by a small amount to avoid banding of the
histogram. Possible values are &quot;none&quot;,
&quot;weak&quot; or &quot;strong&quot;. It defaults to
&quot;none&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><b>histogram</b>
<br>
Compute and draw a color distribution histogram for the
input video.</p>

<p style="margin-left:11%; margin-top: 1em">The computed
histogram is a representation of the color component
distribution in an image.</p>

<p style="margin-left:11%; margin-top: 1em">Standard
histogram displays the color components distribution in an
image. Displays color graph for each color component. Shows
distribution of the Y, U, V, A or R, G, B components,
depending on input format, in the current frame. Below each
graph a color component scale meter is shown.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
level_height</b></p>

<p style="margin-left:17%;">Set height of level. Default
value is 200. Allowed range is [50, 2048].</p>

<p style="margin-left:11%;"><b>scale_height</b></p>

<p style="margin-left:17%;">Set height of color scale.
Default value is 12. Allowed range is [0, 40].</p>

<p style="margin-left:11%;"><b>display_mode</b></p>

<p style="margin-left:17%;">Set display mode. It accepts
the following values: <b><br>
stack</b></p>

<p style="margin-left:23%;">Per color component graphs are
placed below each other.</p>

<p style="margin-left:17%;"><b>parade</b></p>

<p style="margin-left:23%;">Per color component graphs are
placed side by side.</p>

<p style="margin-left:17%;"><b>overlay</b></p>

<p style="margin-left:23%;">Presents information identical
to that in the &quot;parade&quot;, except that the graphs
representing color components are superimposed directly over
one another.</p>

<p style="margin-left:17%; margin-top: 1em">Default is
&quot;stack&quot;.</p>

<p style="margin-left:11%;"><b>levels_mode</b></p>

<p style="margin-left:17%;">Set mode. Can be either
&quot;linear&quot;, or &quot;logarithmic&quot;. Default is
&quot;linear&quot;.</p>

<p style="margin-left:11%;"><b>components</b></p>

<p style="margin-left:17%;">Set what color components to
display. Default is 7.</p>

<p style="margin-left:11%;"><b>fgopacity</b></p>

<p style="margin-left:17%;">Set foreground opacity. Default
is 0.7.</p>

<p style="margin-left:11%;"><b>bgopacity</b></p>

<p style="margin-left:17%;">Set background opacity. Default
is 0.5.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="45%">


<p>Calculate and draw histogram:</p></td>
<td width="38%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffplay -i input
-vf histogram</p>

<p style="margin-left:11%; margin-top: 1em"><b>hqdn3d</b>
<br>
This is a high precision/quality 3d denoise filter. It aims
to reduce image noise, producing smooth images and making
still images really still. It should enhance
compressibility.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following optional parameters: <b><br>
luma_spatial</b></p>

<p style="margin-left:17%;">A non-negative floating point
number which specifies spatial luma strength. It defaults to
4.0.</p>

<p style="margin-left:11%;"><b>chroma_spatial</b></p>

<p style="margin-left:17%;">A non-negative floating point
number which specifies spatial chroma strength. It defaults
to 3.0*<i>luma_spatial</i>/4.0.</p>

<p style="margin-left:11%;"><b>luma_tmp</b></p>

<p style="margin-left:17%;">A floating point number which
specifies luma temporal strength. It defaults to
6.0*<i>luma_spatial</i>/4.0.</p>

<p style="margin-left:11%;"><b>chroma_tmp</b></p>

<p style="margin-left:17%;">A floating point number which
specifies chroma temporal strength. It defaults to
<i>luma_tmp</i>*<i>chroma_spatial</i>/<i>luma_spatial</i>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>hwdownload</b>
<br>
Download hardware frames to system memory.</p>

<p style="margin-left:11%; margin-top: 1em">The input must
be in hardware frames, and the output a non-hardware format.
Not all formats will be supported on the output - it may be
necessary to insert an additional <b>format</b> filter
immediately following in the graph to get the output in a
supported format.</p>

<p style="margin-left:11%; margin-top: 1em"><b>hwmap</b>
<br>
Map hardware frames to system memory or to another
device.</p>

<p style="margin-left:11%; margin-top: 1em">This filter has
several different modes of operation; which one is used
depends on the input and output formats:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="63%">


<p>Hardware frame input, normal frame output</p></td>
<td width="20%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Map the input
frames to system memory and pass them to the output. If the
original hardware frame is later required (for example,
after overlaying something else on part of it), the
<b>hwmap</b> filter can be used again in the next mode to
retrieve it.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="63%">


<p style="margin-top: 1em">Normal frame input, hardware
frame output</p></td>
<td width="20%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">If the input is
actually a software-mapped hardware frame, then unmap it -
that is, return the original hardware frame.</p>

<p style="margin-left:17%; margin-top: 1em">Otherwise, a
device must be provided. Create new hardware surfaces on
that device for the output, then map them back to the
software format at the input and give those frames to the
preceding filter. This will then act like the
<b>hwupload</b> filter, but may be able to avoid an
additional copy when the input is already in a compatible
format.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="48%">


<p style="margin-top: 1em">Hardware frame input and
output</p> </td>
<td width="35%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">A device must
be supplied for the output, either directly or with the
<b>derive_device</b> option. The input and output devices
must be of different types and compatible - the exact
meaning of this is system-dependent, but typically it means
that they must refer to the same underlying hardware context
(for example, refer to the same graphics card).</p>

<p style="margin-left:17%; margin-top: 1em">If the input
frames were originally created on the output device, then
unmap to retrieve the original frames.</p>

<p style="margin-left:17%; margin-top: 1em">Otherwise, map
the frames to the output device - create new hardware frames
on the output corresponding to the frames on the input.</p>

<p style="margin-left:11%; margin-top: 1em">The following
additional parameters are accepted: <b><br>
mode</b></p>

<p style="margin-left:17%;">Set the frame mapping mode.
Some combination of: <i><br>
read</i></p>

<p style="margin-left:23%;">The mapped frame should be
readable.</p>

<p style="margin-left:17%;"><i>write</i></p>

<p style="margin-left:23%;">The mapped frame should be
writeable.</p>

<p style="margin-left:17%;"><i>overwrite</i></p>

<p style="margin-left:23%;">The mapping will always
overwrite the entire frame.</p>

<p style="margin-left:23%; margin-top: 1em">This may
improve performance in some cases, as the original contents
of the frame need not be loaded.</p>

<p style="margin-left:17%;"><i>direct</i></p>

<p style="margin-left:23%;">The mapping must not involve
any copying.</p>

<p style="margin-left:23%; margin-top: 1em">Indirect
mappings to copies of frames are created in some cases where
either direct mapping is not possible or it would have
unexpected properties. Setting this flag ensures that the
mapping is direct and will fail if that is not possible.</p>

<p style="margin-left:17%; margin-top: 1em">Defaults to
<i>read+write</i> if not specified.</p>

<p style="margin-left:11%;"><b>derive_device</b>
<i>type</i></p>

<p style="margin-left:17%;">Rather than using the device
supplied at initialisation, instead derive a new device of
type <i>type</i> from the device the input frames exist
on.</p>

<p style="margin-left:11%;"><b>reverse</b></p>

<p style="margin-left:17%;">In a hardware to hardware
mapping, map in reverse - create frames in the sink and map
them back to the source. This may be necessary in some cases
where a mapping in one direction is required but only the
opposite direction is supported by the devices being
used.</p>

<p style="margin-left:17%; margin-top: 1em">This option is
dangerous - it may break the preceding filter in undefined
ways if there are any additional constraints on that
filter&rsquo;s output. Do not use it without fully
understanding the implications of its use.</p>


<p style="margin-left:11%; margin-top: 1em"><b>hwupload</b>
<br>
Upload system memory frames to hardware surfaces.</p>

<p style="margin-left:11%; margin-top: 1em">The device to
upload to must be supplied when the filter is initialised.
If using ffmpeg, select the appropriate device with the
<b>-filter_hw_device</b> option.</p>


<p style="margin-left:11%; margin-top: 1em"><b>hwupload_cuda</b>
<br>
Upload system memory frames to a <small>CUDA</small>
device.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following optional parameters: <b><br>
device</b></p>

<p style="margin-left:17%;">The number of the
<small>CUDA</small> device to use</p>

<p style="margin-left:11%; margin-top: 1em"><b>hqx</b> <br>
Apply a high-quality magnification filter designed for pixel
art. This filter was originally created by Maxim Stepin.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following option:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>n</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set the scaling dimension: 2 for &quot;hq2x&quot;, 3 for
&quot;hq3x&quot; and 4 for &quot;hq4x&quot;. Default is
3.</p> </td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>hstack</b>
<br>
Stack input videos horizontally.</p>

<p style="margin-left:11%; margin-top: 1em">All streams
must be of same pixel format and of same height.</p>

<p style="margin-left:11%; margin-top: 1em">Note that this
filter is faster than using <b>overlay</b> and <b>pad</b>
filter to create same output.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accept the following option: <b><br>
inputs</b></p>

<p style="margin-left:17%;">Set number of input streams.
Default is 2.</p>

<p style="margin-left:11%;"><b>shortest</b></p>

<p style="margin-left:17%;">If set to 1, force the output
to terminate when the shortest input terminates. Default
value is 0.</p>

<p style="margin-left:11%; margin-top: 1em"><b>hue</b> <br>
Modify the hue and/or the saturation of the input.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>h</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Specify the hue angle as a number of degrees. It accepts
an expression, and defaults to &quot;0&quot;.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>s</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Specify the saturation in the [-10,10] range. It accepts
an expression and defaults to &quot;1&quot;.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>H</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Specify the hue angle as a number of radians. It accepts
an expression, and defaults to &quot;0&quot;.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>b</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Specify the brightness in the [-10,10] range. It accepts
an expression and defaults to &quot;0&quot;.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>h</b> and
<b>H</b> are mutually exclusive, and can&rsquo;t be
specified at the same time.</p>

<p style="margin-left:11%; margin-top: 1em">The <b>b</b>,
<b>h</b>, <b>H</b> and <b>s</b> option values are
expressions containing the following constants:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p style="margin-top: 1em"><b>n</b></p></td>
<td width="2%"></td>
<td width="83%">


<p style="margin-top: 1em">frame count of the input frame
starting from 0</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>pts</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>presentation timestamp of the input frame expressed in
time base units</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>r</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>frame rate of the input video, <small>NAN</small> if the
input frame rate is unknown</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>t</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>timestamp expressed in seconds, <small>NAN</small> if
the input timestamp is unknown</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>tb</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>time base of the input video</p></td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="80%">


<p style="margin-top: 1em">Set the hue to 90 degrees and
the saturation to 1.0:</p></td>
<td width="3%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">hue=h=90:s=1</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="72%">


<p style="margin-top: 1em">Same command but expressing the
hue in radians:</p></td>
<td width="11%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">hue=H=PI/2:s=1</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Rotate hue and make the
saturation swing between 0 and 2 over a period of 1
second:</p> </td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">hue=&quot;H=2*PI*t:
s=sin(2*PI*t)+1&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Apply a 3 seconds saturation
fade-in effect starting at 0:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">hue=&quot;s=min(t/3\,1)&quot;</p>

<p style="margin-left:17%; margin-top: 1em">The general
fade-in expression can be written as:</p>


<p style="margin-left:17%; margin-top: 1em">hue=&quot;s=min(0\,
max((t-START)/DURATION\, 1))&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Apply a 3 seconds saturation
fade-out effect starting at 5 seconds:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">hue=&quot;s=max(0\,
min(1\, (8-t)/3))&quot;</p>

<p style="margin-left:17%; margin-top: 1em">The general
fade-out expression can be written as:</p>


<p style="margin-left:17%; margin-top: 1em">hue=&quot;s=max(0\,
min(1\, (START+DURATION-t)/DURATION))&quot;</p>


<p style="margin-left:11%; margin-top: 1em"><i>Commands</i></p>

<p style="margin-left:11%; margin-top: 1em">This filter
supports the following commands:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em"><b>b</b></p></td>
<td width="5%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>s</b></p></td>
<td width="5%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>h</b></p></td>
<td width="5%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>H</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Modify the hue and/or the saturation and/or brightness
of the input video. The command accepts the same syntax of
the corresponding option.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">If the
specified expression is not valid, it is kept at its current
value.</p>


<p style="margin-left:11%; margin-top: 1em"><b>hysteresis</b>
<br>
Grow first stream into second stream by connecting
components. This makes it possible to build more robust edge
masks.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
accepts the following options: <b><br>
planes</b></p>

<p style="margin-left:17%;">Set which planes will be
processed as bitmap, unprocessed planes will be copied from
first stream. By default value 0xf, all planes will be
processed.</p>

<p style="margin-left:11%;"><b>threshold</b></p>

<p style="margin-left:17%;">Set threshold which is used in
filtering. If pixel component value is higher than this
value filter algorithm for connecting components is
activated. By default value is 0.</p>

<p style="margin-left:11%; margin-top: 1em"><b>idet</b>
<br>
Detect video interlacing type.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
tries to detect if the input frames are interlaced,
progressive, top or bottom field first. It will also try to
detect fields that are repeated between adjacent frames (a
sign of telecine).</p>

<p style="margin-left:11%; margin-top: 1em">Single frame
detection considers only immediately adjacent frames when
classifying each frame. Multiple frame detection
incorporates the classification history of previous
frames.</p>

<p style="margin-left:11%; margin-top: 1em">The filter will
log these metadata values: <b><br>
single.current_frame</b></p>

<p style="margin-left:17%;">Detected type of current frame
using single-frame detection. One of:
&rsquo;&rsquo;tff&rsquo;&rsquo; (top field first),
&rsquo;&rsquo;bff&rsquo;&rsquo; (bottom field first),
&rsquo;&rsquo;progressive&rsquo;&rsquo;, or
&rsquo;&rsquo;undetermined&rsquo;&rsquo;</p>

<p style="margin-left:11%;"><b>single.tff</b></p>

<p style="margin-left:17%;">Cumulative number of frames
detected as top field first using single-frame
detection.</p>

<p style="margin-left:11%;"><b>multiple.tff</b></p>

<p style="margin-left:17%;">Cumulative number of frames
detected as top field first using multiple-frame
detection.</p>

<p style="margin-left:11%;"><b>single.bff</b></p>

<p style="margin-left:17%;">Cumulative number of frames
detected as bottom field first using single-frame
detection.</p>


<p style="margin-left:11%;"><b>multiple.current_frame</b></p>

<p style="margin-left:17%;">Detected type of current frame
using multiple-frame detection. One of:
&rsquo;&rsquo;tff&rsquo;&rsquo; (top field first),
&rsquo;&rsquo;bff&rsquo;&rsquo; (bottom field first),
&rsquo;&rsquo;progressive&rsquo;&rsquo;, or
&rsquo;&rsquo;undetermined&rsquo;&rsquo;</p>

<p style="margin-left:11%;"><b>multiple.bff</b></p>

<p style="margin-left:17%;">Cumulative number of frames
detected as bottom field first using multiple-frame
detection.</p>

<p style="margin-left:11%;"><b>single.progressive</b></p>

<p style="margin-left:17%;">Cumulative number of frames
detected as progressive using single-frame detection.</p>


<p style="margin-left:11%;"><b>multiple.progressive</b></p>

<p style="margin-left:17%;">Cumulative number of frames
detected as progressive using multiple-frame detection.</p>

<p style="margin-left:11%;"><b>single.undetermined</b></p>

<p style="margin-left:17%;">Cumulative number of frames
that could not be classified using single-frame
detection.</p>


<p style="margin-left:11%;"><b>multiple.undetermined</b></p>

<p style="margin-left:17%;">Cumulative number of frames
that could not be classified using multiple-frame
detection.</p>


<p style="margin-left:11%;"><b>repeated.current_frame</b></p>

<p style="margin-left:17%;">Which field in the current
frame is repeated from the last. One of
&rsquo;&rsquo;neither&rsquo;&rsquo;,
&rsquo;&rsquo;top&rsquo;&rsquo;, or
&rsquo;&rsquo;bottom&rsquo;&rsquo;.</p>

<p style="margin-left:11%;"><b>repeated.neither</b></p>

<p style="margin-left:17%;">Cumulative number of frames
with no repeated field.</p>

<p style="margin-left:11%;"><b>repeated.top</b></p>

<p style="margin-left:17%;">Cumulative number of frames
with the top field repeated from the previous frame&rsquo;s
top field.</p>

<p style="margin-left:11%;"><b>repeated.bottom</b></p>

<p style="margin-left:17%;">Cumulative number of frames
with the bottom field repeated from the previous
frame&rsquo;s bottom field.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
intl_thres</b></p>

<p style="margin-left:17%;">Set interlacing threshold.</p>

<p style="margin-left:11%;"><b>prog_thres</b></p>

<p style="margin-left:17%;">Set progressive threshold.</p>

<p style="margin-left:11%;"><b>rep_thres</b></p>

<p style="margin-left:17%;">Threshold for repeated field
detection.</p>

<p style="margin-left:11%;"><b>half_life</b></p>

<p style="margin-left:17%;">Number of frames after which a
given frame&rsquo;s contribution to the statistics is halved
(i.e., it contributes only 0.5 to its classification). The
default of 0 means that all frames seen are given full
weight of 1.0 forever.</p>


<p style="margin-left:11%;"><b>analyze_interlaced_flag</b></p>

<p style="margin-left:17%;">When this is not 0 then idet
will use the specified number of frames to determine if the
interlaced flag is accurate, it will not count undetermined
frames. If the flag is found to be accurate it will be used
without any further computations, if it is found to be
inaccurate it will be cleared without any further
computations. This allows inserting the idet filter as a low
computational method to clean up the interlaced flag</p>

<p style="margin-left:11%; margin-top: 1em"><b>il</b> <br>
Deinterleave or interleave fields.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
allows one to process interlaced images fields without
deinterlacing them. Deinterleaving splits the input frame
into 2 fields (so called half pictures). Odd lines are moved
to the top half of the output image, even lines to the
bottom half. You can process (filter) them independently and
then re-interleave them.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
luma_mode, l <br>
chroma_mode, c <br>
alpha_mode, a</b></p>

<p style="margin-left:17%;">Available values for
<i>luma_mode</i>, <i>chroma_mode</i> and <i>alpha_mode</i>
are: <b><br>
none</b></p>

<p style="margin-left:23%;">Do nothing.</p>

<p style="margin-left:17%;"><b>deinterleave, d</b></p>

<p style="margin-left:23%;">Deinterleave fields, placing
one above the other.</p>

<p style="margin-left:17%;"><b>interleave, i</b></p>

<p style="margin-left:23%;">Interleave fields. Reverse the
effect of deinterleaving.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is &quot;none&quot;.</p>

<p style="margin-left:11%;"><b>luma_swap, ls <br>
chroma_swap, cs <br>
alpha_swap, as</b></p>

<p style="margin-left:17%;">Swap luma/chroma/alpha fields.
Exchange even &amp; odd lines. Default value is 0.</p>

<p style="margin-left:11%; margin-top: 1em"><b>inflate</b>
<br>
Apply inflate effect to the video.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
replaces the pixel by the local(3x3) average by taking into
account only values higher than the pixel.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following options: <b><br>
threshold0 <br>
threshold1 <br>
threshold2 <br>
threshold3</b></p>

<p style="margin-left:17%;">Limit the maximum change for
each plane, default is 65535. If 0, plane will remain
unchanged.</p>


<p style="margin-left:11%; margin-top: 1em"><b>interlace</b>
<br>
Simple interlacing filter from progressive contents. This
interleaves upper (or lower) lines from odd frames with
lower (or upper) lines from even frames, halving the frame
rate and preserving image height.</p>

<p style="margin-left:11%; margin-top: 1em">Original
Original New Frame <br>
Frame 'j' Frame 'j+1' (tff) <br>
========== =========== ================== <br>
Line 0 --------------------&gt; Frame 'j' Line 0 <br>
Line 1 Line 1 ----&gt; Frame 'j+1' Line 1 <br>
Line 2 ---------------------&gt; Frame 'j' Line 2 <br>
Line 3 Line 3 ----&gt; Frame 'j+1' Line 3 <br>
... ... ... <br>
New Frame + 1 will be generated by Frame 'j+2' and Frame
'j+3' and so on</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following optional parameters: <b><br>
scan</b></p>

<p style="margin-left:17%;">This determines whether the
interlaced frame is taken from the even (tff - default) or
odd (bff) lines of the progressive frame.</p>

<p style="margin-left:11%;"><b>lowpass</b></p>

<p style="margin-left:17%;">Vertical lowpass filter to
avoid twitter interlacing and reduce moire patterns. <b><br>
0, off</b></p>

<p style="margin-left:23%;">Disable vertical lowpass
filter</p>

<p style="margin-left:17%;"><b>1, linear</b></p>

<p style="margin-left:23%;">Enable linear filter
(default)</p>

<p style="margin-left:17%;"><b>2, complex</b></p>

<p style="margin-left:23%;">Enable complex filter. This
will slightly less reduce twitter and moire but better
retain detail and subjective sharpness impression.</p>


<p style="margin-left:11%; margin-top: 1em"><b>kerndeint</b>
<br>
Deinterlace input video by applying Donald Graft&rsquo;s
adaptive kernel deinterling. Work on interlaced parts of a
video to produce progressive frames.</p>

<p style="margin-left:11%; margin-top: 1em">The description
of the accepted parameters follows. <b><br>
thresh</b></p>

<p style="margin-left:17%;">Set the threshold which affects
the filter&rsquo;s tolerance when determining if a pixel
line must be processed. It must be an integer in the range
[0,255] and defaults to 10. A value of 0 will result in
applying the process on every pixels.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>map</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Paint pixels exceeding the threshold value to white if
set to 1. Default is 0.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>order</b></p>

<p style="margin-left:17%;">Set the fields order. Swap
fields if set to 1, leave fields alone if 0. Default is
0.</p>

<p style="margin-left:11%;"><b>sharp</b></p>

<p style="margin-left:17%;">Enable additional sharpening if
set to 1. Default is 0.</p>

<p style="margin-left:11%;"><b>twoway</b></p>

<p style="margin-left:17%;">Enable twoway sharpening if set
to 1. Default is 0.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="32%">


<p>Apply default values:</p></td>
<td width="51%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">kerndeint=thresh=10:map=0:order=0:sharp=0:twoway=0</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="45%">


<p style="margin-top: 1em">Enable additional
sharpening:</p> </td>
<td width="38%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">kerndeint=sharp=1</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="49%">


<p style="margin-top: 1em">Paint processed pixels in
white:</p> </td>
<td width="34%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">kerndeint=map=1</p>

<p style="margin-left:11%; margin-top: 1em"><b>lagfun</b>
<br>
Slowly update darker pixels.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
makes short flashes of light appear longer. This filter
accepts the following options: <b><br>
decay</b></p>

<p style="margin-left:17%;">Set factor for decaying.
Default is .95. Allowed range is from 0 to 1.</p>

<p style="margin-left:11%;"><b>planes</b></p>

<p style="margin-left:17%;">Set which planes to filter.
Default is all. Allowed range is from 0 to 15.</p>


<p style="margin-left:11%; margin-top: 1em"><b>lenscorrection</b>
<br>
Correct radial lens distortion</p>

<p style="margin-left:11%; margin-top: 1em">This filter can
be used to correct for radial distortion as can result from
the use of wide angle lenses, and thereby re-rectify the
image. To find the right parameters one can use tools
available for example as part of opencv or simply
trial-and-error. To use opencv use the calibration sample
(under samples/cpp) from the opencv sources and extract the
k1 and k2 coefficients from the resulting matrix.</p>

<p style="margin-left:11%; margin-top: 1em">Note that
effectively the same filter is available in the open-source
tools Krita and Digikam from the <small>KDE</small>
project.</p>

<p style="margin-left:11%; margin-top: 1em">In contrast to
the <b>vignette</b> filter, which can also be used to
compensate lens errors, this filter corrects the distortion
of the image, whereas <b>vignette</b> corrects the
brightness distribution, so you may want to use both filters
together in certain cases, though you will have to take care
of ordering, i.e. whether vignetting should be applied
before or after lens correction.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Options</i></p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>cx</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Relative x-coordinate of the focal point of the image,
and thereby the center of the distortion. This value has a
range [0,1] and is expressed as fractions of the image
width. Default is 0.5.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>cy</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Relative y-coordinate of the focal point of the image,
and thereby the center of the distortion. This value has a
range [0,1] and is expressed as fractions of the image
height. Default is 0.5.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>k1</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Coefficient of the quadratic correction term. This value
has a range [-1,1]. 0 means no correction. Default is 0.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>k2</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Coefficient of the double quadratic correction term.
This value has a range [-1,1]. 0 means no correction.
Default is 0.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">The formula
that generates the correction is:</p>

<p style="margin-left:11%; margin-top: 1em"><i>r_src</i> =
<i>r_tgt</i> * (1 + <i>k1</i> * (<i>r_tgt</i> /
<i>r_0</i>)^2 + <i>k2</i> * (<i>r_tgt</i> /
<i>r_0</i>)^4)</p>

<p style="margin-left:11%; margin-top: 1em">where
<i>r_0</i> is halve of the image diagonal and <i>r_src</i>
and <i>r_tgt</i> are the distances from the focal point in
the source and target images, respectively.</p>

<p style="margin-left:11%; margin-top: 1em"><b>lensfun</b>
<br>
Apply lens correction via the lensfun library
(&lt;<b>http://lensfun.sourceforge.net/</b>&gt;).</p>

<p style="margin-left:11%; margin-top: 1em">The
&quot;lensfun&quot; filter requires the camera make, camera
model, and lens model to apply the lens correction. The
filter will load the lensfun database and query it to find
the corresponding camera and lens entries in the database.
As long as these entries can be found with the given
options, the filter can perform corrections on frames. Note
that incomplete strings will result in the filter choosing
the best match with the given options, and the filter will
output the chosen camera and lens models (logged with level
&quot;info&quot;). You must provide the make, camera model,
and lens model as they are required.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
make</b></p>

<p style="margin-left:17%;">The make of the camera (for
example, &quot;Canon&quot;). This option is required.</p>

<p style="margin-left:11%;"><b>model</b></p>

<p style="margin-left:17%;">The model of the camera (for
example, &quot;Canon <small>EOS 100D&quot;</small> ). This
option is required.</p>

<p style="margin-left:11%;"><b>lens_model</b></p>

<p style="margin-left:17%;">The model of the lens (for
example, &quot;Canon EF-S 18-55mm f/3.5-5.6 <small>IS
STM&quot;</small> ). This option is required.</p>

<p style="margin-left:11%;"><b>mode</b></p>

<p style="margin-left:17%;">The type of correction to
apply. The following values are valid options: <b><br>
vignetting</b></p>

<p style="margin-left:23%;">Enables fixing lens
vignetting.</p>

<p style="margin-left:17%;"><b>geometry</b></p>

<p style="margin-left:23%;">Enables fixing lens geometry.
This is the default.</p>

<p style="margin-left:17%;"><b>subpixel</b></p>

<p style="margin-left:23%;">Enables fixing chromatic
aberrations.</p>

<p style="margin-left:17%;"><b>vig_geo</b></p>

<p style="margin-left:23%;">Enables fixing lens vignetting
and lens geometry.</p>

<p style="margin-left:17%;"><b>vig_subpixel</b></p>

<p style="margin-left:23%;">Enables fixing lens vignetting
and chromatic aberrations.</p>

<p style="margin-left:17%;"><b>distortion</b></p>

<p style="margin-left:23%;">Enables fixing both lens
geometry and chromatic aberrations.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>all</b></p></td>
<td width="1%"></td>
<td width="51%">


<p>Enables all possible corrections.</p></td>
<td width="26%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>focal_length</b></p>

<p style="margin-left:17%;">The focal length of the
image/video (zoom; expected constant for video). For
example, a 18--55mm lens has focal length range of [18--55],
so a value in that range should be chosen when using that
lens. Default 18.</p>

<p style="margin-left:11%;"><b>aperture</b></p>

<p style="margin-left:17%;">The aperture of the image/video
(expected constant for video). Note that aperture is only
used for vignetting correction. Default 3.5.</p>

<p style="margin-left:11%;"><b>focus_distance</b></p>

<p style="margin-left:17%;">The focus distance of the
image/video (expected constant for video). Note that focus
distance is only used for vignetting and only slightly
affects the vignetting correction process. If unknown, leave
it at the default value (which is 1000).</p>

<p style="margin-left:11%;"><b>scale</b></p>

<p style="margin-left:17%;">The scale factor which is
applied after transformation. After correction the video is
no longer necessarily rectangular. This parameter controls
how much of the resulting image is visible. The value 0
means that a value will be chosen automatically such that
there is little or no unmapped area in the output image. 1.0
means that no additional scaling is done. Lower values may
result in more of the corrected image being visible, while
higher values may avoid unmapped areas in the output.</p>

<p style="margin-left:11%;"><b>target_geometry</b></p>

<p style="margin-left:17%;">The target geometry of the
output image/video. The following values are valid options:
<b><br>
rectilinear (default) <br>
fisheye <br>
panoramic <br>
equirectangular <br>
fisheye_orthographic <br>
fisheye_stereographic <br>
fisheye_equisolid <br>
fisheye_thoby</b></p>

<p style="margin-left:11%;"><b>reverse</b></p>

<p style="margin-left:17%;">Apply the reverse of image
correction (instead of correcting distortion, apply it).</p>

<p style="margin-left:11%;"><b>interpolation</b></p>

<p style="margin-left:17%;">The type of interpolation used
when correcting distortion. The following values are valid
options: <b><br>
nearest <br>
linear (default) <br>
lanczos</b></p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Apply lens correction with make &quot;Canon&quot;,
camera model &quot;Canon <small>EOS 100D&quot;,</small> and
lens model &quot;Canon EF-S 18-55mm f/3.5-5.6 <small>IS
STM&quot;</small> with focal length of &quot;18&quot; and
aperture of &quot;8.0&quot;.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
input.mov -vf lensfun=make=Canon:model=&quot;Canon EOS
100D&quot;:lens_model=&quot;Canon EF-S 18-55mm f/3.5-5.6 IS
STM&quot;:focal_length=18:aperture=8 -c:v h264 -b:v 8000k
output.mov</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Apply the same as before, but
only for the first 5 seconds of video.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
input.mov -vf lensfun=make=Canon:model=&quot;Canon EOS
100D&quot;:lens_model=&quot;Canon EF-S 18-55mm f/3.5-5.6 IS
STM&quot;:focal_length=18:aperture=8:enable='lte(t\,5)' -c:v
h264 -b:v 8000k output.mov</p>

<p style="margin-left:11%; margin-top: 1em"><b>libvmaf</b>
<br>
Obtain the <small>VMAF</small> (Video Multi-Method
Assessment Fusion) score between two input videos.</p>

<p style="margin-left:11%; margin-top: 1em">The obtained
<small>VMAF</small> score is printed through the logging
system.</p>

<p style="margin-left:11%; margin-top: 1em">It requires
Netflix&rsquo;s vmaf library (libvmaf) as a pre-requisite.
After installing the library it can be enabled using:
&quot;./configure --enable-libvmaf --enable-version3&quot;.
If no model path is specified it uses the default model:
&quot;vmaf_v0.6.1.pkl&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">The filter has
following options: <b><br>
model_path</b></p>

<p style="margin-left:17%;">Set the model path which is to
be used for <small>SVM.</small> Default value:
&quot;vmaf_v0.6.1.pkl&quot;</p>

<p style="margin-left:11%;"><b>log_path</b></p>

<p style="margin-left:17%;">Set the file path to be used to
store logs.</p>

<p style="margin-left:11%;"><b>log_fmt</b></p>

<p style="margin-left:17%;">Set the format of the log file
(xml or json).</p>

<p style="margin-left:11%;"><b>enable_transform</b></p>

<p style="margin-left:17%;">This option can enable/disable
the &quot;score_transform&quot; applied to the final
predicted <small>VMAF</small> score, if you have specified
score_transform option in the input parameter file passed to
&quot;run_vmaf_training.py&quot; Default value:
&quot;false&quot;</p>

<p style="margin-left:11%;"><b>phone_model</b></p>

<p style="margin-left:17%;">Invokes the phone model which
will generate <small>VMAF</small> scores higher than in the
regular model, which is more suitable for laptop,
<small>TV,</small> etc. viewing conditions.</p>

<p style="margin-left:11%;"><b>psnr</b></p>

<p style="margin-left:17%;">Enables computing psnr along
with vmaf.</p>

<p style="margin-left:11%;"><b>ssim</b></p>

<p style="margin-left:17%;">Enables computing ssim along
with vmaf.</p>

<p style="margin-left:11%;"><b>ms_ssim</b></p>

<p style="margin-left:17%;">Enables computing ms_ssim along
with vmaf.</p>

<p style="margin-left:11%;"><b>pool</b></p>

<p style="margin-left:17%;">Set the pool method (mean, min
or harmonic mean) to be used for computing vmaf.</p>

<p style="margin-left:11%;"><b>n_threads</b></p>

<p style="margin-left:17%;">Set number of threads to be
used when computing vmaf.</p>

<p style="margin-left:11%;"><b>n_subsample</b></p>

<p style="margin-left:17%;">Set interval for frame
subsampling used when computing vmaf.</p>


<p style="margin-left:11%;"><b>enable_conf_interval</b></p>

<p style="margin-left:17%;">Enables confidence
interval.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
also supports the <b>framesync</b> options.</p>

<p style="margin-left:11%; margin-top: 1em">On the below
examples the input file <i>main.mpg</i> being processed is
compared with the reference file <i>ref.mpg</i>.</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i
main.mpg -i ref.mpg -lavfi libvmaf -f null -</p>

<p style="margin-left:11%; margin-top: 1em">Example with
options:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i
main.mpg -i ref.mpg -lavfi
libvmaf=&quot;psnr=1:log_fmt=json&quot; -f null -</p>

<p style="margin-left:11%; margin-top: 1em"><b>limiter</b>
<br>
Limits the pixel components values to the specified range
[min, max].</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>min</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Lower bound. Defaults to the lowest allowed value for
the input.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>max</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Upper bound. Defaults to the highest allowed value for
the input.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>planes</b></p>

<p style="margin-left:17%;">Specify which planes will be
processed. Defaults to all available.</p>

<p style="margin-left:11%; margin-top: 1em"><b>loop</b>
<br>
Loop video frames.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
loop</b></p>

<p style="margin-left:17%;">Set the number of loops.
Setting this value to -1 will result in infinite loops.
Default is 0.</p>

<p style="margin-left:11%;"><b>size</b></p>

<p style="margin-left:17%;">Set maximal size in number of
frames. Default is 0.</p>

<p style="margin-left:11%;"><b>start</b></p>

<p style="margin-left:17%;">Set first frame of loop.
Default is 0.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="54%">


<p>Loop single first frame infinitely:</p></td>
<td width="29%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">loop=loop=-1:size=1:start=0</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="51%">


<p style="margin-top: 1em">Loop single first frame 10
times:</p> </td>
<td width="32%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">loop=loop=10:size=1:start=0</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="45%">


<p style="margin-top: 1em">Loop 10 first frames 5
times:</p> </td>
<td width="38%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">loop=loop=5:size=10:start=0</p>

<p style="margin-left:11%; margin-top: 1em"><b>lut1d</b>
<br>
Apply a 1D <small>LUT</small> to an input video.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
file</b></p>

<p style="margin-left:17%;">Set the 1D <small>LUT</small>
file name.</p>

<p style="margin-left:17%; margin-top: 1em">Currently
supported formats: <b><br>
cube</b></p>

<p style="margin-left:23%;">Iridas</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>csp</b></p></td>
<td width="1%"></td>
<td width="14%">


<p>cineSpace</p></td>
<td width="63%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>interp</b></p>

<p style="margin-left:17%;">Select interpolation mode.</p>

<p style="margin-left:17%; margin-top: 1em">Available
values are: <b><br>
nearest</b></p>

<p style="margin-left:23%;">Use values from the nearest
defined point.</p>

<p style="margin-left:17%;"><b>linear</b></p>

<p style="margin-left:23%;">Interpolate values using the
linear interpolation.</p>

<p style="margin-left:17%;"><b>cosine</b></p>

<p style="margin-left:23%;">Interpolate values using the
cosine interpolation.</p>

<p style="margin-left:17%;"><b>cubic</b></p>

<p style="margin-left:23%;">Interpolate values using the
cubic interpolation.</p>

<p style="margin-left:17%;"><b>spline</b></p>

<p style="margin-left:23%;">Interpolate values using the
spline interpolation.</p>

<p style="margin-left:11%; margin-top: 1em"><b>lut3d</b>
<br>
Apply a 3D <small>LUT</small> to an input video.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
file</b></p>

<p style="margin-left:17%;">Set the 3D <small>LUT</small>
file name.</p>

<p style="margin-left:17%; margin-top: 1em">Currently
supported formats:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>3dl</b></p></td>
<td width="1%"></td>
<td width="19%">


<p>AfterEffects</p></td>
<td width="58%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>cube</b></p>

<p style="margin-left:23%;">Iridas</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>dat</b></p></td>
<td width="1%"></td>
<td width="14%">


<p>DaVinci</p></td>
<td width="63%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>m3d</b></p></td>
<td width="1%"></td>
<td width="14%">


<p>Pandora</p></td>
<td width="63%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>csp</b></p></td>
<td width="1%"></td>
<td width="14%">


<p>cineSpace</p></td>
<td width="63%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>interp</b></p>

<p style="margin-left:17%;">Select interpolation mode.</p>

<p style="margin-left:17%; margin-top: 1em">Available
values are: <b><br>
nearest</b></p>

<p style="margin-left:23%;">Use values from the nearest
defined point.</p>

<p style="margin-left:17%;"><b>trilinear</b></p>

<p style="margin-left:23%;">Interpolate values using the 8
points defining a cube.</p>

<p style="margin-left:17%;"><b>tetrahedral</b></p>

<p style="margin-left:23%;">Interpolate values using a
tetrahedron.</p>

<p style="margin-left:11%; margin-top: 1em"><b>lumakey</b>
<br>
Turn certain luma values into transparency.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
threshold</b></p>

<p style="margin-left:17%;">Set the luma which will be used
as base for transparency. Default value is 0.</p>

<p style="margin-left:11%;"><b>tolerance</b></p>

<p style="margin-left:17%;">Set the range of luma values to
be keyed out. Default value is 0.</p>

<p style="margin-left:11%;"><b>softness</b></p>

<p style="margin-left:17%;">Set the range of softness.
Default value is 0. Use this to control gradual transition
from zero to full transparency.</p>

<p style="margin-left:11%; margin-top: 1em"><b>lut, lutrgb,
lutyuv</b> <br>
Compute a look-up table for binding each pixel component
input value to an output value, and apply it to the input
video.</p>

<p style="margin-left:11%; margin-top: 1em"><i>lutyuv</i>
applies a lookup table to a <small>YUV</small> input video,
<i>lutrgb</i> to an <small>RGB</small> input video.</p>

<p style="margin-left:11%; margin-top: 1em">These filters
accept the following parameters:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>c0</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>set first pixel component expression</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>c1</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>set second pixel component expression</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>c2</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>set third pixel component expression</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>c3</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>set fourth pixel component expression, corresponds to
the alpha component</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>r</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>set red component expression</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>g</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>set green component expression</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>b</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>set blue component expression</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>a</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>alpha component expression</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>y</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>set Y/luminance component expression</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>u</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>set U/Cb component expression</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>v</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>set V/Cr component expression</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Each of them
specifies the expression to use for computing the lookup
table for the corresponding pixel component values.</p>

<p style="margin-left:11%; margin-top: 1em">The exact
component associated to each of the <i>c*</i> options
depends on the format in input.</p>

<p style="margin-left:11%; margin-top: 1em">The <i>lut</i>
filter requires either <small>YUV</small> or
<small>RGB</small> pixel formats in input, <i>lutrgb</i>
requires <small>RGB</small> pixel formats in input, and
<i>lutyuv</i> requires <small>YUV.</small></p>

<p style="margin-left:11%; margin-top: 1em">The expressions
can contain the following constants and functions:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p style="margin-top: 1em"><b>w</b></p></td>
<td width="2%"></td>
<td width="61%">
</td>
<td width="22%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>h</b></p></td>
<td width="2%"></td>
<td width="61%">


<p>The input width and height.</p></td>
<td width="22%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>val</b></p></td>
<td width="2%"></td>
<td width="61%">


<p>The input value for the pixel component.</p></td>
<td width="22%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>clipval</b></p>

<p style="margin-left:17%;">The input value, clipped to the
<i>minval</i>-<i>maxval</i> range.</p>

<p style="margin-left:11%;"><b>maxval</b></p>

<p style="margin-left:17%;">The maximum value for the pixel
component.</p>

<p style="margin-left:11%;"><b>minval</b></p>

<p style="margin-left:17%;">The minimum value for the pixel
component.</p>

<p style="margin-left:11%;"><b>negval</b></p>

<p style="margin-left:17%;">The negated value for the pixel
component value, clipped to the <i>minval</i>-<i>maxval</i>
range; it corresponds to the expression
&quot;maxval-clipval+minval&quot;.</p>

<p style="margin-left:11%;"><b>clip(val)</b></p>

<p style="margin-left:17%;">The computed value in
<i>val</i>, clipped to the <i>minval</i>-<i>maxval</i>
range.</p>

<p style="margin-left:11%;"><b>gammaval(gamma)</b></p>

<p style="margin-left:17%;">The computed gamma correction
value of the pixel component value, clipped to the
<i>minval</i>-<i>maxval</i> range. It corresponds to the
expression
&quot;pow((clipval-minval)/(maxval-minval)\,<i>gamma</i>)*(maxval-minval)+minval&quot;</p>

<p style="margin-left:11%; margin-top: 1em">All expressions
default to &quot;val&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="29%">


<p>Negate input video:</p></td>
<td width="54%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">lutrgb=&quot;r=maxval+minval-val:g=maxval+minval-val:b=maxval+minval-val&quot;
<br>

lutyuv=&quot;y=maxval+minval-val:u=maxval+minval-val:v=maxval+minval-val&quot;</p>

<p style="margin-left:17%; margin-top: 1em">The above is
the same as:</p>


<p style="margin-left:17%; margin-top: 1em">lutrgb=&quot;r=negval:g=negval:b=negval&quot;
<br>
lutyuv=&quot;y=negval:u=negval:v=negval&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="26%">


<p style="margin-top: 1em">Negate luminance:</p></td>
<td width="57%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">lutyuv=y=negval</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Remove chroma components,
turning the video into a graytone image:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">lutyuv=&quot;u=128:v=128&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="43%">


<p style="margin-top: 1em">Apply a luma burning effect:</p></td>
<td width="40%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">lutyuv=&quot;y=2*val&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="51%">


<p style="margin-top: 1em">Remove green and blue
components:</p> </td>
<td width="32%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">lutrgb=&quot;g=0:b=0&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="68%">


<p style="margin-top: 1em">Set a constant alpha channel
value on input:</p></td>
<td width="15%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">format=rgba,lutrgb=a=&quot;maxval-minval/2&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="66%">


<p style="margin-top: 1em">Correct luminance gamma by a
factor of 0.5:</p></td>
<td width="17%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">lutyuv=y=gammaval(0.5)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="60%">


<p style="margin-top: 1em">Discard least significant bits
of luma:</p></td>
<td width="23%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">lutyuv=y='bitand(val,
128+64+32)'</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="37%">


<p style="margin-top: 1em">Technicolor like effect:</p></td>
<td width="46%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">lutyuv=u='(val-maxval/2)*2+maxval/2':v='(val-maxval/2)*2+maxval/2'</p>

<p style="margin-left:11%; margin-top: 1em"><b>lut2,
tlut2</b> <br>
The &quot;lut2&quot; filter takes two input streams and
outputs one stream.</p>

<p style="margin-left:11%; margin-top: 1em">The
&quot;tlut2&quot; (time lut2) filter takes two consecutive
frames from one single stream.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
accepts the following parameters:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>c0</b></p></td>
<td width="3%"></td>
<td width="83%">


<p style="margin-top: 1em">set first pixel component
expression</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>c1</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>set second pixel component expression</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>c2</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>set third pixel component expression</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>c3</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>set fourth pixel component expression, corresponds to
the alpha component</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>d</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>set output bit depth, only available for
&quot;lut2&quot; filter. By default is 0, which means bit
depth is automatically picked from first input format.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Each of them
specifies the expression to use for computing the lookup
table for the corresponding pixel component values.</p>

<p style="margin-left:11%; margin-top: 1em">The exact
component associated to each of the <i>c*</i> options
depends on the format in inputs.</p>

<p style="margin-left:11%; margin-top: 1em">The expressions
can contain the following constants:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p style="margin-top: 1em"><b>w</b></p></td>
<td width="2%"></td>
<td width="72%">
</td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>h</b></p></td>
<td width="2%"></td>
<td width="72%">


<p>The input width and height.</p></td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>x</b></p></td>
<td width="2%"></td>
<td width="72%">


<p>The first input value for the pixel component.</p></td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>y</b></p></td>
<td width="2%"></td>
<td width="72%">


<p>The second input value for the pixel component.</p></td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>bdx</b></p></td>
<td width="2%"></td>
<td width="72%">


<p>The first input video bit depth.</p></td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>bdy</b></p></td>
<td width="2%"></td>
<td width="72%">


<p>The second input video bit depth.</p></td>
<td width="11%">
</td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">All expressions
default to &quot;x&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="80%">


<p style="margin-top: 1em">Highlight differences between
two <small>RGB</small> video streams:</p></td>
<td width="3%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">lut2='ifnot(x-y,0,pow(2,bdx)-1):ifnot(x-y,0,pow(2,bdx)-1):ifnot(x-y,0,pow(2,bdx)-1)'</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="80%">


<p style="margin-top: 1em">Highlight differences between
two <small>YUV</small> video streams:</p></td>
<td width="3%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">lut2='ifnot(x-y,0,pow(2,bdx)-1):ifnot(x-y,pow(2,bdx-1),pow(2,bdx)-1):ifnot(x-y,pow(2,bdx-1),pow(2,bdx)-1)'</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="71%">


<p style="margin-top: 1em">Show max difference between two
video streams:</p></td>
<td width="12%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">lut2='if(lt(x,y),0,if(gt(x,y),pow(2,bdx)-1,pow(2,bdx-1))):if(lt(x,y),0,if(gt(x,y),pow(2,bdx)-1,pow(2,bdx-1))):if(lt(x,y),0,if(gt(x,y),pow(2,bdx)-1,pow(2,bdx-1)))'</p>


<p style="margin-left:11%; margin-top: 1em"><b>maskedclamp</b>
<br>
Clamp the first input stream with the second input and third
input stream.</p>

<p style="margin-left:11%; margin-top: 1em">Returns the
value of first stream to be between second input stream -
&quot;undershoot&quot; and third input stream +
&quot;overshoot&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
accepts the following options: <b><br>
undershoot</b></p>

<p style="margin-left:17%;">Default value is 0.</p>

<p style="margin-left:11%;"><b>overshoot</b></p>

<p style="margin-left:17%;">Default value is 0.</p>

<p style="margin-left:11%;"><b>planes</b></p>

<p style="margin-left:17%;">Set which planes will be
processed as bitmap, unprocessed planes will be copied from
first stream. By default value 0xf, all planes will be
processed.</p>


<p style="margin-left:11%; margin-top: 1em"><b>maskedmerge</b>
<br>
Merge the first input stream with the second input stream
using per pixel weights in the third input stream.</p>

<p style="margin-left:11%; margin-top: 1em">A value of 0 in
the third stream pixel component means that pixel component
from first stream is returned unchanged, while maximum value
(eg. 255 for 8-bit videos) means that pixel component from
second stream is returned unchanged. Intermediate values
define the amount of merging between both input
stream&rsquo;s pixel components.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
accepts the following options: <b><br>
planes</b></p>

<p style="margin-left:17%;">Set which planes will be
processed as bitmap, unprocessed planes will be copied from
first stream. By default value 0xf, all planes will be
processed.</p>

<p style="margin-left:11%; margin-top: 1em"><b>maskfun</b>
<br>
Create mask from input video.</p>

<p style="margin-left:11%; margin-top: 1em">For example it
is useful to create motion masks after &quot;tblend&quot;
filter.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
accepts the following options:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>low</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set low threshold. Any pixel component lower or exact
than this value will be set to 0.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>high</b></p>

<p style="margin-left:17%;">Set high threshold. Any pixel
component higher than this value will be set to max value
allowed for current pixel format.</p>

<p style="margin-left:11%;"><b>planes</b></p>

<p style="margin-left:17%;">Set planes to filter, by
default all available planes are filtered.</p>

<p style="margin-left:11%;"><b>fill</b></p>

<p style="margin-left:17%;">Fill all frame pixels with this
value.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>sum</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set max average pixel value for frame. If sum of all
pixel components is higher that this average, output frame
will be completely filled with value set by <i>fill</i>
option. Typically useful for scene changes when used in
combination with &quot;tblend&quot; filter.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>mcdeint</b>
<br>
Apply motion-compensation deinterlacing.</p>

<p style="margin-left:11%; margin-top: 1em">It needs one
field per frame as input and must thus be used together with
yadif=1/3 or equivalent.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
accepts the following options: <b><br>
mode</b></p>

<p style="margin-left:17%;">Set the deinterlacing mode.</p>

<p style="margin-left:17%; margin-top: 1em">It accepts one
of the following values: <b><br>
fast <br>
medium <br>
slow</b></p>

<p style="margin-left:23%;">use iterative motion
estimation</p>

<p style="margin-left:17%;"><b>extra_slow</b></p>

<p style="margin-left:23%;">like <b>slow</b>, but use
multiple reference frames.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is <b>fast</b>.</p>

<p style="margin-left:11%;"><b>parity</b></p>

<p style="margin-left:17%;">Set the picture field parity
assumed for the input video. It must be one of the following
values: <b><br>
0, tff</b></p>

<p style="margin-left:23%;">assume top field first</p>

<p style="margin-left:17%;"><b>1, bff</b></p>

<p style="margin-left:23%;">assume bottom field first</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is <b>bff</b>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>qp</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Set per-block quantization parameter ( <small>QP</small>
) used by the internal encoder.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Higher values
should result in a smoother motion vector field but less
optimal individual vectors. Default value is 1.</p>


<p style="margin-left:11%; margin-top: 1em"><b>mergeplanes</b>
<br>
Merge color channel components from several video
streams.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts up to 4 input streams, and merge selected input
planes to the output video.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
accepts the following options: <b><br>
mapping</b></p>

<p style="margin-left:17%;">Set input to output plane
mapping. Default is 0.</p>

<p style="margin-left:17%; margin-top: 1em">The mappings is
specified as a bitmap. It should be specified as a
hexadecimal number in the form 0xAa[Bb[Cc[Dd]]].
&rsquo;Aa&rsquo; describes the mapping for the first plane
of the output stream. &rsquo;A&rsquo; sets the number of the
input stream to use (from 0 to 3), and &rsquo;a&rsquo; the
plane number of the corresponding input to use (from 0 to
3). The rest of the mappings is similar, &rsquo;Bb&rsquo;
describes the mapping for the output stream second plane,
&rsquo;Cc&rsquo; describes the mapping for the output stream
third plane and &rsquo;Dd&rsquo; describes the mapping for
the output stream fourth plane.</p>

<p style="margin-left:11%;"><b>format</b></p>

<p style="margin-left:17%;">Set output pixel format.
Default is &quot;yuva444p&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Merge three gray video streams of same width and height
into single video stream:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">[a0][a1][a2]mergeplanes=0x001020:yuv444p</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Merge 1st yuv444p stream and 2nd
gray video stream into yuva444p video stream:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">[a0][a1]mergeplanes=0x00010210:yuva444p</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="58%">


<p style="margin-top: 1em">Swap Y and A plane in yuva444p
stream:</p> </td>
<td width="25%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">format=yuva444p,mergeplanes=0x03010200:yuva444p</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="57%">


<p style="margin-top: 1em">Swap U and V plane in yuv420p
stream:</p> </td>
<td width="26%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">format=yuv420p,mergeplanes=0x000201:yuv420p</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="45%">


<p style="margin-top: 1em">Cast a rgb24 clip to
yuv444p:</p> </td>
<td width="38%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">format=rgb24,mergeplanes=0x000102:yuv444p</p>


<p style="margin-left:11%; margin-top: 1em"><b>mestimate</b>
<br>
Estimate and export motion vectors using block matching
algorithms. Motion vectors are stored in frame side data to
be used by other filters.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
accepts the following options: <b><br>
method</b></p>

<p style="margin-left:17%;">Specify the motion estimation
method. Accepts one of the following values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>esa</b></p></td>
<td width="1%"></td>
<td width="43%">


<p>Exhaustive search algorithm.</p></td>
<td width="34%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>tss</b></p></td>
<td width="1%"></td>
<td width="43%">


<p>Three step search algorithm.</p></td>
<td width="34%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>tdls</b></p>

<p style="margin-left:23%;">Two dimensional logarithmic
search algorithm.</p>

<p style="margin-left:17%;"><b>ntss</b></p>

<p style="margin-left:23%;">New three step search
algorithm.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>fss</b></p></td>
<td width="1%"></td>
<td width="42%">


<p>Four step search algorithm.</p></td>
<td width="35%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>ds</b></p></td>
<td width="1%"></td>
<td width="42%">


<p>Diamond search algorithm.</p></td>
<td width="35%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>hexbs</b></p>

<p style="margin-left:23%;">Hexagon-based search
algorithm.</p>

<p style="margin-left:17%;"><b>epzs</b></p>

<p style="margin-left:23%;">Enhanced predictive zonal
search algorithm.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>umh</b></p></td>
<td width="1%"></td>
<td width="59%">


<p>Uneven multi-hexagon search algorithm.</p></td>
<td width="18%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Default value
is <b>esa</b>.</p>

<p style="margin-left:11%;"><b>mb_size</b></p>

<p style="margin-left:17%;">Macroblock size. Default
16.</p>

<p style="margin-left:11%;"><b>search_param</b></p>

<p style="margin-left:17%;">Search parameter. Default
7.</p>


<p style="margin-left:11%; margin-top: 1em"><b>midequalizer</b>
<br>
Apply Midway Image Equalization effect using two video
streams.</p>

<p style="margin-left:11%; margin-top: 1em">Midway Image
Equalization adjusts a pair of images to have the same
histogram, while maintaining their dynamics as much as
possible. It&rsquo;s useful for e.g. matching exposures from
a pair of stereo cameras.</p>

<p style="margin-left:11%; margin-top: 1em">This filter has
two inputs and one output, which must be of same pixel
format, but may be of different sizes. The output of filter
is first input adjusted with midway histogram of both
inputs.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
accepts the following option: <b><br>
planes</b></p>

<p style="margin-left:17%;">Set which planes to process.
Default is 15, which is all available planes.</p>


<p style="margin-left:11%; margin-top: 1em"><b>minterpolate</b>
<br>
Convert the video to specified frame rate using motion
interpolation.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
accepts the following options:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>fps</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Specify the output frame rate. This can be rational e.g.
&quot;60000/1001&quot;. Frames are dropped if <i>fps</i> is
lower than source fps. Default 60.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>mi_mode</b></p>

<p style="margin-left:17%;">Motion interpolation mode.
Following values are accepted:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>dup</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>Duplicate previous or next frame for interpolating new
ones.</p> </td></tr>
</table>

<p style="margin-left:17%;"><b>blend</b></p>

<p style="margin-left:23%;">Blend source frames.
Interpolated frame is mean of previous and next frames.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>mci</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>Motion compensated interpolation. Following options are
effective when this mode is selected:</p></td></tr>
</table>

<p style="margin-left:23%;"><b>mc_mode</b></p>

<p style="margin-left:29%;">Motion compensation mode.
Following values are accepted: <b><br>
obmc</b></p>

<p style="margin-left:35%;">Overlapped block motion
compensation.</p>

<p style="margin-left:29%;"><b>aobmc</b></p>

<p style="margin-left:35%;">Adaptive overlapped block
motion compensation. Window weighting coefficients are
controlled adaptively according to the reliabilities of the
neighboring motion vectors to reduce oversmoothing.</p>

<p style="margin-left:29%; margin-top: 1em">Default mode is
<b>obmc</b>.</p>

<p style="margin-left:23%;"><b>me_mode</b></p>

<p style="margin-left:29%;">Motion estimation mode.
Following values are accepted: <b><br>
bidir</b></p>

<p style="margin-left:35%;">Bidirectional motion
estimation. Motion vectors are estimated for each source
frame in both forward and backward directions.</p>

<p style="margin-left:29%;"><b>bilat</b></p>

<p style="margin-left:35%;">Bilateral motion estimation.
Motion vectors are estimated directly for interpolated
frame.</p>

<p style="margin-left:29%; margin-top: 1em">Default mode is
<b>bilat</b>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td>
<td width="3%">


<p><b>me</b></p></td>
<td width="3%"></td>
<td width="71%">


<p>The algorithm to be used for motion estimation.
Following values are accepted:</p></td></tr>
</table>

<p style="margin-left:29%;"><b>esa</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="29%"></td>
<td width="5%"></td>
<td width="1%"></td>
<td width="43%">


<p style="margin-top: 1em">Exhaustive search algorithm.</p></td>
<td width="22%">
</td></tr>
<tr valign="top" align="left">
<td width="29%"></td>
<td width="5%">


<p><b>tss</b></p></td>
<td width="1%"></td>
<td width="43%">


<p>Three step search algorithm.</p></td>
<td width="22%">
</td></tr>
</table>

<p style="margin-left:29%;"><b>tdls</b></p>

<p style="margin-left:35%;">Two dimensional logarithmic
search algorithm.</p>

<p style="margin-left:29%;"><b>ntss</b></p>

<p style="margin-left:35%;">New three step search
algorithm.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="29%"></td>
<td width="5%">


<p><b>fss</b></p></td>
<td width="1%"></td>
<td width="42%">


<p>Four step search algorithm.</p></td>
<td width="23%">
</td></tr>
<tr valign="top" align="left">
<td width="29%"></td>
<td width="5%">


<p><b>ds</b></p></td>
<td width="1%"></td>
<td width="42%">


<p>Diamond search algorithm.</p></td>
<td width="23%">
</td></tr>
</table>

<p style="margin-left:29%;"><b>hexbs</b></p>

<p style="margin-left:35%;">Hexagon-based search
algorithm.</p>

<p style="margin-left:29%;"><b>epzs</b></p>

<p style="margin-left:35%;">Enhanced predictive zonal
search algorithm.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="29%"></td>
<td width="5%">


<p><b>umh</b></p></td>
<td width="1%"></td>
<td width="59%">


<p>Uneven multi-hexagon search algorithm.</p></td>
<td width="6%">
</td></tr>
</table>

<p style="margin-left:29%; margin-top: 1em">Default
algorithm is <b>epzs</b>.</p>

<p style="margin-left:23%;"><b>mb_size</b></p>

<p style="margin-left:29%;">Macroblock size. Default
16.</p>

<p style="margin-left:23%;"><b>search_param</b></p>

<p style="margin-left:29%;">Motion estimation search
parameter. Default 32.</p>

<p style="margin-left:23%;"><b>vsbmc</b></p>

<p style="margin-left:29%;">Enable variable-size block
motion compensation. Motion estimation is applied with
smaller block sizes at object boundaries in order to make
the them less blur. Default is 0 (disabled).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>scd</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Scene change detection method. Scene change leads motion
vectors to be in random direction. Scene change detection
replace interpolated frames by duplicate ones. May not be
needed for other modes. Following values are accepted:</p></td></tr>
</table>

<p style="margin-left:17%;"><b>none</b></p>

<p style="margin-left:23%;">Disable scene change
detection.</p>

<p style="margin-left:17%;"><b>fdiff</b></p>

<p style="margin-left:23%;">Frame difference. Corresponding
pixel values are compared and if it satisfies
<i>scd_threshold</i> scene change is detected.</p>

<p style="margin-left:17%; margin-top: 1em">Default method
is <b>fdiff</b>.</p>

<p style="margin-left:11%;"><b>scd_threshold</b></p>

<p style="margin-left:17%;">Scene change detection
threshold. Default is 5.0.</p>

<p style="margin-left:11%; margin-top: 1em"><b>mix</b> <br>
Mix several video input streams into one video stream.</p>

<p style="margin-left:11%; margin-top: 1em">A description
of the accepted options follows. <b><br>
nb_inputs</b></p>

<p style="margin-left:17%;">The number of inputs. If
unspecified, it defaults to 2.</p>

<p style="margin-left:11%;"><b>weights</b></p>

<p style="margin-left:17%;">Specify weight of each input
video stream as sequence. Each weight is separated by space.
If number of weights is smaller than number of <i>frames</i>
last specified weight will be used for all remaining unset
weights.</p>

<p style="margin-left:11%;"><b>scale</b></p>

<p style="margin-left:17%;">Specify scale, if it is set it
will be multiplied with sum of each weight multiplied with
pixel values to give final destination pixel value. By
default <i>scale</i> is auto scaled to sum of weights.</p>

<p style="margin-left:11%;"><b>duration</b></p>

<p style="margin-left:17%;">Specify how end of stream is
determined. <b><br>
longest</b></p>

<p style="margin-left:23%;">The duration of the longest
input. (default)</p>

<p style="margin-left:17%;"><b>shortest</b></p>

<p style="margin-left:23%;">The duration of the shortest
input.</p>

<p style="margin-left:17%;"><b>first</b></p>

<p style="margin-left:23%;">The duration of the first
input.</p>


<p style="margin-left:11%; margin-top: 1em"><b>mpdecimate</b>
<br>
Drop frames that do not differ greatly from the previous
frame in order to reduce frame rate.</p>

<p style="margin-left:11%; margin-top: 1em">The main use of
this filter is for very-low-bitrate encoding (e.g. streaming
over dialup modem), but it could in theory be used for
fixing movies that were inverse-telecined incorrectly.</p>

<p style="margin-left:11%; margin-top: 1em">A description
of the accepted options follows.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>max</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set the maximum number of consecutive frames which can
be dropped (if positive), or the minimum interval between
dropped frames (if negative). If the value is 0, the frame
is dropped disregarding the number of previous sequentially
dropped frames.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Default value
is 0.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>hi</b></p></td>
<td width="86%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>lo</b></p></td>
<td width="86%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>frac</b></p>

<p style="margin-left:17%;">Set the dropping threshold
values.</p>

<p style="margin-left:17%; margin-top: 1em">Values for
<b>hi</b> and <b>lo</b> are for 8x8 pixel blocks and
represent actual pixel value differences, so a threshold of
64 corresponds to 1 unit of difference for each pixel, or
the same spread out differently over the block.</p>

<p style="margin-left:17%; margin-top: 1em">A frame is a
candidate for dropping if no 8x8 blocks differ by more than
a threshold of <b>hi</b>, and if no more than <b>frac</b>
blocks (1 meaning the whole image) differ by more than a
threshold of <b>lo</b>.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
for <b>hi</b> is 64*12, default value for <b>lo</b> is 64*5,
and default value for <b>frac</b> is 0.33.</p>

<p style="margin-left:11%; margin-top: 1em"><b>negate</b>
<br>
Negate (invert) the input video.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following option: <b><br>
negate_alpha</b></p>

<p style="margin-left:17%;">With value 1, it negates the
alpha component, if present. Default value is 0.</p>

<p style="margin-left:11%; margin-top: 1em"><b>nlmeans</b>
<br>
Denoise frames using Non-Local Means algorithm.</p>

<p style="margin-left:11%; margin-top: 1em">Each pixel is
adjusted by looking for other pixels with similar contexts.
This context similarity is defined by comparing their
surrounding patches of size <b>p</b>x<b>p</b>. Patches are
searched in an area of <b>r</b>x<b>r</b> around the
pixel.</p>

<p style="margin-left:11%; margin-top: 1em">Note that the
research area defines centers for patches, which means some
patches will be made of pixels outside that research
area.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>s</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Set denoising strength. Default is 1.0. Must be in range
[1.0, 30.0].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>p</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Set patch size. Default is 7. Must be odd number in
range [0, 99].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>pc</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Same as <b>p</b> but for chroma planes.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The default
value is <i>0</i> and means automatic.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>r</b></p></td>
<td width="3%"></td>
<td width="83%">


<p style="margin-top: 1em">Set research size. Default is
15. Must be odd number in range [0, 99].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>rc</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Same as <b>r</b> but for chroma planes.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The default
value is <i>0</i> and means automatic.</p>

<p style="margin-left:11%; margin-top: 1em"><b>nnedi</b>
<br>
Deinterlace video using neural network edge directed
interpolation.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
accepts the following options: <b><br>
weights</b></p>

<p style="margin-left:17%;">Mandatory option, without
binary file filter can not work. Currently file can be found
here:
https://github.com/dubhater/vapoursynth-nnedi3/blob/master/src/nnedi3_weights.bin</p>

<p style="margin-left:11%;"><b>deint</b></p>

<p style="margin-left:17%;">Set which frames to
deinterlace, by default it is &quot;all&quot;. Can be
&quot;all&quot; or &quot;interlaced&quot;.</p>

<p style="margin-left:11%;"><b>field</b></p>

<p style="margin-left:17%;">Set mode of operation.</p>

<p style="margin-left:17%; margin-top: 1em">Can be one of
the following:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>af</b></p></td>
<td width="3%"></td>
<td width="46%">


<p>Use frame flags, both fields.</p></td>
<td width="31%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>a</b></p></td>
<td width="3%"></td>
<td width="46%">


<p>Use frame flags, single field.</p></td>
<td width="31%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>t</b></p></td>
<td width="3%"></td>
<td width="46%">


<p>Use top field only.</p></td>
<td width="31%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>b</b></p></td>
<td width="3%"></td>
<td width="46%">


<p>Use bottom field only.</p></td>
<td width="31%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>tf</b></p></td>
<td width="3%"></td>
<td width="46%">


<p>Use both fields, top first.</p></td>
<td width="31%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>bf</b></p></td>
<td width="3%"></td>
<td width="46%">


<p>Use both fields, bottom first.</p></td>
<td width="31%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>planes</b></p>

<p style="margin-left:17%;">Set which planes to process, by
default filter process all frames.</p>

<p style="margin-left:11%;"><b>nsize</b></p>

<p style="margin-left:17%;">Set size of local neighborhood
around each pixel, used by the predictor neural network.</p>

<p style="margin-left:17%; margin-top: 1em">Can be one of
the following: <b><br>
s8x6 <br>
s16x6 <br>
s32x6 <br>
s48x6 <br>
s8x4 <br>
s16x4 <br>
s32x4</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>nns</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set the number of neurons in predictor neural network.
Can be one of the following:</p></td></tr>
</table>

<p style="margin-left:17%;"><b>n16</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%"></td>
<td width="78%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>n32</b></p></td>
<td width="78%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>n64</b></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>n128 <br>
n256</b></p>

<p style="margin-left:11%;"><b>qual</b></p>

<p style="margin-left:17%;">Controls the number of
different neural network predictions that are blended
together to compute the final output value. Can be
&quot;fast&quot;, default or &quot;slow&quot;.</p>

<p style="margin-left:11%;"><b>etype</b></p>

<p style="margin-left:17%;">Set which set of weights to use
in the predictor. Can be one of the following:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>a</b></p></td>
<td width="5%"></td>
<td width="65%">


<p>weights trained to minimize absolute error</p></td>
<td width="12%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>s</b></p></td>
<td width="5%"></td>
<td width="65%">


<p>weights trained to minimize squared error</p></td>
<td width="12%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>pscrn</b></p>

<p style="margin-left:17%;">Controls whether or not the
prescreener neural network is used to decide which pixels
should be processed by the predictor neural network and
which can be handled by simple cubic interpolation. The
prescreener is trained to know whether cubic interpolation
will be sufficient for a pixel or whether it should be
predicted by the predictor nn. The computational complexity
of the prescreener nn is much less than that of the
predictor nn. Since most pixels can be handled by cubic
interpolation, using the prescreener generally results in
much faster processing. The prescreener is pretty accurate,
so the difference between using it and not using it is
almost always unnoticeable.</p>

<p style="margin-left:17%; margin-top: 1em">Can be one of
the following: <b><br>
none <br>
original</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>new</b></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:17%;">Default is &quot;new&quot;.</p>

<p style="margin-left:11%;"><b>fapprox</b></p>

<p style="margin-left:17%;">Set various debugging
flags.</p>


<p style="margin-left:11%; margin-top: 1em"><b>noformat</b>
<br>
Force libavfilter not to use any of the specified pixel
formats for the input to the next filter.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters: <b><br>
pix_fmts</b></p>

<p style="margin-left:17%;">A &rsquo;|&rsquo;-separated
list of pixel format names, such as
pix_fmts=yuv420p|monow|rgb24&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Force libavfilter to use a format different from
<i>yuv420p</i> for the input to the vflip filter:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">noformat=pix_fmts=yuv420p,vflip</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Convert the input video to any
of the formats not contained in the list:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">noformat=yuv420p|yuv444p|yuv410p</p>

<p style="margin-left:11%; margin-top: 1em"><b>noise</b>
<br>
Add noise on video input frame.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
all_seed <br>
c0_seed <br>
c1_seed <br>
c2_seed <br>
c3_seed</b></p>

<p style="margin-left:17%;">Set noise seed for specific
pixel component or all pixel components in case of
<i>all_seed</i>. Default value is 123457.</p>

<p style="margin-left:11%;"><b>all_strength, alls <br>
c0_strength, c0s <br>
c1_strength, c1s <br>
c2_strength, c2s <br>
c3_strength, c3s</b></p>

<p style="margin-left:17%;">Set noise strength for specific
pixel component or all pixel components in case
<i>all_strength</i>. Default value is 0. Allowed range is
[0, 100].</p>

<p style="margin-left:11%;"><b>all_flags, allf <br>
c0_flags, c0f <br>
c1_flags, c1f <br>
c2_flags, c2f <br>
c3_flags, c3f</b></p>

<p style="margin-left:17%;">Set pixel component flags or
set flags for all components if <i>all_flags</i>. Available
values for component flags are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>a</b></p></td>
<td width="5%"></td>
<td width="77%">


<p>averaged temporal noise (smoother)</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>p</b></p></td>
<td width="5%"></td>
<td width="77%">


<p>mix random noise with a (semi)regular pattern</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>t</b></p></td>
<td width="5%"></td>
<td width="77%">


<p>temporal noise (noise pattern changes between
frames)</p> </td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>u</b></p></td>
<td width="5%"></td>
<td width="77%">


<p>uniform noise (gaussian otherwise)</p></td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<p style="margin-left:11%; margin-top: 1em">Add temporal
and uniform noise to input video:</p>


<p style="margin-left:11%; margin-top: 1em">noise=alls=20:allf=t+u</p>


<p style="margin-left:11%; margin-top: 1em"><b>normalize</b>
<br>
Normalize <small>RGB</small> video (aka histogram
stretching, contrast stretching). See:
https://en.wikipedia.org/wiki/Normalization_(image_processing)</p>

<p style="margin-left:11%; margin-top: 1em">For each
channel of each frame, the filter computes the input range
and maps it linearly to the user-specified output range. The
output range defaults to the full dynamic range from pure
black to pure white.</p>

<p style="margin-left:11%; margin-top: 1em">Temporal
smoothing can be used on the input range to reduce
flickering (rapid changes in brightness) caused when small
dark or bright objects enter or leave the scene. This is
similar to the auto-exposure (automatic gain control) on a
video camera, and, like a video camera, it may cause a
period of over- or under-exposure of the video.</p>

<p style="margin-left:11%; margin-top: 1em">The R,G,B
channels can be normalized independently, which may cause
some color shifting, or linked together as a single channel,
which prevents color shifting. Linked normalization
preserves hue. Independent normalization does not, so it can
be used to remove some color casts. Independent and linked
normalization can be combined in any ratio.</p>

<p style="margin-left:11%; margin-top: 1em">The normalize
filter accepts the following options: <b><br>
blackpt <br>
whitept</b></p>

<p style="margin-left:17%;">Colors which define the output
range. The minimum input value is mapped to the
<i>blackpt</i>. The maximum input value is mapped to the
<i>whitept</i>. The defaults are black and white
respectively. Specifying white for <i>blackpt</i> and black
for <i>whitept</i> will give color-inverted, normalized
video. Shades of grey can be used to reduce the dynamic
range (contrast). Specifying saturated colors here can
create some interesting effects.</p>

<p style="margin-left:11%;"><b>smoothing</b></p>

<p style="margin-left:17%;">The number of previous frames
to use for temporal smoothing. The input range of each
channel is smoothed using a rolling average over the current
frame and the <i>smoothing</i> previous frames. The default
is 0 (no temporal smoothing).</p>

<p style="margin-left:11%;"><b>independence</b></p>

<p style="margin-left:17%;">Controls the ratio of
independent (color shifting) channel normalization to linked
(color preserving) normalization. 0.0 is fully linked, 1.0
is fully independent. Defaults to 1.0 (fully
independent).</p>

<p style="margin-left:11%;"><b>strength</b></p>

<p style="margin-left:17%;">Overall strength of the filter.
1.0 is full strength. 0.0 is a rather expensive no-op.
Defaults to 1.0 (full strength).</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<p style="margin-left:11%; margin-top: 1em">Stretch video
contrast to use the full dynamic range, with no temporal
smoothing; may flicker depending on the source content:</p>


<p style="margin-left:11%; margin-top: 1em">normalize=blackpt=black:whitept=white:smoothing=0</p>

<p style="margin-left:11%; margin-top: 1em">As above, but
with 50 frames of temporal smoothing; flicker should be
reduced, depending on the source content:</p>


<p style="margin-left:11%; margin-top: 1em">normalize=blackpt=black:whitept=white:smoothing=50</p>

<p style="margin-left:11%; margin-top: 1em">As above, but
with hue-preserving linked channel normalization:</p>


<p style="margin-left:11%; margin-top: 1em">normalize=blackpt=black:whitept=white:smoothing=50:independence=0</p>

<p style="margin-left:11%; margin-top: 1em">As above, but
with half strength:</p>


<p style="margin-left:11%; margin-top: 1em">normalize=blackpt=black:whitept=white:smoothing=50:independence=0:strength=0.5</p>

<p style="margin-left:11%; margin-top: 1em">Map the darkest
input color to red, the brightest input color to cyan:</p>


<p style="margin-left:11%; margin-top: 1em">normalize=blackpt=red:whitept=cyan</p>

<p style="margin-left:11%; margin-top: 1em"><b>null</b>
<br>
Pass the video source unchanged to the output.</p>

<p style="margin-left:11%; margin-top: 1em"><b>ocr</b> <br>
Optical Character Recognition</p>

<p style="margin-left:11%; margin-top: 1em">This filter
uses Tesseract for optical character recognition. To enable
compilation of this filter, you need to configure FFmpeg
with &quot;--enable-libtesseract&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following options: <b><br>
datapath</b></p>

<p style="margin-left:17%;">Set datapath to tesseract data.
Default is to use whatever was set at installation.</p>

<p style="margin-left:11%;"><b>language</b></p>

<p style="margin-left:17%;">Set language, default is
&quot;eng&quot;.</p>

<p style="margin-left:11%;"><b>whitelist</b></p>

<p style="margin-left:17%;">Set character whitelist.</p>

<p style="margin-left:11%;"><b>blacklist</b></p>

<p style="margin-left:17%;">Set character blacklist.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
exports recognized text as the frame metadata
&quot;lavfi.ocr.text&quot;. The filter exports confidence of
recognized words as the frame metadata
&quot;lavfi.ocr.confidence&quot;.</p>

<p style="margin-left:11%; margin-top: 1em"><b>ocv</b> <br>
Apply a video transform using libopencv.</p>

<p style="margin-left:11%; margin-top: 1em">To enable this
filter, install the libopencv library and headers and
configure FFmpeg with &quot;--enable-libopencv&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters: <b><br>
filter_name</b></p>

<p style="margin-left:17%;">The name of the libopencv
filter to apply.</p>

<p style="margin-left:11%;"><b>filter_params</b></p>

<p style="margin-left:17%;">The parameters to pass to the
libopencv filter. If not specified, the default values are
assumed.</p>

<p style="margin-left:11%; margin-top: 1em">Refer to the
official libopencv documentation for more precise
information:
&lt;<b>http://docs.opencv.org/master/modules/imgproc/doc/filtering.html</b>&gt;</p>

<p style="margin-left:11%; margin-top: 1em">Several
libopencv filters are supported; see the following
subsections.</p>


<p style="margin-left:11%; margin-top: 1em"><i>dilate</i></p>

<p style="margin-left:11%; margin-top: 1em">Dilate an image
by using a specific structuring element. It corresponds to
the libopencv function &quot;cvDilate&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
parameters: <i>struct_el</i>|<i>nb_iterations</i>.</p>


<p style="margin-left:11%; margin-top: 1em"><i>struct_el</i>
represents a structuring element, and has the syntax:
<i>cols</i>x<i>rows</i>+<i>anchor_x</i>x<i>anchor_y</i>/<i>shape</i></p>

<p style="margin-left:11%; margin-top: 1em"><i>cols</i> and
<i>rows</i> represent the number of columns and rows of the
structuring element, <i>anchor_x</i> and <i>anchor_y</i> the
anchor point, and <i>shape</i> the shape for the structuring
element. <i>shape</i> must be &quot;rect&quot;,
&quot;cross&quot;, &quot;ellipse&quot;, or
&quot;custom&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">If the value
for <i>shape</i> is &quot;custom&quot;, it must be followed
by a string of the form &quot;=<i>filename</i>&quot;. The
file with name <i>filename</i> is assumed to represent a
binary image, with each printable character corresponding to
a bright pixel. When a custom <i>shape</i> is used,
<i>cols</i> and <i>rows</i> are ignored, the number or
columns and rows of the read file are assumed instead.</p>

<p style="margin-left:11%; margin-top: 1em">The default
value for <i>struct_el</i> is &quot;3x3+0x0/rect&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><i>nb_iterations</i>
specifies the number of times the transform is applied to
the image, and defaults to 1.</p>

<p style="margin-left:11%; margin-top: 1em">Some
examples:</p>

<p style="margin-left:11%; margin-top: 1em"># Use the
default values <br>
ocv=dilate <br>
# Dilate using a structuring element with a 5x5 cross,
iterating two times <br>
ocv=filter_name=dilate:filter_params=5x5+2x2/cross|2 <br>
# Read the shape from the file diamond.shape, iterating two
times. <br>
# The file diamond.shape may contain a pattern of characters
like this <br>
# * <br>
# *** <br>
# ***** <br>
# *** <br>
# * <br>
# The specified columns and rows are ignored <br>
# but the anchor point coordinates are not <br>
ocv=dilate:0x0+2x2/custom=diamond.shape|2</p>


<p style="margin-left:11%; margin-top: 1em"><i>erode</i></p>

<p style="margin-left:11%; margin-top: 1em">Erode an image
by using a specific structuring element. It corresponds to
the libopencv function &quot;cvErode&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
parameters: <i>struct_el</i>:<i>nb_iterations</i>, with the
same syntax and semantics as the <b>dilate</b> filter.</p>


<p style="margin-left:11%; margin-top: 1em"><i>smooth</i></p>

<p style="margin-left:11%; margin-top: 1em">Smooth the
input video.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
takes the following parameters:
<i>type</i>|<i>param1</i>|<i>param2</i>|<i>param3</i>|<i>param4</i>.</p>

<p style="margin-left:11%; margin-top: 1em"><i>type</i> is
the type of smooth filter to apply, and must be one of the
following values: &quot;blur&quot;,
&quot;blur_no_scale&quot;, &quot;median&quot;,
&quot;gaussian&quot;, or &quot;bilateral&quot;. The default
value is &quot;gaussian&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">The meaning of
<i>param1</i>, <i>param2</i>, <i>param3</i>, and
<i>param4</i> depend on the smooth type. <i>param1</i> and
<i>param2</i> accept integer positive values or 0.
<i>param3</i> and <i>param4</i> accept floating point
values.</p>

<p style="margin-left:11%; margin-top: 1em">The default
value for <i>param1</i> is 3. The default value for the
other parameters is 0.</p>

<p style="margin-left:11%; margin-top: 1em">These
parameters correspond to the parameters assigned to the
libopencv function &quot;cvSmooth&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><b>oscilloscope</b>
<br>
2D Video Oscilloscope.</p>

<p style="margin-left:11%; margin-top: 1em">Useful to
measure spatial impulse, step responses, chroma delays,
etc.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>x</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Set scope center x position.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>y</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Set scope center y position.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>s</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Set scope size, relative to frame diagonal.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>t</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Set scope tilt/rotation.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>o</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Set trace opacity.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>tx</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Set trace center x position.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>ty</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Set trace center y position.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>tw</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Set trace width, relative to width of frame.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>th</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Set trace height, relative to height of frame.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>c</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Set which components to trace. By default it traces
first three components.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>g</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Draw trace grid. By default is enabled.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>st</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Draw some statistics. By default is enabled.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>sc</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Draw scope. By default is enabled.</p></td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="58%">


<p style="margin-top: 1em">Inspect full first row of video
frame.</p> </td>
<td width="25%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">oscilloscope=x=0.5:y=0:s=1</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="57%">


<p style="margin-top: 1em">Inspect full last row of video
frame.</p> </td>
<td width="26%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">oscilloscope=x=0.5:y=1:s=1</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="80%">


<p style="margin-top: 1em">Inspect full 5th line of video
frame of height 1080.</p></td>
<td width="3%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">oscilloscope=x=0.5:y=5/1080:s=1</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="61%">


<p style="margin-top: 1em">Inspect full last column of
video frame.</p></td>
<td width="22%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">oscilloscope=x=1:y=0.5:s=1:t=1</p>

<p style="margin-left:11%; margin-top: 1em"><b>overlay</b>
<br>
Overlay one video on top of another.</p>

<p style="margin-left:11%; margin-top: 1em">It takes two
inputs and has one output. The first input is the
&quot;main&quot; video on which the second input is
overlaid.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters:</p>

<p style="margin-left:11%; margin-top: 1em">A description
of the accepted options follows.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em"><b>x</b></p></td>
<td width="5%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>y</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set the expression for the x and y coordinates of the
overlaid video on the main video. Default value is
&quot;0&quot; for both expressions. In case the expression
is invalid, it is set to a huge value (meaning that the
overlay will not be displayed within the output visible
area).</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>eof_action</b></p>

<p style="margin-left:17%;">See <b>framesync</b>.</p>

<p style="margin-left:11%;"><b>eval</b></p>

<p style="margin-left:17%;">Set when the expressions for
<b>x</b>, and <b>y</b> are evaluated.</p>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values: <b><br>
init</b></p>

<p style="margin-left:23%;">only evaluate expressions once
during the filter initialization or when a command is
processed</p>

<p style="margin-left:17%;"><b>frame</b></p>

<p style="margin-left:23%;">evaluate expressions for each
incoming frame</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is <b>frame</b>.</p>

<p style="margin-left:11%;"><b>shortest</b></p>

<p style="margin-left:17%;">See <b>framesync</b>.</p>

<p style="margin-left:11%;"><b>format</b></p>

<p style="margin-left:17%;">Set the format for the output
video.</p>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values: <b><br>
yuv420</b></p>

<p style="margin-left:23%;">force <small>YUV420</small>
output</p>

<p style="margin-left:17%;"><b>yuv422</b></p>

<p style="margin-left:23%;">force <small>YUV422</small>
output</p>

<p style="margin-left:17%;"><b>yuv444</b></p>

<p style="margin-left:23%;">force <small>YUV444</small>
output</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>rgb</b></p></td>
<td width="1%"></td>
<td width="35%">


<p>force packed <small>RGB</small> output</p></td>
<td width="42%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>gbrp</b></p>

<p style="margin-left:23%;">force planar <small>RGB</small>
output</p>

<p style="margin-left:17%;"><b>auto</b></p>

<p style="margin-left:23%;">automatically pick format</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is <b>yuv420</b>.</p>

<p style="margin-left:11%;"><b>repeatlast</b></p>

<p style="margin-left:17%;">See <b>framesync</b>.</p>

<p style="margin-left:11%;"><b>alpha</b></p>

<p style="margin-left:17%;">Set format of alpha of the
overlaid video, it can be <i>straight</i> or
<i>premultiplied</i>. Default is <i>straight</i>.</p>

<p style="margin-left:11%; margin-top: 1em">The <b>x</b>,
and <b>y</b> expressions can contain the following
parameters. <b><br>
main_w, W <br>
main_h, H</b></p>

<p style="margin-left:17%;">The main input width and
height.</p>

<p style="margin-left:11%;"><b>overlay_w, w <br>
overlay_h, h</b></p>

<p style="margin-left:17%;">The overlay input width and
height.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>x</b></p></td>
<td width="5%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>y</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>The computed values for <i>x</i> and <i>y</i>. They are
evaluated for each new frame.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>hsub <br>
vsub</b></p>

<p style="margin-left:17%;">horizontal and vertical chroma
subsample values of the output format. For example for the
pixel format &quot;yuv422p&quot; <i>hsub</i> is 2 and
<i>vsub</i> is 1.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>n</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>the number of input frame, starting from 0</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>pos</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>the position in the file of the input frame,
<small>NAN</small> if unknown</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>t</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>The timestamp, expressed in seconds. It&rsquo;s
<small>NAN</small> if the input timestamp is unknown.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">This filter
also supports the <b>framesync</b> options.</p>

<p style="margin-left:11%; margin-top: 1em">Note that the
<i>n</i>, <i>pos</i>, <i>t</i> variables are available only
when evaluation is done <i>per frame</i>, and will evaluate
to <small>NAN</small> when <b>eval</b> is set to
<b>init</b>.</p>

<p style="margin-left:11%; margin-top: 1em">Be aware that
frames are taken from each input video in timestamp order,
hence, if their initial timestamps differ, it is a good idea
to pass the two inputs through a <i>setpts=PTS-STARTPTS</i>
filter to have them begin in the same zero timestamp, as the
example for the <i>movie</i> filter does.</p>

<p style="margin-left:11%; margin-top: 1em">You can chain
together more overlays but you should test the efficiency of
such approach.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Commands</i></p>

<p style="margin-left:11%; margin-top: 1em">This filter
supports the following commands:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em"><b>x</b></p></td>
<td width="5%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>y</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Modify the x and y of the overlay input. The command
accepts the same syntax of the corresponding option.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">If the
specified expression is not valid, it is kept at its current
value.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Draw the overlay at 10 pixels
from the bottom right corner of the main video:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">overlay=main_w-overlay_w-10:main_h-overlay_h-10</p>

<p style="margin-left:17%; margin-top: 1em">Using named
options the example above becomes:</p>


<p style="margin-left:17%; margin-top: 1em">overlay=x=main_w-overlay_w-10:y=main_h-overlay_h-10</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Insert a transparent
<small>PNG</small> logo in the bottom left corner of the
input, using the <b>ffmpeg</b> tool with the
&quot;-filter_complex&quot; option:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i input
-i logo -filter_complex 'overlay=10:main_h-overlay_h-10'
output</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Insert 2 different transparent
<small>PNG</small> logos (second logo on bottom right
corner) using the <b>ffmpeg</b> tool:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i input
-i logo1 -i logo2 -filter_complex
'overlay=x=10:y=H-h-10,overlay=x=W-w-10:y=H-h-10' output</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Add a transparent color layer on
top of the main video; &quot;WxH&quot; must specify the size
of the main input to the overlay filter:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">color=color=red@.3:size=WxH
[over]; [in][over] overlay [out]</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Play an original video and a
filtered version (here with the deshake filter) side by side
using the <b>ffplay</b> tool:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffplay
input.avi -vf 'split[a][b]; [a]pad=iw*2:ih[src];
[b]deshake[filt]; [src][filt]overlay=w'</p>

<p style="margin-left:17%; margin-top: 1em">The above
command is the same as:</p>

<p style="margin-left:17%; margin-top: 1em">ffplay
input.avi -vf 'split[b], pad=iw*2[src], [b]deshake,
[src]overlay=w'</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Make a sliding overlay appearing
from the left to the right top part of the screen starting
since time 2:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">overlay=x='if(gte(t,2),
-w+(t-2)*20, NAN)':y=0</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Compose output by putting two
input videos side to side:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
left.avi -i right.avi -filter_complex &quot; <br>
nullsrc=size=200x100 [background]; <br>
[0:v] setpts=PTS-STARTPTS, scale=100x100 [left]; <br>
[1:v] setpts=PTS-STARTPTS, scale=100x100 [right]; <br>
[background][left] overlay=shortest=1 [background+left];
<br>
[background+left][right] overlay=shortest=1:x=100
[left+right] <br>
&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Mask 10-20 seconds of a video by
applying the delogo filter to a section</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
test.avi -codec:v:0 wmv2 -ar 11025 -b:v 9000k <br>
-vf
'[in]split[split_main][split_delogo];[split_delogo]trim=start=360:end=371,delogo=0:0:640:480[delogoed];[split_main][delogoed]overlay=eof_action=pass[out]'
<br>
masked.avi</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="52%">


<p style="margin-top: 1em">Chain several overlays in
cascade:</p> </td>
<td width="31%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">nullsrc=s=200x200
[bg]; <br>
testsrc=s=100x100, split=4 [in0][in1][in2][in3]; <br>
[in0] lutrgb=r=0, [bg] overlay=0:0 [mid0]; <br>
[in1] lutrgb=g=0, [mid0] overlay=100:0 [mid1]; <br>
[in2] lutrgb=b=0, [mid1] overlay=0:100 [mid2]; <br>
[in3] null, [mid2] overlay=100:100 [out0]</p>


<p style="margin-left:11%; margin-top: 1em"><b>owdenoise</b>
<br>
Apply Overcomplete Wavelet denoiser.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
depth</b></p>

<p style="margin-left:17%;">Set depth.</p>

<p style="margin-left:17%; margin-top: 1em">Larger depth
values will denoise lower frequency components more, but
slow down filtering.</p>

<p style="margin-left:17%; margin-top: 1em">Must be an int
in the range 8-16, default is 8.</p>

<p style="margin-left:11%;"><b>luma_strength, ls</b></p>

<p style="margin-left:17%;">Set luma strength.</p>

<p style="margin-left:17%; margin-top: 1em">Must be a
double value in the range 0-1000, default is 1.0.</p>

<p style="margin-left:11%;"><b>chroma_strength, cs</b></p>

<p style="margin-left:17%;">Set chroma strength.</p>

<p style="margin-left:17%; margin-top: 1em">Must be a
double value in the range 0-1000, default is 1.0.</p>

<p style="margin-left:11%; margin-top: 1em"><b>pad</b> <br>
Add paddings to the input image, and place the original
input at the provided <i>x</i>, <i>y</i> coordinates.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters: <b><br>
width, w <br>
height, h</b></p>

<p style="margin-left:17%;">Specify an expression for the
size of the output image with the paddings added. If the
value for <i>width</i> or <i>height</i> is 0, the
corresponding input size is used for the output.</p>

<p style="margin-left:17%; margin-top: 1em">The
<i>width</i> expression can reference the value set by the
<i>height</i> expression, and vice versa.</p>

<p style="margin-left:17%; margin-top: 1em">The default
value of <i>width</i> and <i>height</i> is 0.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>x</b></p></td>
<td width="5%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>y</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Specify the offsets to place the input image at within
the padded area, with respect to the top/left border of the
output image.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The <i>x</i>
expression can reference the value set by the <i>y</i>
expression, and vice versa.</p>

<p style="margin-left:17%; margin-top: 1em">The default
value of <i>x</i> and <i>y</i> is 0.</p>

<p style="margin-left:17%; margin-top: 1em">If <i>x</i> or
<i>y</i> evaluate to a negative number, they&rsquo;ll be
changed so the input image is centered on the padded
area.</p>

<p style="margin-left:11%;"><b>color</b></p>

<p style="margin-left:17%;">Specify the color of the padded
area. For the syntax of this option, check the
<b>&quot;Color&quot; section in the ffmpeg-utils
manual</b>.</p>

<p style="margin-left:17%; margin-top: 1em">The default
value of <i>color</i> is &quot;black&quot;.</p>

<p style="margin-left:11%;"><b>eval</b></p>

<p style="margin-left:17%;">Specify when to evaluate
<i>width</i>, <i>height</i>, <i>x</i> and <i>y</i>
expression.</p>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values: <b><br>
init</b></p>

<p style="margin-left:23%;">Only evaluate expressions once
during the filter initialization or when a command is
processed.</p>

<p style="margin-left:17%;"><b>frame</b></p>

<p style="margin-left:23%;">Evaluate expressions for each
incoming frame.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is <b>init</b>.</p>

<p style="margin-left:11%;"><b>aspect</b></p>

<p style="margin-left:17%;">Pad to aspect instead to a
resolution.</p>

<p style="margin-left:11%; margin-top: 1em">The value for
the <i>width</i>, <i>height</i>, <i>x</i>, and <i>y</i>
options are expressions containing the following constants:
<b><br>
in_w <br>
in_h</b></p>

<p style="margin-left:17%;">The input video width and
height.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>iw</b></p></td>
<td width="3%"></td>
<td width="55%">
</td>
<td width="28%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>ih</b></p></td>
<td width="3%"></td>
<td width="55%">


<p>These are the same as <i>in_w</i> and <i>in_h</i>.</p></td>
<td width="28%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>out_w <br>
out_h</b></p>

<p style="margin-left:17%;">The output width and height
(the size of the padded area), as specified by the
<i>width</i> and <i>height</i> expressions.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>ow</b></p></td>
<td width="2%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>oh</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>These are the same as <i>out_w</i> and <i>out_h</i>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>x</b></p></td>
<td width="2%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>y</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>The x and y offsets as specified by the <i>x</i> and
<i>y</i> expressions, or <small>NAN</small> if not yet
specified.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>a</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>same as <i>iw</i> / <i>ih</i></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>sar</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>input sample aspect ratio</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>dar</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>input display aspect ratio, it is the same as (<i>iw</i>
/ <i>ih</i>) * <i>sar</i></p></td></tr>
</table>

<p style="margin-left:11%;"><b>hsub <br>
vsub</b></p>

<p style="margin-left:17%;">The horizontal and vertical
chroma subsample values. For example for the pixel format
&quot;yuv422p&quot; <i>hsub</i> is 2 and <i>vsub</i> is
1.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Add paddings with the color &quot;violet&quot; to the
input video. The output video size is 640x480, and the
top-left corner of the input video is placed at column 0,
row 40</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">pad=640:480:0:40:violet</p>

<p style="margin-left:17%; margin-top: 1em">The example
above is equivalent to the following command:</p>


<p style="margin-left:17%; margin-top: 1em">pad=width=640:height=480:x=0:y=40:color=violet</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Pad the input to get an output
with dimensions increased by 3/2, and put the input video at
the center of the padded area:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">pad=&quot;3/2*iw:3/2*ih:(ow-iw)/2:(oh-ih)/2&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Pad the input to get a squared
output with size equal to the maximum value between the
input width and height, and put the input video at the
center of the padded area:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">pad=&quot;max(iw\,ih):ow:(ow-iw)/2:(oh-ih)/2&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="72%">


<p style="margin-top: 1em">Pad the input to get a final w/h
ratio of 16:9:</p></td>
<td width="11%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">pad=&quot;ih*16/9:ih:(ow-iw)/2:(oh-ih)/2&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">In case of anamorphic video, in
order to set the output display aspect correctly, it is
necessary to use <i>sar</i> in the expression, according to
the relation:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">(ih * X / ih) *
sar = output_dar <br>
X = output_dar / sar</p>

<p style="margin-left:17%; margin-top: 1em">Thus the
previous example needs to be modified to:</p>


<p style="margin-left:17%; margin-top: 1em">pad=&quot;ih*16/9/sar:ih:(ow-iw)/2:(oh-ih)/2&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Double the output size and put
the input video in the bottom-right corner of the output
padded area:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">pad=&quot;2*iw:2*ih:ow-iw:oh-ih&quot;</p>


<p style="margin-left:11%; margin-top: 1em"><b>palettegen</b>
<br>
Generate one palette for a whole video stream.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following options: <b><br>
max_colors</b></p>

<p style="margin-left:17%;">Set the maximum number of
colors to quantize in the palette. Note: the palette will
still contain 256 colors; the unused palette entries will be
black.</p>

<p style="margin-left:11%;"><b>reserve_transparent</b></p>

<p style="margin-left:17%;">Create a palette of 255 colors
maximum and reserve the last one for transparency. Reserving
the transparency color is useful for <small>GIF</small>
optimization. If not set, the maximum of colors in the
palette will be 256. You probably want to disable this
option for a standalone image. Set by default.</p>

<p style="margin-left:11%;"><b>transparency_color</b></p>

<p style="margin-left:17%;">Set the color that will be used
as background for transparency.</p>

<p style="margin-left:11%;"><b>stats_mode</b></p>

<p style="margin-left:17%;">Set statistics mode.</p>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values: <b><br>
full</b></p>

<p style="margin-left:23%;">Compute full frame
histograms.</p>

<p style="margin-left:17%;"><b>diff</b></p>

<p style="margin-left:23%;">Compute histograms only for the
part that differs from previous frame. This might be
relevant to give more importance to the moving part of your
input if the background is static.</p>

<p style="margin-left:17%;"><b>single</b></p>

<p style="margin-left:23%;">Compute new histogram for each
frame.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is <i>full</i>.</p>

<p style="margin-left:11%; margin-top: 1em">The filter also
exports the frame metadata
&quot;lavfi.color_quant_ratio&quot; (&quot;nb_color_in /
nb_color_out&quot;) which you can use to evaluate the degree
of color quantization of the palette. This information is
also visible at <i>info</i> logging level.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Generate a representative palette of a given video using
<b>ffmpeg</b>:</p> </td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
input.mkv -vf palettegen palette.png</p>


<p style="margin-left:11%; margin-top: 1em"><b>paletteuse</b>
<br>
Use a palette to downsample an input video stream.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
takes two inputs: one video stream and a palette. The
palette must be a 256 pixels image.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following options: <b><br>
dither</b></p>

<p style="margin-left:17%;">Select dithering mode.
Available algorithms are: <b><br>
bayer</b></p>

<p style="margin-left:23%;">Ordered 8x8 bayer dithering
(deterministic)</p>

<p style="margin-left:17%;"><b>heckbert</b></p>

<p style="margin-left:23%;">Dithering as defined by Paul
Heckbert in 1982 (simple error diffusion). Note: this
dithering is sometimes considered &quot;wrong&quot; and is
included as a reference.</p>

<p style="margin-left:17%;"><b>floyd_steinberg</b></p>

<p style="margin-left:23%;">Floyd and Steingberg dithering
(error diffusion)</p>

<p style="margin-left:17%;"><b>sierra2</b></p>

<p style="margin-left:23%;">Frankie Sierra dithering v2
(error diffusion)</p>

<p style="margin-left:17%;"><b>sierra2_4a</b></p>

<p style="margin-left:23%;">Frankie Sierra dithering v2
&quot;Lite&quot; (error diffusion)</p>

<p style="margin-left:17%; margin-top: 1em">Default is
<i>sierra2_4a</i>.</p>

<p style="margin-left:11%;"><b>bayer_scale</b></p>

<p style="margin-left:17%;">When <i>bayer</i> dithering is
selected, this option defines the scale of the pattern (how
much the crosshatch pattern is visible). A low value means
more visible pattern for less banding, and higher value
means less visible pattern at the cost of more banding.</p>

<p style="margin-left:17%; margin-top: 1em">The option must
be an integer value in the range [0,5]. Default is
<i>2</i>.</p>

<p style="margin-left:11%;"><b>diff_mode</b></p>

<p style="margin-left:17%;">If set, define the zone to
process <b><br>
rectangle</b></p>

<p style="margin-left:23%;">Only the changing rectangle
will be reprocessed. This is similar to <small>GIF</small>
cropping/offsetting compression mechanism. This option can
be useful for speed if only a part of the image is changing,
and has use cases such as limiting the scope of the error
diffusal <b>dither</b> to the rectangle that bounds the
moving scene (it leads to more deterministic output if the
scene doesn&rsquo;t change much, and as a result less moving
noise and better <small>GIF</small> compression).</p>

<p style="margin-left:17%; margin-top: 1em">Default is
<i>none</i>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>new</b></p></td>
<td width="2%"></td>
<td width="60%">


<p>Take new palette for each output frame.</p></td>
<td width="23%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>alpha_threshold</b></p>

<p style="margin-left:17%;">Sets the alpha threshold for
transparency. Alpha values above this threshold will be
treated as completely opaque, and values below this
threshold will be treated as completely transparent.</p>

<p style="margin-left:17%; margin-top: 1em">The option must
be an integer value in the range [0,255]. Default is
<i>128</i>.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Use a palette (generated for example with
<b>palettegen</b>) to encode a <small>GIF</small> using
<b>ffmpeg</b>:</p> </td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
input.mkv -i palette.png -lavfi paletteuse output.gif</p>


<p style="margin-left:11%; margin-top: 1em"><b>perspective</b>
<br>
Correct perspective of video not recorded perpendicular to
the screen.</p>

<p style="margin-left:11%; margin-top: 1em">A description
of the accepted parameters follows.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>x0</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>y0</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>x1</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>y1</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>x2</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>y2</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>x3</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>y3</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Set coordinates expression for top left, top right,
bottom left and bottom right corners. Default values are
&quot;0:0:W:0:0:H:W:H&quot; with which perspective will
remain unchanged. If the &quot;sense&quot; option is set to
&quot;source&quot;, then the specified points will be sent
to the corners of the destination. If the &quot;sense&quot;
option is set to &quot;destination&quot;, then the corners
of the source will be sent to the specified coordinates.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The expressions
can use the following variables:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>W</b></p></td>
<td width="3%"></td>
<td width="55%">
</td>
<td width="22%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>H</b></p></td>
<td width="3%"></td>
<td width="55%">


<p>the width and height of video frame.</p></td>
<td width="22%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>in</b></p></td>
<td width="3%"></td>
<td width="55%">


<p>Input frame count.</p></td>
<td width="22%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>on</b></p></td>
<td width="3%"></td>
<td width="55%">


<p>Output frame count.</p></td>
<td width="22%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>interpolation</b></p>

<p style="margin-left:17%;">Set interpolation for
perspective correction.</p>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values: <b><br>
linear <br>
cubic</b></p>

<p style="margin-left:17%; margin-top: 1em">Default value
is <b>linear</b>.</p>

<p style="margin-left:11%;"><b>sense</b></p>

<p style="margin-left:17%;">Set interpretation of
coordinate options.</p>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values: <b><br>
0, source</b></p>

<p style="margin-left:23%;">Send point in the source
specified by the given coordinates to the corners of the
destination.</p>

<p style="margin-left:17%;"><b>1, destination</b></p>

<p style="margin-left:23%;">Send the corners of the source
to the point in the destination specified by the given
coordinates.</p>

<p style="margin-left:23%; margin-top: 1em">Default value
is <b>source</b>.</p>

<p style="margin-left:11%;"><b>eval</b></p>

<p style="margin-left:17%;">Set when the expressions for
coordinates <b>x0,y0,...x3,y3</b> are evaluated.</p>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values: <b><br>
init</b></p>

<p style="margin-left:23%;">only evaluate expressions once
during the filter initialization or when a command is
processed</p>

<p style="margin-left:17%;"><b>frame</b></p>

<p style="margin-left:23%;">evaluate expressions for each
incoming frame</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is <b>init</b>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>phase</b>
<br>
Delay interlaced video by one field time so that the field
order changes.</p>

<p style="margin-left:11%; margin-top: 1em">The intended
use is to fix <small>PAL</small> movies that have been
captured with the opposite field order to the film-to-video
transfer.</p>

<p style="margin-left:11%; margin-top: 1em">A description
of the accepted parameters follows. <b><br>
mode</b></p>

<p style="margin-left:17%;">Set phase mode.</p>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>t</b></p></td>
<td width="5%"></td>
<td width="77%">


<p>Capture field order top-first, transfer bottom-first.
Filter will delay the bottom field.</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>b</b></p></td>
<td width="5%"></td>
<td width="77%">


<p>Capture field order bottom-first, transfer top-first.
Filter will delay the top field.</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>p</b></p></td>
<td width="5%"></td>
<td width="77%">


<p>Capture and transfer with the same field order. This
mode only exists for the documentation of the other options
to refer to, but if you actually select it, the filter will
faithfully do nothing.</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>a</b></p></td>
<td width="5%"></td>
<td width="77%">


<p>Capture field order determined automatically by field
flags, transfer opposite. Filter selects among <b>t</b> and
<b>b</b> modes on a frame by frame basis using field flags.
If no field information is available, then this works just
like <b>u</b>.</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>u</b></p></td>
<td width="5%"></td>
<td width="77%">


<p>Capture unknown or varying, transfer opposite. Filter
selects among <b>t</b> and <b>b</b> on a frame by frame
basis by analyzing the images and selecting the alternative
that produces best match between the fields.</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>T</b></p></td>
<td width="5%"></td>
<td width="77%">


<p>Capture top-first, transfer unknown or varying. Filter
selects among <b>t</b> and <b>p</b> using image
analysis.</p> </td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>B</b></p></td>
<td width="5%"></td>
<td width="77%">


<p>Capture bottom-first, transfer unknown or varying.
Filter selects among <b>b</b> and <b>p</b> using image
analysis.</p> </td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>A</b></p></td>
<td width="5%"></td>
<td width="77%">


<p>Capture determined by field flags, transfer unknown or
varying. Filter selects among <b>t</b>, <b>b</b> and
<b>p</b> using field flags and image analysis. If no field
information is available, then this works just like
<b>U</b>. This is the default mode.</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>U</b></p></td>
<td width="5%"></td>
<td width="77%">


<p>Both capture and transfer unknown or varying. Filter
selects among <b>t</b>, <b>b</b> and <b>p</b> using image
analysis only.</p></td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><b>pixdesctest</b>
<br>
Pixel format descriptor test filter, mainly useful for
internal testing. The output video should be equal to the
input video.</p>

<p style="margin-left:11%; margin-top: 1em">For
example:</p>

<p style="margin-left:11%; margin-top: 1em">format=monow,
pixdesctest</p>

<p style="margin-left:11%; margin-top: 1em">can be used to
test the monowhite pixel format descriptor definition.</p>


<p style="margin-left:11%; margin-top: 1em"><b>pixscope</b>
<br>
Display sample values of color channels. Mainly useful for
checking color and levels. Minimum supported resolution is
640x480.</p>

<p style="margin-left:11%; margin-top: 1em">The filters
accept the following options:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>x</b></p></td>
<td width="3%"></td>
<td width="83%">


<p style="margin-top: 1em">Set scope X position, relative
offset on X axis.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>y</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Set scope Y position, relative offset on Y axis.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>w</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Set scope width.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>h</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Set scope height.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>o</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Set window opacity. This window also holds statistics
about pixel area.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>wx</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Set window X position, relative offset on X axis.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>wy</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Set window Y position, relative offset on Y axis.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>pp</b> <br>
Enable the specified chain of postprocessing subfilters
using libpostproc. This library should be automatically
selected with a <small>GPL</small> build
(&quot;--enable-gpl&quot;). Subfilters must be separated by
&rsquo;/&rsquo; and can be disabled by prepending a
&rsquo;-&rsquo;. Each subfilter and some options have a
short and a long name that can be used interchangeably, i.e.
dr/dering are the same.</p>

<p style="margin-left:11%; margin-top: 1em">The filters
accept the following options: <b><br>
subfilters</b></p>

<p style="margin-left:17%;">Set postprocessing subfilters
string.</p>

<p style="margin-left:11%; margin-top: 1em">All subfilters
share common options to determine their scope: <b><br>
a/autoq</b></p>

<p style="margin-left:17%;">Honor the quality commands for
this subfilter.</p>

<p style="margin-left:11%;"><b>c/chrom</b></p>

<p style="margin-left:17%;">Do chrominance filtering, too
(default).</p>

<p style="margin-left:11%;"><b>y/nochrom</b></p>

<p style="margin-left:17%;">Do luminance filtering only (no
chrominance).</p>

<p style="margin-left:11%;"><b>n/noluma</b></p>

<p style="margin-left:17%;">Do chrominance filtering only
(no luminance).</p>

<p style="margin-left:11%; margin-top: 1em">These options
can be appended after the subfilter name, separated by a
&rsquo;|&rsquo;.</p>

<p style="margin-left:11%; margin-top: 1em">Available
subfilters are: <b><br>
hb/hdeblock[|difference[|flatness]]</b></p>

<p style="margin-left:17%;">Horizontal deblocking filter
<b><br>
difference</b></p>

<p style="margin-left:23%;">Difference factor where higher
values mean more deblocking (default: 32).</p>

<p style="margin-left:17%;"><b>flatness</b></p>

<p style="margin-left:23%;">Flatness threshold where lower
values mean more deblocking (default: 39).</p>


<p style="margin-left:11%;"><b>vb/vdeblock[|difference[|flatness]]</b></p>

<p style="margin-left:17%;">Vertical deblocking filter
<b><br>
difference</b></p>

<p style="margin-left:23%;">Difference factor where higher
values mean more deblocking (default: 32).</p>

<p style="margin-left:17%;"><b>flatness</b></p>

<p style="margin-left:23%;">Flatness threshold where lower
values mean more deblocking (default: 39).</p>


<p style="margin-left:11%;"><b>ha/hadeblock[|difference[|flatness]]</b></p>

<p style="margin-left:17%;">Accurate horizontal deblocking
filter <b><br>
difference</b></p>

<p style="margin-left:23%;">Difference factor where higher
values mean more deblocking (default: 32).</p>

<p style="margin-left:17%;"><b>flatness</b></p>

<p style="margin-left:23%;">Flatness threshold where lower
values mean more deblocking (default: 39).</p>


<p style="margin-left:11%;"><b>va/vadeblock[|difference[|flatness]]</b></p>

<p style="margin-left:17%;">Accurate vertical deblocking
filter <b><br>
difference</b></p>

<p style="margin-left:23%;">Difference factor where higher
values mean more deblocking (default: 32).</p>

<p style="margin-left:17%;"><b>flatness</b></p>

<p style="margin-left:23%;">Flatness threshold where lower
values mean more deblocking (default: 39).</p>

<p style="margin-left:11%; margin-top: 1em">The horizontal
and vertical deblocking filters share the difference and
flatness values so you cannot set different horizontal and
vertical thresholds. <b><br>
h1/x1hdeblock</b></p>

<p style="margin-left:17%;">Experimental horizontal
deblocking filter</p>

<p style="margin-left:11%;"><b>v1/x1vdeblock</b></p>

<p style="margin-left:17%;">Experimental vertical
deblocking filter</p>

<p style="margin-left:11%;"><b>dr/dering</b></p>

<p style="margin-left:17%;">Deringing filter</p>


<p style="margin-left:11%;"><b>tn/tmpnoise[|threshold1[|threshold2[|threshold3]]],
temporal noise <br>
reducer</b></p>

<p style="margin-left:17%;"><b>threshold1</b></p>

<p style="margin-left:23%;">larger -&gt; stronger
filtering</p>

<p style="margin-left:17%;"><b>threshold2</b></p>

<p style="margin-left:23%;">larger -&gt; stronger
filtering</p>

<p style="margin-left:17%;"><b>threshold3</b></p>

<p style="margin-left:23%;">larger -&gt; stronger
filtering</p>


<p style="margin-left:11%;"><b>al/autolevels[:f/fullyrange],
automatic brightness / contrast <br>
correction</b></p>

<p style="margin-left:17%;"><b>f/fullyrange</b></p>

<p style="margin-left:23%;">Stretch luminance to
&quot;0-255&quot;.</p>

<p style="margin-left:11%;"><b>lb/linblenddeint</b></p>

<p style="margin-left:17%;">Linear blend deinterlacing
filter that deinterlaces the given block by filtering all
lines with a &quot;(1 2 1)&quot; filter.</p>

<p style="margin-left:11%;"><b>li/linipoldeint</b></p>

<p style="margin-left:17%;">Linear interpolating
deinterlacing filter that deinterlaces the given block by
linearly interpolating every second line.</p>

<p style="margin-left:11%;"><b>ci/cubicipoldeint</b></p>

<p style="margin-left:17%;">Cubic interpolating
deinterlacing filter deinterlaces the given block by
cubically interpolating every second line.</p>

<p style="margin-left:11%;"><b>md/mediandeint</b></p>

<p style="margin-left:17%;">Median deinterlacing filter
that deinterlaces the given block by applying a median
filter to every second line.</p>

<p style="margin-left:11%;"><b>fd/ffmpegdeint</b></p>

<p style="margin-left:17%;">FFmpeg deinterlacing filter
that deinterlaces the given block by filtering every second
line with a &quot;(-1 4 2 4 -1)&quot; filter.</p>

<p style="margin-left:11%;"><b>l5/lowpass5</b></p>

<p style="margin-left:17%;">Vertically applied
<small>FIR</small> lowpass deinterlacing filter that
deinterlaces the given block by filtering all lines with a
&quot;(-1 2 6 2 -1)&quot; filter.</p>


<p style="margin-left:11%;"><b>fq/forceQuant[|quantizer]</b></p>

<p style="margin-left:17%;">Overrides the quantizer table
from the input with the constant quantizer you specify.
<b><br>
quantizer</b></p>

<p style="margin-left:23%;">Quantizer to use</p>

<p style="margin-left:11%;"><b>de/default</b></p>

<p style="margin-left:17%;">Default pp filter combination
(&quot;hb|a,vb|a,dr|a&quot;)</p>

<p style="margin-left:11%;"><b>fa/fast</b></p>

<p style="margin-left:17%;">Fast pp filter combination
(&quot;h1|a,v1|a,dr|a&quot;)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>ac</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>High quality pp filter combination
(&quot;ha|a|128|7,va|a,dr|a&quot;)</p> </td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Apply horizontal and vertical
deblocking, deringing and automatic brightness/contrast:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">pp=hb/vb/dr/al</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Apply default filters without
brightness/contrast correction:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">pp=de/-al</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="68%">


<p style="margin-top: 1em">Apply default filters and
temporal denoiser:</p></td>
<td width="15%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">pp=default/tmpnoise|1|2|3</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Apply deblocking on luminance
only, and switch vertical deblocking on or off automatically
depending on available <small>CPU</small> time:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">pp=hb|y/vb|a</p>

<p style="margin-left:11%; margin-top: 1em"><b>pp7</b> <br>
Apply Postprocessing filter 7. It is variant of the
<b>spp</b> filter, similar to spp = 6 with 7 point
<small>DCT,</small> where only the center sample is used
after <small>IDCT.</small></p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>qp</b></p></td>
<td width="3%"></td>
<td width="83%">


<p style="margin-top: 1em">Force a constant quantization
parameter. It accepts an integer in range 0 to 63. If not
set, the filter will use the <small>QP</small> from the
video stream (if available).</p></td></tr>
</table>

<p style="margin-left:11%;"><b>mode</b></p>

<p style="margin-left:17%;">Set thresholding mode.
Available modes are: <b><br>
hard</b></p>

<p style="margin-left:23%;">Set hard thresholding.</p>

<p style="margin-left:17%;"><b>soft</b></p>

<p style="margin-left:23%;">Set soft thresholding (better
de-ringing effect, but likely blurrier).</p>

<p style="margin-left:17%;"><b>medium</b></p>

<p style="margin-left:23%;">Set medium thresholding (good
results, default).</p>


<p style="margin-left:11%; margin-top: 1em"><b>premultiply</b>
<br>
Apply alpha premultiply effect to input video stream using
first plane of second stream as alpha.</p>

<p style="margin-left:11%; margin-top: 1em">Both streams
must have same dimensions and same pixel format.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following option: <b><br>
planes</b></p>

<p style="margin-left:17%;">Set which planes will be
processed, unprocessed planes will be copied. By default
value 0xf, all planes will be processed.</p>

<p style="margin-left:11%;"><b>inplace</b></p>

<p style="margin-left:17%;">Do not require 2nd input for
processing, instead use alpha plane from input stream.</p>

<p style="margin-left:11%; margin-top: 1em"><b>prewitt</b>
<br>
Apply prewitt operator to input video stream.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following option: <b><br>
planes</b></p>

<p style="margin-left:17%;">Set which planes will be
processed, unprocessed planes will be copied. By default
value 0xf, all planes will be processed.</p>

<p style="margin-left:11%;"><b>scale</b></p>

<p style="margin-left:17%;">Set value which will be
multiplied with filtered result.</p>

<p style="margin-left:11%;"><b>delta</b></p>

<p style="margin-left:17%;">Set value which will be added
to filtered result.</p>


<p style="margin-left:11%; margin-top: 1em"><b>program_opencl</b>
<br>
Filter video using an OpenCL program. <b><br>
source</b></p>

<p style="margin-left:17%;">OpenCL program source file.</p>

<p style="margin-left:11%;"><b>kernel</b></p>

<p style="margin-left:17%;">Kernel name in program.</p>

<p style="margin-left:11%;"><b>inputs</b></p>

<p style="margin-left:17%;">Number of inputs to the filter.
Defaults to 1.</p>

<p style="margin-left:11%;"><b>size, s</b></p>

<p style="margin-left:17%;">Size of output frames. Defaults
to the same as the first input.</p>

<p style="margin-left:11%; margin-top: 1em">The program
source file must contain a kernel function with the given
name, which will be run once for each plane of the output.
Each run on a plane gets enqueued as a separate 2D global
NDRange with one work-item for each pixel to be generated.
The global <small>ID</small> offset for each work-item is
therefore the coordinates of a pixel in the destination
image.</p>

<p style="margin-left:11%; margin-top: 1em">The kernel
function needs to take the following arguments:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="65%">


<p>Destination image, <i>__write_only image2d_t</i>.</p></td>
<td width="18%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">This image will
become the output; the kernel should write all of it.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="40%">


<p style="margin-top: 1em">Frame index, <i>unsigned
int</i>.</p> </td>
<td width="43%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">This is a
counter starting from zero and increasing by one for each
frame.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="57%">


<p style="margin-top: 1em">Source images, <i>__read_only
image2d_t</i>.</p> </td>
<td width="26%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">These are the
most recent images on each input. The kernel may read from
them to generate the output, but they can&rsquo;t be written
to.</p>

<p style="margin-left:11%; margin-top: 1em">Example
programs:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Copy the input to the output
(output must be the same size as the input).</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">__kernel void
copy(__write_only image2d_t destination, <br>
unsigned int index, <br>
__read_only image2d_t source) <br>
{ <br>
const sampler_t sampler = CLK_NORMALIZED_COORDS_FALSE; <br>
int2 location = (int2)(get_global_id(0), get_global_id(1));
<br>
float4 value = read_imagef(source, sampler, location); <br>
write_imagef(destination, location, value); <br>
}</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Apply a simple transformation,
rotating the input by an amount increasing with the index
counter. Pixel values are linearly interpolated by the
sampler, and the output need not have the same dimensions as
the input.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">__kernel void
rotate_image(__write_only image2d_t dst, <br>
unsigned int index, <br>
__read_only image2d_t src) <br>
{ <br>
const sampler_t sampler = (CLK_NORMALIZED_COORDS_FALSE |
<br>
CLK_FILTER_LINEAR); <br>
float angle = (float)index / 100.0f; <br>
float2 dst_dim = convert_float2(get_image_dim(dst)); <br>
float2 src_dim = convert_float2(get_image_dim(src)); <br>
float2 dst_cen = dst_dim / 2.0f; <br>
float2 src_cen = src_dim / 2.0f; <br>
int2 dst_loc = (int2)(get_global_id(0), get_global_id(1));
<br>
float2 dst_pos = convert_float2(dst_loc) - dst_cen; <br>
float2 src_pos = { <br>
cos(angle) * dst_pos.x - sin(angle) * dst_pos.y, <br>
sin(angle) * dst_pos.x + cos(angle) * dst_pos.y <br>
}; <br>
src_pos = src_pos * src_dim / dst_dim; <br>
float2 src_loc = src_pos + src_cen; <br>
if (src_loc.x &lt; 0.0f || src_loc.y &lt; 0.0f || <br>
src_loc.x &gt; src_dim.x || src_loc.y &gt; src_dim.y) <br>
write_imagef(dst, dst_loc, 0.5f); <br>
else <br>
write_imagef(dst, dst_loc, read_imagef(src, sampler,
src_loc)); <br>
}</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Blend two inputs together, with
the amount of each input used varying with the index
counter.</p> </td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">__kernel void
blend_images(__write_only image2d_t dst, <br>
unsigned int index, <br>
__read_only image2d_t src1, <br>
__read_only image2d_t src2) <br>
{ <br>
const sampler_t sampler = (CLK_NORMALIZED_COORDS_FALSE |
<br>
CLK_FILTER_LINEAR); <br>
float blend = (cos((float)index / 50.0f) + 1.0f) / 2.0f;
<br>
int2 dst_loc = (int2)(get_global_id(0), get_global_id(1));
<br>
int2 src1_loc = dst_loc * get_image_dim(src1) /
get_image_dim(dst); <br>
int2 src2_loc = dst_loc * get_image_dim(src2) /
get_image_dim(dst); <br>
float4 val1 = read_imagef(src1, sampler, src1_loc); <br>
float4 val2 = read_imagef(src2, sampler, src2_loc); <br>
write_imagef(dst, dst_loc, val1 * blend + val2 * (1.0f -
blend)); <br>
}</p>


<p style="margin-left:11%; margin-top: 1em"><b>pseudocolor</b>
<br>
Alter frame colors in video with pseudocolors.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
accept the following options:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>c0</b></p></td>
<td width="3%"></td>
<td width="83%">


<p style="margin-top: 1em">set pixel first component
expression</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>c1</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>set pixel second component expression</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>c2</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>set pixel third component expression</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>c3</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>set pixel fourth component expression, corresponds to
the alpha component</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>i</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>set component to use as base for altering colors</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Each of them
specifies the expression to use for computing the lookup
table for the corresponding pixel component values.</p>

<p style="margin-left:11%; margin-top: 1em">The expressions
can contain the following constants and functions:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p style="margin-top: 1em"><b>w</b></p></td>
<td width="2%"></td>
<td width="61%">
</td>
<td width="22%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>h</b></p></td>
<td width="2%"></td>
<td width="61%">


<p>The input width and height.</p></td>
<td width="22%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>val</b></p></td>
<td width="2%"></td>
<td width="61%">


<p>The input value for the pixel component.</p></td>
<td width="22%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>ymin, umin, vmin,
amin</b></p>

<p style="margin-left:17%;">The minimum allowed component
value.</p>

<p style="margin-left:11%;"><b>ymax, umax, vmax,
amax</b></p>

<p style="margin-left:17%;">The maximum allowed component
value.</p>

<p style="margin-left:11%; margin-top: 1em">All expressions
default to &quot;val&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="61%">


<p>Change too high luma values to gradient:</p></td>
<td width="22%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">pseudocolor=&quot;'if(between(val,ymax,amax),lerp(ymin,ymax,(val-ymax)/(amax-ymax)),-1):if(between(val,ymax,amax),lerp(umax,umin,(val-ymax)/(amax-ymax)),-1):if(between(val,ymax,amax),lerp(vmin,vmax,(val-ymax)/(amax-ymax)),-1):-1'&quot;</p>

<p style="margin-left:11%; margin-top: 1em"><b>psnr</b>
<br>
Obtain the average, maximum and minimum <small>PSNR</small>
(Peak Signal to Noise Ratio) between two input videos.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
takes in input two input videos, the first input is
considered the &quot;main&quot; source and is passed
unchanged to the output. The second input is used as a
&quot;reference&quot; video for computing the
<small>PSNR.</small></p>

<p style="margin-left:11%; margin-top: 1em">Both video
inputs must have the same resolution and pixel format for
this filter to work correctly. Also it assumes that both
inputs have the same number of frames, which are compared
one by one.</p>

<p style="margin-left:11%; margin-top: 1em">The obtained
average <small>PSNR</small> is printed through the logging
system.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
stores the accumulated <small>MSE</small> (mean squared
error) of each frame, and at the end of the processing it is
averaged across all frames equally, and the following
formula is applied to obtain the <small>PSNR:</small></p>

<p style="margin-left:11%; margin-top: 1em">PSNR =
10*log10(MAX^2/MSE)</p>

<p style="margin-left:11%; margin-top: 1em">Where
<small>MAX</small> is the average of the maximum values of
each component of the image.</p>

<p style="margin-left:11%; margin-top: 1em">The description
of the accepted parameters follows. <b><br>
stats_file, f</b></p>

<p style="margin-left:17%;">If specified the filter will
use the named file to save the <small>PSNR</small> of each
individual frame. When filename equals &quot;-&quot; the
data is sent to standard output.</p>

<p style="margin-left:11%;"><b>stats_version</b></p>

<p style="margin-left:17%;">Specifies which version of the
stats file format to use. Details of each format are written
below. Default value is 1.</p>

<p style="margin-left:11%;"><b>stats_add_max</b></p>

<p style="margin-left:17%;">Determines whether the max
value is output to the stats log. Default value is 0.
Requires stats_version &gt;= 2. If this is set and
stats_version &lt; 2, the filter will return an error.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
also supports the <b>framesync</b> options.</p>

<p style="margin-left:11%; margin-top: 1em">The file
printed if <i>stats_file</i> is selected, contains a
sequence of key/value pairs of the form
<i>key</i>:<i>value</i> for each compared couple of
frames.</p>

<p style="margin-left:11%; margin-top: 1em">If a
<i>stats_version</i> greater than 1 is specified, a header
line precedes the list of per-frame-pair stats, with key
value pairs following the frame format with the following
parameters: <b><br>
psnr_log_version</b></p>

<p style="margin-left:17%;">The version of the log file
format. Will match <i>stats_version</i>.</p>

<p style="margin-left:11%;"><b>fields</b></p>

<p style="margin-left:17%;">A comma separated list of the
per-frame-pair parameters included in the log.</p>

<p style="margin-left:11%; margin-top: 1em">A description
of each shown per-frame-pair parameter follows:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>n</b></p></td>
<td width="5%"></td>
<td width="81%">


<p>sequential number of the input frame, starting from
1</p> </td>
<td width="2%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>mse_avg</b></p>

<p style="margin-left:17%;">Mean Square Error
pixel-by-pixel average difference of the compared frames,
averaged over all the image components.</p>

<p style="margin-left:11%;"><b>mse_y, mse_u, mse_v, mse_r,
mse_g, mse_b, mse_a</b></p>

<p style="margin-left:17%;">Mean Square Error
pixel-by-pixel average difference of the compared frames for
the component specified by the suffix.</p>

<p style="margin-left:11%;"><b>psnr_y, psnr_u, psnr_v,
psnr_r, psnr_g, psnr_b, psnr_a</b></p>

<p style="margin-left:17%;">Peak Signal to Noise ratio of
the compared frames for the component specified by the
suffix.</p>

<p style="margin-left:11%;"><b>max_avg, max_y, max_u,
max_v</b></p>

<p style="margin-left:17%;">Maximum allowed value for each
channel, and average over all channels.</p>

<p style="margin-left:11%; margin-top: 1em">For
example:</p>


<p style="margin-left:11%; margin-top: 1em">movie=ref_movie.mpg,
setpts=PTS-STARTPTS [main]; <br>
[main][ref] psnr=&quot;stats_file=stats.log&quot; [out]</p>

<p style="margin-left:11%; margin-top: 1em">On this example
the input file being processed is compared with the
reference file <i>ref_movie.mpg</i>. The <small>PSNR</small>
of each individual frame is stored in <i>stats.log</i>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>pullup</b>
<br>
Pulldown reversal (inverse telecine) filter, capable of
handling mixed hard-telecine, 24000/1001 fps progressive,
and 30000/1001 fps progressive content.</p>

<p style="margin-left:11%; margin-top: 1em">The pullup
filter is designed to take advantage of future context in
making its decisions. This filter is stateless in the sense
that it does not lock onto a pattern to follow, but it
instead looks forward to the following fields in order to
identify matches and rebuild progressive frames.</p>

<p style="margin-left:11%; margin-top: 1em">To produce
content with an even framerate, insert the fps filter after
pullup, use &quot;fps=24000/1001&quot; if the input frame
rate is 29.97fps, &quot;fps=24&quot; for 30fps and the
(rare) telecined 25fps input.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>jl</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>jr</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>jt</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>jb</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>These options set the amount of &quot;junk&quot; to
ignore at the left, right, top, and bottom of the image,
respectively. Left and right are in units of 8 pixels, while
top and bottom are in units of 2 lines. The default is 8
pixels on each side.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>sb</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Set the strict breaks. Setting this option to 1 will
reduce the chances of filter generating an occasional
mismatched frame, but it may also cause an excessive number
of frames to be dropped during high motion sequences.
Conversely, setting it to -1 will make filter match fields
more easily. This may help processing of video where there
is slight blurring between the fields, but may also cause
there to be interlaced frames in the output. Default value
is 0.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>mp</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Set the metric plane to use. It accepts the following
values:</p> </td></tr>
</table>

<p style="margin-left:17%;"><b>l</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%"></td>
<td width="5%"></td>
<td width="34%">


<p style="margin-top: 1em">Use luma plane.</p></td>
<td width="43%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>u</b></p></td>
<td width="5%"></td>
<td width="34%">


<p>Use chroma blue plane.</p></td>
<td width="43%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>v</b></p></td>
<td width="5%"></td>
<td width="34%">


<p>Use chroma red plane.</p></td>
<td width="43%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">This option may
be set to use chroma plane instead of the default luma plane
for doing filter&rsquo;s computations. This may improve
accuracy on very clean source material, but more likely will
decrease accuracy, especially if there is chroma noise
(rainbow effect) or any grayscale video. The main purpose of
setting <b>mp</b> to a chroma plane is to reduce
<small>CPU</small> load and make pullup usable in realtime
on slow machines.</p>

<p style="margin-left:11%; margin-top: 1em">For best
results (without duplicated frames in the output file) it is
necessary to change the output frame rate. For example, to
inverse telecine <small>NTSC</small> input:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i input
-vf pullup -r 24000/1001 ...</p>

<p style="margin-left:11%; margin-top: 1em"><b>qp</b> <br>
Change video quantization parameters ( <small>QP</small>
).</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following option:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>qp</b></p></td>
<td width="3%"></td>
<td width="65%">


<p style="margin-top: 1em">Set expression for quantization
parameter.</p> </td>
<td width="18%">
</td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">The expression
is evaluated through the eval <small>API</small> and can
contain, among others, the following constants: <i><br>
known</i></p>

<p style="margin-left:17%;">1 if index is not 129, 0
otherwise.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><i>qp</i></p></td>
<td width="3%"></td>
<td width="66%">


<p>Sequential index starting from -129 to 128.</p></td>
<td width="17%">
</td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="29%">


<p style="margin-top: 1em">Some equation like:</p></td>
<td width="54%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">qp=2+2*sin(PI*qp)</p>

<p style="margin-left:11%; margin-top: 1em"><b>random</b>
<br>
Flush video frames from internal cache of frames into a
random order. No frame is discarded. Inspired by
<b>frei0r</b> nervous filter. <b><br>
frames</b></p>

<p style="margin-left:17%;">Set size in number of frames of
internal cache, in range from 2 to 512. Default is 30.</p>

<p style="margin-left:11%;"><b>seed</b></p>

<p style="margin-left:17%;">Set seed for random number
generator, must be an integer included between 0 and
&quot;UINT32_MAX&quot;. If not specified, or if explicitly
set to less than 0, the filter will try to use a good random
seed on a best effort basis.</p>


<p style="margin-left:11%; margin-top: 1em"><b>readeia608</b>
<br>
Read closed captioning ( <small>EIA-608</small> )
information from the top lines of a video frame.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
adds frame metadata for &quot;lavfi.readeia608.X.cc&quot;
and &quot;lavfi.readeia608.X.line&quot;, where &quot;X&quot;
is the number of the identified line with
<small>EIA-608</small> data (starting from 0). A description
of each metadata value follows: <b><br>
lavfi.readeia608.X.cc</b></p>

<p style="margin-left:17%;">The two bytes stored as
<small>EIA-608</small> data (printed in hexadecimal).</p>


<p style="margin-left:11%;"><b>lavfi.readeia608.X.line</b></p>

<p style="margin-left:17%;">The number of the line on which
the <small>EIA-608</small> data was identified and read.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
accepts the following options: <b><br>
scan_min</b></p>

<p style="margin-left:17%;">Set the line to start scanning
for <small>EIA-608</small> data. Default is 0.</p>

<p style="margin-left:11%;"><b>scan_max</b></p>

<p style="margin-left:17%;">Set the line to end scanning
for <small>EIA-608</small> data. Default is 29.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>mac</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set minimal acceptable amplitude change for sync codes
detection. Default is 0.2. Allowed range is &quot;[0.001 -
1]&quot;.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>spw</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set the ratio of width reserved for sync code detection.
Default is 0.27. Allowed range is &quot;[0.01 -
0.7]&quot;.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>mhd</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set the max peaks height difference for sync code
detection. Default is 0.1. Allowed range is &quot;[0.0 -
0.5]&quot;.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>mpd</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set max peaks period difference for sync code detection.
Default is 0.1. Allowed range is &quot;[0.0 -
0.5]&quot;.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>msd</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set the first two max start code bits differences.
Default is 0.02. Allowed range is &quot;[0.0 -
0.5]&quot;.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>bhd</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set the minimum ratio of bits height compared to 3rd
start code bit. Default is 0.75. Allowed range is
&quot;[0.01 - 1]&quot;.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>th_w</b></p>

<p style="margin-left:17%;">Set the white color threshold.
Default is 0.35. Allowed range is &quot;[0.1 - 1]&quot;.</p>

<p style="margin-left:11%;"><b>th_b</b></p>

<p style="margin-left:17%;">Set the black color threshold.
Default is 0.15. Allowed range is &quot;[0.0 -
0.5]&quot;.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>chp</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Enable checking the parity bit. In the event of a parity
error, the filter will output 0x00 for that character.
Default is false.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>lp</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Lowpass lines prior further proccessing. Default is
disabled.</p> </td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Output a csv with presentation
time and the first two lines of identified
<small>EIA-608</small> captioning data.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffprobe -f
lavfi -i movie=captioned_video.mov,readeia608 -show_entries
frame=pkt_pts_time:frame_tags=lavfi.readeia608.0.cc,lavfi.readeia608.1.cc
-of csv</p>


<p style="margin-left:11%; margin-top: 1em"><b>readvitc</b>
<br>
Read vertical interval timecode ( <small>VITC</small> )
information from the top lines of a video frame.</p>

<p style="margin-left:11%; margin-top: 1em">The filter adds
frame metadata key &quot;lavfi.readvitc.tc_str&quot; with
the timecode value, if a valid timecode has been detected.
Further metadata key &quot;lavfi.readvitc.found&quot; is set
to 0/1 depending on whether timecode data has been found or
not.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
accepts the following options: <b><br>
scan_max</b></p>

<p style="margin-left:17%;">Set the maximum number of lines
to scan for <small>VITC</small> data. If the value is set to
&quot;-1&quot; the full video frame is scanned. Default is
45.</p>

<p style="margin-left:11%;"><b>thr_b</b></p>

<p style="margin-left:17%;">Set the luma threshold for
black. Accepts float numbers in the range [0.0,1.0], default
value is 0.2. The value must be equal or less than
&quot;thr_w&quot;.</p>

<p style="margin-left:11%;"><b>thr_w</b></p>

<p style="margin-left:17%;">Set the luma threshold for
white. Accepts float numbers in the range [0.0,1.0], default
value is 0.6. The value must be equal or greater than
&quot;thr_b&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Detect and draw <small>VITC</small> data onto the video
frame; if no valid <small>VITC</small> is detected, draw
&quot;--:--:--:--&quot; as a placeholder:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
input.avi -filter:v
'readvitc,drawtext=fontfile=FreeMono.ttf:text=%{metadata\\:lavfi.readvitc.tc_str\\:--\\\\\\:--\\\\\\:--\\\\\\:--}:x=(w-tw)/2:y=400-ascent'</p>

<p style="margin-left:11%; margin-top: 1em"><b>remap</b>
<br>
Remap pixels using 2nd: Xmap and 3rd: Ymap input video
stream.</p>

<p style="margin-left:11%; margin-top: 1em">Destination
pixel at position (X, Y) will be picked from source (x, y)
position where x = Xmap(X, Y) and y = Ymap(X, Y). If mapping
values are out of range, zero value for pixel will be used
for destination pixel.</p>

<p style="margin-left:11%; margin-top: 1em">Xmap and Ymap
input video streams must be of same dimensions. Output video
stream will have Xmap/Ymap video stream dimensions. Xmap and
Ymap input video streams are 16bit depth, single channel.
<b><br>
format</b></p>

<p style="margin-left:17%;">Specify pixel format of output
from this filter. Can be &quot;color&quot; or
&quot;gray&quot;. Default is &quot;color&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><b>removegrain</b>
<br>
The removegrain filter is a spatial denoiser for progressive
video.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>m0</b></p></td>
<td width="3%"></td>
<td width="46%">


<p>Set mode for the first plane.</p></td>
<td width="37%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>m1</b></p></td>
<td width="3%"></td>
<td width="46%">


<p>Set mode for the second plane.</p></td>
<td width="37%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>m2</b></p></td>
<td width="3%"></td>
<td width="46%">


<p>Set mode for the third plane.</p></td>
<td width="37%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>m3</b></p></td>
<td width="3%"></td>
<td width="46%">


<p>Set mode for the fourth plane.</p></td>
<td width="37%">
</td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Range of mode
is from 0 to 24. Description of each mode follows:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><i>0</i></p></td>
<td width="3%"></td>
<td width="83%">


<p style="margin-top: 1em">Leave input plane unchanged.
Default.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><i>1</i></p></td>
<td width="3%"></td>
<td width="83%">


<p>Clips the pixel with the minimum and maximum of the 8
neighbour pixels.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><i>2</i></p></td>
<td width="3%"></td>
<td width="83%">


<p>Clips the pixel with the second minimum and maximum of
the 8 neighbour pixels.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><i>3</i></p></td>
<td width="3%"></td>
<td width="83%">


<p>Clips the pixel with the third minimum and maximum of
the 8 neighbour pixels.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><i>4</i></p></td>
<td width="3%"></td>
<td width="83%">


<p>Clips the pixel with the fourth minimum and maximum of
the 8 neighbour pixels. This is equivalent to a median
filter.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><i>5</i></p></td>
<td width="3%"></td>
<td width="83%">


<p>Line-sensitive clipping giving the minimal change.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><i>6</i></p></td>
<td width="3%"></td>
<td width="83%">


<p>Line-sensitive clipping, intermediate.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><i>7</i></p></td>
<td width="3%"></td>
<td width="83%">


<p>Line-sensitive clipping, intermediate.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><i>8</i></p></td>
<td width="3%"></td>
<td width="83%">


<p>Line-sensitive clipping, intermediate.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><i>9</i></p></td>
<td width="3%"></td>
<td width="83%">


<p>Line-sensitive clipping on a line where the neighbours
pixels are the closest.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><i>10</i></p></td>
<td width="3%"></td>
<td width="83%">


<p>Replaces the target pixel with the closest
neighbour.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><i>11</i></p></td>
<td width="3%"></td>
<td width="83%">


<p>[1 2 1] horizontal and vertical kernel blur.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><i>12</i></p></td>
<td width="3%"></td>
<td width="83%">


<p>Same as mode 11.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><i>13</i></p></td>
<td width="3%"></td>
<td width="83%">


<p>Bob mode, interpolates top field from the line where the
neighbours pixels are the closest.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><i>14</i></p></td>
<td width="3%"></td>
<td width="83%">


<p>Bob mode, interpolates bottom field from the line where
the neighbours pixels are the closest.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><i>15</i></p></td>
<td width="3%"></td>
<td width="83%">


<p>Bob mode, interpolates top field. Same as 13 but with a
more complicated interpolation formula.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><i>16</i></p></td>
<td width="3%"></td>
<td width="83%">


<p>Bob mode, interpolates bottom field. Same as 14 but with
a more complicated interpolation formula.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><i>17</i></p></td>
<td width="3%"></td>
<td width="83%">


<p>Clips the pixel with the minimum and maximum of
respectively the maximum and minimum of each pair of
opposite neighbour pixels.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><i>18</i></p></td>
<td width="3%"></td>
<td width="83%">


<p>Line-sensitive clipping using opposite neighbours whose
greatest distance from the current pixel is minimal.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><i>19</i></p></td>
<td width="3%"></td>
<td width="83%">


<p>Replaces the pixel with the average of its 8
neighbours.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><i>20</i></p></td>
<td width="3%"></td>
<td width="83%">


<p>Averages the 9 pixels ([1 1 1] horizontal and vertical
blur).</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><i>21</i></p></td>
<td width="3%"></td>
<td width="83%">


<p>Clips pixels using the averages of opposite
neighbour.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><i>22</i></p></td>
<td width="3%"></td>
<td width="83%">


<p>Same as mode 21 but simpler and faster.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><i>23</i></p></td>
<td width="3%"></td>
<td width="83%">


<p>Small edge and halo removal, but reputed useless.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><i>24</i></p></td>
<td width="3%"></td>
<td width="83%">


<p>Similar as 23.</p></td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><b>removelogo</b>
<br>
Suppress a <small>TV</small> station logo, using an image
file to determine which pixels comprise the logo. It works
by filling in the pixels that comprise the logo with
neighboring pixels.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
filename, f</b></p>

<p style="margin-left:17%;">Set the filter bitmap file,
which can be any image format supported by libavformat. The
width and height of the image file must match those of the
video stream being processed.</p>

<p style="margin-left:11%; margin-top: 1em">Pixels in the
provided bitmap image with a value of zero are not
considered part of the logo, non-zero pixels are considered
part of the logo. If you use white (255) for the logo and
black (0) for the rest, you will be safe. For making the
filter bitmap, it is recommended to take a screen capture of
a black frame with the logo visible, and then using a
threshold filter followed by the erode filter once or
twice.</p>

<p style="margin-left:11%; margin-top: 1em">If needed,
little splotches can be fixed manually. Remember that if
logo pixels are not covered, the filter quality will be much
reduced. Marking too many pixels as part of the logo does
not hurt as much, but it will increase the amount of
blurring needed to cover over the image and will destroy
more information than necessary, and extra pixels will slow
things down on a large logo.</p>


<p style="margin-left:11%; margin-top: 1em"><b>repeatfields</b>
<br>
This filter uses the repeat_field flag from the Video
<small>ES</small> headers and hard repeats fields based on
its value.</p>

<p style="margin-left:11%; margin-top: 1em"><b>reverse</b>
<br>
Reverse a video clip.</p>

<p style="margin-left:11%; margin-top: 1em">Warning: This
filter requires memory to buffer the entire clip, so
trimming is suggested.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="78%">


<p>Take the first 5 seconds of a clip, and reverse it.</p></td>
<td width="5%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">trim=end=5,reverse</p>


<p style="margin-left:11%; margin-top: 1em"><b>rgbashift</b>
<br>
Shift R/G/B/A pixels horizontally and/or vertically.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>rh</b></p></td>
<td width="3%"></td>
<td width="60%">


<p style="margin-top: 1em">Set amount to shift red
horizontally.</p> </td>
<td width="23%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>rv</b></p></td>
<td width="3%"></td>
<td width="60%">


<p>Set amount to shift red vertically.</p></td>
<td width="23%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>gh</b></p></td>
<td width="3%"></td>
<td width="60%">


<p>Set amount to shift green horizontally.</p></td>
<td width="23%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>gv</b></p></td>
<td width="3%"></td>
<td width="60%">


<p>Set amount to shift green vertically.</p></td>
<td width="23%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>bh</b></p></td>
<td width="3%"></td>
<td width="60%">


<p>Set amount to shift blue horizontally.</p></td>
<td width="23%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>bv</b></p></td>
<td width="3%"></td>
<td width="60%">


<p>Set amount to shift blue vertically.</p></td>
<td width="23%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>ah</b></p></td>
<td width="3%"></td>
<td width="60%">


<p>Set amount to shift alpha horizontally.</p></td>
<td width="23%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>av</b></p></td>
<td width="3%"></td>
<td width="60%">


<p>Set amount to shift alpha vertically.</p></td>
<td width="23%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>edge</b></p>

<p style="margin-left:17%;">Set edge mode, can be
<i>smear</i>, default, or <i>warp</i>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>roberts</b>
<br>
Apply roberts cross operator to input video stream.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following option: <b><br>
planes</b></p>

<p style="margin-left:17%;">Set which planes will be
processed, unprocessed planes will be copied. By default
value 0xf, all planes will be processed.</p>

<p style="margin-left:11%;"><b>scale</b></p>

<p style="margin-left:17%;">Set value which will be
multiplied with filtered result.</p>

<p style="margin-left:11%;"><b>delta</b></p>

<p style="margin-left:17%;">Set value which will be added
to filtered result.</p>

<p style="margin-left:11%; margin-top: 1em"><b>rotate</b>
<br>
Rotate video by an arbitrary angle expressed in radians.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options:</p>

<p style="margin-left:11%; margin-top: 1em">A description
of the optional parameters follows. <b><br>
angle, a</b></p>

<p style="margin-left:17%;">Set an expression for the angle
by which to rotate the input video clockwise, expressed as a
number of radians. A negative value will result in a
counter-clockwise rotation. By default it is set to
&quot;0&quot;.</p>

<p style="margin-left:17%; margin-top: 1em">This expression
is evaluated for each frame.</p>

<p style="margin-left:11%;"><b>out_w, ow</b></p>

<p style="margin-left:17%;">Set the output width
expression, default value is &quot;iw&quot;. This expression
is evaluated just once during configuration.</p>

<p style="margin-left:11%;"><b>out_h, oh</b></p>

<p style="margin-left:17%;">Set the output height
expression, default value is &quot;ih&quot;. This expression
is evaluated just once during configuration.</p>

<p style="margin-left:11%;"><b>bilinear</b></p>

<p style="margin-left:17%;">Enable bilinear interpolation
if set to 1, a value of 0 disables it. Default value is
1.</p>

<p style="margin-left:11%;"><b>fillcolor, c</b></p>

<p style="margin-left:17%;">Set the color used to fill the
output area not covered by the rotated image. For the
general syntax of this option, check the
<b>&quot;Color&quot; section in the ffmpeg-utils manual</b>.
If the special value &quot;none&quot; is selected then no
background is printed (useful for example if the background
is never shown).</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is &quot;black&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">The expressions
for the angle and the output size can contain the following
constants and functions:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>n</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>sequential number of the input frame, starting from 0.
It is always <small>NAN</small> before the first frame is
filtered.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>t</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>time in seconds of the input frame, it is set to 0 when
the filter is configured. It is always <small>NAN</small>
before the first frame is filtered.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>hsub <br>
vsub</b></p>

<p style="margin-left:17%;">horizontal and vertical chroma
subsample values. For example for the pixel format
&quot;yuv422p&quot; <i>hsub</i> is 2 and <i>vsub</i> is
1.</p>

<p style="margin-left:11%;"><b>in_w, iw <br>
in_h, ih</b></p>

<p style="margin-left:17%;">the input video width and
height</p>

<p style="margin-left:11%;"><b>out_w, ow <br>
out_h, oh</b></p>

<p style="margin-left:17%;">the output width and height,
that is the size of the padded area as specified by the
<i>width</i> and <i>height</i> expressions</p>

<p style="margin-left:11%;"><b>rotw(a) <br>
roth(a)</b></p>

<p style="margin-left:17%;">the minimal width/height
required for completely containing the input video rotated
by <i>a</i> radians.</p>

<p style="margin-left:17%; margin-top: 1em">These are only
available when computing the <b>out_w</b> and <b>out_h</b>
expressions.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="66%">


<p>Rotate the input by <small>PI/6</small> radians
clockwise:</p> </td>
<td width="17%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">rotate=PI/6</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="78%">


<p style="margin-top: 1em">Rotate the input by
<small>PI/6</small> radians counter-clockwise:</p></td>
<td width="5%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">rotate=-PI/6</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="63%">


<p style="margin-top: 1em">Rotate the input by 45 degrees
clockwise:</p> </td>
<td width="20%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">rotate=45*PI/180</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Apply a constant rotation with
period T, starting from an angle of <small>PI/3:</small></p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">rotate=PI/3+2*PI*t/T</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Make the input video rotation
oscillating with a period of T seconds and an amplitude of A
radians:</p> </td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">rotate=A*sin(2*PI/T*t)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Rotate the video, output size is
chosen so that the whole rotating input video is always
completely contained in the output:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">rotate='2*PI*t:ow=hypot(iw,ih):oh=ow'</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Rotate the video, reduce the
output size so that no background is ever shown:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">rotate=2*PI*t:ow='min(iw,ih)/sqrt(2)':oh=ow:c=none</p>


<p style="margin-left:11%; margin-top: 1em"><i>Commands</i></p>

<p style="margin-left:11%; margin-top: 1em">The filter
supports the following commands: <b><br>
a, angle</b></p>

<p style="margin-left:17%;">Set the angle expression. The
command accepts the same syntax of the corresponding
option.</p>

<p style="margin-left:17%; margin-top: 1em">If the
specified expression is not valid, it is kept at its current
value.</p>

<p style="margin-left:11%; margin-top: 1em"><b>sab</b> <br>
Apply Shape Adaptive Blur.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
luma_radius, lr</b></p>

<p style="margin-left:17%;">Set luma blur filter strength,
must be a value in range 0.1-4.0, default value is 1.0. A
greater value will result in a more blurred image, and in
slower processing.</p>

<p style="margin-left:11%;"><b>luma_pre_filter_radius,
lpfr</b></p>

<p style="margin-left:17%;">Set luma pre-filter radius,
must be a value in the 0.1-2.0 range, default value is
1.0.</p>

<p style="margin-left:11%;"><b>luma_strength, ls</b></p>

<p style="margin-left:17%;">Set luma maximum difference
between pixels to still be considered, must be a value in
the 0.1-100.0 range, default value is 1.0.</p>

<p style="margin-left:11%;"><b>chroma_radius, cr</b></p>

<p style="margin-left:17%;">Set chroma blur filter
strength, must be a value in range -0.9-4.0. A greater value
will result in a more blurred image, and in slower
processing.</p>

<p style="margin-left:11%;"><b>chroma_pre_filter_radius,
cpfr</b></p>

<p style="margin-left:17%;">Set chroma pre-filter radius,
must be a value in the -0.9-2.0 range.</p>

<p style="margin-left:11%;"><b>chroma_strength, cs</b></p>

<p style="margin-left:17%;">Set chroma maximum difference
between pixels to still be considered, must be a value in
the -0.9-100.0 range.</p>

<p style="margin-left:11%; margin-top: 1em">Each chroma
option value, if not explicitly specified, is set to the
corresponding luma option value.</p>

<p style="margin-left:11%; margin-top: 1em"><b>scale</b>
<br>
Scale (resize) the input video, using the libswscale
library.</p>

<p style="margin-left:11%; margin-top: 1em">The scale
filter forces the output display aspect ratio to be the same
of the input, by changing the output sample aspect
ratio.</p>

<p style="margin-left:11%; margin-top: 1em">If the input
image format is different from the format requested by the
next filter, the scale filter will convert the input to the
requested format.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Options</i></p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options, or any of the options
supported by the libswscale scaler.</p>

<p style="margin-left:11%; margin-top: 1em">See <b>the
ffmpeg-scaler manual</b> for the complete list of scaler
options. <b><br>
width, w <br>
height, h</b></p>

<p style="margin-left:17%;">Set the output video dimension
expression. Default value is the input dimension.</p>

<p style="margin-left:17%; margin-top: 1em">If the
<i>width</i> or <i>w</i> value is 0, the input width is used
for the output. If the <i>height</i> or <i>h</i> value is 0,
the input height is used for the output.</p>

<p style="margin-left:17%; margin-top: 1em">If one and only
one of the values is -n with n &gt;= 1, the scale filter
will use a value that maintains the aspect ratio of the
input image, calculated from the other specified dimension.
After that it will, however, make sure that the calculated
dimension is divisible by n and adjust the value if
necessary.</p>

<p style="margin-left:17%; margin-top: 1em">If both values
are -n with n &gt;= 1, the behavior will be identical to
both values being set to 0 as previously detailed.</p>

<p style="margin-left:17%; margin-top: 1em">See below for
the list of accepted constants for use in the dimension
expression.</p>

<p style="margin-left:11%;"><b>eval</b></p>

<p style="margin-left:17%;">Specify when to evaluate
<i>width</i> and <i>height</i> expression. It accepts the
following values: <b><br>
init</b></p>

<p style="margin-left:23%;">Only evaluate expressions once
during the filter initialization or when a command is
processed.</p>

<p style="margin-left:17%;"><b>frame</b></p>

<p style="margin-left:23%;">Evaluate expressions for each
incoming frame.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is <b>init</b>.</p>

<p style="margin-left:11%;"><b>interl</b></p>

<p style="margin-left:17%;">Set the interlacing mode. It
accepts the following values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>1</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>Force interlaced aware scaling.</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>0</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>Do not apply interlaced scaling.</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>-1</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>Select interlaced aware scaling depending on whether the
source frames are flagged as interlaced or not.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Default value
is <b>0</b>.</p>

<p style="margin-left:11%;"><b>flags</b></p>

<p style="margin-left:17%;">Set libswscale scaling flags.
See <b>the ffmpeg-scaler manual</b> for the complete list of
values. If not explicitly specified the filter applies the
default flags.</p>

<p style="margin-left:11%;"><b>param0, param1</b></p>

<p style="margin-left:17%;">Set libswscale input parameters
for scaling algorithms that need them. See <b>the
ffmpeg-scaler manual</b> for the complete documentation. If
not explicitly specified the filter applies empty
parameters.</p>

<p style="margin-left:11%;"><b>size, s</b></p>

<p style="margin-left:17%;">Set the video size. For the
syntax of this option, check the <b>&quot;Video size&quot;
section in the ffmpeg-utils manual</b>.</p>

<p style="margin-left:11%;"><b>in_color_matrix <br>
out_color_matrix</b></p>

<p style="margin-left:17%;">Set in/output YCbCr color space
type.</p>

<p style="margin-left:17%; margin-top: 1em">This allows the
autodetected value to be overridden as well as allows
forcing a specific value used for the output and
encoder.</p>

<p style="margin-left:17%; margin-top: 1em">If not
specified, the color space type depends on the pixel
format.</p>

<p style="margin-left:17%; margin-top: 1em">Possible
values: <b><br>
auto</b></p>

<p style="margin-left:23%;">Choose automatically.</p>

<p style="margin-left:17%;"><b>bt709</b></p>

<p style="margin-left:23%;">Format conforming to
International Telecommunication Union ( <small>ITU</small> )
Recommendation <small>BT.709.</small></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>fcc</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>Set color space conforming to the United States Federal
Communications Commission ( <small>FCC</small> ) Code of
Federal Regulations ( <small>CFR</small> ) Title 47 (2003)
73.682 (a).</p></td></tr>
</table>

<p style="margin-left:17%;"><b>bt601 <br>
bt470 <br>
smpte170m</b></p>

<p style="margin-left:23%;">Set color space conforming
to:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="71%">


<p><small>ITU</small> Radiocommunication Sector (ITU-R)
Recommendation <small>BT.601</small></p></td></tr>
<tr valign="top" align="left">
<td width="23%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="71%">


<p>ITU-R Rec. <small>BT.470-6</small> (1998) Systems B, B1,
and G</p></td></tr>
<tr valign="top" align="left">
<td width="23%"></td>
<td width="2%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="71%">


<p>Society of Motion Picture and Television Engineers (
<small>SMPTE</small> ) <small>ST 170:2004</small></p></td></tr>
</table>

<p style="margin-left:17%;"><b>smpte240m</b></p>

<p style="margin-left:23%;">Set color space conforming to
<small>SMPTE ST 240:1999.</small></p>

<p style="margin-left:17%;"><b>bt2020</b></p>

<p style="margin-left:23%;">Set color space conforming to
ITU-R <small>BT.2020</small> non-constant luminance
system.</p>

<p style="margin-left:11%;"><b>in_range <br>
out_range</b></p>

<p style="margin-left:17%;">Set in/output YCbCr sample
range.</p>

<p style="margin-left:17%; margin-top: 1em">This allows the
autodetected value to be overridden as well as allows
forcing a specific value used for the output and encoder. If
not specified, the range depends on the pixel format.
Possible values: <b><br>
auto/unknown</b></p>

<p style="margin-left:23%;">Choose automatically.</p>

<p style="margin-left:17%;"><b>jpeg/full/pc</b></p>

<p style="margin-left:23%;">Set full range (0-255 in case
of 8-bit luma).</p>

<p style="margin-left:17%;"><b>mpeg/limited/tv</b></p>

<p style="margin-left:23%;">Set &quot;
<small>MPEG&quot;</small> range (16-235 in case of 8-bit
luma).</p>


<p style="margin-left:11%;"><b>force_original_aspect_ratio</b></p>

<p style="margin-left:17%;">Enable decreasing or increasing
output video width or height if necessary to keep the
original aspect ratio. Possible values: <b><br>
disable</b></p>

<p style="margin-left:23%;">Scale the video as specified
and disable this feature.</p>

<p style="margin-left:17%;"><b>decrease</b></p>

<p style="margin-left:23%;">The output video dimensions
will automatically be decreased if needed.</p>

<p style="margin-left:17%;"><b>increase</b></p>

<p style="margin-left:23%;">The output video dimensions
will automatically be increased if needed.</p>

<p style="margin-left:17%; margin-top: 1em">One useful
instance of this option is that when you know a specific
device&rsquo;s maximum allowed resolution, you can use this
to limit the output video to that, while retaining the
aspect ratio. For example, device A allows 1280x720
playback, and your video is 1920x800. Using this option (set
it to decrease) and specifying 1280x720 to the command line
makes the output 1280x533.</p>

<p style="margin-left:17%; margin-top: 1em">Please note
that this is a different thing than specifying -1 for
<b>w</b> or <b>h</b>, you still need to specify the output
resolution for this option to work.</p>

<p style="margin-left:11%; margin-top: 1em">The values of
the <b>w</b> and <b>h</b> options are expressions containing
the following constants: <i><br>
in_w <br>
in_h</i></p>

<p style="margin-left:17%;">The input width and height</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><i>iw</i></p></td>
<td width="3%"></td>
<td width="55%">
</td>
<td width="28%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><i>ih</i></p></td>
<td width="3%"></td>
<td width="55%">


<p>These are the same as <i>in_w</i> and <i>in_h</i>.</p></td>
<td width="28%">
</td></tr>
</table>

<p style="margin-left:11%;"><i>out_w <br>
out_h</i></p>

<p style="margin-left:17%;">The output (scaled) width and
height</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><i>ow</i></p></td>
<td width="2%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><i>oh</i></p></td>
<td width="2%"></td>
<td width="83%">


<p>These are the same as <i>out_w</i> and <i>out_h</i></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><i>a</i></p></td>
<td width="2%"></td>
<td width="83%">


<p>The same as <i>iw</i> / <i>ih</i></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><i>sar</i></p></td>
<td width="2%"></td>
<td width="83%">


<p>input sample aspect ratio</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><i>dar</i></p></td>
<td width="2%"></td>
<td width="83%">


<p>The input display aspect ratio. Calculated from
&quot;(iw / ih) * sar&quot;.</p></td></tr>
</table>

<p style="margin-left:11%;"><i>hsub <br>
vsub</i></p>

<p style="margin-left:17%;">horizontal and vertical input
chroma subsample values. For example for the pixel format
&quot;yuv422p&quot; <i>hsub</i> is 2 and <i>vsub</i> is
1.</p>

<p style="margin-left:11%;"><i>ohsub <br>
ovsub</i></p>

<p style="margin-left:17%;">horizontal and vertical output
chroma subsample values. For example for the pixel format
&quot;yuv422p&quot; <i>hsub</i> is 2 and <i>vsub</i> is
1.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="65%">


<p>Scale the input video to a size of 200x100</p></td>
<td width="18%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">scale=w=200:h=100</p>

<p style="margin-left:17%; margin-top: 1em">This is
equivalent to:</p>


<p style="margin-left:17%; margin-top: 1em">scale=200:100</p>

<p style="margin-left:17%; margin-top: 1em">or:</p>


<p style="margin-left:17%; margin-top: 1em">scale=200x100</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="74%">


<p style="margin-top: 1em">Specify a size abbreviation for
the output size:</p></td>
<td width="9%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">scale=qcif</p>

<p style="margin-left:17%; margin-top: 1em">which can also
be written as:</p>


<p style="margin-left:17%; margin-top: 1em">scale=size=qcif</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="34%">


<p style="margin-top: 1em">Scale the input to 2x:</p></td>
<td width="49%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">scale=w=2*iw:h=2*ih</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="38%">


<p style="margin-top: 1em">The above is the same as:</p></td>
<td width="45%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">scale=2*in_w:2*in_h</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="81%">


<p style="margin-top: 1em">Scale the input to 2x with
forced interlaced scaling:</p></td>
<td width="2%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">scale=2*iw:2*ih:interl=1</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="45%">


<p style="margin-top: 1em">Scale the input to half
size:</p> </td>
<td width="38%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">scale=w=iw/2:h=ih/2</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Increase the width, and set the
height to the same size:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">scale=3/2*iw:ow</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="29%">


<p style="margin-top: 1em">Seek Greek harmony:</p></td>
<td width="54%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">scale=iw:1/PHI*iw
<br>
scale=ih*PHI:ih</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Increase the height, and set the
width to 3/2 of the height:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">scale=w=3/2*oh:h=3/5*ih</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Increase the size, making the
size a multiple of the chroma subsample values:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">scale=&quot;trunc(3/2*iw/hsub)*hsub:trunc(3/2*ih/vsub)*vsub&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Increase the width to a maximum
of 500 pixels, keeping the same aspect ratio as the
input:</p> </td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">scale=w='min(500\,
iw*3/2):h=-1'</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="75%">


<p style="margin-top: 1em">Make pixels square by combining
scale and setsar:</p></td>
<td width="8%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">scale='trunc(ih*dar):ih',setsar=1/1</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Make pixels square by combining
scale and setsar, making sure the resulting resolution is
even (required by some codecs):</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">scale='trunc(ih*dar/2)*2:trunc(ih/2)*2',setsar=1/1</p>


<p style="margin-left:11%; margin-top: 1em"><i>Commands</i></p>

<p style="margin-left:11%; margin-top: 1em">This filter
supports the following commands: <b><br>
width, w <br>
height, h</b></p>

<p style="margin-left:17%;">Set the output video dimension
expression. The command accepts the same syntax of the
corresponding option.</p>

<p style="margin-left:17%; margin-top: 1em">If the
specified expression is not valid, it is kept at its current
value.</p>


<p style="margin-left:11%; margin-top: 1em"><b>scale_npp</b>
<br>
Use the <small>NVIDIA</small> Performance Primitives
(libnpp) to perform scaling and/or pixel format conversion
on <small>CUDA</small> video frames. Setting the output
width and height works in the same way as for the
<i>scale</i> filter.</p>

<p style="margin-left:11%; margin-top: 1em">The following
additional options are accepted: <b><br>
format</b></p>

<p style="margin-left:17%;">The pixel format of the output
<small>CUDA</small> frames. If set to the string
&quot;same&quot; (the default), the input format will be
kept. Note that automatic format negotiation and conversion
is not yet supported for hardware frames</p>

<p style="margin-left:11%;"><b>interp_algo</b></p>

<p style="margin-left:17%;">The interpolation algorithm
used for resizing. One of the following:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>nn</b></p></td>
<td width="3%"></td>
<td width="28%">


<p>Nearest neighbour.</p></td>
<td width="49%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>linear <br>
cubic <br>
cubic2p_bspline</b></p>

<p style="margin-left:23%;">2-parameter cubic (B=1,
C=0)</p>

<p style="margin-left:17%;"><b>cubic2p_catmullrom</b></p>

<p style="margin-left:23%;">2-parameter cubic (B=0,
C=1/2)</p>

<p style="margin-left:17%;"><b>cubic2p_b05c03</b></p>

<p style="margin-left:23%;">2-parameter cubic (B=1/2,
C=3/10)</p>

<p style="margin-left:17%;"><b>super</b></p>

<p style="margin-left:23%;">Supersampling</p>

<p style="margin-left:17%;"><b>lanczos</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>scale2ref</b>
<br>
Scale (resize) the input video, based on a reference
video.</p>

<p style="margin-left:11%; margin-top: 1em">See the scale
filter for available options, scale2ref supports the same
but uses the reference video instead of the main input as
basis. scale2ref also supports the following additional
constants for the <b>w</b> and <b>h</b> options: <i><br>
main_w <br>
main_h</i></p>

<p style="margin-left:17%;">The main input video&rsquo;s
width and height</p>

<p style="margin-left:11%;"><i>main_a</i></p>

<p style="margin-left:17%;">The same as <i>main_w</i> /
<i>main_h</i></p>

<p style="margin-left:11%;"><i>main_sar</i></p>

<p style="margin-left:17%;">The main input video&rsquo;s
sample aspect ratio</p>

<p style="margin-left:11%;"><i>main_dar, mdar</i></p>

<p style="margin-left:17%;">The main input video&rsquo;s
display aspect ratio. Calculated from &quot;(main_w /
main_h) * main_sar&quot;.</p>

<p style="margin-left:11%;"><i>main_hsub <br>
main_vsub</i></p>

<p style="margin-left:17%;">The main input video&rsquo;s
horizontal and vertical chroma subsample values. For example
for the pixel format &quot;yuv422p&quot; <i>hsub</i> is 2
and <i>vsub</i> is 1.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Scale a subtitle stream (b) to match the main video (a)
in size before overlaying</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">'scale2ref[b][a];[a][b]overlay'</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Scale a logo to 1/10th the
height of a video, while preserving its display aspect
ratio.</p> </td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">[logo-in][video-in]scale2ref=w=oh*mdar:h=ih/10[logo-out][video-out]</p>


<p style="margin-left:11%; margin-top: 1em"><b>selectivecolor</b>
<br>
Adjust cyan, magenta, yellow and black ( <small>CMYK</small>
) to certain ranges of colors (such as &quot;reds&quot;,
&quot;yellows&quot;, &quot;greens&quot;, &quot;cyans&quot;,
...). The adjustment range is defined by the
&quot;purity&quot; of the color (that is, how saturated it
already is).</p>

<p style="margin-left:11%; margin-top: 1em">This filter is
similar to the Adobe Photoshop Selective Color tool.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
correction_method</b></p>

<p style="margin-left:17%;">Select color correction
method.</p>

<p style="margin-left:17%; margin-top: 1em">Available
values are: <b><br>
absolute</b></p>

<p style="margin-left:23%;">Specified adjustments are
applied &quot;as-is&quot; (added/subtracted to original
pixel component value).</p>

<p style="margin-left:17%;"><b>relative</b></p>

<p style="margin-left:23%;">Specified adjustments are
relative to the original component value.</p>

<p style="margin-left:17%; margin-top: 1em">Default is
&quot;absolute&quot;.</p>

<p style="margin-left:11%;"><b>reds</b></p>

<p style="margin-left:17%;">Adjustments for red pixels
(pixels where the red component is the maximum)</p>

<p style="margin-left:11%;"><b>yellows</b></p>

<p style="margin-left:17%;">Adjustments for yellow pixels
(pixels where the blue component is the minimum)</p>

<p style="margin-left:11%;"><b>greens</b></p>

<p style="margin-left:17%;">Adjustments for green pixels
(pixels where the green component is the maximum)</p>

<p style="margin-left:11%;"><b>cyans</b></p>

<p style="margin-left:17%;">Adjustments for cyan pixels
(pixels where the red component is the minimum)</p>

<p style="margin-left:11%;"><b>blues</b></p>

<p style="margin-left:17%;">Adjustments for blue pixels
(pixels where the blue component is the maximum)</p>

<p style="margin-left:11%;"><b>magentas</b></p>

<p style="margin-left:17%;">Adjustments for magenta pixels
(pixels where the green component is the minimum)</p>

<p style="margin-left:11%;"><b>whites</b></p>

<p style="margin-left:17%;">Adjustments for white pixels
(pixels where all components are greater than 128)</p>

<p style="margin-left:11%;"><b>neutrals</b></p>

<p style="margin-left:17%;">Adjustments for all pixels
except pure black and pure white</p>

<p style="margin-left:11%;"><b>blacks</b></p>

<p style="margin-left:17%;">Adjustments for black pixels
(pixels where all components are lesser than 128)</p>

<p style="margin-left:11%;"><b>psfile</b></p>

<p style="margin-left:17%;">Specify a Photoshop selective
color file (&quot;.asv&quot;) to import the settings
from.</p>

<p style="margin-left:11%; margin-top: 1em">All the
adjustment settings (<b>reds</b>, <b>yellows</b>, ...)
accept up to 4 space separated floating point adjustment
values in the [-1,1] range, respectively to adjust the
amount of cyan, magenta, yellow and black for the pixels of
its range.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Increase cyan by 50% and reduce yellow by 33% in every
green areas, and increase magenta by 27% in blue areas:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">selectivecolor=greens=.5
0 -.33 0:blues=0 .27</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="60%">


<p style="margin-top: 1em">Use a Photoshop selective color
preset:</p> </td>
<td width="23%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">selectivecolor=psfile=MySelectiveColorPresets/Misty.asv</p>


<p style="margin-left:11%; margin-top: 1em"><b>separatefields</b>
<br>
The &quot;separatefields&quot; takes a frame-based video
input and splits each frame into its components fields,
producing a new half height clip with twice the frame rate
and twice the frame count.</p>

<p style="margin-left:11%; margin-top: 1em">This filter use
field-dominance information in frame to decide which of each
pair of fields to place first in the output. If it gets it
wrong use <b>setfield</b> filter before
&quot;separatefields&quot; filter.</p>

<p style="margin-left:11%; margin-top: 1em"><b>setdar,
setsar</b> <br>
The &quot;setdar&quot; filter sets the Display Aspect Ratio
for the filter output video.</p>

<p style="margin-left:11%; margin-top: 1em">This is done by
changing the specified Sample (aka Pixel) Aspect Ratio,
according to the following equation:</p>

<p style="margin-left:11%; margin-top: 1em">&lt;DAR&gt; =
&lt;HORIZONTAL_RESOLUTION&gt; / &lt;VERTICAL_RESOLUTION&gt;
* &lt;SAR&gt;</p>

<p style="margin-left:11%; margin-top: 1em">Keep in mind
that the &quot;setdar&quot; filter does not modify the pixel
dimensions of the video frame. Also, the display aspect
ratio set by this filter may be changed by later filters in
the filterchain, e.g. in case of scaling or if another
&quot;setdar&quot; or a &quot;setsar&quot; filter is
applied.</p>

<p style="margin-left:11%; margin-top: 1em">The
&quot;setsar&quot; filter sets the Sample (aka Pixel) Aspect
Ratio for the filter output video.</p>

<p style="margin-left:11%; margin-top: 1em">Note that as a
consequence of the application of this filter, the output
display aspect ratio will change according to the equation
above.</p>

<p style="margin-left:11%; margin-top: 1em">Keep in mind
that the sample aspect ratio set by the &quot;setsar&quot;
filter may be changed by later filters in the filterchain,
e.g. if another &quot;setsar&quot; or a &quot;setdar&quot;
filter is applied.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters: <b><br>
r, ratio, dar (&quot;setdar&quot; only), sar
(&quot;setsar&quot; only)</b></p>

<p style="margin-left:17%;">Set the aspect ratio used by
the filter.</p>

<p style="margin-left:17%; margin-top: 1em">The parameter
can be a floating point number string, an expression, or a
string of the form <i>num</i>:<i>den</i>, where <i>num</i>
and <i>den</i> are the numerator and denominator of the
aspect ratio. If the parameter is not specified, it is
assumed the value &quot;0&quot;. In case the form
&quot;<i>num</i>:<i>den</i>&quot; is used, the &quot;:&quot;
character should be escaped.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>max</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set the maximum integer value to use for expressing
numerator and denominator when reducing the expressed aspect
ratio to a rational. Default value is 100.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">The parameter
<i>sar</i> is an expression containing the following
constants: <b><br>
E, <small>PI, PHI</small></b></p>

<p style="margin-left:17%;">These are approximated values
for the mathematical constants e (Euler&rsquo;s number), pi
(Greek pi), and phi (the golden ratio).</p>

<p style="margin-left:11%;"><b>w, h</b></p>

<p style="margin-left:17%;">The input width and height.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>a</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>These are the same as <i>w</i> / <i>h</i>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>sar</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>The input sample aspect ratio.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>dar</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>The input display aspect ratio. It is the same as
(<i>w</i> / <i>h</i>) * <i>sar</i>.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>hsub, vsub</b></p>

<p style="margin-left:17%;">Horizontal and vertical chroma
subsample values. For example, for the pixel format
&quot;yuv422p&quot; <i>hsub</i> is 2 and <i>vsub</i> is
1.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>To change the display aspect ratio to 16:9, specify one
of the following:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">setdar=dar=1.77777
<br>
setdar=dar=16/9</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="80%">


<p style="margin-top: 1em">To change the sample aspect
ratio to 10:11, specify:</p></td>
<td width="3%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">setsar=sar=10/11</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">To set a display aspect ratio of
16:9, and specify a maximum integer value of 1000 in the
aspect ratio reduction, use the command:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">setdar=ratio=16/9:max=1000</p>


<p style="margin-left:11%; margin-top: 1em"><b>setfield</b>
<br>
Force field for the output video frame.</p>

<p style="margin-left:11%; margin-top: 1em">The
&quot;setfield&quot; filter marks the interlace type field
for the output frames. It does not change the input frame,
but only sets the corresponding property, which affects how
the frame is treated by following filters (e.g.
&quot;fieldorder&quot; or &quot;yadif&quot;).</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
mode</b></p>

<p style="margin-left:17%;">Available values are: <b><br>
auto</b></p>

<p style="margin-left:23%;">Keep the same field
property.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>bff</b></p></td>
<td width="1%"></td>
<td width="57%">


<p>Mark the frame as bottom-field-first.</p></td>
<td width="20%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>tff</b></p></td>
<td width="1%"></td>
<td width="57%">


<p>Mark the frame as top-field-first.</p></td>
<td width="20%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>prog</b></p>

<p style="margin-left:23%;">Mark the frame as
progressive.</p>


<p style="margin-left:11%; margin-top: 1em"><b>setparams</b>
<br>
Force frame parameter for the output video frame.</p>

<p style="margin-left:11%; margin-top: 1em">The
&quot;setparams&quot; filter marks interlace and color range
for the output frames. It does not change the input frame,
but only sets the corresponding property, which affects how
the frame is treated by filters/encoders. <b><br>
field_mode</b></p>

<p style="margin-left:17%;">Available values are: <b><br>
auto</b></p>

<p style="margin-left:23%;">Keep the same field property
(default).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>bff</b></p></td>
<td width="1%"></td>
<td width="57%">


<p>Mark the frame as bottom-field-first.</p></td>
<td width="20%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>tff</b></p></td>
<td width="1%"></td>
<td width="57%">


<p>Mark the frame as top-field-first.</p></td>
<td width="20%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>prog</b></p>

<p style="margin-left:23%;">Mark the frame as
progressive.</p>

<p style="margin-left:11%;"><b>range</b></p>

<p style="margin-left:17%;">Available values are: <b><br>
auto</b></p>

<p style="margin-left:23%;">Keep the same color range
property (default).</p>

<p style="margin-left:17%;"><b>unspecified, unknown</b></p>

<p style="margin-left:23%;">Mark the frame as unspecified
color range.</p>

<p style="margin-left:17%;"><b>limited, tv, mpeg</b></p>

<p style="margin-left:23%;">Mark the frame as limited
range.</p>

<p style="margin-left:17%;"><b>full, pc, jpeg</b></p>

<p style="margin-left:23%;">Mark the frame as full
range.</p>

<p style="margin-left:11%;"><b>color_primaries</b></p>

<p style="margin-left:17%;">Set the color primaries.
Available values are: <b><br>
auto</b></p>

<p style="margin-left:23%;">Keep the same color primaries
property (default).</p>

<p style="margin-left:17%;"><b>bt709 <br>
unknown <br>
bt470m <br>
bt470bg <br>
smpte170m <br>
smpte240m <br>
film <br>
bt2020 <br>
smpte428 <br>
smpte431 <br>
smpte432 <br>
jedec-p22</b></p>

<p style="margin-left:11%;"><b>color_trc</b></p>

<p style="margin-left:17%;">Set the color transfer.
Available values are: <b><br>
auto</b></p>

<p style="margin-left:23%;">Keep the same color trc
property (default).</p>

<p style="margin-left:17%;"><b>bt709 <br>
unknown <br>
bt470m <br>
bt470bg <br>
smpte170m <br>
smpte240m <br>
linear <br>
log100 <br>
log316 <br>
iec61966-2-4 <br>
bt1361e <br>
iec61966-2-1 <br>
bt2020-10 <br>
bt2020-12 <br>
smpte2084 <br>
smpte428 <br>
arib-std-b67</b></p>

<p style="margin-left:11%;"><b>colorspace</b></p>

<p style="margin-left:17%;">Set the colorspace. Available
values are: <b><br>
auto</b></p>

<p style="margin-left:23%;">Keep the same colorspace
property (default).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>gbr</b></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>bt709 <br>
unknown</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>fcc</b></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>bt470bg <br>
smpte170m <br>
smpte240m <br>
ycgco <br>
bt2020nc <br>
bt2020c <br>
smpte2085 <br>
chroma-derived-nc <br>
chroma-derived-c <br>
ictcp</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>showinfo</b>
<br>
Show a line containing various information for each input
video frame. The input video is not modified.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
supports the following options: <b><br>
checksum</b></p>

<p style="margin-left:17%;">Calculate checksums of each
plane. By default enabled.</p>

<p style="margin-left:11%; margin-top: 1em">The shown line
contains a sequence of key/value pairs of the form
<i>key</i>:<i>value</i>.</p>

<p style="margin-left:11%; margin-top: 1em">The following
values are shown in the output:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>n</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>The (sequential) number of the input frame, starting
from 0.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>pts</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>The Presentation TimeStamp of the input frame, expressed
as a number of time base units. The time base unit depends
on the filter input pad.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>pts_time</b></p>

<p style="margin-left:17%;">The Presentation TimeStamp of
the input frame, expressed as a number of seconds.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>pos</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>The position of the frame in the input stream, or -1 if
this information is unavailable and/or meaningless (for
example in case of synthetic video).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>fmt</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>The pixel format name.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>sar</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>The sample aspect ratio of the input frame, expressed in
the form <i>num</i>/<i>den</i>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>s</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>The size of the input frame. For the syntax of this
option, check the <b>&quot;Video size&quot; section in the
ffmpeg-utils manual</b>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>i</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>The type of interlaced mode (&quot;P&quot; for
&quot;progressive&quot;, &quot;T&quot; for top field first,
&quot;B&quot; for bottom field first).</p></td></tr>
</table>

<p style="margin-left:11%;"><b>iskey</b></p>

<p style="margin-left:17%;">This is 1 if the frame is a key
frame, 0 otherwise.</p>

<p style="margin-left:11%;"><b>type</b></p>

<p style="margin-left:17%;">The picture type of the input
frame (&quot;I&quot; for an I-frame, &quot;P&quot; for a
P-frame, &quot;B&quot; for a B-frame, or &quot;?&quot; for
an unknown type). Also refer to the documentation of the
&quot;AVPictureType&quot; enum and of the
&quot;av_get_picture_type_char&quot; function defined in
<i>libavutil/avutil.h</i>.</p>

<p style="margin-left:11%;"><b>checksum</b></p>

<p style="margin-left:17%;">The Adler-32 checksum (printed
in hexadecimal) of all the planes of the input frame.</p>

<p style="margin-left:11%;"><b>plane_checksum</b></p>

<p style="margin-left:17%;">The Adler-32 checksum (printed
in hexadecimal) of each plane of the input frame, expressed
in the form &quot;[<i>c0 c1 c2 c3</i>]&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><b>showpalette</b>
<br>
Displays the 256 colors palette of each frame. This filter
is only relevant for <i>pal8</i> pixel format frames.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following option:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>s</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set the size of the box used to represent one palette
color entry. Default is 30 (for a &quot;30x30&quot; pixel
box).</p> </td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><b>shuffleframes</b>
<br>
Reorder and/or duplicate and/or drop video frames.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters: <b><br>
mapping</b></p>

<p style="margin-left:17%;">Set the destination indexes of
input frames. This is space or &rsquo;|&rsquo; separated
list of indexes that maps input frames to output frames.
Number of indexes also sets maximal value that each index
may have. &rsquo;-1&rsquo; index have special meaning and
that is to drop frame.</p>

<p style="margin-left:11%; margin-top: 1em">The first frame
has the index 0. The default is to keep the input
unchanged.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Swap second and third frame of every three frames of the
input:</p> </td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i INPUT
-vf &quot;shuffleframes=0 2 1&quot; OUTPUT</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Swap 10th and 1st frame of every
ten frames of the input:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i INPUT
-vf &quot;shuffleframes=9 1 2 3 4 5 6 7 8 0&quot; OUTPUT</p>


<p style="margin-left:11%; margin-top: 1em"><b>shuffleplanes</b>
<br>
Reorder and/or duplicate video planes.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters: <b><br>
map0</b></p>

<p style="margin-left:17%;">The index of the input plane to
be used as the first output plane.</p>

<p style="margin-left:11%;"><b>map1</b></p>

<p style="margin-left:17%;">The index of the input plane to
be used as the second output plane.</p>

<p style="margin-left:11%;"><b>map2</b></p>

<p style="margin-left:17%;">The index of the input plane to
be used as the third output plane.</p>

<p style="margin-left:11%;"><b>map3</b></p>

<p style="margin-left:17%;">The index of the input plane to
be used as the fourth output plane.</p>

<p style="margin-left:11%; margin-top: 1em">The first plane
has the index 0. The default is to keep the input
unchanged.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="71%">


<p>Swap the second and third planes of the input:</p></td>
<td width="12%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i INPUT
-vf shuffleplanes=0:2:1:3 OUTPUT</p>


<p style="margin-left:11%; margin-top: 1em"><b>signalstats</b>
<br>
Evaluate various visual metrics that assist in determining
issues associated with the digitization of analog video
media.</p>

<p style="margin-left:11%; margin-top: 1em">By default the
filter will log these metadata values: <b><small><br>
YMIN</small></b></p>

<p style="margin-left:17%;">Display the minimal Y value
contained within the input frame. Expressed in range of
[0-255].</p>

<p style="margin-left:11%;"><b><small>YLOW</small></b></p>

<p style="margin-left:17%;">Display the Y value at the 10%
percentile within the input frame. Expressed in range of
[0-255].</p>

<p style="margin-left:11%;"><b><small>YAVG</small></b></p>

<p style="margin-left:17%;">Display the average Y value
within the input frame. Expressed in range of [0-255].</p>


<p style="margin-left:11%;"><b><small>YHIGH</small></b></p>

<p style="margin-left:17%;">Display the Y value at the 90%
percentile within the input frame. Expressed in range of
[0-255].</p>

<p style="margin-left:11%;"><b><small>YMAX</small></b></p>

<p style="margin-left:17%;">Display the maximum Y value
contained within the input frame. Expressed in range of
[0-255].</p>

<p style="margin-left:11%;"><b><small>UMIN</small></b></p>

<p style="margin-left:17%;">Display the minimal U value
contained within the input frame. Expressed in range of
[0-255].</p>

<p style="margin-left:11%;"><b><small>ULOW</small></b></p>

<p style="margin-left:17%;">Display the U value at the 10%
percentile within the input frame. Expressed in range of
[0-255].</p>

<p style="margin-left:11%;"><b><small>UAVG</small></b></p>

<p style="margin-left:17%;">Display the average U value
within the input frame. Expressed in range of [0-255].</p>


<p style="margin-left:11%;"><b><small>UHIGH</small></b></p>

<p style="margin-left:17%;">Display the U value at the 90%
percentile within the input frame. Expressed in range of
[0-255].</p>

<p style="margin-left:11%;"><b><small>UMAX</small></b></p>

<p style="margin-left:17%;">Display the maximum U value
contained within the input frame. Expressed in range of
[0-255].</p>

<p style="margin-left:11%;"><b><small>VMIN</small></b></p>

<p style="margin-left:17%;">Display the minimal V value
contained within the input frame. Expressed in range of
[0-255].</p>

<p style="margin-left:11%;"><b><small>VLOW</small></b></p>

<p style="margin-left:17%;">Display the V value at the 10%
percentile within the input frame. Expressed in range of
[0-255].</p>

<p style="margin-left:11%;"><b><small>VAVG</small></b></p>

<p style="margin-left:17%;">Display the average V value
within the input frame. Expressed in range of [0-255].</p>


<p style="margin-left:11%;"><b><small>VHIGH</small></b></p>

<p style="margin-left:17%;">Display the V value at the 90%
percentile within the input frame. Expressed in range of
[0-255].</p>

<p style="margin-left:11%;"><b><small>VMAX</small></b></p>

<p style="margin-left:17%;">Display the maximum V value
contained within the input frame. Expressed in range of
[0-255].</p>


<p style="margin-left:11%;"><b><small>SATMIN</small></b></p>

<p style="margin-left:17%;">Display the minimal saturation
value contained within the input frame. Expressed in range
of [0-~181.02].</p>


<p style="margin-left:11%;"><b><small>SATLOW</small></b></p>

<p style="margin-left:17%;">Display the saturation value at
the 10% percentile within the input frame. Expressed in
range of [0-~181.02].</p>


<p style="margin-left:11%;"><b><small>SATAVG</small></b></p>

<p style="margin-left:17%;">Display the average saturation
value within the input frame. Expressed in range of
[0-~181.02].</p>


<p style="margin-left:11%;"><b><small>SATHIGH</small></b></p>

<p style="margin-left:17%;">Display the saturation value at
the 90% percentile within the input frame. Expressed in
range of [0-~181.02].</p>


<p style="margin-left:11%;"><b><small>SATMAX</small></b></p>

<p style="margin-left:17%;">Display the maximum saturation
value contained within the input frame. Expressed in range
of [0-~181.02].</p>


<p style="margin-left:11%;"><b><small>HUEMED</small></b></p>

<p style="margin-left:17%;">Display the median value for
hue within the input frame. Expressed in range of
[0-360].</p>


<p style="margin-left:11%;"><b><small>HUEAVG</small></b></p>

<p style="margin-left:17%;">Display the average value for
hue within the input frame. Expressed in range of
[0-360].</p>

<p style="margin-left:11%;"><b><small>YDIF</small></b></p>

<p style="margin-left:17%;">Display the average of sample
value difference between all values of the Y plane in the
current frame and corresponding values of the previous input
frame. Expressed in range of [0-255].</p>

<p style="margin-left:11%;"><b><small>UDIF</small></b></p>

<p style="margin-left:17%;">Display the average of sample
value difference between all values of the U plane in the
current frame and corresponding values of the previous input
frame. Expressed in range of [0-255].</p>

<p style="margin-left:11%;"><b><small>VDIF</small></b></p>

<p style="margin-left:17%;">Display the average of sample
value difference between all values of the V plane in the
current frame and corresponding values of the previous input
frame. Expressed in range of [0-255].</p>


<p style="margin-left:11%;"><b><small>YBITDEPTH</small></b></p>

<p style="margin-left:17%;">Display bit depth of Y plane in
current frame. Expressed in range of [0-16].</p>


<p style="margin-left:11%;"><b><small>UBITDEPTH</small></b></p>

<p style="margin-left:17%;">Display bit depth of U plane in
current frame. Expressed in range of [0-16].</p>


<p style="margin-left:11%;"><b><small>VBITDEPTH</small></b></p>

<p style="margin-left:17%;">Display bit depth of V plane in
current frame. Expressed in range of [0-16].</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
stat</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>out</b></p></td>
<td width="2%"></td>
<td width="83%">


<p><b>stat</b> specify an additional form of image
analysis. <b>out</b> output video with the specified type of
pixel highlighted.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Both options
accept the following values: <b><br>
tout</b></p>

<p style="margin-left:23%;">Identify <i>temporal
outliers</i> pixels. A <i>temporal outlier</i> is a pixel
unlike the neighboring pixels of the same field. Examples of
temporal outliers include the results of video dropouts,
head clogs, or tape tracking issues.</p>

<p style="margin-left:17%;"><b>vrep</b></p>

<p style="margin-left:23%;">Identify <i>vertical line
repetition</i>. Vertical line repetition includes similar
rows of pixels within a frame. In born-digital video
vertical line repetition is common, but this pattern is
uncommon in video digitized from an analog source. When it
occurs in video that results from the digitization of an
analog source it can indicate concealment from a dropout
compensator.</p>

<p style="margin-left:17%;"><b>brng</b></p>

<p style="margin-left:23%;">Identify pixels that fall
outside of legal broadcast range.</p>

<p style="margin-left:11%;"><b>color, c</b></p>

<p style="margin-left:17%;">Set the highlight color for the
<b>out</b> option. The default color is yellow.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="57%">


<p>Output data of various video metrics:</p></td>
<td width="26%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffprobe -f
lavfi
movie=example.mov,signalstats=&quot;stat=tout+vrep+brng&quot;
-show_frames</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Output specific data about the
minimum and maximum values of the Y plane per frame:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffprobe -f
lavfi movie=example.mov,signalstats -show_entries
frame_tags=lavfi.signalstats.YMAX,lavfi.signalstats.YMIN</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Playback video while
highlighting pixels that are outside of broadcast range in
red.</p> </td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffplay
example.mov -vf
signalstats=&quot;out=brng:color=red&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Playback video with signalstats
metadata drawn over the frame.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffplay
example.mov -vf
signalstats=stat=brng+vrep+tout,drawtext=fontfile=FreeSerif.ttf:textfile=signalstat_drawtext.txt</p>

<p style="margin-left:17%; margin-top: 1em">The contents of
signalstat_drawtext.txt used in the command are:</p>

<p style="margin-left:17%; margin-top: 1em">time %{pts:hms}
<br>
Y
(%{metadata:lavfi.signalstats.YMIN}-%{metadata:lavfi.signalstats.YMAX})
<br>
U
(%{metadata:lavfi.signalstats.UMIN}-%{metadata:lavfi.signalstats.UMAX})
<br>
V
(%{metadata:lavfi.signalstats.VMIN}-%{metadata:lavfi.signalstats.VMAX})
<br>
saturation maximum: %{metadata:lavfi.signalstats.SATMAX}</p>


<p style="margin-left:11%; margin-top: 1em"><b>signature</b>
<br>
Calculates the <small>MPEG-7</small> Video Signature. The
filter can handle more than one input. In this case the
matching between the inputs can be calculated additionally.
The filter always passes through the first input. The
signature of each stream can be written into a file.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following options: <b><br>
detectmode</b></p>

<p style="margin-left:17%;">Enable or disable the matching
process.</p>

<p style="margin-left:17%; margin-top: 1em">Available
values are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>off</b></p></td>
<td width="1%"></td>
<td width="74%">


<p>Disable the calculation of a matching (default).</p></td>
<td width="3%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>full</b></p>

<p style="margin-left:23%;">Calculate the matching for the
whole video and output whether the whole video matches or
only parts.</p>

<p style="margin-left:17%;"><b>fast</b></p>

<p style="margin-left:23%;">Calculate only until a matching
is found or the video ends. Should be faster in some
cases.</p>

<p style="margin-left:11%;"><b>nb_inputs</b></p>

<p style="margin-left:17%;">Set the number of inputs. The
option value must be a non negative integer. Default value
is 1.</p>

<p style="margin-left:11%;"><b>filename</b></p>

<p style="margin-left:17%;">Set the path to which the
output is written. If there is more than one input, the path
must be a prototype, i.e. must contain %d or %0nd (where n
is a positive integer), that will be replaced with the input
number. If no filename is specified, no output will be
written. This is the default.</p>

<p style="margin-left:11%;"><b>format</b></p>

<p style="margin-left:17%;">Choose the output format.</p>

<p style="margin-left:17%; margin-top: 1em">Available
values are: <b><br>
binary</b></p>

<p style="margin-left:23%;">Use the specified binary
representation (default).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>xml</b></p></td>
<td width="1%"></td>
<td width="57%">


<p>Use the specified xml representation.</p></td>
<td width="20%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>th_d</b></p>

<p style="margin-left:17%;">Set threshold to detect one
word as similar. The option value must be an integer greater
than zero. The default value is 9000.</p>

<p style="margin-left:11%;"><b>th_dc</b></p>

<p style="margin-left:17%;">Set threshold to detect all
words as similar. The option value must be an integer
greater than zero. The default value is 60000.</p>

<p style="margin-left:11%;"><b>th_xh</b></p>

<p style="margin-left:17%;">Set threshold to detect frames
as similar. The option value must be an integer greater than
zero. The default value is 116.</p>

<p style="margin-left:11%;"><b>th_di</b></p>

<p style="margin-left:17%;">Set the minimum length of a
sequence in frames to recognize it as matching sequence. The
option value must be a non negative integer value. The
default value is 0.</p>

<p style="margin-left:11%;"><b>th_it</b></p>

<p style="margin-left:17%;">Set the minimum relation, that
matching frames to all frames must have. The option value
must be a double value between 0 and 1. The default value is
0.5.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>To calculate the signature of an input video and store
it in signature.bin:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
input.mkv -vf signature=filename=signature.bin -map 0:v -f
null -</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">To detect whether two videos
match and store the signatures in <small>XML</small> format
in signature0.xml and signature1.xml:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
input1.mkv -i input2.mkv -filter_complex &quot;[0:v][1:v]
signature=nb_inputs=2:detectmode=full:format=xml:filename=signature%d.xml&quot;
-map :v -f null -</p>


<p style="margin-left:11%; margin-top: 1em"><b>smartblur</b>
<br>
Blur the input video without impacting the outlines.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following options: <b><br>
luma_radius, lr</b></p>

<p style="margin-left:17%;">Set the luma radius. The option
value must be a float number in the range [0.1,5.0] that
specifies the variance of the gaussian filter used to blur
the image (slower if larger). Default value is 1.0.</p>

<p style="margin-left:11%;"><b>luma_strength, ls</b></p>

<p style="margin-left:17%;">Set the luma strength. The
option value must be a float number in the range [-1.0,1.0]
that configures the blurring. A value included in [0.0,1.0]
will blur the image whereas a value included in [-1.0,0.0]
will sharpen the image. Default value is 1.0.</p>

<p style="margin-left:11%;"><b>luma_threshold, lt</b></p>

<p style="margin-left:17%;">Set the luma threshold used as
a coefficient to determine whether a pixel should be blurred
or not. The option value must be an integer in the range
[-30,30]. A value of 0 will filter all the image, a value
included in [0,30] will filter flat areas and a value
included in [-30,0] will filter edges. Default value is
0.</p>

<p style="margin-left:11%;"><b>chroma_radius, cr</b></p>

<p style="margin-left:17%;">Set the chroma radius. The
option value must be a float number in the range [0.1,5.0]
that specifies the variance of the gaussian filter used to
blur the image (slower if larger). Default value is
<b>luma_radius</b>.</p>

<p style="margin-left:11%;"><b>chroma_strength, cs</b></p>

<p style="margin-left:17%;">Set the chroma strength. The
option value must be a float number in the range [-1.0,1.0]
that configures the blurring. A value included in [0.0,1.0]
will blur the image whereas a value included in [-1.0,0.0]
will sharpen the image. Default value is
<b>luma_strength</b>.</p>

<p style="margin-left:11%;"><b>chroma_threshold, ct</b></p>

<p style="margin-left:17%;">Set the chroma threshold used
as a coefficient to determine whether a pixel should be
blurred or not. The option value must be an integer in the
range [-30,30]. A value of 0 will filter all the image, a
value included in [0,30] will filter flat areas and a value
included in [-30,0] will filter edges. Default value is
<b>luma_threshold</b>.</p>

<p style="margin-left:11%; margin-top: 1em">If a chroma
option is not explicitly set, the corresponding luma value
is set.</p>

<p style="margin-left:11%; margin-top: 1em"><b>ssim</b>
<br>
Obtain the <small>SSIM</small> (Structural SImilarity
Metric) between two input videos.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
takes in input two input videos, the first input is
considered the &quot;main&quot; source and is passed
unchanged to the output. The second input is used as a
&quot;reference&quot; video for computing the
<small>SSIM.</small></p>

<p style="margin-left:11%; margin-top: 1em">Both video
inputs must have the same resolution and pixel format for
this filter to work correctly. Also it assumes that both
inputs have the same number of frames, which are compared
one by one.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
stores the calculated <small>SSIM</small> of each frame.</p>

<p style="margin-left:11%; margin-top: 1em">The description
of the accepted parameters follows. <b><br>
stats_file, f</b></p>

<p style="margin-left:17%;">If specified the filter will
use the named file to save the <small>SSIM</small> of each
individual frame. When filename equals &quot;-&quot; the
data is sent to standard output.</p>

<p style="margin-left:11%; margin-top: 1em">The file
printed if <i>stats_file</i> is selected, contains a
sequence of key/value pairs of the form
<i>key</i>:<i>value</i> for each compared couple of
frames.</p>

<p style="margin-left:11%; margin-top: 1em">A description
of each shown parameter follows:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>n</b></p></td>
<td width="5%"></td>
<td width="81%">


<p>sequential number of the input frame, starting from
1</p> </td>
<td width="2%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>Y, U, V, R, G, B</b></p>

<p style="margin-left:17%;"><small>SSIM</small> of the
compared frames for the component specified by the
suffix.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>All</b></p></td>
<td width="2%"></td>
<td width="74%">


<p><small>SSIM</small> of the compared frames for the whole
frame.</p> </td>
<td width="9%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>dB</b></p></td>
<td width="2%"></td>
<td width="74%">


<p>Same as above but in dB representation.</p></td>
<td width="9%">
</td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">This filter
also supports the <b>framesync</b> options.</p>

<p style="margin-left:11%; margin-top: 1em">For
example:</p>


<p style="margin-left:11%; margin-top: 1em">movie=ref_movie.mpg,
setpts=PTS-STARTPTS [main]; <br>
[main][ref] ssim=&quot;stats_file=stats.log&quot; [out]</p>

<p style="margin-left:11%; margin-top: 1em">On this example
the input file being processed is compared with the
reference file <i>ref_movie.mpg</i>. The <small>SSIM</small>
of each individual frame is stored in <i>stats.log</i>.</p>

<p style="margin-left:11%; margin-top: 1em">Another example
with both psnr and ssim at same time:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i
main.mpg -i ref.mpg -lavfi &quot;ssim;[0:v][1:v]psnr&quot;
-f null -</p>


<p style="margin-left:11%; margin-top: 1em"><b>stereo3d</b>
<br>
Convert between different stereoscopic image formats.</p>

<p style="margin-left:11%; margin-top: 1em">The filters
accept the following options:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>in</b></p></td>
<td width="3%"></td>
<td width="60%">


<p style="margin-top: 1em">Set stereoscopic image format of
input.</p> </td>
<td width="23%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Available
values for input image formats are: <b><br>
sbsl</b></p>

<p style="margin-left:23%;">side by side parallel (left eye
left, right eye right)</p>

<p style="margin-left:17%;"><b>sbsr</b></p>

<p style="margin-left:23%;">side by side crosseye (right
eye left, left eye right)</p>

<p style="margin-left:17%;"><b>sbs2l</b></p>

<p style="margin-left:23%;">side by side parallel with half
width resolution (left eye left, right eye right)</p>

<p style="margin-left:17%;"><b>sbs2r</b></p>

<p style="margin-left:23%;">side by side crosseye with half
width resolution (right eye left, left eye right)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>abl</b></p></td>
<td width="1%"></td>
<td width="69%">


<p>above-below (left eye above, right eye below)</p></td>
<td width="8%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>abr</b></p></td>
<td width="1%"></td>
<td width="69%">


<p>above-below (right eye above, left eye below)</p></td>
<td width="8%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>ab2l</b></p>

<p style="margin-left:23%;">above-below with half height
resolution (left eye above, right eye below)</p>

<p style="margin-left:17%;"><b>ab2r</b></p>

<p style="margin-left:23%;">above-below with half height
resolution (right eye above, left eye below)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>al</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>alternating frames (left eye first, right eye
second)</p> </td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>ar</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>alternating frames (right eye first, left eye
second)</p> </td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>irl</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>interleaved rows (left eye has top row, right eye starts
on next row)</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>irr</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>interleaved rows (right eye has top row, left eye starts
on next row)</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>icl</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>interleaved columns, left eye first</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>icr</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>interleaved columns, right eye first</p></td></tr>
</table>

<p style="margin-left:23%; margin-top: 1em">Default value
is <b>sbsl</b>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p style="margin-top: 1em"><b>out</b></p></td>
<td width="2%"></td>
<td width="61%">


<p style="margin-top: 1em">Set stereoscopic image format of
output.</p> </td>
<td width="22%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>sbsl</b></p>

<p style="margin-left:23%;">side by side parallel (left eye
left, right eye right)</p>

<p style="margin-left:17%;"><b>sbsr</b></p>

<p style="margin-left:23%;">side by side crosseye (right
eye left, left eye right)</p>

<p style="margin-left:17%;"><b>sbs2l</b></p>

<p style="margin-left:23%;">side by side parallel with half
width resolution (left eye left, right eye right)</p>

<p style="margin-left:17%;"><b>sbs2r</b></p>

<p style="margin-left:23%;">side by side crosseye with half
width resolution (right eye left, left eye right)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>abl</b></p></td>
<td width="1%"></td>
<td width="69%">


<p>above-below (left eye above, right eye below)</p></td>
<td width="8%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>abr</b></p></td>
<td width="1%"></td>
<td width="69%">


<p>above-below (right eye above, left eye below)</p></td>
<td width="8%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>ab2l</b></p>

<p style="margin-left:23%;">above-below with half height
resolution (left eye above, right eye below)</p>

<p style="margin-left:17%;"><b>ab2r</b></p>

<p style="margin-left:23%;">above-below with half height
resolution (right eye above, left eye below)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>al</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>alternating frames (left eye first, right eye
second)</p> </td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>ar</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>alternating frames (right eye first, left eye
second)</p> </td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>irl</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>interleaved rows (left eye has top row, right eye starts
on next row)</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>irr</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>interleaved rows (right eye has top row, left eye starts
on next row)</p></td></tr>
</table>

<p style="margin-left:17%;"><b>arbg</b></p>

<p style="margin-left:23%;">anaglyph red/blue gray (red
filter on left eye, blue filter on right eye)</p>

<p style="margin-left:17%;"><b>argg</b></p>

<p style="margin-left:23%;">anaglyph red/green gray (red
filter on left eye, green filter on right eye)</p>

<p style="margin-left:17%;"><b>arcg</b></p>

<p style="margin-left:23%;">anaglyph red/cyan gray (red
filter on left eye, cyan filter on right eye)</p>

<p style="margin-left:17%;"><b>arch</b></p>

<p style="margin-left:23%;">anaglyph red/cyan half colored
(red filter on left eye, cyan filter on right eye)</p>

<p style="margin-left:17%;"><b>arcc</b></p>

<p style="margin-left:23%;">anaglyph red/cyan color (red
filter on left eye, cyan filter on right eye)</p>

<p style="margin-left:17%;"><b>arcd</b></p>

<p style="margin-left:23%;">anaglyph red/cyan color
optimized with the least squares projection of dubois (red
filter on left eye, cyan filter on right eye)</p>

<p style="margin-left:17%;"><b>agmg</b></p>

<p style="margin-left:23%;">anaglyph green/magenta gray
(green filter on left eye, magenta filter on right eye)</p>

<p style="margin-left:17%;"><b>agmh</b></p>

<p style="margin-left:23%;">anaglyph green/magenta half
colored (green filter on left eye, magenta filter on right
eye)</p>

<p style="margin-left:17%;"><b>agmc</b></p>

<p style="margin-left:23%;">anaglyph green/magenta colored
(green filter on left eye, magenta filter on right eye)</p>

<p style="margin-left:17%;"><b>agmd</b></p>

<p style="margin-left:23%;">anaglyph green/magenta color
optimized with the least squares projection of dubois (green
filter on left eye, magenta filter on right eye)</p>

<p style="margin-left:17%;"><b>aybg</b></p>

<p style="margin-left:23%;">anaglyph yellow/blue gray
(yellow filter on left eye, blue filter on right eye)</p>

<p style="margin-left:17%;"><b>aybh</b></p>

<p style="margin-left:23%;">anaglyph yellow/blue half
colored (yellow filter on left eye, blue filter on right
eye)</p>

<p style="margin-left:17%;"><b>aybc</b></p>

<p style="margin-left:23%;">anaglyph yellow/blue colored
(yellow filter on left eye, blue filter on right eye)</p>

<p style="margin-left:17%;"><b>aybd</b></p>

<p style="margin-left:23%;">anaglyph yellow/blue color
optimized with the least squares projection of dubois
(yellow filter on left eye, blue filter on right eye)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>ml</b></p></td>
<td width="1%"></td>
<td width="55%">


<p>mono output (left eye only)</p></td>
<td width="22%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>mr</b></p></td>
<td width="1%"></td>
<td width="55%">


<p>mono output (right eye only)</p></td>
<td width="22%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>chl</b></p></td>
<td width="1%"></td>
<td width="55%">


<p>checkerboard, left eye first</p></td>
<td width="22%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>chr</b></p></td>
<td width="1%"></td>
<td width="55%">


<p>checkerboard, right eye first</p></td>
<td width="22%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>icl</b></p></td>
<td width="1%"></td>
<td width="55%">


<p>interleaved columns, left eye first</p></td>
<td width="22%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>icr</b></p></td>
<td width="1%"></td>
<td width="55%">


<p>interleaved columns, right eye first</p></td>
<td width="22%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>hdmi</b></p>

<p style="margin-left:23%;"><small>HDMI</small> frame
pack</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is <b>arcd</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Convert input video from side by side parallel to
anaglyph yellow/blue dubois:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">stereo3d=sbsl:aybd</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Convert input video from above
below (left eye above, right eye below) to side by side
crosseye.</p> </td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">stereo3d=abl:sbsr</p>


<p style="margin-left:11%; margin-top: 1em"><b>streamselect,
astreamselect</b> <br>
Select video or audio streams.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
inputs</b></p>

<p style="margin-left:17%;">Set number of inputs. Default
is 2.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>map</b></p></td>
<td width="2%"></td>
<td width="58%">


<p>Set input indexes to remap to outputs.</p></td>
<td width="25%">
</td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><i>Commands</i></p>

<p style="margin-left:11%; margin-top: 1em">The
&quot;streamselect&quot; and &quot;astreamselect&quot;
filter supports the following commands:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p style="margin-top: 1em"><b>map</b></p></td>
<td width="2%"></td>
<td width="58%">


<p style="margin-top: 1em">Set input indexes to remap to
outputs.</p> </td>
<td width="25%">
</td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Select first 5 seconds 1st
stream and rest of time 2nd stream:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">sendcmd='5.0
streamselect map 1',streamselect=inputs=2:map=0</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="45%">


<p style="margin-top: 1em">Same as above, but for
audio:</p> </td>
<td width="38%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">asendcmd='5.0
astreamselect map 1',astreamselect=inputs=2:map=0</p>

<p style="margin-left:11%; margin-top: 1em"><b>sobel</b>
<br>
Apply sobel operator to input video stream.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following option: <b><br>
planes</b></p>

<p style="margin-left:17%;">Set which planes will be
processed, unprocessed planes will be copied. By default
value 0xf, all planes will be processed.</p>

<p style="margin-left:11%;"><b>scale</b></p>

<p style="margin-left:17%;">Set value which will be
multiplied with filtered result.</p>

<p style="margin-left:11%;"><b>delta</b></p>

<p style="margin-left:17%;">Set value which will be added
to filtered result.</p>

<p style="margin-left:11%; margin-top: 1em"><b>spp</b> <br>
Apply a simple postprocessing filter that compresses and
decompresses the image at several (or - in the case of
<b>quality</b> level 6 - all) shifts and average the
results.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
quality</b></p>

<p style="margin-left:17%;">Set quality. This option
defines the number of levels for averaging. It accepts an
integer in the range 0-6. If set to 0, the filter will have
no effect. A value of 6 means the higher quality. For each
increment of that value the speed drops by a factor of
approximately 2. Default value is 3.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>qp</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Force a constant quantization parameter. If not set, the
filter will use the <small>QP</small> from the video stream
(if available).</p></td></tr>
</table>

<p style="margin-left:11%;"><b>mode</b></p>

<p style="margin-left:17%;">Set thresholding mode.
Available modes are: <b><br>
hard</b></p>

<p style="margin-left:23%;">Set hard thresholding
(default).</p>

<p style="margin-left:17%;"><b>soft</b></p>

<p style="margin-left:23%;">Set soft thresholding (better
de-ringing effect, but likely blurrier).</p>

<p style="margin-left:11%;"><b>use_bframe_qp</b></p>

<p style="margin-left:17%;">Enable the use of the
<small>QP</small> from the B-Frames if set to 1. Using this
option may cause flicker since the B-Frames have often
larger <small>QP.</small> Default is 0 (not enabled).</p>

<p style="margin-left:11%; margin-top: 1em"><b>sr</b> <br>
Scale the input by applying one of the super-resolution
methods based on convolutional neural networks. Supported
models:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Super-Resolution Convolutional Neural Network model (
<small>SRCNN</small> ). See
&lt;<b>https://arxiv.org/abs/1501.00092</b>&gt;.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Efficient Sub-Pixel Convolutional Neural Network model (
<small>ESPCN</small> ). See
&lt;<b>https://arxiv.org/abs/1609.05158</b>&gt;.</p> </td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Training
scripts as well as scripts for model file (.pb) saving can
be found at
&lt;<b>https://github.com/XueweiMeng/sr/tree/sr_dnn_native</b>&gt;.
Original repository is at
&lt;<b>https://github.com/HighVoltageRocknRoll/sr.git</b>&gt;.</p>

<p style="margin-left:11%; margin-top: 1em">Native model
files (.model) can be generated from TensorFlow model files
(.pb) by using tools/python/convert.py</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
dnn_backend</b></p>

<p style="margin-left:17%;">Specify which
<small>DNN</small> backend to use for model loading and
execution. This option accepts the following values: <b><br>
native</b></p>

<p style="margin-left:23%;">Native implementation of
<small>DNN</small> loading and execution.</p>

<p style="margin-left:17%;"><b>tensorflow</b></p>

<p style="margin-left:23%;">TensorFlow backend. To enable
this backend you need to install the TensorFlow for C
library (see
&lt;<b>https://www.tensorflow.org/install/install_c</b>&gt;)
and configure FFmpeg with
&quot;--enable-libtensorflow&quot;</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is <b>native</b>.</p>

<p style="margin-left:11%;"><b>model</b></p>

<p style="margin-left:17%;">Set path to model file
specifying network architecture and its parameters. Note
that different backends use different file formats.
TensorFlow backend can load files for both formats, while
native backend can load files for only its format.</p>

<p style="margin-left:11%;"><b>scale_factor</b></p>

<p style="margin-left:17%;">Set scale factor for
<small>SRCNN</small> model. Allowed values are 2, 3 and 4.
Default value is 2. Scale factor is necessary for
<small>SRCNN</small> model, because it accepts input
upscaled using bicubic upscaling with proper scale
factor.</p>


<p style="margin-left:11%; margin-top: 1em"><b>subtitles</b>
<br>
Draw subtitles on top of input video using the libass
library.</p>

<p style="margin-left:11%; margin-top: 1em">To enable
compilation of this filter you need to configure FFmpeg with
&quot;--enable-libass&quot;. This filter also requires a
build with libavcodec and libavformat to convert the passed
subtitles file to <small>ASS</small> (Advanced Substation
Alpha) subtitles format.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
filename, f</b></p>

<p style="margin-left:17%;">Set the filename of the
subtitle file to read. It must be specified.</p>

<p style="margin-left:11%;"><b>original_size</b></p>

<p style="margin-left:17%;">Specify the size of the
original video, the video for which the <small>ASS</small>
file was composed. For the syntax of this option, check the
<b>&quot;Video size&quot; section in the ffmpeg-utils
manual</b>. Due to a misdesign in <small>ASS</small> aspect
ratio arithmetic, this is necessary to correctly scale the
fonts if the aspect ratio has been changed.</p>

<p style="margin-left:11%;"><b>fontsdir</b></p>

<p style="margin-left:17%;">Set a directory path containing
fonts that can be used by the filter. These fonts will be
used in addition to whatever the font provider uses.</p>

<p style="margin-left:11%;"><b>alpha</b></p>

<p style="margin-left:17%;">Process alpha channel, by
default alpha channel is untouched.</p>

<p style="margin-left:11%;"><b>charenc</b></p>

<p style="margin-left:17%;">Set subtitles input character
encoding. &quot;subtitles&quot; filter only. Only useful if
not <small>UTF-8.</small></p>

<p style="margin-left:11%;"><b>stream_index, si</b></p>

<p style="margin-left:17%;">Set subtitles stream index.
&quot;subtitles&quot; filter only.</p>

<p style="margin-left:11%;"><b>force_style</b></p>

<p style="margin-left:17%;">Override default style or
script info parameters of the subtitles. It accepts a string
containing <small>ASS</small> style format
&quot;KEY=VALUE&quot; couples separated by
&quot;,&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">If the first
key is not specified, it is assumed that the first value
specifies the <b>filename</b>.</p>

<p style="margin-left:11%; margin-top: 1em">For example, to
render the file <i>sub.srt</i> on top of the input video,
use the command:</p>


<p style="margin-left:11%; margin-top: 1em">subtitles=sub.srt</p>

<p style="margin-left:11%; margin-top: 1em">which is
equivalent to:</p>


<p style="margin-left:11%; margin-top: 1em">subtitles=filename=sub.srt</p>

<p style="margin-left:11%; margin-top: 1em">To render the
default subtitles stream from file <i>video.mkv</i>,
use:</p>


<p style="margin-left:11%; margin-top: 1em">subtitles=video.mkv</p>

<p style="margin-left:11%; margin-top: 1em">To render the
second subtitles stream from that file, use:</p>


<p style="margin-left:11%; margin-top: 1em">subtitles=video.mkv:si=1</p>

<p style="margin-left:11%; margin-top: 1em">To make the
subtitles stream from <i>sub.srt</i> appear in 80%
transparent blue &quot;DejaVu Serif&quot;, use:</p>


<p style="margin-left:11%; margin-top: 1em">subtitles=sub.srt:force_style='FontName=DejaVu
Serif,PrimaryColour=&amp;HCCFF0000'</p>


<p style="margin-left:11%; margin-top: 1em"><b>super2xsai</b>
<br>
Scale the input by 2x and smooth using the Super2xSaI (Scale
and Interpolate) pixel art scaling algorithm.</p>

<p style="margin-left:11%; margin-top: 1em">Useful for
enlarging pixel art images without reducing sharpness.</p>


<p style="margin-left:11%; margin-top: 1em"><b>swaprect</b>
<br>
Swap two rectangular objects in video.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
accepts the following options:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>w</b></p></td>
<td width="3%"></td>
<td width="40%">


<p>Set object width.</p></td>
<td width="43%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>h</b></p></td>
<td width="3%"></td>
<td width="40%">


<p>Set object height.</p></td>
<td width="43%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>x1</b></p></td>
<td width="3%"></td>
<td width="40%">


<p>Set 1st rect x coordinate.</p></td>
<td width="43%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>y1</b></p></td>
<td width="3%"></td>
<td width="40%">


<p>Set 1st rect y coordinate.</p></td>
<td width="43%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>x2</b></p></td>
<td width="3%"></td>
<td width="40%">


<p>Set 2nd rect x coordinate.</p></td>
<td width="43%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>y2</b></p></td>
<td width="3%"></td>
<td width="40%">


<p>Set 2nd rect y coordinate.</p></td>
<td width="43%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">All expressions
are evaluated once for each frame.</p>

<p style="margin-left:11%; margin-top: 1em">The all options
are expressions containing the following constants:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p style="margin-top: 1em"><b>w</b></p></td>
<td width="2%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>h</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>The input width and height.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>a</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>same as <i>w</i> / <i>h</i></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>sar</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>input sample aspect ratio</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>dar</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>input display aspect ratio, it is the same as (<i>w</i>
/ <i>h</i>) * <i>sar</i></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>n</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>The number of the input frame, starting from 0.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>t</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>The timestamp expressed in seconds. It&rsquo;s
<small>NAN</small> if the input timestamp is unknown.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>pos</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>the position in the file of the input frame,
<small>NAN</small> if unknown</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>swapuv</b>
<br>
Swap U &amp; V plane.</p>


<p style="margin-left:11%; margin-top: 1em"><b>telecine</b>
<br>
Apply telecine process to the video.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
accepts the following options: <b><br>
first_field</b></p>

<p style="margin-left:17%;"><b>top, t</b></p>

<p style="margin-left:23%;">top field first</p>

<p style="margin-left:17%;"><b>bottom, b</b></p>

<p style="margin-left:23%;">bottom field first The default
value is &quot;top&quot;.</p>

<p style="margin-left:11%;"><b>pattern</b></p>

<p style="margin-left:17%;">A string of numbers
representing the pulldown pattern you wish to apply. The
default value is 23.</p>

<p style="margin-left:11%; margin-top: 1em">Some typical
patterns: <br>
NTSC output (30i): <br>
27.5p: 32222 <br>
24p: 23 (classic) <br>
24p: 2332 (preferred) <br>
20p: 33 <br>
18p: 334 <br>
16p: 3444 <br>
PAL output (25i): <br>
27.5p: 12222 <br>
24p: 222222222223 (&quot;Euro pulldown&quot;) <br>
16.67p: 33 <br>
16p: 33333334</p>


<p style="margin-left:11%; margin-top: 1em"><b>threshold</b>
<br>
Apply threshold effect to video stream.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
needs four video streams to perform thresholding. First
stream is stream we are filtering. Second stream is holding
threshold values, third stream is holding min values, and
last, fourth stream is holding max values.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following option: <b><br>
planes</b></p>

<p style="margin-left:17%;">Set which planes will be
processed, unprocessed planes will be copied. By default
value 0xf, all planes will be processed.</p>

<p style="margin-left:11%; margin-top: 1em">For example if
first stream pixel&rsquo;s component value is less then
threshold value of pixel component from 2nd threshold
stream, third stream value will picked, otherwise fourth
stream pixel component value will be picked.</p>

<p style="margin-left:11%; margin-top: 1em">Using color
source filter one can perform various types of
thresholding:</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="74%">


<p>Binary threshold, using gray color as threshold:</p></td>
<td width="9%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
320x240.avi -f lavfi -i color=gray -f lavfi -i color=black
-f lavfi -i color=white -lavfi threshold output.avi</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Inverted binary threshold, using
gray color as threshold:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
320x240.avi -f lavfi -i color=gray -f lavfi -i color=white
-f lavfi -i color=black -lavfi threshold output.avi</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Truncate binary threshold, using
gray color as threshold:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
320x240.avi -f lavfi -i color=gray -i 320x240.avi -f lavfi
-i color=gray -lavfi threshold output.avi</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="75%">


<p style="margin-top: 1em">Threshold to zero, using gray
color as threshold:</p></td>
<td width="8%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
320x240.avi -f lavfi -i color=gray -f lavfi -i color=white
-i 320x240.avi -lavfi threshold output.avi</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Inverted threshold to zero,
using gray color as threshold:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
320x240.avi -f lavfi -i color=gray -i 320x240.avi -f lavfi
-i color=white -lavfi threshold output.avi</p>


<p style="margin-left:11%; margin-top: 1em"><b>thumbnail</b>
<br>
Select the most representative frame in a given sequence of
consecutive frames.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em"><b>n</b></p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Set the frames batch size to
analyze; in a set of <i>n</i> frames, the filter will pick
one of them, and then handle the next batch of <i>n</i>
frames until the end. Default is 100.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Since the
filter keeps track of the whole frames sequence, a bigger
<i>n</i> value will result in a higher memory usage, so a
high value is not recommended.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="54%">


<p style="margin-top: 1em">Extract one picture each 50
frames:</p> </td>
<td width="29%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">thumbnail=50</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="81%">


<p style="margin-top: 1em">Complete example of a thumbnail
creation with <b>ffmpeg</b>:</p></td>
<td width="2%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
in.avi -vf thumbnail,scale=300:200 -frames:v 1 out.png</p>

<p style="margin-left:11%; margin-top: 1em"><b>tile</b>
<br>
Tile several successive frames together.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
layout</b></p>

<p style="margin-left:17%;">Set the grid size (i.e. the
number of lines and columns). For the syntax of this option,
check the <b>&quot;Video size&quot; section in the
ffmpeg-utils manual</b>.</p>

<p style="margin-left:11%;"><b>nb_frames</b></p>

<p style="margin-left:17%;">Set the maximum number of
frames to render in the given area. It must be less than or
equal to <i>w</i>x<i>h</i>. The default value is 0, meaning
all the area will be used.</p>

<p style="margin-left:11%;"><b>margin</b></p>

<p style="margin-left:17%;">Set the outer border margin in
pixels.</p>

<p style="margin-left:11%;"><b>padding</b></p>

<p style="margin-left:17%;">Set the inner border thickness
(i.e. the number of pixels between frames). For more
advanced padding options (such as having different values
for the edges), refer to the pad video filter.</p>

<p style="margin-left:11%;"><b>color</b></p>

<p style="margin-left:17%;">Specify the color of the unused
area. For the syntax of this option, check the
<b>&quot;Color&quot; section in the ffmpeg-utils manual</b>.
The default value of <i>color</i> is &quot;black&quot;.</p>

<p style="margin-left:11%;"><b>overlap</b></p>

<p style="margin-left:17%;">Set the number of frames to
overlap when tiling several successive frames together. The
value must be between 0 and <i>nb_frames - 1</i>.</p>

<p style="margin-left:11%;"><b>init_padding</b></p>

<p style="margin-left:17%;">Set the number of frames to
initially be empty before displaying first output frame.
This controls how soon will one get first output frame. The
value must be between 0 and <i>nb_frames - 1</i>.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Produce 8x8 <small>PNG</small> tiles of all keyframes
(<b>-skip_frame nokey</b>) in a movie:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg
-skip_frame nokey -i file.avi -vf 'scale=128:72,tile=8x8'
-an -vsync 0 keyframes%03d.png</p>

<p style="margin-left:17%; margin-top: 1em">The <b>-vsync
0</b> is necessary to prevent <b>ffmpeg</b> from duplicating
each output frame to accommodate the originally detected
frame rate.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Display 5 pictures in an area of
&quot;3x2&quot; frames, with 7 pixels between them, and 2
pixels of initial margin, using mixed flat and named
options:</p> </td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">tile=3x2:nb_frames=5:padding=7:margin=2</p>


<p style="margin-left:11%; margin-top: 1em"><b>tinterlace</b>
<br>
Perform various types of temporal field interlacing.</p>

<p style="margin-left:11%; margin-top: 1em">Frames are
counted starting from 1, so the first input frame is
considered odd.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
mode</b></p>

<p style="margin-left:17%;">Specify the mode of the
interlacing. This option can also be specified as a value
alone. See below for a list of values for this option.</p>

<p style="margin-left:17%; margin-top: 1em">Available
values are: <b><br>
merge, 0</b></p>

<p style="margin-left:23%;">Move odd frames into the upper
field, even into the lower field, generating a double height
frame at half frame rate.</p>

<p style="margin-left:23%; margin-top: 1em">------&gt; time
<br>
Input: <br>
Frame 1 Frame 2 Frame 3 Frame 4 <br>
11111 22222 33333 44444 <br>
11111 22222 33333 44444 <br>
11111 22222 33333 44444 <br>
11111 22222 33333 44444 <br>
Output: <br>
11111 33333 <br>
22222 44444 <br>
11111 33333 <br>
22222 44444 <br>
11111 33333 <br>
22222 44444 <br>
11111 33333 <br>
22222 44444</p>

<p style="margin-left:17%;"><b>drop_even, 1</b></p>

<p style="margin-left:23%;">Only output odd frames, even
frames are dropped, generating a frame with unchanged height
at half frame rate.</p>

<p style="margin-left:23%; margin-top: 1em">------&gt; time
<br>
Input: <br>
Frame 1 Frame 2 Frame 3 Frame 4 <br>
11111 22222 33333 44444 <br>
11111 22222 33333 44444 <br>
11111 22222 33333 44444 <br>
11111 22222 33333 44444 <br>
Output: <br>
11111 33333 <br>
11111 33333 <br>
11111 33333 <br>
11111 33333</p>

<p style="margin-left:17%;"><b>drop_odd, 2</b></p>

<p style="margin-left:23%;">Only output even frames, odd
frames are dropped, generating a frame with unchanged height
at half frame rate.</p>

<p style="margin-left:23%; margin-top: 1em">------&gt; time
<br>
Input: <br>
Frame 1 Frame 2 Frame 3 Frame 4 <br>
11111 22222 33333 44444 <br>
11111 22222 33333 44444 <br>
11111 22222 33333 44444 <br>
11111 22222 33333 44444 <br>
Output: <br>
22222 44444 <br>
22222 44444 <br>
22222 44444 <br>
22222 44444</p>

<p style="margin-left:17%;"><b>pad, 3</b></p>

<p style="margin-left:23%;">Expand each frame to full
height, but pad alternate lines with black, generating a
frame with double height at the same input frame rate.</p>

<p style="margin-left:23%; margin-top: 1em">------&gt; time
<br>
Input: <br>
Frame 1 Frame 2 Frame 3 Frame 4 <br>
11111 22222 33333 44444 <br>
11111 22222 33333 44444 <br>
11111 22222 33333 44444 <br>
11111 22222 33333 44444 <br>
Output: <br>
11111 ..... 33333 ..... <br>
..... 22222 ..... 44444 <br>
11111 ..... 33333 ..... <br>
..... 22222 ..... 44444 <br>
11111 ..... 33333 ..... <br>
..... 22222 ..... 44444 <br>
11111 ..... 33333 ..... <br>
..... 22222 ..... 44444</p>

<p style="margin-left:17%;"><b>interleave_top, 4</b></p>

<p style="margin-left:23%;">Interleave the upper field from
odd frames with the lower field from even frames, generating
a frame with unchanged height at half frame rate.</p>

<p style="margin-left:23%; margin-top: 1em">------&gt; time
<br>
Input: <br>
Frame 1 Frame 2 Frame 3 Frame 4 <br>
11111&lt;- 22222 33333&lt;- 44444 <br>
11111 22222&lt;- 33333 44444&lt;- <br>
11111&lt;- 22222 33333&lt;- 44444 <br>
11111 22222&lt;- 33333 44444&lt;- <br>
Output: <br>
11111 33333 <br>
22222 44444 <br>
11111 33333 <br>
22222 44444</p>

<p style="margin-left:17%;"><b>interleave_bottom, 5</b></p>

<p style="margin-left:23%;">Interleave the lower field from
odd frames with the upper field from even frames, generating
a frame with unchanged height at half frame rate.</p>

<p style="margin-left:23%; margin-top: 1em">------&gt; time
<br>
Input: <br>
Frame 1 Frame 2 Frame 3 Frame 4 <br>
11111 22222&lt;- 33333 44444&lt;- <br>
11111&lt;- 22222 33333&lt;- 44444 <br>
11111 22222&lt;- 33333 44444&lt;- <br>
11111&lt;- 22222 33333&lt;- 44444 <br>
Output: <br>
22222 44444 <br>
11111 33333 <br>
22222 44444 <br>
11111 33333</p>

<p style="margin-left:17%;"><b>interlacex2, 6</b></p>

<p style="margin-left:23%;">Double frame rate with
unchanged height. Frames are inserted each containing the
second temporal field from the previous input frame and the
first temporal field from the next input frame. This mode
relies on the top_field_first flag. Useful for interlaced
video displays with no field synchronisation.</p>

<p style="margin-left:23%; margin-top: 1em">------&gt; time
<br>
Input: <br>
Frame 1 Frame 2 Frame 3 Frame 4 <br>
11111 22222 33333 44444 <br>
11111 22222 33333 44444 <br>
11111 22222 33333 44444 <br>
11111 22222 33333 44444 <br>
Output: <br>
11111 22222 22222 33333 33333 44444 44444 <br>
11111 11111 22222 22222 33333 33333 44444 <br>
11111 22222 22222 33333 33333 44444 44444 <br>
11111 11111 22222 22222 33333 33333 44444</p>

<p style="margin-left:17%;"><b>mergex2, 7</b></p>

<p style="margin-left:23%;">Move odd frames into the upper
field, even into the lower field, generating a double height
frame at same frame rate.</p>

<p style="margin-left:23%; margin-top: 1em">------&gt; time
<br>
Input: <br>
Frame 1 Frame 2 Frame 3 Frame 4 <br>
11111 22222 33333 44444 <br>
11111 22222 33333 44444 <br>
11111 22222 33333 44444 <br>
11111 22222 33333 44444 <br>
Output: <br>
11111 33333 33333 55555 <br>
22222 22222 44444 44444 <br>
11111 33333 33333 55555 <br>
22222 22222 44444 44444 <br>
11111 33333 33333 55555 <br>
22222 22222 44444 44444 <br>
11111 33333 33333 55555 <br>
22222 22222 44444 44444</p>

<p style="margin-left:17%; margin-top: 1em">Numeric values
are deprecated but are accepted for backward compatibility
reasons.</p>

<p style="margin-left:17%; margin-top: 1em">Default mode is
&quot;merge&quot;.</p>

<p style="margin-left:11%;"><b>flags</b></p>

<p style="margin-left:17%;">Specify flags influencing the
filter process.</p>

<p style="margin-left:17%; margin-top: 1em">Available value
for <i>flags</i> is: <b><br>
low_pass_filter, vlpf</b></p>

<p style="margin-left:23%;">Enable linear vertical low-pass
filtering in the filter. Vertical low-pass filtering is
required when creating an interlaced destination from a
progressive source which contains high-frequency vertical
detail. Filtering will reduce interlace
&rsquo;twitter&rsquo; and Moire patterning.</p>

<p style="margin-left:17%;"><b>complex_filter,
cvlpf</b></p>

<p style="margin-left:23%;">Enable complex vertical
low-pass filtering. This will slightly less reduce interlace
&rsquo;twitter&rsquo; and Moire patterning but better retain
detail and subjective sharpness impression.</p>

<p style="margin-left:17%; margin-top: 1em">Vertical
low-pass filtering can only be enabled for <b>mode</b>
<i>interleave_top</i> and <i>interleave_bottom</i>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>tmix</b>
<br>
Mix successive video frames.</p>

<p style="margin-left:11%; margin-top: 1em">A description
of the accepted options follows. <b><br>
frames</b></p>

<p style="margin-left:17%;">The number of successive frames
to mix. If unspecified, it defaults to 3.</p>

<p style="margin-left:11%;"><b>weights</b></p>

<p style="margin-left:17%;">Specify weight of each input
video frame. Each weight is separated by space. If number of
weights is smaller than number of <i>frames</i> last
specified weight will be used for all remaining unset
weights.</p>

<p style="margin-left:11%;"><b>scale</b></p>

<p style="margin-left:17%;">Specify scale, if it is set it
will be multiplied with sum of each weight multiplied with
pixel values to give final destination pixel value. By
default <i>scale</i> is auto scaled to sum of weights.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="43%">


<p>Average 7 successive frames:</p></td>
<td width="40%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">tmix=frames=7:weights=&quot;1
1 1 1 1 1 1&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="52%">


<p style="margin-top: 1em">Apply simple temporal
convolution:</p> </td>
<td width="31%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">tmix=frames=3:weights=&quot;-1
3 -1&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Similar as above but only
showing temporal differences:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">tmix=frames=3:weights=&quot;-1
2 -1&quot;:scale=1</p>

<p style="margin-left:11%; margin-top: 1em"><b>tonemap</b>
<br>
Tone map colors from different dynamic ranges.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
expects data in single precision floating point, as it needs
to operate on (and can output) out-of-range values. Another
filter, such as <b>zscale</b>, is needed to convert the
resulting frame to a usable format.</p>

<p style="margin-left:11%; margin-top: 1em">The tonemapping
algorithms implemented only work on linear light, so input
data should be linearized beforehand (and possibly correctly
tagged).</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i INPUT
-vf
zscale=transfer=linear,tonemap=clip,zscale=transfer=bt709,format=yuv420p
OUTPUT</p>


<p style="margin-left:11%; margin-top: 1em"><i>Options</i></p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options. <b><br>
tonemap</b></p>

<p style="margin-left:17%;">Set the tone map algorithm to
use.</p>

<p style="margin-left:17%; margin-top: 1em">Possible values
are: <i><br>
none</i></p>

<p style="margin-left:23%;">Do not apply any tone map, only
desaturate overbright pixels.</p>

<p style="margin-left:17%;"><i>clip</i></p>

<p style="margin-left:23%;">Hard-clip any out-of-range
values. Use it for perfect color accuracy for in-range
values, while distorting out-of-range values.</p>

<p style="margin-left:17%;"><i>linear</i></p>

<p style="margin-left:23%;">Stretch the entire reference
gamut to a linear multiple of the display.</p>

<p style="margin-left:17%;"><i>gamma</i></p>

<p style="margin-left:23%;">Fit a logarithmic transfer
between the tone curves.</p>

<p style="margin-left:17%;"><i>reinhard</i></p>

<p style="margin-left:23%;">Preserve overall image
brightness with a simple curve, using nonlinear contrast,
which results in flattening details and degrading color
accuracy.</p>

<p style="margin-left:17%;"><i>hable</i></p>

<p style="margin-left:23%;">Preserve both dark and bright
details better than <i>reinhard</i>, at the cost of slightly
darkening everything. Use it when detail preservation is
more important than color and brightness accuracy.</p>

<p style="margin-left:17%;"><i>mobius</i></p>

<p style="margin-left:23%;">Smoothly map out-of-range
values, while retaining contrast and colors for in-range
material as much as possible. Use it when color accuracy is
more important than detail preservation.</p>

<p style="margin-left:17%; margin-top: 1em">Default is
none.</p>

<p style="margin-left:11%;"><b>param</b></p>

<p style="margin-left:17%;">Tune the tone mapping
algorithm.</p>

<p style="margin-left:17%; margin-top: 1em">This affects
the following algorithms: <i><br>
none</i></p>

<p style="margin-left:23%;">Ignored.</p>

<p style="margin-left:17%;"><i>linear</i></p>

<p style="margin-left:23%;">Specifies the scale factor to
use while stretching. Default to 1.0.</p>

<p style="margin-left:17%;"><i>gamma</i></p>

<p style="margin-left:23%;">Specifies the exponent of the
function. Default to 1.8.</p>

<p style="margin-left:17%;"><i>clip</i></p>

<p style="margin-left:23%;">Specify an extra linear
coefficient to multiply into the signal before clipping.
Default to 1.0.</p>

<p style="margin-left:17%;"><i>reinhard</i></p>

<p style="margin-left:23%;">Specify the local contrast
coefficient at the display peak. Default to 0.5, which means
that in-gamut values will be about half as bright as when
clipping.</p>

<p style="margin-left:17%;"><i>hable</i></p>

<p style="margin-left:23%;">Ignored.</p>

<p style="margin-left:17%;"><i>mobius</i></p>

<p style="margin-left:23%;">Specify the transition point
from linear to mobius transform. Every value below this
point is guaranteed to be mapped 1:1. The higher the value,
the more accurate the result will be, at the cost of losing
bright details. Default to 0.3, which due to the steep
initial slope still preserves in-range colors fairly
accurately.</p>

<p style="margin-left:11%;"><b>desat</b></p>

<p style="margin-left:17%;">Apply desaturation for
highlights that exceed this level of brightness. The higher
the parameter, the more color information will be preserved.
This setting helps prevent unnaturally blown-out colors for
super-highlights, by (smoothly) turning into white instead.
This makes images feel more natural, at the cost of reducing
information about out-of-range colors.</p>

<p style="margin-left:17%; margin-top: 1em">The default of
2.0 is somewhat conservative and will mostly just apply to
skies or directly sunlit surfaces. A setting of 0.0 disables
this option.</p>

<p style="margin-left:17%; margin-top: 1em">This option
works only if the input frame has a supported color tag.</p>

<p style="margin-left:11%;"><b>peak</b></p>

<p style="margin-left:17%;">Override
signal/nominal/reference peak with this value. Useful when
the embedded peak information in display metadata is not
reliable or when tone mapping from a lower range to a higher
range.</p>

<p style="margin-left:11%; margin-top: 1em"><b>tpad</b>
<br>
Temporarily pad video frames.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
start</b></p>

<p style="margin-left:17%;">Specify number of delay frames
before input video stream.</p>

<p style="margin-left:11%;"><b>stop</b></p>

<p style="margin-left:17%;">Specify number of padding
frames after input video stream. Set to -1 to pad
indefinitely.</p>

<p style="margin-left:11%;"><b>start_mode</b></p>

<p style="margin-left:17%;">Set kind of frames added to
beginning of stream. Can be either <i>add</i> or
<i>clone</i>. With <i>add</i> frames of solid-color are
added. With <i>clone</i> frames are clones of first
frame.</p>

<p style="margin-left:11%;"><b>stop_mode</b></p>

<p style="margin-left:17%;">Set kind of frames added to end
of stream. Can be either <i>add</i> or <i>clone</i>. With
<i>add</i> frames of solid-color are added. With
<i>clone</i> frames are clones of last frame.</p>

<p style="margin-left:11%;"><b>start_duration,
stop_duration</b></p>

<p style="margin-left:17%;">Specify the duration of the
start/stop delay. See <b>the Time duration section in the
ffmpeg-utils(1) manual</b> for the accepted syntax. These
options override <i>start</i> and <i>stop</i>.</p>

<p style="margin-left:11%;"><b>color</b></p>

<p style="margin-left:17%;">Specify the color of the padded
area. For the syntax of this option, check the
<b>&quot;Color&quot; section in the ffmpeg-utils
manual</b>.</p>

<p style="margin-left:17%; margin-top: 1em">The default
value of <i>color</i> is &quot;black&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><b>transpose</b>
<br>
Transpose rows with columns in the input video and
optionally flip it.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>dir</b></p></td>
<td width="2%"></td>
<td width="55%">


<p>Specify the transposition direction.</p></td>
<td width="28%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Can assume the
following values: <b><br>
0, 4, cclock_flip</b></p>

<p style="margin-left:23%;">Rotate by 90 degrees
counterclockwise and vertically flip (default), that is:</p>

<p style="margin-left:23%; margin-top: 1em">L.R L.l <br>
. . -&gt; . . <br>
l.r R.r</p>

<p style="margin-left:17%;"><b>1, 5, clock</b></p>

<p style="margin-left:23%;">Rotate by 90 degrees clockwise,
that is:</p>

<p style="margin-left:23%; margin-top: 1em">L.R l.L <br>
. . -&gt; . . <br>
l.r r.R</p>

<p style="margin-left:17%;"><b>2, 6, cclock</b></p>

<p style="margin-left:23%;">Rotate by 90 degrees
counterclockwise, that is:</p>

<p style="margin-left:23%; margin-top: 1em">L.R R.r <br>
. . -&gt; . . <br>
l.r L.l</p>

<p style="margin-left:17%;"><b>3, 7, clock_flip</b></p>

<p style="margin-left:23%;">Rotate by 90 degrees clockwise
and vertically flip, that is:</p>

<p style="margin-left:23%; margin-top: 1em">L.R r.R <br>
. . -&gt; . . <br>
l.r l.L</p>

<p style="margin-left:17%; margin-top: 1em">For values
between 4-7, the transposition is only done if the input
video geometry is portrait and not landscape. These values
are deprecated, the &quot;passthrough&quot; option should be
used instead.</p>

<p style="margin-left:17%; margin-top: 1em">Numerical
values are deprecated, and should be dropped in favor of
symbolic constants.</p>

<p style="margin-left:11%;"><b>passthrough</b></p>

<p style="margin-left:17%;">Do not apply the transposition
if the input geometry matches the one specified by the
specified value. It accepts the following values: <b><br>
none</b></p>

<p style="margin-left:23%;">Always apply transposition.</p>

<p style="margin-left:17%;"><b>portrait</b></p>

<p style="margin-left:23%;">Preserve portrait geometry
(when <i>height</i> &gt;= <i>width</i>).</p>

<p style="margin-left:17%;"><b>landscape</b></p>

<p style="margin-left:23%;">Preserve landscape geometry
(when <i>width</i> &gt;= <i>height</i>).</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is &quot;none&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">For example to
rotate by 90 degrees clockwise and preserve portrait
layout:</p>


<p style="margin-left:11%; margin-top: 1em">transpose=dir=1:passthrough=portrait</p>

<p style="margin-left:11%; margin-top: 1em">The command
above can also be specified as:</p>


<p style="margin-left:11%; margin-top: 1em">transpose=1:portrait</p>


<p style="margin-left:11%; margin-top: 1em"><b>transpose_npp</b>
<br>
Transpose rows with columns in the input video and
optionally flip it. For more in depth examples see the
<b>transpose</b> video filter, which shares mostly the same
options.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>dir</b></p></td>
<td width="2%"></td>
<td width="55%">


<p>Specify the transposition direction.</p></td>
<td width="28%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Can assume the
following values: <b><br>
cclock_flip</b></p>

<p style="margin-left:23%;">Rotate by 90 degrees
counterclockwise and vertically flip. (default)</p>

<p style="margin-left:17%;"><b>clock</b></p>

<p style="margin-left:23%;">Rotate by 90 degrees
clockwise.</p>

<p style="margin-left:17%;"><b>cclock</b></p>

<p style="margin-left:23%;">Rotate by 90 degrees
counterclockwise.</p>

<p style="margin-left:17%;"><b>clock_flip</b></p>

<p style="margin-left:23%;">Rotate by 90 degrees clockwise
and vertically flip.</p>

<p style="margin-left:11%;"><b>passthrough</b></p>

<p style="margin-left:17%;">Do not apply the transposition
if the input geometry matches the one specified by the
specified value. It accepts the following values: <b><br>
none</b></p>

<p style="margin-left:23%;">Always apply transposition.
(default)</p>

<p style="margin-left:17%;"><b>portrait</b></p>

<p style="margin-left:23%;">Preserve portrait geometry
(when <i>height</i> &gt;= <i>width</i>).</p>

<p style="margin-left:17%;"><b>landscape</b></p>

<p style="margin-left:23%;">Preserve landscape geometry
(when <i>width</i> &gt;= <i>height</i>).</p>

<p style="margin-left:11%; margin-top: 1em"><b>trim</b>
<br>
Trim the input so that the output contains one continuous
subpart of the input.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters: <b><br>
start</b></p>

<p style="margin-left:17%;">Specify the time of the start
of the kept section, i.e. the frame with the timestamp
<i>start</i> will be the first frame in the output.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>end</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Specify the time of the first frame that will be
dropped, i.e. the frame immediately preceding the one with
the timestamp <i>end</i> will be the last frame in the
output.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>start_pts</b></p>

<p style="margin-left:17%;">This is the same as
<i>start</i>, except this option sets the start timestamp in
timebase units instead of seconds.</p>

<p style="margin-left:11%;"><b>end_pts</b></p>

<p style="margin-left:17%;">This is the same as <i>end</i>,
except this option sets the end timestamp in timebase units
instead of seconds.</p>

<p style="margin-left:11%;"><b>duration</b></p>

<p style="margin-left:17%;">The maximum duration of the
output in seconds.</p>

<p style="margin-left:11%;"><b>start_frame</b></p>

<p style="margin-left:17%;">The number of the first frame
that should be passed to the output.</p>

<p style="margin-left:11%;"><b>end_frame</b></p>

<p style="margin-left:17%;">The number of the first frame
that should be dropped.</p>

<p style="margin-left:11%; margin-top: 1em"><b>start</b>,
<b>end</b>, and <b>duration</b> are expressed as time
duration specifications; see <b>the Time duration section in
the ffmpeg-utils(1) manual</b> for the accepted syntax.</p>

<p style="margin-left:11%; margin-top: 1em">Note that the
first two sets of the start/end options and the
<b>duration</b> option look at the frame timestamp, while
the _frame variants simply count the frames that pass
through the filter. Also note that this filter does not
modify the timestamps. If you wish for the output timestamps
to start at zero, insert a setpts filter after the trim
filter.</p>

<p style="margin-left:11%; margin-top: 1em">If multiple
start or end options are set, this filter tries to be greedy
and keep all the frames that match at least one of the
specified constraints. To keep only the part that matches
all the constraints at once, chain multiple trim
filters.</p>

<p style="margin-left:11%; margin-top: 1em">The defaults
are such that all the input is kept. So it is possible to
set e.g. just the end values to keep everything before the
specified time.</p>

<p style="margin-left:11%; margin-top: 1em">Examples:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="77%">


<p>Drop everything except the second minute of input:</p></td>
<td width="6%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i INPUT
-vf trim=60:120</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="41%">


<p style="margin-top: 1em">Keep only the first second:</p></td>
<td width="42%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i INPUT
-vf trim=duration=1</p>


<p style="margin-left:11%; margin-top: 1em"><b>unpremultiply</b>
<br>
Apply alpha unpremultiply effect to input video stream using
first plane of second stream as alpha.</p>

<p style="margin-left:11%; margin-top: 1em">Both streams
must have same dimensions and same pixel format.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following option: <b><br>
planes</b></p>

<p style="margin-left:17%;">Set which planes will be
processed, unprocessed planes will be copied. By default
value 0xf, all planes will be processed.</p>

<p style="margin-left:17%; margin-top: 1em">If the format
has 1 or 2 components, then luma is bit 0. If the format has
3 or 4 components: for <small>RGB</small> formats bit 0 is
green, bit 1 is blue and bit 2 is red; for
<small>YUV</small> formats bit 0 is luma, bit 1 is chroma-U
and bit 2 is chroma-V. If present, the alpha channel is
always the last bit.</p>

<p style="margin-left:11%;"><b>inplace</b></p>

<p style="margin-left:17%;">Do not require 2nd input for
processing, instead use alpha plane from input stream.</p>

<p style="margin-left:11%; margin-top: 1em"><b>unsharp</b>
<br>
Sharpen or blur the input video.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters: <b><br>
luma_msize_x, lx</b></p>

<p style="margin-left:17%;">Set the luma matrix horizontal
size. It must be an odd integer between 3 and 23. The
default value is 5.</p>

<p style="margin-left:11%;"><b>luma_msize_y, ly</b></p>

<p style="margin-left:17%;">Set the luma matrix vertical
size. It must be an odd integer between 3 and 23. The
default value is 5.</p>

<p style="margin-left:11%;"><b>luma_amount, la</b></p>

<p style="margin-left:17%;">Set the luma effect strength.
It must be a floating point number, reasonable values lay
between -1.5 and 1.5.</p>

<p style="margin-left:17%; margin-top: 1em">Negative values
will blur the input video, while positive values will
sharpen it, a value of zero will disable the effect.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is 1.0.</p>

<p style="margin-left:11%;"><b>chroma_msize_x, cx</b></p>

<p style="margin-left:17%;">Set the chroma matrix
horizontal size. It must be an odd integer between 3 and 23.
The default value is 5.</p>

<p style="margin-left:11%;"><b>chroma_msize_y, cy</b></p>

<p style="margin-left:17%;">Set the chroma matrix vertical
size. It must be an odd integer between 3 and 23. The
default value is 5.</p>

<p style="margin-left:11%;"><b>chroma_amount, ca</b></p>

<p style="margin-left:17%;">Set the chroma effect strength.
It must be a floating point number, reasonable values lay
between -1.5 and 1.5.</p>

<p style="margin-left:17%; margin-top: 1em">Negative values
will blur the input video, while positive values will
sharpen it, a value of zero will disable the effect.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is 0.0.</p>

<p style="margin-left:11%; margin-top: 1em">All parameters
are optional and default to the equivalent of the string
&rsquo;5:5:1.0:5:5:0.0&rsquo;.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="51%">


<p>Apply strong luma sharpen effect:</p></td>
<td width="32%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">unsharp=luma_msize_x=7:luma_msize_y=7:luma_amount=2.5</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Apply a strong blur of both luma
and chroma parameters:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">unsharp=7:7:-2:7:7:-2</p>

<p style="margin-left:11%; margin-top: 1em"><b>uspp</b>
<br>
Apply ultra slow/simple postprocessing filter that
compresses and decompresses the image at several (or - in
the case of <b>quality</b> level 8 - all) shifts and average
the results.</p>

<p style="margin-left:11%; margin-top: 1em">The way this
differs from the behavior of spp is that uspp actually
encodes &amp; decodes each case with libavcodec Snow,
whereas spp uses a simplified intra only 8x8
<small>DCT</small> similar to <small>MJPEG.</small></p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
quality</b></p>

<p style="margin-left:17%;">Set quality. This option
defines the number of levels for averaging. It accepts an
integer in the range 0-8. If set to 0, the filter will have
no effect. A value of 8 means the higher quality. For each
increment of that value the speed drops by a factor of
approximately 2. Default value is 3.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>qp</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Force a constant quantization parameter. If not set, the
filter will use the <small>QP</small> from the video stream
(if available).</p></td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><b>vaguedenoiser</b>
<br>
Apply a wavelet based denoiser.</p>

<p style="margin-left:11%; margin-top: 1em">It transforms
each frame from the video input into the wavelet domain,
using Cohen-Daubechies-Feauveau 9/7. Then it applies some
filtering to the obtained coefficients. It does an inverse
wavelet transform after. Due to wavelet properties, it
should give a nice smoothed result, and reduced noise,
without blurring picture features.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
accepts the following options: <b><br>
threshold</b></p>

<p style="margin-left:17%;">The filtering strength. The
higher, the more filtered the video will be. Hard
thresholding can use a higher threshold than soft
thresholding before the video looks overfiltered. Default
value is 2.</p>

<p style="margin-left:11%;"><b>method</b></p>

<p style="margin-left:17%;">The filtering method the filter
will use.</p>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values: <b><br>
hard</b></p>

<p style="margin-left:23%;">All values under the threshold
will be zeroed.</p>

<p style="margin-left:17%;"><b>soft</b></p>

<p style="margin-left:23%;">All values under the threshold
will be zeroed. All values above will be reduced by the
threshold.</p>

<p style="margin-left:17%;"><b>garrote</b></p>

<p style="margin-left:23%;">Scales or nullifies
coefficients - intermediary between (more) soft and (less)
hard thresholding.</p>

<p style="margin-left:17%; margin-top: 1em">Default is
garrote.</p>

<p style="margin-left:11%;"><b>nsteps</b></p>

<p style="margin-left:17%;">Number of times, the wavelet
will decompose the picture. Picture can&rsquo;t be
decomposed beyond a particular point (typically, 8 for a
640x480 frame - as 2^9 = 512 &gt; 480). Valid values are
integers between 1 and 32. Default value is 6.</p>

<p style="margin-left:11%;"><b>percent</b></p>

<p style="margin-left:17%;">Partial of full denoising
(limited coefficients shrinking), from 0 to 100. Default
value is 85.</p>

<p style="margin-left:11%;"><b>planes</b></p>

<p style="margin-left:17%;">A list of the planes to
process. By default all planes are processed.</p>


<p style="margin-left:11%; margin-top: 1em"><b>vectorscope</b>
<br>
Display 2 color component values in the two dimensional
graph (which is called a vectorscope).</p>

<p style="margin-left:11%; margin-top: 1em">This filter
accepts the following options: <b><br>
mode, m</b></p>

<p style="margin-left:17%;">Set vectorscope mode.</p>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values: <b><br>
gray</b></p>

<p style="margin-left:23%;">Gray values are displayed on
graph, higher brightness means more pixels have same
component color value on location in graph. This is the
default mode.</p>

<p style="margin-left:17%;"><b>color</b></p>

<p style="margin-left:23%;">Gray values are displayed on
graph. Surrounding pixels values which are not present in
video frame are drawn in gradient of 2 color components
which are set by option &quot;x&quot; and &quot;y&quot;. The
3rd color component is static.</p>

<p style="margin-left:17%;"><b>color2</b></p>

<p style="margin-left:23%;">Actual color components values
present in video frame are displayed on graph.</p>

<p style="margin-left:17%;"><b>color3</b></p>

<p style="margin-left:23%;">Similar as color2 but higher
frequency of same values &quot;x&quot; and &quot;y&quot; on
graph increases value of another color component, which is
luminance by default values of &quot;x&quot; and
&quot;y&quot;.</p>

<p style="margin-left:17%;"><b>color4</b></p>

<p style="margin-left:23%;">Actual colors present in video
frame are displayed on graph. If two different colors map to
same position on graph then color with higher value of
component not present in graph is picked.</p>

<p style="margin-left:17%;"><b>color5</b></p>

<p style="margin-left:23%;">Gray values are displayed on
graph. Similar to &quot;color&quot; but with 3rd color
component picked from radial gradient.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>x</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set which color component will be represented on X-axis.
Default is 1.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>y</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set which color component will be represented on Y-axis.
Default is 2.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>intensity, i</b></p>

<p style="margin-left:17%;">Set intensity, used by modes:
gray, color, color3 and color5 for increasing brightness of
color component which represents frequency of (X, Y)
location in graph.</p>

<p style="margin-left:11%;"><b>envelope, e</b></p>

<p style="margin-left:17%;"><b>none</b></p>

<p style="margin-left:23%;">No envelope, this is
default.</p>

<p style="margin-left:17%;"><b>instant</b></p>

<p style="margin-left:23%;">Instant envelope, even darkest
single pixel will be clearly highlighted.</p>

<p style="margin-left:17%;"><b>peak</b></p>

<p style="margin-left:23%;">Hold maximum and minimum values
presented in graph over time. This way you can still spot
out of range values without constantly looking at
vectorscope.</p>

<p style="margin-left:17%;"><b>peak+instant</b></p>

<p style="margin-left:23%;">Peak and instant envelope
combined together.</p>

<p style="margin-left:11%;"><b>graticule, g</b></p>

<p style="margin-left:17%;">Set what kind of graticule to
draw. <b><br>
none <br>
green <br>
color</b></p>

<p style="margin-left:11%;"><b>opacity, o</b></p>

<p style="margin-left:17%;">Set graticule opacity.</p>

<p style="margin-left:11%;"><b>flags, f</b></p>

<p style="margin-left:17%;">Set graticule flags. <b><br>
white</b></p>

<p style="margin-left:23%;">Draw graticule for white
point.</p>

<p style="margin-left:17%;"><b>black</b></p>

<p style="margin-left:23%;">Draw graticule for black
point.</p>

<p style="margin-left:17%;"><b>name</b></p>

<p style="margin-left:23%;">Draw color points short
names.</p>

<p style="margin-left:11%;"><b>bgopacity, b</b></p>

<p style="margin-left:17%;">Set background opacity.</p>

<p style="margin-left:11%;"><b>lthreshold, l</b></p>

<p style="margin-left:17%;">Set low threshold for color
component not represented on X or Y axis. Values lower than
this value will be ignored. Default is 0. Note this value is
multiplied with actual max possible value one pixel
component can have. So for 8-bit input and low threshold
value of 0.1 actual threshold is 0.1 * 255 = 25.</p>

<p style="margin-left:11%;"><b>hthreshold, h</b></p>

<p style="margin-left:17%;">Set high threshold for color
component not represented on X or Y axis. Values higher than
this value will be ignored. Default is 1. Note this value is
multiplied with actual max possible value one pixel
component can have. So for 8-bit input and high threshold
value of 0.9 actual threshold is 0.9 * 255 = 230.</p>

<p style="margin-left:11%;"><b>colorspace, c</b></p>

<p style="margin-left:17%;">Set what kind of colorspace to
use when drawing graticule. <b><br>
auto</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>601</b></p></td>
<td width="78%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>709</b></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:17%;">Default is auto.</p>


<p style="margin-left:11%; margin-top: 1em"><b>vidstabdetect</b>
<br>
Analyze video stabilization/deshaking. Perform pass 1 of 2,
see <b>vidstabtransform</b> for pass 2.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
generates a file with relative translation and rotation
transform information about subsequent frames, which is then
used by the <b>vidstabtransform</b> filter.</p>

<p style="margin-left:11%; margin-top: 1em">To enable
compilation of this filter you need to configure FFmpeg with
&quot;--enable-libvidstab&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
accepts the following options: <b><br>
result</b></p>

<p style="margin-left:17%;">Set the path to the file used
to write the transforms information. Default value is
<i>transforms.trf</i>.</p>

<p style="margin-left:11%;"><b>shakiness</b></p>

<p style="margin-left:17%;">Set how shaky the video is and
how quick the camera is. It accepts an integer in the range
1-10, a value of 1 means little shakiness, a value of 10
means strong shakiness. Default value is 5.</p>

<p style="margin-left:11%;"><b>accuracy</b></p>

<p style="margin-left:17%;">Set the accuracy of the
detection process. It must be a value in the range 1-15. A
value of 1 means low accuracy, a value of 15 means high
accuracy. Default value is 15.</p>

<p style="margin-left:11%;"><b>stepsize</b></p>

<p style="margin-left:17%;">Set stepsize of the search
process. The region around minimum is scanned with 1 pixel
resolution. Default value is 6.</p>

<p style="margin-left:11%;"><b>mincontrast</b></p>

<p style="margin-left:17%;">Set minimum contrast. Below
this value a local measurement field is discarded. Must be a
floating point value in the range 0-1. Default value is
0.3.</p>

<p style="margin-left:11%;"><b>tripod</b></p>

<p style="margin-left:17%;">Set reference frame number for
tripod mode.</p>

<p style="margin-left:17%; margin-top: 1em">If enabled, the
motion of the frames is compared to a reference frame in the
filtered stream, identified by the specified number. The
idea is to compensate all movements in a more-or-less static
scene and keep the camera view absolutely still.</p>

<p style="margin-left:17%; margin-top: 1em">If set to 0, it
is disabled. The frames are counted starting from 1.</p>

<p style="margin-left:11%;"><b>show</b></p>

<p style="margin-left:17%;">Show fields and transforms in
the resulting frames. It accepts an integer in the range
0-2. Default value is 0, which disables any
visualization.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="29%">


<p>Use default values:</p></td>
<td width="54%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">vidstabdetect</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Analyze strongly shaky movie and
put the results in file <i>mytransforms.trf</i>:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">vidstabdetect=shakiness=10:accuracy=15:result=&quot;mytransforms.trf&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Visualize the result of internal
transformations in the resulting video:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">vidstabdetect=show=1</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="78%">


<p style="margin-top: 1em">Analyze a video with medium
shakiness using <b>ffmpeg</b>:</p></td>
<td width="5%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i input
-vf vidstabdetect=shakiness=5:show=1 dummy.avi</p>


<p style="margin-left:11%; margin-top: 1em"><b>vidstabtransform</b>
<br>
Video stabilization/deshaking: pass 2 of 2, see
<b>vidstabdetect</b> for pass 1.</p>

<p style="margin-left:11%; margin-top: 1em">Read a file
with transform information for each frame and
apply/compensate them. Together with the
<b>vidstabdetect</b> filter this can be used to deshake
videos. See also
&lt;<b>http://public.hronopik.de/vid.stab</b>&gt;. It is
important to also use the <b>unsharp</b> filter, see
below.</p>

<p style="margin-left:11%; margin-top: 1em">To enable
compilation of this filter you need to configure FFmpeg with
&quot;--enable-libvidstab&quot;.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Options</i>
<b><br>
input</b></p>

<p style="margin-left:17%;">Set path to the file used to
read the transforms. Default value is
<i>transforms.trf</i>.</p>

<p style="margin-left:11%;"><b>smoothing</b></p>

<p style="margin-left:17%;">Set the number of frames
(value*2 + 1) used for lowpass filtering the camera
movements. Default value is 10.</p>

<p style="margin-left:17%; margin-top: 1em">For example a
number of 10 means that 21 frames are used (10 in the past
and 10 in the future) to smoothen the motion in the video. A
larger value leads to a smoother video, but limits the
acceleration of the camera (pan/tilt movements). 0 is a
special case where a static camera is simulated.</p>

<p style="margin-left:11%;"><b>optalgo</b></p>

<p style="margin-left:17%;">Set the camera path
optimization algorithm.</p>

<p style="margin-left:17%; margin-top: 1em">Accepted values
are: <b><br>
gauss</b></p>

<p style="margin-left:23%;">gaussian kernel low-pass filter
on camera motion (default)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>avg</b></p></td>
<td width="1%"></td>
<td width="43%">


<p>averaging on transformations</p></td>
<td width="34%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>maxshift</b></p>

<p style="margin-left:17%;">Set maximal number of pixels to
translate frames. Default value is -1, meaning no limit.</p>

<p style="margin-left:11%;"><b>maxangle</b></p>

<p style="margin-left:17%;">Set maximal angle in radians
(degree*PI/180) to rotate frames. Default value is -1,
meaning no limit.</p>

<p style="margin-left:11%;"><b>crop</b></p>

<p style="margin-left:17%;">Specify how to deal with
borders that may be visible due to movement
compensation.</p>

<p style="margin-left:17%; margin-top: 1em">Available
values are: <b><br>
keep</b></p>

<p style="margin-left:23%;">keep image information from
previous frame (default)</p>

<p style="margin-left:17%;"><b>black</b></p>

<p style="margin-left:23%;">fill the border black</p>

<p style="margin-left:11%;"><b>invert</b></p>

<p style="margin-left:17%;">Invert transforms if set to 1.
Default value is 0.</p>

<p style="margin-left:11%;"><b>relative</b></p>

<p style="margin-left:17%;">Consider transforms as relative
to previous frame if set to 1, absolute if set to 0. Default
value is 0.</p>

<p style="margin-left:11%;"><b>zoom</b></p>

<p style="margin-left:17%;">Set percentage to zoom. A
positive value will result in a zoom-in effect, a negative
value in a zoom-out effect. Default value is 0 (no
zoom).</p>

<p style="margin-left:11%;"><b>optzoom</b></p>

<p style="margin-left:17%;">Set optimal zooming to avoid
borders.</p>

<p style="margin-left:17%; margin-top: 1em">Accepted values
are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>0</b></p></td>
<td width="5%"></td>
<td width="77%">


<p>disabled</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>1</b></p></td>
<td width="5%"></td>
<td width="77%">


<p>optimal static zoom value is determined (only very
strong movements will lead to visible borders) (default)</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p><b>2</b></p></td>
<td width="5%"></td>
<td width="77%">


<p>optimal adaptive zoom value is determined (no borders
will be visible), see <b>zoomspeed</b></p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Note that the
value given at zoom is added to the one calculated here.</p>

<p style="margin-left:11%;"><b>zoomspeed</b></p>

<p style="margin-left:17%;">Set percent to zoom maximally
each frame (enabled when <b>optzoom</b> is set to 2). Range
is from 0 to 5, default value is 0.25.</p>

<p style="margin-left:11%;"><b>interpol</b></p>

<p style="margin-left:17%;">Specify type of
interpolation.</p>

<p style="margin-left:17%; margin-top: 1em">Available
values are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>no</b></p></td>
<td width="3%"></td>
<td width="25%">


<p>no interpolation</p></td>
<td width="52%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>linear</b></p>

<p style="margin-left:23%;">linear only horizontal</p>

<p style="margin-left:17%;"><b>bilinear</b></p>

<p style="margin-left:23%;">linear in both directions
(default)</p>

<p style="margin-left:17%;"><b>bicubic</b></p>

<p style="margin-left:23%;">cubic in both directions
(slow)</p>

<p style="margin-left:11%;"><b>tripod</b></p>

<p style="margin-left:17%;">Enable virtual tripod mode if
set to 1, which is equivalent to
&quot;relative=0:smoothing=0&quot;. Default value is 0.</p>

<p style="margin-left:17%; margin-top: 1em">Use also
&quot;tripod&quot; option of <b>vidstabdetect</b>.</p>

<p style="margin-left:11%;"><b>debug</b></p>

<p style="margin-left:17%;">Increase log verbosity if set
to 1. Also the detected global motions are written to the
temporary file <i>global_motions.trf</i>. Default value is
0.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Use <b>ffmpeg</b> for a typical stabilization with
default values:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
inp.mpeg -vf vidstabtransform,unsharp=5:5:0.8:3:3:0.4
inp_stabilized.mpeg</p>

<p style="margin-left:17%; margin-top: 1em">Note the use of
the <b>unsharp</b> filter which is always recommended.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Zoom in a bit more and load
transform data from a given file:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">vidstabtransform=zoom=5:input=&quot;mytransforms.trf&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="45%">


<p style="margin-top: 1em">Smoothen the video even
more:</p> </td>
<td width="38%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">vidstabtransform=smoothing=30</p>

<p style="margin-left:11%; margin-top: 1em"><b>vflip</b>
<br>
Flip the input video vertically.</p>

<p style="margin-left:11%; margin-top: 1em">For example, to
vertically flip a video with <b>ffmpeg</b>:</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i
in.avi -vf &quot;vflip&quot; out.avi</p>

<p style="margin-left:11%; margin-top: 1em"><b>vfrdet</b>
<br>
Detect variable frame rate video.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
tries to detect if the input is variable or constant frame
rate.</p>

<p style="margin-left:11%; margin-top: 1em">At end it will
output number of frames detected as having variable delta
pts, and ones with constant delta pts. If there was frames
with variable delta, than it will also show min and max
delta encountered.</p>


<p style="margin-left:11%; margin-top: 1em"><b>vibrance</b>
<br>
Boost or alter saturation.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
intensity</b></p>

<p style="margin-left:17%;">Set strength of boost if
positive value or strength of alter if negative value.
Default is 0. Allowed range is from -2 to 2.</p>

<p style="margin-left:11%;"><b>rbal</b></p>

<p style="margin-left:17%;">Set the red balance. Default is
1. Allowed range is from -10 to 10.</p>

<p style="margin-left:11%;"><b>gbal</b></p>

<p style="margin-left:17%;">Set the green balance. Default
is 1. Allowed range is from -10 to 10.</p>

<p style="margin-left:11%;"><b>bbal</b></p>

<p style="margin-left:17%;">Set the blue balance. Default
is 1. Allowed range is from -10 to 10.</p>

<p style="margin-left:11%;"><b>rlum</b></p>

<p style="margin-left:17%;">Set the red luma
coefficient.</p>

<p style="margin-left:11%;"><b>glum</b></p>

<p style="margin-left:17%;">Set the green luma
coefficient.</p>

<p style="margin-left:11%;"><b>blum</b></p>

<p style="margin-left:17%;">Set the blue luma
coefficient.</p>

<p style="margin-left:11%;"><b>alternate</b></p>

<p style="margin-left:17%;">If &quot;intensity&quot; is
negative and this is set to 1, colors will change, otherwise
colors will be less saturated, more towards gray.</p>


<p style="margin-left:11%; margin-top: 1em"><b>vignette</b>
<br>
Make or reverse a natural vignetting effect.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
angle, a</b></p>

<p style="margin-left:17%;">Set lens angle expression as a
number of radians.</p>

<p style="margin-left:17%; margin-top: 1em">The value is
clipped in the &quot;[0,PI/2]&quot; range.</p>

<p style="margin-left:17%; margin-top: 1em">Default value:
&quot;PI/5&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>x0</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>y0</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Set center coordinates expressions. Respectively
&quot;w/2&quot; and &quot;h/2&quot; by default.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>mode</b></p>

<p style="margin-left:17%;">Set forward/backward mode.</p>

<p style="margin-left:17%; margin-top: 1em">Available modes
are: <b><br>
forward</b></p>

<p style="margin-left:23%;">The larger the distance from
the central point, the darker the image becomes.</p>

<p style="margin-left:17%;"><b>backward</b></p>

<p style="margin-left:23%;">The larger the distance from
the central point, the brighter the image becomes. This can
be used to reverse a vignette effect, though there is no
automatic detection to extract the lens <b>angle</b> and
other settings (yet). It can also be used to create a
burning effect.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is <b>forward</b>.</p>

<p style="margin-left:11%;"><b>eval</b></p>

<p style="margin-left:17%;">Set evaluation mode for the
expressions (<b>angle</b>, <b>x0</b>, <b>y0</b>).</p>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values: <b><br>
init</b></p>

<p style="margin-left:23%;">Evaluate expressions only once
during the filter initialization.</p>

<p style="margin-left:17%;"><b>frame</b></p>

<p style="margin-left:23%;">Evaluate expressions for each
incoming frame. This is way slower than the <b>init</b> mode
since it requires all the scalers to be re-computed, but it
allows advanced dynamic expressions.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is <b>init</b>.</p>

<p style="margin-left:11%;"><b>dither</b></p>

<p style="margin-left:17%;">Set dithering to reduce the
circular banding effects. Default is 1 (enabled).</p>

<p style="margin-left:11%;"><b>aspect</b></p>

<p style="margin-left:17%;">Set vignette aspect. This
setting allows one to adjust the shape of the vignette.
Setting this value to the <small>SAR</small> of the input
will make a rectangular vignetting following the dimensions
of the video.</p>

<p style="margin-left:17%; margin-top: 1em">Default is
&quot;1/1&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Expressions</i></p>

<p style="margin-left:11%; margin-top: 1em">The
<b>alpha</b>, <b>x0</b> and <b>y0</b> expressions can
contain the following parameters.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>w</b></p></td>
<td width="2%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>h</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>input width and height</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>n</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>the number of input frame, starting from 0</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>pts</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>the <small>PTS</small> (Presentation TimeStamp) time of
the filtered video frame, expressed in
<i><small>TB</small></i> units, <small>NAN</small> if
undefined</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>r</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>frame rate of the input video, <small>NAN</small> if the
input frame rate is unknown</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>t</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>the <small>PTS</small> (Presentation TimeStamp) of the
filtered video frame, expressed in seconds,
<small>NAN</small> if undefined</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>tb</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>time base of the input video</p></td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="58%">


<p style="margin-top: 1em">Apply simple strong vignetting
effect:</p> </td>
<td width="25%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">vignette=PI/4</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="45%">


<p style="margin-top: 1em">Make a flickering
vignetting:</p> </td>
<td width="38%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">vignette='PI/4+random(1)*PI/50':eval=frame</p>


<p style="margin-left:11%; margin-top: 1em"><b>vmafmotion</b>
<br>
Obtain the average vmaf motion score of a video. It is one
of the component filters of <small>VMAF.</small></p>

<p style="margin-left:11%; margin-top: 1em">The obtained
average motion score is printed through the logging
system.</p>

<p style="margin-left:11%; margin-top: 1em">In the below
example the input file <i>ref.mpg</i> is being processed and
score is computed.</p>

<p style="margin-left:11%; margin-top: 1em">ffmpeg -i
ref.mpg -lavfi vmafmotion -f null -</p>

<p style="margin-left:11%; margin-top: 1em"><b>vstack</b>
<br>
Stack input videos vertically.</p>

<p style="margin-left:11%; margin-top: 1em">All streams
must be of same pixel format and of same width.</p>

<p style="margin-left:11%; margin-top: 1em">Note that this
filter is faster than using <b>overlay</b> and <b>pad</b>
filter to create same output.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accept the following option: <b><br>
inputs</b></p>

<p style="margin-left:17%;">Set number of input streams.
Default is 2.</p>

<p style="margin-left:11%;"><b>shortest</b></p>

<p style="margin-left:17%;">If set to 1, force the output
to terminate when the shortest input terminates. Default
value is 0.</p>

<p style="margin-left:11%; margin-top: 1em"><b>w3fdif</b>
<br>
Deinterlace the input video (&quot;w3fdif&quot; stands for
&quot;Weston 3 Field Deinterlacing Filter&quot;).</p>

<p style="margin-left:11%; margin-top: 1em">Based on the
process described by Martin Weston for <small>BBC
R&amp;D,</small> and implemented based on the de-interlace
algorithm written by Jim Easterbrook for <small>BBC
R&amp;D,</small> the Weston 3 field deinterlacing filter
uses filter coefficients calculated by <small>BBC
R&amp;D.</small></p>

<p style="margin-left:11%; margin-top: 1em">This filter use
field-dominance information in frame to decide which of each
pair of fields to place first in the output. If it gets it
wrong use <b>setfield</b> filter before &quot;w3fdif&quot;
filter.</p>

<p style="margin-left:11%; margin-top: 1em">There are two
sets of filter coefficients, so called &quot;simple&quot;:
and &quot;complex&quot;. Which set of filter coefficients is
used can be set by passing an optional parameter: <b><br>
filter</b></p>

<p style="margin-left:17%;">Set the interlacing filter
coefficients. Accepts one of the following values: <b><br>
simple</b></p>

<p style="margin-left:23%;">Simple filter coefficient
set.</p>

<p style="margin-left:17%;"><b>complex</b></p>

<p style="margin-left:23%;">More-complex filter coefficient
set.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is <b>complex</b>.</p>

<p style="margin-left:11%;"><b>deint</b></p>

<p style="margin-left:17%;">Specify which frames to
deinterlace. Accept one of the following values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>all</b></p></td>
<td width="1%"></td>
<td width="35%">


<p>Deinterlace all frames,</p></td>
<td width="42%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>interlaced</b></p>

<p style="margin-left:23%;">Only deinterlace frames marked
as interlaced.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is <b>all</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>waveform</b>
<br>
Video waveform monitor.</p>

<p style="margin-left:11%; margin-top: 1em">The waveform
monitor plots color component intensity. By default
luminance only. Each column of the waveform corresponds to a
column of pixels in the source video.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following options: <b><br>
mode, m</b></p>

<p style="margin-left:17%;">Can be either &quot;row&quot;,
or &quot;column&quot;. Default is &quot;column&quot;. In row
mode, the graph on the left side represents color component
value 0 and the right side represents value = 255. In column
mode, the top side represents color component value = 0 and
bottom side represents value = 255.</p>

<p style="margin-left:11%;"><b>intensity, i</b></p>

<p style="margin-left:17%;">Set intensity. Smaller values
are useful to find out how many values of the same luminance
are distributed across input rows/columns. Default value is
0.04. Allowed range is [0, 1].</p>

<p style="margin-left:11%;"><b>mirror, r</b></p>

<p style="margin-left:17%;">Set mirroring mode. 0 means
unmirrored, 1 means mirrored. In mirrored mode, higher
values will be represented on the left side for
&quot;row&quot; mode and at the top for &quot;column&quot;
mode. Default is 1 (mirrored).</p>

<p style="margin-left:11%;"><b>display, d</b></p>

<p style="margin-left:17%;">Set display mode. It accepts
the following values: <b><br>
overlay</b></p>

<p style="margin-left:23%;">Presents information identical
to that in the &quot;parade&quot;, except that the graphs
representing color components are superimposed directly over
one another.</p>

<p style="margin-left:23%; margin-top: 1em">This display
mode makes it easier to spot relative differences or
similarities in overlapping areas of the color components
that are supposed to be identical, such as neutral whites,
grays, or blacks.</p>

<p style="margin-left:17%;"><b>stack</b></p>

<p style="margin-left:23%;">Display separate graph for the
color components side by side in &quot;row&quot; mode or one
below the other in &quot;column&quot; mode.</p>

<p style="margin-left:17%;"><b>parade</b></p>

<p style="margin-left:23%;">Display separate graph for the
color components side by side in &quot;column&quot; mode or
one below the other in &quot;row&quot; mode.</p>

<p style="margin-left:23%; margin-top: 1em">Using this
display mode makes it easy to spot color casts in the
highlights and shadows of an image, by comparing the
contours of the top and the bottom graphs of each waveform.
Since whites, grays, and blacks are characterized by exactly
equal amounts of red, green, and blue, neutral areas of the
picture should display three waveforms of roughly equal
width/height. If not, the correction is easy to perform by
making level adjustments the three waveforms.</p>

<p style="margin-left:17%; margin-top: 1em">Default is
&quot;stack&quot;.</p>

<p style="margin-left:11%;"><b>components, c</b></p>

<p style="margin-left:17%;">Set which color components to
display. Default is 1, which means only luminance or red
color component if input is in <small>RGB</small>
colorspace. If is set for example to 7 it will display all 3
(if) available color components.</p>

<p style="margin-left:11%;"><b>envelope, e</b></p>

<p style="margin-left:17%;"><b>none</b></p>

<p style="margin-left:23%;">No envelope, this is
default.</p>

<p style="margin-left:17%;"><b>instant</b></p>

<p style="margin-left:23%;">Instant envelope, minimum and
maximum values presented in graph will be easily visible
even with small &quot;step&quot; value.</p>

<p style="margin-left:17%;"><b>peak</b></p>

<p style="margin-left:23%;">Hold minimum and maximum values
presented in graph across time. This way you can still spot
out of range values without constantly looking at
waveforms.</p>

<p style="margin-left:17%;"><b>peak+instant</b></p>

<p style="margin-left:23%;">Peak and instant envelope
combined together.</p>

<p style="margin-left:11%;"><b>filter, f</b></p>

<p style="margin-left:17%;"><b>lowpass</b></p>

<p style="margin-left:23%;">No filtering, this is
default.</p>

<p style="margin-left:17%;"><b>flat</b></p>

<p style="margin-left:23%;">Luma and chroma combined
together.</p>

<p style="margin-left:17%;"><b>aflat</b></p>

<p style="margin-left:23%;">Similar as above, but shows
difference between blue and red chroma.</p>

<p style="margin-left:17%;"><b>xflat</b></p>

<p style="margin-left:23%;">Similar as above, but use
different colors.</p>

<p style="margin-left:17%;"><b>chroma</b></p>

<p style="margin-left:23%;">Displays only chroma.</p>

<p style="margin-left:17%;"><b>color</b></p>

<p style="margin-left:23%;">Displays actual color value on
waveform.</p>

<p style="margin-left:17%;"><b>acolor</b></p>

<p style="margin-left:23%;">Similar as above, but with luma
showing frequency of chroma values.</p>

<p style="margin-left:11%;"><b>graticule, g</b></p>

<p style="margin-left:17%;">Set which graticule to display.
<b><br>
none</b></p>

<p style="margin-left:23%;">Do not display graticule.</p>

<p style="margin-left:17%;"><b>green</b></p>

<p style="margin-left:23%;">Display green graticule showing
legal broadcast ranges.</p>

<p style="margin-left:17%;"><b>orange</b></p>

<p style="margin-left:23%;">Display orange graticule
showing legal broadcast ranges.</p>

<p style="margin-left:11%;"><b>opacity, o</b></p>

<p style="margin-left:17%;">Set graticule opacity.</p>

<p style="margin-left:11%;"><b>flags, fl</b></p>

<p style="margin-left:17%;">Set graticule flags. <b><br>
numbers</b></p>

<p style="margin-left:23%;">Draw numbers above lines. By
default enabled.</p>

<p style="margin-left:17%;"><b>dots</b></p>

<p style="margin-left:23%;">Draw dots instead of lines.</p>

<p style="margin-left:11%;"><b>scale, s</b></p>

<p style="margin-left:17%;">Set scale used for displaying
graticule. <b><br>
digital <br>
millivolts</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>ire</b></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:17%;">Default is digital.</p>

<p style="margin-left:11%;"><b>bgopacity, b</b></p>

<p style="margin-left:17%;">Set background opacity.</p>

<p style="margin-left:11%; margin-top: 1em"><b>weave,
doubleweave</b> <br>
The &quot;weave&quot; takes a field-based video input and
join each two sequential fields into single frame, producing
a new double height clip with half the frame rate and half
the frame count.</p>

<p style="margin-left:11%; margin-top: 1em">The
&quot;doubleweave&quot; works same as &quot;weave&quot; but
without halving frame rate and frame count.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following option: <b><br>
first_field</b></p>

<p style="margin-left:17%;">Set first field. Available
values are: <b><br>
top, t</b></p>

<p style="margin-left:23%;">Set the frame as
top-field-first.</p>

<p style="margin-left:17%;"><b>bottom, b</b></p>

<p style="margin-left:23%;">Set the frame as
bottom-field-first.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Interlace video using <b>select</b> and
<b>separatefields</b> filter:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">separatefields,select=eq(mod(n,4),0)+eq(mod(n,4),3),weave</p>

<p style="margin-left:11%; margin-top: 1em"><b>xbr</b> <br>
Apply the xBR high-quality magnification filter which is
designed for pixel art. It follows a set of edge-detection
rules, see
&lt;<b>https://forums.libretro.com/t/xbr-algorithm-tutorial/123</b>&gt;.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following option:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em"><b>n</b></p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Set the scaling dimension: 2 for
&quot;2xBR&quot;, 3 for &quot;3xBR&quot; and 4 for
&quot;4xBR&quot;. Default is 3.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>xmedian</b>
<br>
Pick median pixels from several input videos.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accept the following options: <b><br>
inputs</b></p>

<p style="margin-left:17%;">Set number of inputs. Default
is 3. Allowed range is from 3 to 255. If number of inputs is
even number, than result will be mean value between two
median values.</p>

<p style="margin-left:11%;"><b>planes</b></p>

<p style="margin-left:17%;">Set which planes to filter.
Default value is 15, by which all planes are processed.</p>

<p style="margin-left:11%; margin-top: 1em"><b>xstack</b>
<br>
Stack video inputs into custom layout.</p>

<p style="margin-left:11%; margin-top: 1em">All streams
must be of same pixel format.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accept the following option: <b><br>
inputs</b></p>

<p style="margin-left:17%;">Set number of input streams.
Default is 2.</p>

<p style="margin-left:11%;"><b>layout</b></p>

<p style="margin-left:17%;">Specify layout of inputs. This
option requires the desired layout configuration to be
explicitly set by the user. This sets position of each video
input in output. Each input is separated by &rsquo;|&rsquo;.
The first number represents the column, and the second
number represents the row. Numbers start at 0 and are
separated by &rsquo;_&rsquo;. Optionally one can use wX and
hX, where X is video input from which to take width or
height. Multiple values can be used when separated by
&rsquo;+&rsquo;. In such case values are summed
together.</p>

<p style="margin-left:17%; margin-top: 1em">For 2 inputs, a
default layout of &quot;0_0|w0_0&quot; is set. In all other
cases, a layout must be set by the user.</p>

<p style="margin-left:11%;"><b>shortest</b></p>

<p style="margin-left:17%;">If set to 1, force the output
to terminate when the shortest input terminates. Default
value is 0.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Display 4 inputs into 2x2 grid, note that if inputs are
of different sizes unused gaps might appear, as not all of
output video is used.</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">xstack=inputs=4:layout=0_0|0_h0|w0_0|w0_h0</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Display 4 inputs into 1x4 grid,
note that if inputs are of different sizes unused gaps might
appear, as not all of output video is used.</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">xstack=inputs=4:layout=0_0|0_h0|0_h0+h1|0_h0+h1+h2</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Display 9 inputs into 3x3 grid,
note that if inputs are of different sizes unused gaps might
appear, as not all of output video is used.</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">xstack=inputs=9:layout=w3_0|w3_h0+h2|w3_h0|0_h4|0_0|w3+w1_0|0_h1+h2|w3+w1_h0|w3+w1_h1+h2</p>

<p style="margin-left:11%; margin-top: 1em"><b>yadif</b>
<br>
Deinterlace the input video (&quot;yadif&quot; means
&quot;yet another deinterlacing filter&quot;).</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters: <b><br>
mode</b></p>

<p style="margin-left:17%;">The interlacing mode to adopt.
It accepts one of the following values: <b><br>
0, send_frame</b></p>

<p style="margin-left:23%;">Output one frame for each
frame.</p>

<p style="margin-left:17%;"><b>1, send_field</b></p>

<p style="margin-left:23%;">Output one frame for each
field.</p>

<p style="margin-left:17%;"><b>2,
send_frame_nospatial</b></p>

<p style="margin-left:23%;">Like &quot;send_frame&quot;,
but it skips the spatial interlacing check.</p>

<p style="margin-left:17%;"><b>3,
send_field_nospatial</b></p>

<p style="margin-left:23%;">Like &quot;send_field&quot;,
but it skips the spatial interlacing check.</p>

<p style="margin-left:17%; margin-top: 1em">The default
value is &quot;send_frame&quot;.</p>

<p style="margin-left:11%;"><b>parity</b></p>

<p style="margin-left:17%;">The picture field parity
assumed for the input interlaced video. It accepts one of
the following values: <b><br>
0, tff</b></p>

<p style="margin-left:23%;">Assume the top field is
first.</p>

<p style="margin-left:17%;"><b>1, bff</b></p>

<p style="margin-left:23%;">Assume the bottom field is
first.</p>

<p style="margin-left:17%;"><b>-1, auto</b></p>

<p style="margin-left:23%;">Enable automatic detection of
field parity.</p>

<p style="margin-left:17%; margin-top: 1em">The default
value is &quot;auto&quot;. If the interlacing is unknown or
the decoder does not export this information, top field
first will be assumed.</p>

<p style="margin-left:11%;"><b>deint</b></p>

<p style="margin-left:17%;">Specify which frames to
deinterlace. Accept one of the following values: <b><br>
0, all</b></p>

<p style="margin-left:23%;">Deinterlace all frames.</p>

<p style="margin-left:17%;"><b>1, interlaced</b></p>

<p style="margin-left:23%;">Only deinterlace frames marked
as interlaced.</p>

<p style="margin-left:17%; margin-top: 1em">The default
value is &quot;all&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><b>yadif_cuda</b>
<br>
Deinterlace the input video using the <b>yadif</b>
algorithm, but implemented in <small>CUDA</small> so that it
can work as part of a <small>GPU</small> accelerated
pipeline with nvdec and/or nvenc.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters: <b><br>
mode</b></p>

<p style="margin-left:17%;">The interlacing mode to adopt.
It accepts one of the following values: <b><br>
0, send_frame</b></p>

<p style="margin-left:23%;">Output one frame for each
frame.</p>

<p style="margin-left:17%;"><b>1, send_field</b></p>

<p style="margin-left:23%;">Output one frame for each
field.</p>

<p style="margin-left:17%;"><b>2,
send_frame_nospatial</b></p>

<p style="margin-left:23%;">Like &quot;send_frame&quot;,
but it skips the spatial interlacing check.</p>

<p style="margin-left:17%;"><b>3,
send_field_nospatial</b></p>

<p style="margin-left:23%;">Like &quot;send_field&quot;,
but it skips the spatial interlacing check.</p>

<p style="margin-left:17%; margin-top: 1em">The default
value is &quot;send_frame&quot;.</p>

<p style="margin-left:11%;"><b>parity</b></p>

<p style="margin-left:17%;">The picture field parity
assumed for the input interlaced video. It accepts one of
the following values: <b><br>
0, tff</b></p>

<p style="margin-left:23%;">Assume the top field is
first.</p>

<p style="margin-left:17%;"><b>1, bff</b></p>

<p style="margin-left:23%;">Assume the bottom field is
first.</p>

<p style="margin-left:17%;"><b>-1, auto</b></p>

<p style="margin-left:23%;">Enable automatic detection of
field parity.</p>

<p style="margin-left:17%; margin-top: 1em">The default
value is &quot;auto&quot;. If the interlacing is unknown or
the decoder does not export this information, top field
first will be assumed.</p>

<p style="margin-left:11%;"><b>deint</b></p>

<p style="margin-left:17%;">Specify which frames to
deinterlace. Accept one of the following values: <b><br>
0, all</b></p>

<p style="margin-left:23%;">Deinterlace all frames.</p>

<p style="margin-left:17%;"><b>1, interlaced</b></p>

<p style="margin-left:23%;">Only deinterlace frames marked
as interlaced.</p>

<p style="margin-left:17%; margin-top: 1em">The default
value is &quot;all&quot;.</p>

<p style="margin-left:11%; margin-top: 1em"><b>zoompan</b>
<br>
Apply Zoom &amp; Pan effect.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
accepts the following options: <b><br>
zoom, z</b></p>

<p style="margin-left:17%;">Set the zoom expression. Range
is 1-10. Default is 1.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>x</b></p></td>
<td width="2%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>y</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set the x and y expression. Default is 0.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>d</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set the duration expression in number of frames. This
sets for how many number of frames effect will last for
single input image.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>s</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set the output image size, default is
&rsquo;hd720&rsquo;.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>fps</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set the output frame rate, default is
&rsquo;25&rsquo;.</p> </td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Each expression
can contain the following constants: <b><br>
in_w, iw</b></p>

<p style="margin-left:17%;">Input width.</p>

<p style="margin-left:11%;"><b>in_h, ih</b></p>

<p style="margin-left:17%;">Input height.</p>

<p style="margin-left:11%;"><b>out_w, ow</b></p>

<p style="margin-left:17%;">Output width.</p>

<p style="margin-left:11%;"><b>out_h, oh</b></p>

<p style="margin-left:17%;">Output height.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>in</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Input frame count.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>on</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Output frame count.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>x</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>y</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Last calculated &rsquo;x&rsquo; and &rsquo;y&rsquo;
position from &rsquo;x&rsquo; and &rsquo;y&rsquo; expression
for current input frame.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>px</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>py</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>&rsquo;x&rsquo; and &rsquo;y&rsquo; of last output frame
of previous input frame or 0 when there was not yet such
frame (first input frame).</p></td></tr>
</table>

<p style="margin-left:11%;"><b>zoom</b></p>

<p style="margin-left:17%;">Last calculated zoom from
&rsquo;z&rsquo; expression for current input frame.</p>

<p style="margin-left:11%;"><b>pzoom</b></p>

<p style="margin-left:17%;">Last calculated zoom of last
output frame of previous input frame.</p>

<p style="margin-left:11%;"><b>duration</b></p>

<p style="margin-left:17%;">Number of output frames for
current input frame. Calculated from &rsquo;d&rsquo;
expression for each input frame.</p>

<p style="margin-left:11%;"><b>pduration</b></p>

<p style="margin-left:17%;">number of output frames created
for previous input frame</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>a</b></p></td>
<td width="2%"></td>
<td width="66%">


<p>Rational number: input width / input height</p></td>
<td width="17%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>sar</b></p></td>
<td width="2%"></td>
<td width="66%">


<p>sample aspect ratio</p></td>
<td width="17%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>dar</b></p></td>
<td width="2%"></td>
<td width="66%">


<p>display aspect ratio</p></td>
<td width="17%">
</td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Zoom-in up to 1.5 and pan at
same time to some spot near center of picture:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">zoompan=z='min(zoom+0.0015,1.5)':d=700:x='if(gte(zoom,1.5),x,x+1/a)':y='if(gte(zoom,1.5),y,y+1)':s=640x360</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Zoom-in up to 1.5 and pan always
at center of picture:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">zoompan=z='min(zoom+0.0015,1.5)':d=700:x='iw/2-(iw/zoom/2)':y='ih/2-(ih/zoom/2)'</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="52%">


<p style="margin-top: 1em">Same as above but without
pausing:</p> </td>
<td width="31%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">zoompan=z='min(max(zoom,pzoom)+0.0015,1.5)':d=1:x='iw/2-(iw/zoom/2)':y='ih/2-(ih/zoom/2)'</p>

<p style="margin-left:11%; margin-top: 1em"><b>zscale</b>
<br>
Scale (resize) the input video, using the z.lib library:
&lt;<b>https://github.com/sekrit-twc/zimg</b>&gt;. To enable
compilation of this filter, you need to configure FFmpeg
with &quot;--enable-libzimg&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">The zscale
filter forces the output display aspect ratio to be the same
as the input, by changing the output sample aspect
ratio.</p>

<p style="margin-left:11%; margin-top: 1em">If the input
image format is different from the format requested by the
next filter, the zscale filter will convert the input to the
requested format.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Options</i></p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options. <b><br>
width, w <br>
height, h</b></p>

<p style="margin-left:17%;">Set the output video dimension
expression. Default value is the input dimension.</p>

<p style="margin-left:17%; margin-top: 1em">If the
<i>width</i> or <i>w</i> value is 0, the input width is used
for the output. If the <i>height</i> or <i>h</i> value is 0,
the input height is used for the output.</p>

<p style="margin-left:17%; margin-top: 1em">If one and only
one of the values is -n with n &gt;= 1, the zscale filter
will use a value that maintains the aspect ratio of the
input image, calculated from the other specified dimension.
After that it will, however, make sure that the calculated
dimension is divisible by n and adjust the value if
necessary.</p>

<p style="margin-left:17%; margin-top: 1em">If both values
are -n with n &gt;= 1, the behavior will be identical to
both values being set to 0 as previously detailed.</p>

<p style="margin-left:17%; margin-top: 1em">See below for
the list of accepted constants for use in the dimension
expression.</p>

<p style="margin-left:11%;"><b>size, s</b></p>

<p style="margin-left:17%;">Set the video size. For the
syntax of this option, check the <b>&quot;Video size&quot;
section in the ffmpeg-utils manual</b>.</p>

<p style="margin-left:11%;"><b>dither, d</b></p>

<p style="margin-left:17%;">Set the dither type.</p>

<p style="margin-left:17%; margin-top: 1em">Possible values
are: <i><br>
none <br>
ordered <br>
random <br>
error_diffusion</i></p>

<p style="margin-left:17%; margin-top: 1em">Default is
none.</p>

<p style="margin-left:11%;"><b>filter, f</b></p>

<p style="margin-left:17%;">Set the resize filter type.</p>

<p style="margin-left:17%; margin-top: 1em">Possible values
are: <i><br>
point <br>
bilinear <br>
bicubic <br>
spline16 <br>
spline36 <br>
lanczos</i></p>

<p style="margin-left:17%; margin-top: 1em">Default is
bilinear.</p>

<p style="margin-left:11%;"><b>range, r</b></p>

<p style="margin-left:17%;">Set the color range.</p>

<p style="margin-left:17%; margin-top: 1em">Possible values
are: <i><br>
input <br>
limited <br>
full</i></p>

<p style="margin-left:17%; margin-top: 1em">Default is same
as input.</p>

<p style="margin-left:11%;"><b>primaries, p</b></p>

<p style="margin-left:17%;">Set the color primaries.</p>

<p style="margin-left:17%; margin-top: 1em">Possible values
are: <i><br>
input</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><i>709</i></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:17%;"><i>unspecified <br>
170m <br>
240m <br>
2020</i></p>

<p style="margin-left:17%; margin-top: 1em">Default is same
as input.</p>

<p style="margin-left:11%;"><b>transfer, t</b></p>

<p style="margin-left:17%;">Set the transfer
characteristics.</p>

<p style="margin-left:17%; margin-top: 1em">Possible values
are: <i><br>
input</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><i>709</i></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:17%;"><i>unspecified</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><i>601</i></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:17%;"><i>linear <br>
2020_10 <br>
2020_12 <br>
smpte2084 <br>
iec61966-2-1 <br>
arib-std-b67</i></p>

<p style="margin-left:17%; margin-top: 1em">Default is same
as input.</p>

<p style="margin-left:11%;"><b>matrix, m</b></p>

<p style="margin-left:17%;">Set the colorspace matrix.</p>

<p style="margin-left:17%; margin-top: 1em">Possible value
are: <i><br>
input</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><i>709</i></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:17%;"><i>unspecified <br>
470bg <br>
170m <br>
2020_ncl <br>
2020_cl</i></p>

<p style="margin-left:17%; margin-top: 1em">Default is same
as input.</p>

<p style="margin-left:11%;"><b>rangein, rin</b></p>

<p style="margin-left:17%;">Set the input color range.</p>

<p style="margin-left:17%; margin-top: 1em">Possible values
are: <i><br>
input <br>
limited <br>
full</i></p>

<p style="margin-left:17%; margin-top: 1em">Default is same
as input.</p>

<p style="margin-left:11%;"><b>primariesin, pin</b></p>

<p style="margin-left:17%;">Set the input color
primaries.</p>

<p style="margin-left:17%; margin-top: 1em">Possible values
are: <i><br>
input</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><i>709</i></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:17%;"><i>unspecified <br>
170m <br>
240m <br>
2020</i></p>

<p style="margin-left:17%; margin-top: 1em">Default is same
as input.</p>

<p style="margin-left:11%;"><b>transferin, tin</b></p>

<p style="margin-left:17%;">Set the input transfer
characteristics.</p>

<p style="margin-left:17%; margin-top: 1em">Possible values
are: <i><br>
input</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><i>709</i></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:17%;"><i>unspecified</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><i>601</i></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:17%;"><i>linear <br>
2020_10 <br>
2020_12</i></p>

<p style="margin-left:17%; margin-top: 1em">Default is same
as input.</p>

<p style="margin-left:11%;"><b>matrixin, min</b></p>

<p style="margin-left:17%;">Set the input colorspace
matrix.</p>

<p style="margin-left:17%; margin-top: 1em">Possible value
are: <i><br>
input</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><i>709</i></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:17%;"><i>unspecified <br>
470bg <br>
170m <br>
2020_ncl <br>
2020_cl</i></p>

<p style="margin-left:11%;"><b>chromal, c</b></p>

<p style="margin-left:17%;">Set the output chroma
location.</p>

<p style="margin-left:17%; margin-top: 1em">Possible values
are: <i><br>
input <br>
left <br>
center <br>
topleft</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><i>top</i></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:17%;"><i>bottomleft <br>
bottom</i></p>

<p style="margin-left:11%;"><b>chromalin, cin</b></p>

<p style="margin-left:17%;">Set the input chroma
location.</p>

<p style="margin-left:17%; margin-top: 1em">Possible values
are: <i><br>
input <br>
left <br>
center <br>
topleft</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><i>top</i></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:17%;"><i>bottomleft <br>
bottom</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>npl</b></p></td>
<td width="2%"></td>
<td width="48%">


<p>Set the nominal peak luminance.</p></td>
<td width="35%">
</td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">The values of
the <b>w</b> and <b>h</b> options are expressions containing
the following constants: <i><br>
in_w <br>
in_h</i></p>

<p style="margin-left:17%;">The input width and height</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><i>iw</i></p></td>
<td width="3%"></td>
<td width="55%">
</td>
<td width="28%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><i>ih</i></p></td>
<td width="3%"></td>
<td width="55%">


<p>These are the same as <i>in_w</i> and <i>in_h</i>.</p></td>
<td width="28%">
</td></tr>
</table>

<p style="margin-left:11%;"><i>out_w <br>
out_h</i></p>

<p style="margin-left:17%;">The output (scaled) width and
height</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><i>ow</i></p></td>
<td width="2%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><i>oh</i></p></td>
<td width="2%"></td>
<td width="83%">


<p>These are the same as <i>out_w</i> and <i>out_h</i></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><i>a</i></p></td>
<td width="2%"></td>
<td width="83%">


<p>The same as <i>iw</i> / <i>ih</i></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><i>sar</i></p></td>
<td width="2%"></td>
<td width="83%">


<p>input sample aspect ratio</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><i>dar</i></p></td>
<td width="2%"></td>
<td width="83%">


<p>The input display aspect ratio. Calculated from
&quot;(iw / ih) * sar&quot;.</p></td></tr>
</table>

<p style="margin-left:11%;"><i>hsub <br>
vsub</i></p>

<p style="margin-left:17%;">horizontal and vertical input
chroma subsample values. For example for the pixel format
&quot;yuv422p&quot; <i>hsub</i> is 2 and <i>vsub</i> is
1.</p>

<p style="margin-left:11%;"><i>ohsub <br>
ovsub</i></p>

<p style="margin-left:17%;">horizontal and vertical output
chroma subsample values. For example for the pixel format
&quot;yuv422p&quot; <i>hsub</i> is 2 and <i>vsub</i> is
1.</p>

<h2>OPENCL VIDEO FILTERS
<a name="OPENCL VIDEO FILTERS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Below is a
description of the currently available OpenCL video
filters.</p>

<p style="margin-left:11%; margin-top: 1em">To enable
compilation of these filters you need to configure FFmpeg
with &quot;--enable-opencl&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">Running OpenCL
filters requires you to initialize a hardware device and to
pass that device to all filters in any filter graph. <b><br>
-init_hw_device
opencl[=</b><i>name</i><b>][:</b><i>device</i><b>[,</b><i>key=value</i><b>...]]</b></p>

<p style="margin-left:17%;">Initialise a new hardware
device of type <i>opencl</i> called <i>name</i>, using the
given device parameters.</p>

<p style="margin-left:11%;"><b>-filter_hw_device</b>
<i>name</i></p>

<p style="margin-left:17%;">Pass the hardware device called
<i>name</i> to all filters in any filter graph.</p>

<p style="margin-left:11%; margin-top: 1em">For more
detailed information see
&lt;<b>https://www.ffmpeg.org/ffmpeg.html#Advanced-Video-options</b>&gt;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Example of choosing the first device on the second
platform and running avgblur_opencl filter with default
parameters on it.</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">-init_hw_device
opencl=gpu:1.0 -filter_hw_device gpu -i INPUT -vf
&quot;hwupload, avgblur_opencl, hwdownload&quot; OUTPUT</p>

<p style="margin-left:11%; margin-top: 1em">Since OpenCL
filters are not able to access frame data in normal memory,
all frame data needs to be uploaded(<b>hwupload</b>) to
hardware surfaces connected to the appropriate device before
being used and then downloaded(<b>hwdownload</b>) back to
normal memory. Note that <b>hwupload</b> will upload to a
surface with the same layout as the software frame, so it
may be necessary to add a <b>format</b> filter immediately
before to get the input into the right format and
<b>hwdownload</b> does not support all formats on the output
- it may be necessary to insert an additional <b>format</b>
filter immediately following in the graph to get the output
in a supported format.</p>


<p style="margin-left:11%; margin-top: 1em"><b>avgblur_opencl</b>
<br>
Apply average blur filter.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
sizeX</b></p>

<p style="margin-left:17%;">Set horizontal radius size.
Range is &quot;[1, 1024]&quot; and default value is 1.</p>

<p style="margin-left:11%;"><b>planes</b></p>

<p style="margin-left:17%;">Set which planes to filter.
Default value is 0xf, by which all planes are processed.</p>

<p style="margin-left:11%;"><b>sizeY</b></p>

<p style="margin-left:17%;">Set vertical radius size. Range
is &quot;[1, 1024]&quot; and default value is 0. If zero,
&quot;sizeX&quot; value will be used.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Example</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Apply average blur filter with horizontal and vertical
size of 3, setting each pixel of the output to the average
value of the 7x7 region centered on it in the input. For
pixels on the edges of the image, the region does not extend
beyond the image boundaries, and so out-of-range coordinates
are not used in the calculations.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">-i INPUT -vf
&quot;hwupload, avgblur_opencl=3, hwdownload&quot;
OUTPUT</p>


<p style="margin-left:11%; margin-top: 1em"><b>boxblur_opencl</b>
<br>
Apply a boxblur algorithm to the input video.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters: <b><br>
luma_radius, lr <br>
luma_power, lp <br>
chroma_radius, cr <br>
chroma_power, cp <br>
alpha_radius, ar <br>
alpha_power, ap</b></p>

<p style="margin-left:11%; margin-top: 1em">A description
of the accepted options follows. <b><br>
luma_radius, lr <br>
chroma_radius, cr <br>
alpha_radius, ar</b></p>

<p style="margin-left:17%;">Set an expression for the box
radius in pixels used for blurring the corresponding input
plane.</p>

<p style="margin-left:17%; margin-top: 1em">The radius
value must be a non-negative number, and must not be greater
than the value of the expression &quot;min(w,h)/2&quot; for
the luma and alpha planes, and of &quot;min(cw,ch)/2&quot;
for the chroma planes.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
for <b>luma_radius</b> is &quot;2&quot;. If not specified,
<b>chroma_radius</b> and <b>alpha_radius</b> default to the
corresponding value set for <b>luma_radius</b>.</p>

<p style="margin-left:17%; margin-top: 1em">The expressions
can contain the following constants:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>w</b></p></td>
<td width="3%"></td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>h</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>The input width and height in pixels.</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>cw</b></p></td>
<td width="3%"></td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>ch</b></p></td>
<td width="3%"></td>
<td width="77%">


<p>The input chroma image width and height in pixels.</p></td></tr>
</table>

<p style="margin-left:17%;"><b>hsub <br>
vsub</b></p>

<p style="margin-left:23%;">The horizontal and vertical
chroma subsample values. For example, for the pixel format
&quot;yuv422p&quot;, <i>hsub</i> is 2 and <i>vsub</i> is
1.</p>

<p style="margin-left:11%;"><b>luma_power, lp <br>
chroma_power, cp <br>
alpha_power, ap</b></p>

<p style="margin-left:17%;">Specify how many times the
boxblur filter is applied to the corresponding plane.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
for <b>luma_power</b> is 2. If not specified,
<b>chroma_power</b> and <b>alpha_power</b> default to the
corresponding value set for <b>luma_power</b>.</p>

<p style="margin-left:17%; margin-top: 1em">A value of 0
will disable the effect.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<p style="margin-left:11%; margin-top: 1em">Apply boxblur
filter, setting each pixel of the output to the average
value of box-radiuses <i>luma_radius</i>,
<i>chroma_radius</i>, <i>alpha_radius</i> for each plane
respectively. The filter will apply <i>luma_power</i>,
<i>chroma_power</i>, <i>alpha_power</i> times onto the
corresponding plane. For pixels on the edges of the image,
the radius does not extend beyond the image boundaries, and
so out-of-range coordinates are not used in the
calculations.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Apply a boxblur filter with the luma, chroma, and alpha
radius set to 2 and luma, chroma, and alpha power set to 3.
The filter will run 3 times with box-radius set to 2 for
every plane of the image.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">-i INPUT -vf
&quot;hwupload, boxblur_opencl=luma_radius=2:luma_power=3,
hwdownload&quot; OUTPUT <br>
-i INPUT -vf &quot;hwupload, boxblur_opencl=2:3,
hwdownload&quot; OUTPUT</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Apply a boxblur filter with luma
radius set to 2, luma_power to 1, chroma_radius to 4,
chroma_power to 5, alpha_radius to 3 and alpha_power to
7.</p> </td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">For the luma
plane, a 2x2 box radius will be run once.</p>

<p style="margin-left:17%; margin-top: 1em">For the chroma
plane, a 4x4 box radius will be run 5 times.</p>

<p style="margin-left:17%; margin-top: 1em">For the alpha
plane, a 3x3 box radius will be run 7 times.</p>

<p style="margin-left:17%; margin-top: 1em">-i INPUT -vf
&quot;hwupload, boxblur_opencl=2:1:4:5:3:7, hwdownload&quot;
OUTPUT</p>


<p style="margin-left:11%; margin-top: 1em"><b>convolution_opencl</b>
<br>
Apply convolution of 3x3, 5x5, 7x7 matrix.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>0m</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>1m</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>2m</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>3m</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Set matrix for each plane. Matrix is sequence of 9, 25
or 49 signed numbers. Default value for each plane is
&quot;0 0 0 0 1 0 0 0 0&quot;.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>0rdiv <br>
1rdiv <br>
2rdiv <br>
3rdiv</b></p>

<p style="margin-left:17%;">Set multiplier for calculated
value for each plane. If unset or 0, it will be sum of all
matrix elements. The option value must be a float number
greater or equal to 0.0. Default value is 1.0.</p>

<p style="margin-left:11%;"><b>0bias <br>
1bias <br>
2bias <br>
3bias</b></p>

<p style="margin-left:17%;">Set bias for each plane. This
value is added to the result of the multiplication. Useful
for making the overall image brighter or darker. The option
value must be a float number greater or equal to 0.0.
Default value is 0.0.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="21%">


<p>Apply sharpen:</p></td>
<td width="62%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">-i INPUT -vf
&quot;hwupload, convolution_opencl=0 -1 0 -1 5 -1 0 -1 0:0
-1 0 -1 5 -1 0 -1 0:0 -1 0 -1 5 -1 0 -1 0:0 -1 0 -1 5 -1 0
-1 0, hwdownload&quot; OUTPUT</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="17%">


<p style="margin-top: 1em">Apply blur:</p></td>
<td width="66%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">-i INPUT -vf
&quot;hwupload, convolution_opencl=1 1 1 1 1 1 1 1 1:1 1 1 1
1 1 1 1 1:1 1 1 1 1 1 1 1 1:1 1 1 1 1 1 1 1
1:1/9:1/9:1/9:1/9, hwdownload&quot; OUTPUT</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="29%">


<p style="margin-top: 1em">Apply edge enhance:</p></td>
<td width="54%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">-i INPUT -vf
&quot;hwupload, convolution_opencl=0 0 0 -1 1 0 0 0 0:0 0 0
-1 1 0 0 0 0:0 0 0 -1 1 0 0 0 0:0 0 0 -1 1 0 0 0
0:5:1:1:1:0:128:128:128, hwdownload&quot; OUTPUT</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="28%">


<p style="margin-top: 1em">Apply edge detect:</p></td>
<td width="55%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">-i INPUT -vf
&quot;hwupload, convolution_opencl=0 1 0 1 -4 1 0 1 0:0 1 0
1 -4 1 0 1 0:0 1 0 1 -4 1 0 1 0:0 1 0 1 -4 1 0 1
0:5:5:5:1:0:128:128:128, hwdownload&quot; OUTPUT</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Apply laplacian edge detector
which includes diagonals:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">-i INPUT -vf
&quot;hwupload, convolution_opencl=1 1 1 1 -8 1 1 1 1:1 1 1
1 -8 1 1 1 1:1 1 1 1 -8 1 1 1 1:1 1 1 1 -8 1 1 1
1:5:5:5:1:0:128:128:0, hwdownload&quot; OUTPUT</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="20%">


<p style="margin-top: 1em">Apply emboss:</p></td>
<td width="63%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">-i INPUT -vf
&quot;hwupload, convolution_opencl=-2 -1 0 -1 1 1 0 1 2:-2
-1 0 -1 1 1 0 1 2:-2 -1 0 -1 1 1 0 1 2:-2 -1 0 -1 1 1 0 1 2,
hwdownload&quot; OUTPUT</p>


<p style="margin-left:11%; margin-top: 1em"><b>dilation_opencl</b>
<br>
Apply dilation effect to the video.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
replaces the pixel by the local(3x3) maximum.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following options: <b><br>
threshold0 <br>
threshold1 <br>
threshold2 <br>
threshold3</b></p>

<p style="margin-left:17%;">Limit the maximum change for
each plane. Range is &quot;[0, 65535]&quot; and default
value is 65535. If 0, plane will remain unchanged.</p>

<p style="margin-left:11%;"><b>coordinates</b></p>

<p style="margin-left:17%;">Flag which specifies the pixel
to refer to. Range is &quot;[0, 255]&quot; and default value
is 255, i.e. all eight pixels are used.</p>

<p style="margin-left:17%; margin-top: 1em">Flags to local
3x3 coordinates region centered on &quot;x&quot;:</p>

<p style="margin-left:17%; margin-top: 1em">1 2 3 <br>
4 x 5 <br>
6 7 8</p>


<p style="margin-left:11%; margin-top: 1em"><i>Example</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Apply dilation filter with threshold0 set to 30,
threshold1 set 40, threshold2 set to 50 and coordinates set
to 231, setting each pixel of the output to the local
maximum between pixels: 1, 2, 3, 6, 7, 8 of the 3x3 region
centered on it in the input. If the difference between input
pixel and local maximum is more then threshold of the
corresponding plane, output pixel will be set to input pixel
+ threshold of corresponding plane.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">-i INPUT -vf
&quot;hwupload, dilation_opencl=30:40:50:coordinates=231,
hwdownload&quot; OUTPUT</p>


<p style="margin-left:11%; margin-top: 1em"><b>erosion_opencl</b>
<br>
Apply erosion effect to the video.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
replaces the pixel by the local(3x3) minimum.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following options: <b><br>
threshold0 <br>
threshold1 <br>
threshold2 <br>
threshold3</b></p>

<p style="margin-left:17%;">Limit the maximum change for
each plane. Range is &quot;[0, 65535]&quot; and default
value is 65535. If 0, plane will remain unchanged.</p>

<p style="margin-left:11%;"><b>coordinates</b></p>

<p style="margin-left:17%;">Flag which specifies the pixel
to refer to. Range is &quot;[0, 255]&quot; and default value
is 255, i.e. all eight pixels are used.</p>

<p style="margin-left:17%; margin-top: 1em">Flags to local
3x3 coordinates region centered on &quot;x&quot;:</p>

<p style="margin-left:17%; margin-top: 1em">1 2 3 <br>
4 x 5 <br>
6 7 8</p>


<p style="margin-left:11%; margin-top: 1em"><i>Example</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Apply erosion filter with threshold0 set to 30,
threshold1 set 40, threshold2 set to 50 and coordinates set
to 231, setting each pixel of the output to the local
minimum between pixels: 1, 2, 3, 6, 7, 8 of the 3x3 region
centered on it in the input. If the difference between input
pixel and local minimum is more then threshold of the
corresponding plane, output pixel will be set to input pixel
- threshold of corresponding plane.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">-i INPUT -vf
&quot;hwupload, erosion_opencl=30:40:50:coordinates=231,
hwdownload&quot; OUTPUT</p>


<p style="margin-left:11%; margin-top: 1em"><b>colorkey_opencl</b>
<small><br>
RGB</small> colorspace color keying.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
color</b></p>

<p style="margin-left:17%;">The color which will be
replaced with transparency.</p>

<p style="margin-left:11%;"><b>similarity</b></p>

<p style="margin-left:17%;">Similarity percentage with the
key color.</p>

<p style="margin-left:17%; margin-top: 1em">0.01 matches
only the exact key color, while 1.0 matches everything.</p>

<p style="margin-left:11%;"><b>blend</b></p>

<p style="margin-left:17%;">Blend percentage.</p>

<p style="margin-left:17%; margin-top: 1em">0.0 makes
pixels either fully transparent, or not transparent at
all.</p>

<p style="margin-left:17%; margin-top: 1em">Higher values
result in semi-transparent pixels, with a higher
transparency the more similar the pixels color is to the key
color.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Make every semi-green pixel in the input transparent
with some slight blending:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">-i INPUT -vf
&quot;hwupload, colorkey_opencl=green:0.3:0.1,
hwdownload&quot; OUTPUT</p>


<p style="margin-left:11%; margin-top: 1em"><b>nlmeans_opencl</b>
<br>
Non-local Means denoise filter through OpenCL, this filter
accepts same options as <b>nlmeans</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>overlay_opencl</b>
<br>
Overlay one video on top of another.</p>

<p style="margin-left:11%; margin-top: 1em">It takes two
inputs and has one output. The first input is the
&quot;main&quot; video on which the second input is
overlaid. This filter requires same memory layout for all
the inputs. So, format conversion may be needed.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em"><b>x</b></p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Set the x coordinate of the
overlaid video on the main video. Default value is 0.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>y</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set the x coordinate of the overlaid video on the main
video. Default value is 0.</p></td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Overlay an image
<small>LOGO</small> at the top-left corner of the
<small>INPUT</small> video. Both inputs are yuv420p
format.</p> </td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">-i INPUT -i
LOGO -filter_complex &quot;[0:v]hwupload[a],
[1:v]format=yuv420p, hwupload[b], [a][b]overlay_opencl,
hwdownload&quot; OUTPUT</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">The inputs have same memory
layout for color channels , the overlay has additional alpha
plane, like <small>INPUT</small> is yuv420p, and the
<small>LOGO</small> is yuva420p.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">-i INPUT -i
LOGO -filter_complex &quot;[0:v]hwupload[a],
[1:v]format=yuva420p, hwupload[b], [a][b]overlay_opencl,
hwdownload&quot; OUTPUT</p>


<p style="margin-left:11%; margin-top: 1em"><b>prewitt_opencl</b>
<br>
Apply the Prewitt operator
(&lt;<b>https://en.wikipedia.org/wiki/Prewitt_operator</b>&gt;)
to input video stream.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following option: <b><br>
planes</b></p>

<p style="margin-left:17%;">Set which planes to filter.
Default value is 0xf, by which all planes are processed.</p>

<p style="margin-left:11%;"><b>scale</b></p>

<p style="margin-left:17%;">Set value which will be
multiplied with filtered result. Range is &quot;[0.0,
65535]&quot; and default value is 1.0.</p>

<p style="margin-left:11%;"><b>delta</b></p>

<p style="margin-left:17%;">Set value which will be added
to filtered result. Range is &quot;[-65535, 65535]&quot; and
default value is 0.0.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Example</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Apply the Prewitt operator with scale set to 2 and delta
set to 10.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">-i INPUT -vf
&quot;hwupload, prewitt_opencl=scale=2:delta=10,
hwdownload&quot; OUTPUT</p>


<p style="margin-left:11%; margin-top: 1em"><b>roberts_opencl</b>
<br>
Apply the Roberts cross operator
(&lt;<b>https://en.wikipedia.org/wiki/Roberts_cross</b>&gt;)
to input video stream.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following option: <b><br>
planes</b></p>

<p style="margin-left:17%;">Set which planes to filter.
Default value is 0xf, by which all planes are processed.</p>

<p style="margin-left:11%;"><b>scale</b></p>

<p style="margin-left:17%;">Set value which will be
multiplied with filtered result. Range is &quot;[0.0,
65535]&quot; and default value is 1.0.</p>

<p style="margin-left:11%;"><b>delta</b></p>

<p style="margin-left:17%;">Set value which will be added
to filtered result. Range is &quot;[-65535, 65535]&quot; and
default value is 0.0.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Example</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Apply the Roberts cross operator with scale set to 2 and
delta set to 10</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">-i INPUT -vf
&quot;hwupload, roberts_opencl=scale=2:delta=10,
hwdownload&quot; OUTPUT</p>


<p style="margin-left:11%; margin-top: 1em"><b>sobel_opencl</b>
<br>
Apply the Sobel operator
(&lt;<b>https://en.wikipedia.org/wiki/Sobel_operator</b>&gt;)
to input video stream.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following option: <b><br>
planes</b></p>

<p style="margin-left:17%;">Set which planes to filter.
Default value is 0xf, by which all planes are processed.</p>

<p style="margin-left:11%;"><b>scale</b></p>

<p style="margin-left:17%;">Set value which will be
multiplied with filtered result. Range is &quot;[0.0,
65535]&quot; and default value is 1.0.</p>

<p style="margin-left:11%;"><b>delta</b></p>

<p style="margin-left:17%;">Set value which will be added
to filtered result. Range is &quot;[-65535, 65535]&quot; and
default value is 0.0.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Example</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Apply sobel operator with scale set to 2 and delta set
to 10</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">-i INPUT -vf
&quot;hwupload, sobel_opencl=scale=2:delta=10,
hwdownload&quot; OUTPUT</p>


<p style="margin-left:11%; margin-top: 1em"><b>tonemap_opencl</b>
<br>
Perform <small>HDR</small> ( <small>PQ/HLG</small> ) to
<small>SDR</small> conversion with tone-mapping.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters: <b><br>
tonemap</b></p>

<p style="margin-left:17%;">Specify the tone-mapping
operator to be used. Same as tonemap option in
<b>tonemap</b>.</p>

<p style="margin-left:11%;"><b>param</b></p>

<p style="margin-left:17%;">Tune the tone mapping
algorithm. same as param option in <b>tonemap</b>.</p>

<p style="margin-left:11%;"><b>desat</b></p>

<p style="margin-left:17%;">Apply desaturation for
highlights that exceed this level of brightness. The higher
the parameter, the more color information will be preserved.
This setting helps prevent unnaturally blown-out colors for
super-highlights, by (smoothly) turning into white instead.
This makes images feel more natural, at the cost of reducing
information about out-of-range colors.</p>

<p style="margin-left:17%; margin-top: 1em">The default
value is 0.5, and the algorithm here is a little different
from the cpu version tonemap currently. A setting of 0.0
disables this option.</p>

<p style="margin-left:11%;"><b>threshold</b></p>

<p style="margin-left:17%;">The tonemapping algorithm
parameters is fine-tuned per each scene. And a threshold is
used to detect whether the scene has changed or not. If the
distance between the current frame average brightness and
the current running average exceeds a threshold value, we
would re-calculate scene average and peak brightness. The
default value is 0.2.</p>

<p style="margin-left:11%;"><b>format</b></p>

<p style="margin-left:17%;">Specify the output pixel
format.</p>

<p style="margin-left:17%; margin-top: 1em">Currently
supported formats are: <i><br>
p010 <br>
nv12</i></p>

<p style="margin-left:11%;"><b>range, r</b></p>

<p style="margin-left:17%;">Set the output color range.</p>

<p style="margin-left:17%; margin-top: 1em">Possible values
are: <i><br>
tv/mpeg <br>
pc/jpeg</i></p>

<p style="margin-left:17%; margin-top: 1em">Default is same
as input.</p>

<p style="margin-left:11%;"><b>primaries, p</b></p>

<p style="margin-left:17%;">Set the output color
primaries.</p>

<p style="margin-left:17%; margin-top: 1em">Possible values
are: <i><br>
bt709 <br>
bt2020</i></p>

<p style="margin-left:17%; margin-top: 1em">Default is same
as input.</p>

<p style="margin-left:11%;"><b>transfer, t</b></p>

<p style="margin-left:17%;">Set the output transfer
characteristics.</p>

<p style="margin-left:17%; margin-top: 1em">Possible values
are: <i><br>
bt709 <br>
bt2020</i></p>

<p style="margin-left:17%; margin-top: 1em">Default is
bt709.</p>

<p style="margin-left:11%;"><b>matrix, m</b></p>

<p style="margin-left:17%;">Set the output colorspace
matrix.</p>

<p style="margin-left:17%; margin-top: 1em">Possible value
are: <i><br>
bt709 <br>
bt2020</i></p>

<p style="margin-left:17%; margin-top: 1em">Default is same
as input.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Example</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Convert <small>HDR</small> ( <small>PQ/HLG</small> )
video to bt2020-transfer-characteristic p010 format using
linear operator.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">-i INPUT -vf
&quot;format=p010,hwupload,tonemap_opencl=t=bt2020:tonemap=linear:format=p010,hwdownload,format=p010&quot;
OUTPUT</p>


<p style="margin-left:11%; margin-top: 1em"><b>unsharp_opencl</b>
<br>
Sharpen or blur the input video.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters: <b><br>
luma_msize_x, lx</b></p>

<p style="margin-left:17%;">Set the luma matrix horizontal
size. Range is &quot;[1, 23]&quot; and default value is
5.</p>

<p style="margin-left:11%;"><b>luma_msize_y, ly</b></p>

<p style="margin-left:17%;">Set the luma matrix vertical
size. Range is &quot;[1, 23]&quot; and default value is
5.</p>

<p style="margin-left:11%;"><b>luma_amount, la</b></p>

<p style="margin-left:17%;">Set the luma effect strength.
Range is &quot;[-10, 10]&quot; and default value is 1.0.</p>

<p style="margin-left:17%; margin-top: 1em">Negative values
will blur the input video, while positive values will
sharpen it, a value of zero will disable the effect.</p>

<p style="margin-left:11%;"><b>chroma_msize_x, cx</b></p>

<p style="margin-left:17%;">Set the chroma matrix
horizontal size. Range is &quot;[1, 23]&quot; and default
value is 5.</p>

<p style="margin-left:11%;"><b>chroma_msize_y, cy</b></p>

<p style="margin-left:17%;">Set the chroma matrix vertical
size. Range is &quot;[1, 23]&quot; and default value is
5.</p>

<p style="margin-left:11%;"><b>chroma_amount, ca</b></p>

<p style="margin-left:17%;">Set the chroma effect strength.
Range is &quot;[-10, 10]&quot; and default value is 0.0.</p>

<p style="margin-left:17%; margin-top: 1em">Negative values
will blur the input video, while positive values will
sharpen it, a value of zero will disable the effect.</p>

<p style="margin-left:11%; margin-top: 1em">All parameters
are optional and default to the equivalent of the string
&rsquo;5:5:1.0:5:5:0.0&rsquo;.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="51%">


<p>Apply strong luma sharpen effect:</p></td>
<td width="32%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">-i INPUT -vf
&quot;hwupload,
unsharp_opencl=luma_msize_x=7:luma_msize_y=7:luma_amount=2.5,
hwdownload&quot; OUTPUT</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Apply a strong blur of both luma
and chroma parameters:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">-i INPUT -vf
&quot;hwupload, unsharp_opencl=7:7:-2:7:7:-2,
hwdownload&quot; OUTPUT</p>

<h2>VIDEO SOURCES
<a name="VIDEO SOURCES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Below is a
description of the currently available video sources.</p>

<p style="margin-left:11%; margin-top: 1em"><b>buffer</b>
<br>
Buffer video frames, and make them available to the filter
chain.</p>

<p style="margin-left:11%; margin-top: 1em">This source is
mainly intended for a programmatic use, in particular
through the interface defined in
<i>libavfilter/vsrc_buffer.h</i>.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters: <b><br>
video_size</b></p>

<p style="margin-left:17%;">Specify the size (width and
height) of the buffered video frames. For the syntax of this
option, check the <b>&quot;Video size&quot; section in the
ffmpeg-utils manual</b>.</p>

<p style="margin-left:11%;"><b>width</b></p>

<p style="margin-left:17%;">The input video width.</p>

<p style="margin-left:11%;"><b>height</b></p>

<p style="margin-left:17%;">The input video height.</p>

<p style="margin-left:11%;"><b>pix_fmt</b></p>

<p style="margin-left:17%;">A string representing the pixel
format of the buffered video frames. It may be a number
corresponding to a pixel format, or a pixel format name.</p>

<p style="margin-left:11%;"><b>time_base</b></p>

<p style="margin-left:17%;">Specify the timebase assumed by
the timestamps of the buffered frames.</p>

<p style="margin-left:11%;"><b>frame_rate</b></p>

<p style="margin-left:17%;">Specify the frame rate expected
for the video stream.</p>

<p style="margin-left:11%;"><b>pixel_aspect, sar</b></p>

<p style="margin-left:17%;">The sample (pixel) aspect ratio
of the input video.</p>

<p style="margin-left:11%;"><b>sws_param</b></p>

<p style="margin-left:17%;">Specify the optional parameters
to be used for the scale filter which is automatically
inserted when an input change is detected in the input size
or format.</p>

<p style="margin-left:11%;"><b>hw_frames_ctx</b></p>

<p style="margin-left:17%;">When using a hardware pixel
format, this should be a reference to an AVHWFramesContext
describing input frames.</p>

<p style="margin-left:11%; margin-top: 1em">For
example:</p>


<p style="margin-left:11%; margin-top: 1em">buffer=width=320:height=240:pix_fmt=yuv410p:time_base=1/24:sar=1</p>

<p style="margin-left:11%; margin-top: 1em">will instruct
the source to accept video frames with size 320x240 and with
format &quot;yuv410p&quot;, assuming 1/24 as the timestamps
timebase and square pixels (1:1 sample aspect ratio). Since
the pixel format with name &quot;yuv410p&quot; corresponds
to the number 6 (check the enum AVPixelFormat definition in
<i>libavutil/pixfmt.h</i>), this example corresponds to:</p>


<p style="margin-left:11%; margin-top: 1em">buffer=size=320x240:pixfmt=6:time_base=1/24:pixel_aspect=1/1</p>

<p style="margin-left:11%; margin-top: 1em">Alternatively,
the options can be specified as a flat string, but this
syntax is deprecated:</p>


<p style="margin-left:11%; margin-top: 1em"><i>width</i>:<i>height</i>:<i>pix_fmt</i>:<i>time_base.num</i>:<i>time_base.den</i>:<i>pixel_aspect.num</i>:<i>pixel_aspect.den</i>[:<i>sws_param</i>]</p>


<p style="margin-left:11%; margin-top: 1em"><b>cellauto</b>
<br>
Create a pattern generated by an elementary cellular
automaton.</p>

<p style="margin-left:11%; margin-top: 1em">The initial
state of the cellular automaton can be defined through the
<b>filename</b> and <b>pattern</b> options. If such options
are not specified an initial state is created randomly.</p>

<p style="margin-left:11%; margin-top: 1em">At each new
frame a new row in the video is filled with the result of
the cellular automaton next generation. The behavior when
the whole frame is filled is defined by the <b>scroll</b>
option.</p>

<p style="margin-left:11%; margin-top: 1em">This source
accepts the following options: <b><br>
filename, f</b></p>

<p style="margin-left:17%;">Read the initial cellular
automaton state, i.e. the starting row, from the specified
file. In the file, each non-whitespace character is
considered an alive cell, a newline will terminate the row,
and further characters in the file will be ignored.</p>

<p style="margin-left:11%;"><b>pattern, p</b></p>

<p style="margin-left:17%;">Read the initial cellular
automaton state, i.e. the starting row, from the specified
string.</p>

<p style="margin-left:17%; margin-top: 1em">Each
non-whitespace character in the string is considered an
alive cell, a newline will terminate the row, and further
characters in the string will be ignored.</p>

<p style="margin-left:11%;"><b>rate, r</b></p>

<p style="margin-left:17%;">Set the video rate, that is the
number of frames generated per second. Default is 25.</p>

<p style="margin-left:11%;"><b>random_fill_ratio,
ratio</b></p>

<p style="margin-left:17%;">Set the random fill ratio for
the initial cellular automaton row. It is a floating point
number value ranging from 0 to 1, defaults to 1/PHI.</p>

<p style="margin-left:17%; margin-top: 1em">This option is
ignored when a file or a pattern is specified.</p>

<p style="margin-left:11%;"><b>random_seed, seed</b></p>

<p style="margin-left:17%;">Set the seed for filling
randomly the initial row, must be an integer included
between 0 and <small>UINT32_MAX.</small> If not specified,
or if explicitly set to -1, the filter will try to use a
good random seed on a best effort basis.</p>

<p style="margin-left:11%;"><b>rule</b></p>

<p style="margin-left:17%;">Set the cellular automaton
rule, it is a number ranging from 0 to 255. Default value is
110.</p>

<p style="margin-left:11%;"><b>size, s</b></p>

<p style="margin-left:17%;">Set the size of the output
video. For the syntax of this option, check the
<b>&quot;Video size&quot; section in the ffmpeg-utils
manual</b>.</p>

<p style="margin-left:17%; margin-top: 1em">If
<b>filename</b> or <b>pattern</b> is specified, the size is
set by default to the width of the specified initial state
row, and the height is set to <i>width</i> *
<small>PHI.</small></p>

<p style="margin-left:17%; margin-top: 1em">If <b>size</b>
is set, it must contain the width of the specified pattern
string, and the specified pattern will be centered in the
larger row.</p>

<p style="margin-left:17%; margin-top: 1em">If a filename
or a pattern string is not specified, the size value
defaults to &quot;320x518&quot; (used for a randomly
generated initial state).</p>

<p style="margin-left:11%;"><b>scroll</b></p>

<p style="margin-left:17%;">If set to 1, scroll the output
upward when all the rows in the output have been already
filled. If set to 0, the new generated row will be written
over the top row just after the bottom row is filled.
Defaults to 1.</p>

<p style="margin-left:11%;"><b>start_full, full</b></p>

<p style="margin-left:17%;">If set to 1, completely fill
the output with generated rows before outputting the first
frame. This is the default behavior, for disabling set the
value to 0.</p>

<p style="margin-left:11%;"><b>stitch</b></p>

<p style="margin-left:17%;">If set to 1, stitch the left
and right row edges together. This is the default behavior,
for disabling set the value to 0.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Read the initial state from <i>pattern</i>, and specify
an output of size 200x400.</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">cellauto=f=pattern:s=200x400</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Generate a random initial row
with a width of 200 cells, with a fill ratio of 2/3:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">cellauto=ratio=2/3:s=200x200</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Create a pattern generated by
rule 18 starting by a single alive cell centered on an
initial row with width 100:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">cellauto=p=@s=100x400:full=0:rule=18</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="65%">


<p style="margin-top: 1em">Specify a more elaborated
initial pattern:</p></td>
<td width="18%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">cellauto=p='@@
@ @@':s=100x400:full=0:rule=18</p>


<p style="margin-left:11%; margin-top: 1em"><b>coreimagesrc</b>
<br>
Video source generated on <small>GPU</small> using
Apple&rsquo;s CoreImage <small>API</small> on
<small>OSX.</small></p>

<p style="margin-left:11%; margin-top: 1em">This video
source is a specialized version of the <b>coreimage</b>
video filter. Use a core image generator at the beginning of
the applied filterchain to generate the content.</p>

<p style="margin-left:11%; margin-top: 1em">The
coreimagesrc video source accepts the following options:
<b><br>
list_generators</b></p>

<p style="margin-left:17%;">List all available generators
along with all their respective options as well as possible
minimum and maximum values along with the default
values.</p>


<p style="margin-left:17%; margin-top: 1em">list_generators=true</p>

<p style="margin-left:11%;"><b>size, s</b></p>

<p style="margin-left:17%;">Specify the size of the sourced
video. For the syntax of this option, check the
<b>&quot;Video size&quot; section in the ffmpeg-utils
manual</b>. The default value is &quot;320x240&quot;.</p>

<p style="margin-left:11%;"><b>rate, r</b></p>

<p style="margin-left:17%;">Specify the frame rate of the
sourced video, as the number of frames generated per second.
It has to be a string in the format
<i>frame_rate_num</i>/<i>frame_rate_den</i>, an integer
number, a floating point number or a valid video frame rate
abbreviation. The default value is &quot;25&quot;.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>sar</b></p></td>
<td width="2%"></td>
<td width="75%">


<p>Set the sample aspect ratio of the sourced video.</p></td>
<td width="8%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>duration, d</b></p>

<p style="margin-left:17%;">Set the duration of the sourced
video. See <b>the Time duration section in the
ffmpeg-utils(1) manual</b> for the accepted syntax.</p>

<p style="margin-left:17%; margin-top: 1em">If not
specified, or the expressed duration is negative, the video
is supposed to be generated forever.</p>

<p style="margin-left:11%; margin-top: 1em">Additionally,
all options of the <b>coreimage</b> video filter are
accepted. A complete filterchain can be used for further
processing of the generated input without CPU-HOST transfer.
See <b>coreimage</b> documentation and examples for
details.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Use CIQRCodeGenerator to create a <small>QR</small> code
for the FFmpeg homepage, given as complete and escaped
command-line for Apple&rsquo;s standard bash shell:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -f lavfi
-i
coreimagesrc=s=100x100:filter=CIQRCodeGenerator@inputMessage=https\\\\\://FFmpeg.org/@inputCorrectionLevel=H
-frames:v 1 QRCode.png</p>

<p style="margin-left:17%; margin-top: 1em">This example is
equivalent to the QRCode example of <b>coreimage</b> without
the need for a nullsrc video source.</p>


<p style="margin-left:11%; margin-top: 1em"><b>mandelbrot</b>
<br>
Generate a Mandelbrot set fractal, and progressively zoom
towards the point specified with <i>start_x</i> and
<i>start_y</i>.</p>

<p style="margin-left:11%; margin-top: 1em">This source
accepts the following options: <b><br>
end_pts</b></p>

<p style="margin-left:17%;">Set the terminal pts value.
Default value is 400.</p>

<p style="margin-left:11%;"><b>end_scale</b></p>

<p style="margin-left:17%;">Set the terminal scale value.
Must be a floating point value. Default value is 0.3.</p>

<p style="margin-left:11%;"><b>inner</b></p>

<p style="margin-left:17%;">Set the inner coloring mode,
that is the algorithm used to draw the Mandelbrot fractal
internal region.</p>

<p style="margin-left:17%; margin-top: 1em">It shall assume
one of the following values: <b><br>
black</b></p>

<p style="margin-left:23%;">Set black mode.</p>

<p style="margin-left:17%;"><b>convergence</b></p>

<p style="margin-left:23%;">Show time until
convergence.</p>

<p style="margin-left:17%;"><b>mincol</b></p>

<p style="margin-left:23%;">Set color based on point
closest to the origin of the iterations.</p>

<p style="margin-left:17%;"><b>period</b></p>

<p style="margin-left:23%;">Set period mode.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is <i>mincol</i>.</p>

<p style="margin-left:11%;"><b>bailout</b></p>

<p style="margin-left:17%;">Set the bailout value. Default
value is 10.0.</p>

<p style="margin-left:11%;"><b>maxiter</b></p>

<p style="margin-left:17%;">Set the maximum of iterations
performed by the rendering algorithm. Default value is
7189.</p>

<p style="margin-left:11%;"><b>outer</b></p>

<p style="margin-left:17%;">Set outer coloring mode. It
shall assume one of following values: <b><br>
iteration_count</b></p>

<p style="margin-left:23%;">Set iteration count mode.</p>


<p style="margin-left:17%;"><b>normalized_iteration_count</b></p>

<p style="margin-left:23%;">set normalized iteration count
mode.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is <i>normalized_iteration_count</i>.</p>

<p style="margin-left:11%;"><b>rate, r</b></p>

<p style="margin-left:17%;">Set frame rate, expressed as
number of frames per second. Default value is
&quot;25&quot;.</p>

<p style="margin-left:11%;"><b>size, s</b></p>

<p style="margin-left:17%;">Set frame size. For the syntax
of this option, check the <b>&quot;Video size&quot; section
in the ffmpeg-utils manual</b>. Default value is
&quot;640x480&quot;.</p>

<p style="margin-left:11%;"><b>start_scale</b></p>

<p style="margin-left:17%;">Set the initial scale value.
Default value is 3.0.</p>

<p style="margin-left:11%;"><b>start_x</b></p>

<p style="margin-left:17%;">Set the initial x position.
Must be a floating point value between -100 and 100. Default
value is -0.743643887037158704752191506114774.</p>

<p style="margin-left:11%;"><b>start_y</b></p>

<p style="margin-left:17%;">Set the initial y position.
Must be a floating point value between -100 and 100. Default
value is -0.131825904205311970493132056385139.</p>


<p style="margin-left:11%; margin-top: 1em"><b>mptestsrc</b>
<br>
Generate various test patterns, as generated by the MPlayer
test filter.</p>

<p style="margin-left:11%; margin-top: 1em">The size of the
generated video is fixed, and is 256x256. This source is
useful in particular for testing encoding features.</p>

<p style="margin-left:11%; margin-top: 1em">This source
accepts the following options: <b><br>
rate, r</b></p>

<p style="margin-left:17%;">Specify the frame rate of the
sourced video, as the number of frames generated per second.
It has to be a string in the format
<i>frame_rate_num</i>/<i>frame_rate_den</i>, an integer
number, a floating point number or a valid video frame rate
abbreviation. The default value is &quot;25&quot;.</p>

<p style="margin-left:11%;"><b>duration, d</b></p>

<p style="margin-left:17%;">Set the duration of the sourced
video. See <b>the Time duration section in the
ffmpeg-utils(1) manual</b> for the accepted syntax.</p>

<p style="margin-left:17%; margin-top: 1em">If not
specified, or the expressed duration is negative, the video
is supposed to be generated forever.</p>

<p style="margin-left:11%;"><b>test, t</b></p>

<p style="margin-left:17%;">Set the number or the name of
the test to perform. Supported tests are: <b><br>
dc_luma <br>
dc_chroma <br>
freq_luma <br>
freq_chroma <br>
amp_luma <br>
amp_chroma</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>cbp</b></p></td>
<td width="78%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>mv</b></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>ring1 <br>
ring2</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>all</b></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:17%;">Default value is
&quot;all&quot;, which will cycle through the list of all
tests.</p>

<p style="margin-left:11%; margin-top: 1em">Some
examples:</p>


<p style="margin-left:11%; margin-top: 1em">mptestsrc=t=dc_luma</p>

<p style="margin-left:11%; margin-top: 1em">will generate a
&quot;dc_luma&quot; test pattern.</p>


<p style="margin-left:11%; margin-top: 1em"><b>frei0r_src</b>
<br>
Provide a frei0r source.</p>

<p style="margin-left:11%; margin-top: 1em">To enable
compilation of this filter you need to install the frei0r
header and configure FFmpeg with
&quot;--enable-frei0r&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">This source
accepts the following parameters: <b><br>
size</b></p>

<p style="margin-left:17%;">The size of the video to
generate. For the syntax of this option, check the
<b>&quot;Video size&quot; section in the ffmpeg-utils
manual</b>.</p>

<p style="margin-left:11%;"><b>framerate</b></p>

<p style="margin-left:17%;">The framerate of the generated
video. It may be a string of the form <i>num</i>/<i>den</i>
or a frame rate abbreviation.</p>

<p style="margin-left:11%;"><b>filter_name</b></p>

<p style="margin-left:17%;">The name to the frei0r source
to load. For more information regarding frei0r and how to
set the parameters, read the <b>frei0r</b> section in the
video filters documentation.</p>

<p style="margin-left:11%;"><b>filter_params</b></p>

<p style="margin-left:17%;">A &rsquo;|&rsquo;-separated
list of parameters to pass to the frei0r source.</p>

<p style="margin-left:11%; margin-top: 1em">For example, to
generate a frei0r partik0l source with size 200x200 and
frame rate 10 which is overlaid on the overlay filter main
input:</p>


<p style="margin-left:11%; margin-top: 1em">frei0r_src=size=200x200:framerate=10:filter_name=partik0l:filter_params=1234
[overlay]; [in][overlay] overlay</p>

<p style="margin-left:11%; margin-top: 1em"><b>life</b>
<br>
Generate a life pattern.</p>

<p style="margin-left:11%; margin-top: 1em">This source is
based on a generalization of John Conway&rsquo;s life
game.</p>

<p style="margin-left:11%; margin-top: 1em">The sourced
input represents a life grid, each pixel represents a cell
which can be in one of two possible states, alive or dead.
Every cell interacts with its eight neighbours, which are
the cells that are horizontally, vertically, or diagonally
adjacent.</p>

<p style="margin-left:11%; margin-top: 1em">At each
interaction the grid evolves according to the adopted rule,
which specifies the number of neighbor alive cells which
will make a cell stay alive or born. The <b>rule</b> option
allows one to specify the rule to adopt.</p>

<p style="margin-left:11%; margin-top: 1em">This source
accepts the following options: <b><br>
filename, f</b></p>

<p style="margin-left:17%;">Set the file from which to read
the initial grid state. In the file, each non-whitespace
character is considered an alive cell, and newline is used
to delimit the end of each row.</p>

<p style="margin-left:17%; margin-top: 1em">If this option
is not specified, the initial grid is generated
randomly.</p>

<p style="margin-left:11%;"><b>rate, r</b></p>

<p style="margin-left:17%;">Set the video rate, that is the
number of frames generated per second. Default is 25.</p>

<p style="margin-left:11%;"><b>random_fill_ratio,
ratio</b></p>

<p style="margin-left:17%;">Set the random fill ratio for
the initial random grid. It is a floating point number value
ranging from 0 to 1, defaults to 1/PHI. It is ignored when a
file is specified.</p>

<p style="margin-left:11%;"><b>random_seed, seed</b></p>

<p style="margin-left:17%;">Set the seed for filling the
initial random grid, must be an integer included between 0
and <small>UINT32_MAX.</small> If not specified, or if
explicitly set to -1, the filter will try to use a good
random seed on a best effort basis.</p>

<p style="margin-left:11%;"><b>rule</b></p>

<p style="margin-left:17%;">Set the life rule.</p>

<p style="margin-left:17%; margin-top: 1em">A rule can be
specified with a code of the kind &quot;S
<i><small>NS</small></i> /B <i><small>NB</small></i> &quot;,
where <i><small>NS</small></i> and <i><small>NB</small></i>
are sequences of numbers in the range 0-8,
<i><small>NS</small></i> specifies the number of alive
neighbor cells which make a live cell stay alive, and
<i><small>NB</small></i> the number of alive neighbor cells
which make a dead cell to become alive (i.e. to
&quot;born&quot;). &quot;s&quot; and &quot;b&quot; can be
used in place of &quot;S&quot; and &quot;B&quot;,
respectively.</p>

<p style="margin-left:17%; margin-top: 1em">Alternatively a
rule can be specified by an 18-bits integer. The 9 high
order bits are used to encode the next cell state if it is
alive for each number of neighbor alive cells, the low order
bits specify the rule for &quot;borning&quot; new cells.
Higher order bits encode for an higher number of neighbor
cells. For example the number 6153 =
&quot;(12&lt;&lt;9)+9&quot; specifies a stay alive rule of
12 and a born rule of 9, which corresponds to
&quot;S23/B03&quot;.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is &quot;S23/B3&quot;, which is the original Conway&rsquo;s
game of life rule, and will keep a cell alive if it has 2 or
3 neighbor alive cells, and will born a new cell if there
are three alive cells around a dead cell.</p>

<p style="margin-left:11%;"><b>size, s</b></p>

<p style="margin-left:17%;">Set the size of the output
video. For the syntax of this option, check the
<b>&quot;Video size&quot; section in the ffmpeg-utils
manual</b>.</p>

<p style="margin-left:17%; margin-top: 1em">If
<b>filename</b> is specified, the size is set by default to
the same size of the input file. If <b>size</b> is set, it
must contain the size specified in the input file, and the
initial grid defined in that file is centered in the larger
resulting area.</p>

<p style="margin-left:17%; margin-top: 1em">If a filename
is not specified, the size value defaults to
&quot;320x240&quot; (used for a randomly generated initial
grid).</p>

<p style="margin-left:11%;"><b>stitch</b></p>

<p style="margin-left:17%;">If set to 1, stitch the left
and right grid edges together, and the top and bottom edges
also. Defaults to 1.</p>

<p style="margin-left:11%;"><b>mold</b></p>

<p style="margin-left:17%;">Set cell mold speed. If set, a
dead cell will go from <b>death_color</b> to
<b>mold_color</b> with a step of <b>mold</b>. <b>mold</b>
can have a value from 0 to 255.</p>

<p style="margin-left:11%;"><b>life_color</b></p>

<p style="margin-left:17%;">Set the color of living (or new
born) cells.</p>

<p style="margin-left:11%;"><b>death_color</b></p>

<p style="margin-left:17%;">Set the color of dead cells. If
<b>mold</b> is set, this is the first color used to
represent a dead cell.</p>

<p style="margin-left:11%;"><b>mold_color</b></p>

<p style="margin-left:17%;">Set mold color, for definitely
dead and moldy cells.</p>

<p style="margin-left:17%; margin-top: 1em">For the syntax
of these 3 color options, check the <b>&quot;Color&quot;
section in the ffmpeg-utils manual</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Read a grid from <i>pattern</i>, and center it on a grid
of size 300x300 pixels:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">life=f=pattern:s=300x300</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Generate a random grid of size
200x200, with a fill ratio of 2/3:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">life=ratio=2/3:s=200x200</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Specify a custom rule for
evolving a randomly generated grid:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">life=rule=S14/B34</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Full example with slow death
effect (mold) using <b>ffplay</b>:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffplay -f lavfi
life=s=300x200:mold=10:r=60:ratio=0.1:death_color=#C83232:life_color=#00ff00,scale=1200:800:flags=16</p>

<p style="margin-left:11%; margin-top: 1em"><b>allrgb,
allyuv, color, haldclutsrc, nullsrc, pal75bars, pal100bars,
rgbtestsrc, smptebars, smptehdbars, testsrc, testsrc2,
yuvtestsrc</b> <br>
The &quot;allrgb&quot; source returns frames of size
4096x4096 of all rgb colors.</p>

<p style="margin-left:11%; margin-top: 1em">The
&quot;allyuv&quot; source returns frames of size 4096x4096
of all yuv colors.</p>

<p style="margin-left:11%; margin-top: 1em">The
&quot;color&quot; source provides an uniformly colored
input.</p>

<p style="margin-left:11%; margin-top: 1em">The
&quot;haldclutsrc&quot; source provides an identity Hald
<small>CLUT.</small> See also <b>haldclut</b> filter.</p>

<p style="margin-left:11%; margin-top: 1em">The
&quot;nullsrc&quot; source returns unprocessed video frames.
It is mainly useful to be employed in analysis / debugging
tools, or as the source for filters which ignore the input
data.</p>

<p style="margin-left:11%; margin-top: 1em">The
&quot;pal75bars&quot; source generates a color bars pattern,
based on <small>EBU PAL</small> recommendations with 75%
color levels.</p>

<p style="margin-left:11%; margin-top: 1em">The
&quot;pal100bars&quot; source generates a color bars
pattern, based on <small>EBU PAL</small> recommendations
with 100% color levels.</p>

<p style="margin-left:11%; margin-top: 1em">The
&quot;rgbtestsrc&quot; source generates an
<small>RGB</small> test pattern useful for detecting
<small>RGB</small> vs <small>BGR</small> issues. You should
see a red, green and blue stripe from top to bottom.</p>

<p style="margin-left:11%; margin-top: 1em">The
&quot;smptebars&quot; source generates a color bars pattern,
based on the <small>SMPTE</small> Engineering Guideline
<small>EG 1-1990.</small></p>

<p style="margin-left:11%; margin-top: 1em">The
&quot;smptehdbars&quot; source generates a color bars
pattern, based on the <small>SMPTE RP 219-2002.</small></p>

<p style="margin-left:11%; margin-top: 1em">The
&quot;testsrc&quot; source generates a test video pattern,
showing a color pattern, a scrolling gradient and a
timestamp. This is mainly intended for testing purposes.</p>

<p style="margin-left:11%; margin-top: 1em">The
&quot;testsrc2&quot; source is similar to testsrc, but
supports more pixel formats instead of just
&quot;rgb24&quot;. This allows using it as an input for
other tests without requiring a format conversion.</p>

<p style="margin-left:11%; margin-top: 1em">The
&quot;yuvtestsrc&quot; source generates an
<small>YUV</small> test pattern. You should see a y, cb and
cr stripe from top to bottom.</p>

<p style="margin-left:11%; margin-top: 1em">The sources
accept the following parameters: <b><br>
level</b></p>

<p style="margin-left:17%;">Specify the level of the Hald
<small>CLUT,</small> only available in the
&quot;haldclutsrc&quot; source. A level of &quot;N&quot;
generates a picture of &quot;N*N*N&quot; by
&quot;N*N*N&quot; pixels to be used as identity matrix for
3D lookup tables. Each component is coded on a
&quot;1/(N*N)&quot; scale.</p>

<p style="margin-left:11%;"><b>color, c</b></p>

<p style="margin-left:17%;">Specify the color of the
source, only available in the &quot;color&quot; source. For
the syntax of this option, check the <b>&quot;Color&quot;
section in the ffmpeg-utils manual</b>.</p>

<p style="margin-left:11%;"><b>size, s</b></p>

<p style="margin-left:17%;">Specify the size of the sourced
video. For the syntax of this option, check the
<b>&quot;Video size&quot; section in the ffmpeg-utils
manual</b>. The default value is &quot;320x240&quot;.</p>

<p style="margin-left:17%; margin-top: 1em">This option is
not available with the &quot;allrgb&quot;,
&quot;allyuv&quot;, and &quot;haldclutsrc&quot; filters.</p>

<p style="margin-left:11%;"><b>rate, r</b></p>

<p style="margin-left:17%;">Specify the frame rate of the
sourced video, as the number of frames generated per second.
It has to be a string in the format
<i>frame_rate_num</i>/<i>frame_rate_den</i>, an integer
number, a floating point number or a valid video frame rate
abbreviation. The default value is &quot;25&quot;.</p>

<p style="margin-left:11%;"><b>duration, d</b></p>

<p style="margin-left:17%;">Set the duration of the sourced
video. See <b>the Time duration section in the
ffmpeg-utils(1) manual</b> for the accepted syntax.</p>

<p style="margin-left:17%; margin-top: 1em">If not
specified, or the expressed duration is negative, the video
is supposed to be generated forever.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>sar</b></p></td>
<td width="2%"></td>
<td width="75%">


<p>Set the sample aspect ratio of the sourced video.</p></td>
<td width="8%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>alpha</b></p>

<p style="margin-left:17%;">Specify the alpha (opacity) of
the background, only available in the &quot;testsrc2&quot;
source. The value must be between 0 (fully transparent) and
255 (fully opaque, the default).</p>

<p style="margin-left:11%;"><b>decimals, n</b></p>

<p style="margin-left:17%;">Set the number of decimals to
show in the timestamp, only available in the
&quot;testsrc&quot; source.</p>

<p style="margin-left:17%; margin-top: 1em">The displayed
timestamp value will correspond to the original timestamp
value multiplied by the power of 10 of the specified value.
Default value is 0.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Generate a video with a duration of 5.3 seconds, with
size 176x144 and a frame rate of 10 frames per second:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">testsrc=duration=5.3:size=qcif:rate=10</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">The following graph description
will generate a red source with an opacity of 0.2, with size
&quot;qcif&quot; and a frame rate of 10 frames per
second:</p> </td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">color=c=red@0.2:s=qcif:r=10</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">If the input content is to be
ignored, &quot;nullsrc&quot; can be used. The following
command generates noise in the luminance plane by employing
the &quot;geq&quot; filter:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">nullsrc=s=256x256,
geq=random(1)*255:128:128</p>


<p style="margin-left:11%; margin-top: 1em"><i>Commands</i></p>

<p style="margin-left:11%; margin-top: 1em">The
&quot;color&quot; source supports the following commands:
<b><br>
c, color</b></p>

<p style="margin-left:17%;">Set the color of the created
image. Accepts the same syntax of the corresponding
<b>color</b> option.</p>


<p style="margin-left:11%; margin-top: 1em"><b>openclsrc</b>
<br>
Generate video using an OpenCL program. <b><br>
source</b></p>

<p style="margin-left:17%;">OpenCL program source file.</p>

<p style="margin-left:11%;"><b>kernel</b></p>

<p style="margin-left:17%;">Kernel name in program.</p>

<p style="margin-left:11%;"><b>size, s</b></p>

<p style="margin-left:17%;">Size of frames to generate.
This must be set.</p>

<p style="margin-left:11%;"><b>format</b></p>

<p style="margin-left:17%;">Pixel format to use for the
generated frames. This must be set.</p>

<p style="margin-left:11%;"><b>rate, r</b></p>

<p style="margin-left:17%;">Number of frames generated
every second. Default value is &rsquo;25&rsquo;.</p>

<p style="margin-left:11%; margin-top: 1em">For details of
how the program loading works, see the <b>program_opencl</b>
filter.</p>

<p style="margin-left:11%; margin-top: 1em">Example
programs:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Generate a colour ramp by setting pixel values from the
position of the pixel in the output image. (Note that this
will work with all pixel formats, but the generated output
will not be the same.)</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">__kernel void
ramp(__write_only image2d_t dst, <br>
unsigned int index) <br>
{ <br>
int2 loc = (int2)(get_global_id(0), get_global_id(1)); <br>
float4 val; <br>
val.xy = val.zw = convert_float2(loc) /
convert_float2(get_image_dim(dst)); <br>
write_imagef(dst, loc, val); <br>
}</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Generate a Sierpinski carpet
pattern, panning by a single pixel each frame.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">__kernel void
sierpinski_carpet(__write_only image2d_t dst, <br>
unsigned int index) <br>
{ <br>
int2 loc = (int2)(get_global_id(0), get_global_id(1)); <br>
float4 value = 0.0f; <br>
int x = loc.x + index; <br>
int y = loc.y + index; <br>
while (x &gt; 0 || y &gt; 0) { <br>
if (x % 3 == 1 &amp;&amp; y % 3 == 1) { <br>
value = 1.0f; <br>
break; <br>
} <br>
x /= 3; <br>
y /= 3; <br>
} <br>
write_imagef(dst, loc, value); <br>
}</p>

<h2>VIDEO SINKS
<a name="VIDEO SINKS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Below is a
description of the currently available video sinks.</p>


<p style="margin-left:11%; margin-top: 1em"><b>buffersink</b>
<br>
Buffer video frames, and make them available to the end of
the filter graph.</p>

<p style="margin-left:11%; margin-top: 1em">This sink is
mainly intended for programmatic use, in particular through
the interface defined in <i>libavfilter/buffersink.h</i> or
the options system.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts a
pointer to an AVBufferSinkContext structure, which defines
the incoming buffers&rsquo; formats, to be passed as the
opaque parameter to &quot;avfilter_init_filter&quot; for
initialization.</p>


<p style="margin-left:11%; margin-top: 1em"><b>nullsink</b>
<br>
Null video sink: do absolutely nothing with the input video.
It is mainly useful as a template and for use in analysis /
debugging tools.</p>

<h2>MULTIMEDIA FILTERS
<a name="MULTIMEDIA FILTERS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Below is a
description of the currently available multimedia
filters.</p>


<p style="margin-left:11%; margin-top: 1em"><b>abitscope</b>
<br>
Convert input audio to a video output, displaying the audio
bit scope.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
rate, r</b></p>

<p style="margin-left:17%;">Set frame rate, expressed as
number of frames per second. Default value is
&quot;25&quot;.</p>

<p style="margin-left:11%;"><b>size, s</b></p>

<p style="margin-left:17%;">Specify the video size for the
output. For the syntax of this option, check the
<b>&quot;Video size&quot; section in the ffmpeg-utils
manual</b>. Default value is &quot;1024x256&quot;.</p>

<p style="margin-left:11%;"><b>colors</b></p>

<p style="margin-left:17%;">Specify list of colors
separated by space or by &rsquo;|&rsquo; which will be used
to draw channels. Unrecognized or missing colors will be
replaced by white color.</p>


<p style="margin-left:11%; margin-top: 1em"><b>ahistogram</b>
<br>
Convert input audio to a video output, displaying the volume
histogram.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
dmode</b></p>

<p style="margin-left:17%;">Specify how histogram is
calculated.</p>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values: <b><br>
single</b></p>

<p style="margin-left:23%;">Use single histogram for all
channels.</p>

<p style="margin-left:17%;"><b>separate</b></p>

<p style="margin-left:23%;">Use separate histogram for each
channel.</p>

<p style="margin-left:17%; margin-top: 1em">Default is
&quot;single&quot;.</p>

<p style="margin-left:11%;"><b>rate, r</b></p>

<p style="margin-left:17%;">Set frame rate, expressed as
number of frames per second. Default value is
&quot;25&quot;.</p>

<p style="margin-left:11%;"><b>size, s</b></p>

<p style="margin-left:17%;">Specify the video size for the
output. For the syntax of this option, check the
<b>&quot;Video size&quot; section in the ffmpeg-utils
manual</b>. Default value is &quot;hd720&quot;.</p>

<p style="margin-left:11%;"><b>scale</b></p>

<p style="margin-left:17%;">Set display scale.</p>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>log</b></p></td>
<td width="1%"></td>
<td width="17%">


<p>logarithmic</p></td>
<td width="60%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>sqrt</b></p>

<p style="margin-left:23%;">square root</p>

<p style="margin-left:17%;"><b>cbrt</b></p>

<p style="margin-left:23%;">cubic root</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>lin</b></p></td>
<td width="1%"></td>
<td width="9%">


<p>linear</p></td>
<td width="68%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>rlog</b></p>

<p style="margin-left:23%;">reverse logarithmic</p>

<p style="margin-left:17%; margin-top: 1em">Default is
&quot;log&quot;.</p>

<p style="margin-left:11%;"><b>ascale</b></p>

<p style="margin-left:17%;">Set amplitude scale.</p>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>log</b></p></td>
<td width="1%"></td>
<td width="17%">


<p>logarithmic</p></td>
<td width="60%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>lin</b></p></td>
<td width="1%"></td>
<td width="17%">


<p>linear</p></td>
<td width="60%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Default is
&quot;log&quot;.</p>

<p style="margin-left:11%;"><b>acount</b></p>

<p style="margin-left:17%;">Set how much frames to
accumulate in histogram. Default is 1. Setting this to -1
accumulates all frames.</p>

<p style="margin-left:11%;"><b>rheight</b></p>

<p style="margin-left:17%;">Set histogram ratio of window
height.</p>

<p style="margin-left:11%;"><b>slide</b></p>

<p style="margin-left:17%;">Set sonogram sliding.</p>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values: <b><br>
replace</b></p>

<p style="margin-left:23%;">replace old rows with new
ones.</p>

<p style="margin-left:17%;"><b>scroll</b></p>

<p style="margin-left:23%;">scroll from top to bottom.</p>

<p style="margin-left:17%; margin-top: 1em">Default is
&quot;replace&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><b>aphasemeter</b>
<br>
Measures phase of input audio, which is exported as metadata
&quot;lavfi.aphasemeter.phase&quot;, representing mean phase
of current audio frame. A video output can also be produced
and is enabled by default. The audio is passed through as
first output.</p>

<p style="margin-left:11%; margin-top: 1em">Audio will be
rematrixed to stereo if it has a different channel layout.
Phase value is in range &quot;[-1, 1]&quot; where
&quot;-1&quot; means left and right channels are completely
out of phase and 1 means channels are in phase.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options, all related to its video
output: <b><br>
rate, r</b></p>

<p style="margin-left:17%;">Set the output frame rate.
Default value is 25.</p>

<p style="margin-left:11%;"><b>size, s</b></p>

<p style="margin-left:17%;">Set the video size for the
output. For the syntax of this option, check the
<b>&quot;Video size&quot; section in the ffmpeg-utils
manual</b>. Default value is &quot;800x400&quot;.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>rc</b></p></td>
<td width="2%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>gc</b></p></td>
<td width="2%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>bc</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Specify the red, green, blue contrast. Default values
are 2, 7 and 1. Allowed range is &quot;[0, 255]&quot;.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>mpc</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set color which will be used for drawing median phase.
If color is &quot;none&quot; which is default, no median
phase value will be drawn.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>video</b></p>

<p style="margin-left:17%;">Enable video output. Default is
enabled.</p>


<p style="margin-left:11%; margin-top: 1em"><b>avectorscope</b>
<br>
Convert input audio to a video output, representing the
audio vector scope.</p>

<p style="margin-left:11%; margin-top: 1em">The filter is
used to measure the difference between channels of stereo
audio stream. A monoaural signal, consisting of identical
left and right signal, results in straight vertical line.
Any stereo separation is visible as a deviation from this
line, creating a Lissajous figure. If the straight (or
deviation from it) but horizontal line appears this
indicates that the left and right channels are out of
phase.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
mode, m</b></p>

<p style="margin-left:17%;">Set the vectorscope mode.</p>

<p style="margin-left:17%; margin-top: 1em">Available
values are: <b><br>
lissajous</b></p>

<p style="margin-left:23%;">Lissajous rotated by 45
degrees.</p>

<p style="margin-left:17%;"><b>lissajous_xy</b></p>

<p style="margin-left:23%;">Same as above but not
rotated.</p>

<p style="margin-left:17%;"><b>polar</b></p>

<p style="margin-left:23%;">Shape resembling half of
circle.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is <b>lissajous</b>.</p>

<p style="margin-left:11%;"><b>size, s</b></p>

<p style="margin-left:17%;">Set the video size for the
output. For the syntax of this option, check the
<b>&quot;Video size&quot; section in the ffmpeg-utils
manual</b>. Default value is &quot;400x400&quot;.</p>

<p style="margin-left:11%;"><b>rate, r</b></p>

<p style="margin-left:17%;">Set the output frame rate.
Default value is 25.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>rc</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>gc</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>bc</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>ac</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Specify the red, green, blue and alpha contrast. Default
values are 40, 160, 80 and 255. Allowed range is &quot;[0,
255]&quot;.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>rf</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>gf</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>bf</b></p></td>
<td width="3%"></td>
<td width="83%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>af</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Specify the red, green, blue and alpha fade. Default
values are 15, 10, 5 and 5. Allowed range is &quot;[0,
255]&quot;.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>zoom</b></p>

<p style="margin-left:17%;">Set the zoom factor. Default
value is 1. Allowed range is &quot;[0, 10]&quot;. Values
lower than <i>1</i> will auto adjust zoom factor to maximal
possible value.</p>

<p style="margin-left:11%;"><b>draw</b></p>

<p style="margin-left:17%;">Set the vectorscope drawing
mode.</p>

<p style="margin-left:17%; margin-top: 1em">Available
values are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>dot</b></p></td>
<td width="1%"></td>
<td width="39%">


<p>Draw dot for each sample.</p></td>
<td width="38%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>line</b></p>

<p style="margin-left:23%;">Draw line between previous and
current sample.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is <b>dot</b>.</p>

<p style="margin-left:11%;"><b>scale</b></p>

<p style="margin-left:17%;">Specify amplitude scale of
audio samples.</p>

<p style="margin-left:17%; margin-top: 1em">Available
values are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>lin</b></p></td>
<td width="1%"></td>
<td width="11%">


<p>Linear.</p></td>
<td width="66%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>sqrt</b></p>

<p style="margin-left:23%;">Square root.</p>

<p style="margin-left:17%;"><b>cbrt</b></p>

<p style="margin-left:23%;">Cubic root.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>log</b></p></td>
<td width="1%"></td>
<td width="19%">


<p>Logarithmic.</p></td>
<td width="58%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>swap</b></p>

<p style="margin-left:17%;">Swap left channel axis with
right channel axis.</p>

<p style="margin-left:11%;"><b>mirror</b></p>

<p style="margin-left:17%;">Mirror axis. <b><br>
none</b></p>

<p style="margin-left:23%;">No mirror.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>x</b></p></td>
<td width="3%"></td>
<td width="29%">


<p>Mirror only x axis.</p></td>
<td width="48%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>y</b></p></td>
<td width="3%"></td>
<td width="29%">


<p>Mirror only y axis.</p></td>
<td width="48%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>xy</b></p></td>
<td width="3%"></td>
<td width="29%">


<p>Mirror both axis.</p></td>
<td width="48%">
</td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="46%">


<p style="margin-top: 1em">Complete example using
<b>ffplay</b>:</p> </td>
<td width="37%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffplay -f lavfi
'amovie=input.mp3, asplit [a][out1]; <br>
[a] avectorscope=zoom=1.3:rc=2:gc=200:bc=10:rf=1:gf=8:bf=7
[out0]'</p>

<p style="margin-left:11%; margin-top: 1em"><b>bench,
abench</b> <br>
Benchmark part of a filtergraph.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
action</b></p>

<p style="margin-left:17%;">Start or stop a timer.</p>

<p style="margin-left:17%; margin-top: 1em">Available
values are: <b><br>
start</b></p>

<p style="margin-left:23%;">Get the current time, set it as
frame metadata (using the key
&quot;lavfi.bench.start_time&quot;), and forward the frame
to the next filter.</p>

<p style="margin-left:17%;"><b>stop</b></p>

<p style="margin-left:23%;">Get the current time and fetch
the &quot;lavfi.bench.start_time&quot; metadata from the
input frame metadata to get the time difference. Time
difference, average, maximum and minimum time (respectively
&quot;t&quot;, &quot;avg&quot;, &quot;max&quot; and
&quot;min&quot;) are then printed. The timestamps are
expressed in seconds.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="49%">


<p>Benchmark <b>selectivecolor</b> filter:</p></td>
<td width="34%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">bench=start,selectivecolor=reds=-.2
.12 -.49,bench=stop</p>

<p style="margin-left:11%; margin-top: 1em"><b>concat</b>
<br>
Concatenate audio and video streams, joining them together
one after the other.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
works on segments of synchronized video and audio streams.
All segments must have the same number of streams of each
type, and that will also be the number of streams at
output.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em"><b>n</b></p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Set the number of segments.
Default is 2.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>v</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set the number of output video streams, that is also the
number of video streams in each segment. Default is 1.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>a</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set the number of output audio streams, that is also the
number of audio streams in each segment. Default is 0.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>unsafe</b></p>

<p style="margin-left:17%;">Activate unsafe mode: do not
fail if segments have a different format.</p>

<p style="margin-left:11%; margin-top: 1em">The filter has
<i>v</i>+<i>a</i> outputs: first <i>v</i> video outputs,
then <i>a</i> audio outputs.</p>

<p style="margin-left:11%; margin-top: 1em">There are
<i>n</i>x(<i>v</i>+<i>a</i>) inputs: first the inputs for
the first segment, in the same order as the outputs, then
the inputs for the second segment, etc.</p>

<p style="margin-left:11%; margin-top: 1em">Related streams
do not always have exactly the same duration, for various
reasons including codec frame size or sloppy authoring. For
that reason, related synchronized streams (e.g. a video and
its audio track) should be concatenated at once. The concat
filter will use the duration of the longest stream in each
segment (except the last one), and if necessary pad shorter
audio streams with silence.</p>

<p style="margin-left:11%; margin-top: 1em">For this filter
to work correctly, all segments must start at timestamp
0.</p>

<p style="margin-left:11%; margin-top: 1em">All
corresponding streams must have the same parameters in all
segments; the filtering system will automatically select a
common pixel format for video streams, and a common sample
format, sample rate and channel layout for audio streams,
but other settings, such as resolution, must be converted
explicitly by the user.</p>

<p style="margin-left:11%; margin-top: 1em">Different frame
rates are acceptable but will result in variable frame rate
at output; be sure to configure the output file to handle
it.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Concatenate an opening, an episode and an ending, all in
bilingual version (video in stream 0, audio in streams 1 and
2):</p> </td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
opening.mkv -i episode.mkv -i ending.mkv -filter_complex \
<br>
'[0:0] [0:1] [0:2] [1:0] [1:1] [1:2] [2:0] [2:1] [2:2] <br>
concat=n=3:v=1:a=2 [v] [a1] [a2]' \ <br>
-map '[v]' -map '[a1]' -map '[a2]' output.mkv</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Concatenate two parts, handling
audio and video separately, using the (a)movie sources, and
adjusting the resolution:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">movie=part1.mp4,
scale=512:288 [v1] ; amovie=part1.mp4 [a1] ; <br>
movie=part2.mp4, scale=512:288 [v2] ; amovie=part2.mp4 [a2]
; <br>
[v1] [v2] concat [outv] ; [a1] [a2] concat=v=0:a=1
[outa]</p>

<p style="margin-left:17%; margin-top: 1em">Note that a
desync will happen at the stitch if the audio and video
streams do not have exactly the same duration in the first
file.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Commands</i></p>

<p style="margin-left:11%; margin-top: 1em">This filter
supports the following commands: <b><br>
next</b></p>

<p style="margin-left:17%;">Close the current segment and
step to the next one</p>

<p style="margin-left:11%; margin-top: 1em"><b>drawgraph,
adrawgraph</b> <br>
Draw a graph using input video or audio metadata.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>m1</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set 1st frame metadata key from which metadata values
will be used to draw a graph.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>fg1</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set 1st foreground color expression.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>m2</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set 2nd frame metadata key from which metadata values
will be used to draw a graph.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>fg2</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set 2nd foreground color expression.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>m3</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set 3rd frame metadata key from which metadata values
will be used to draw a graph.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>fg3</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set 3rd foreground color expression.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>m4</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set 4th frame metadata key from which metadata values
will be used to draw a graph.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>fg4</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set 4th foreground color expression.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>min</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set minimal value of metadata value.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>max</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set maximal value of metadata value.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>bg</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set graph background color. Default is white.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>mode</b></p>

<p style="margin-left:17%;">Set graph mode.</p>

<p style="margin-left:17%; margin-top: 1em">Available
values for mode is:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>bar</b></p></td>
<td width="78%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>dot</b></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>line</b></p>

<p style="margin-left:17%; margin-top: 1em">Default is
&quot;line&quot;.</p>

<p style="margin-left:11%;"><b>slide</b></p>

<p style="margin-left:17%;">Set slide mode.</p>

<p style="margin-left:17%; margin-top: 1em">Available
values for slide is: <b><br>
frame</b></p>

<p style="margin-left:23%;">Draw new frame when right
border is reached.</p>

<p style="margin-left:17%;"><b>replace</b></p>

<p style="margin-left:23%;">Replace old columns with new
ones.</p>

<p style="margin-left:17%;"><b>scroll</b></p>

<p style="margin-left:23%;">Scroll from right to left.</p>

<p style="margin-left:17%;"><b>rscroll</b></p>

<p style="margin-left:23%;">Scroll from left to right.</p>

<p style="margin-left:17%;"><b>picture</b></p>

<p style="margin-left:23%;">Draw single picture.</p>

<p style="margin-left:17%; margin-top: 1em">Default is
&quot;frame&quot;.</p>

<p style="margin-left:11%;"><b>size</b></p>

<p style="margin-left:17%;">Set size of graph video. For
the syntax of this option, check the <b>&quot;Video
size&quot; section in the ffmpeg-utils manual</b>. The
default value is &quot;900x256&quot;.</p>

<p style="margin-left:17%; margin-top: 1em">The foreground
color expressions can use the following variables:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b><small>MIN</small></b></p></td>
<td width="1%"></td>
<td width="49%">


<p>Minimal value of metadata value.</p></td>
<td width="28%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b><small>MAX</small></b></p></td>
<td width="1%"></td>
<td width="49%">


<p>Maximal value of metadata value.</p></td>
<td width="28%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b><small>VAL</small></b></p></td>
<td width="1%"></td>
<td width="49%">


<p>Current metadata key value.</p></td>
<td width="28%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The color is
defined as 0xAABBGGRR.</p>

<p style="margin-left:11%; margin-top: 1em">Example using
metadata from <b>signalstats</b> filter:</p>


<p style="margin-left:11%; margin-top: 1em">signalstats,drawgraph=lavfi.signalstats.YAVG:min=0:max=255</p>

<p style="margin-left:11%; margin-top: 1em">Example using
metadata from <b>ebur128</b> filter:</p>


<p style="margin-left:11%; margin-top: 1em">ebur128=metadata=1,adrawgraph=lavfi.r128.M:min=-120:max=5</p>

<p style="margin-left:11%; margin-top: 1em"><b>ebur128</b>
<small><br>
EBU R128</small> scanner filter. This filter takes an audio
stream and analyzes its loudness level. By default, it logs
a message at a frequency of 10Hz with the Momentary loudness
(identified by &quot;M&quot;), Short-term loudness
(&quot;S&quot;), Integrated loudness (&quot;I&quot;) and
Loudness Range (&quot;LRA&quot;).</p>

<p style="margin-left:11%; margin-top: 1em">The filter can
only analyze streams which have a sampling rate of 48000 Hz
and whose sample format is double-precision floating point.
The input stream will be converted to this specification, if
needed. Users may need to insert aformat and/or aresample
filters after this filter to obtain the original
parameters.</p>

<p style="margin-left:11%; margin-top: 1em">The filter also
has a video output (see the <i>video</i> option) with a real
time graph to observe the loudness evolution. The graphic
contains the logged message mentioned above, so it is not
printed anymore when this option is set, unless the verbose
logging is set. The main graphing area contains the
short-term loudness (3 seconds of analysis), and the gauge
on the right is for the momentary loudness (400
milliseconds), but can optionally be configured to instead
display short-term loudness (see <i>gauge</i>).</p>

<p style="margin-left:11%; margin-top: 1em">The green area
marks a +/- 1LU target range around the target loudness
(-23LUFS by default, unless modified through
<i>target</i>).</p>

<p style="margin-left:11%; margin-top: 1em">More
information about the Loudness Recommendation <small>EBU
R128</small> on
&lt;<b>http://tech.ebu.ch/loudness</b>&gt;.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
video</b></p>

<p style="margin-left:17%;">Activate the video output. The
audio stream is passed unchanged whether this option is set
or no. The video stream will be the first output stream if
activated. Default is 0.</p>

<p style="margin-left:11%;"><b>size</b></p>

<p style="margin-left:17%;">Set the video size. This option
is for video only. For the syntax of this option, check the
<b>&quot;Video size&quot; section in the ffmpeg-utils
manual</b>. Default and minimum resolution is
&quot;640x480&quot;.</p>

<p style="margin-left:11%;"><b>meter</b></p>

<p style="margin-left:17%;">Set the <small>EBU</small>
scale meter. Default is 9. Common values are 9 and 18,
respectively for <small>EBU</small> scale meter +9 and
<small>EBU</small> scale meter +18. Any other integer value
between this range is allowed.</p>

<p style="margin-left:11%;"><b>metadata</b></p>

<p style="margin-left:17%;">Set metadata injection. If set
to 1, the audio input will be segmented into 100ms output
frames, each of them containing various loudness information
in metadata. All the metadata keys are prefixed with
&quot;lavfi.r128.&quot;.</p>

<p style="margin-left:17%; margin-top: 1em">Default is
0.</p>

<p style="margin-left:11%;"><b>framelog</b></p>

<p style="margin-left:17%;">Force the frame logging
level.</p>

<p style="margin-left:17%; margin-top: 1em">Available
values are: <b><br>
info</b></p>

<p style="margin-left:23%;">information logging level</p>

<p style="margin-left:17%;"><b>verbose</b></p>

<p style="margin-left:23%;">verbose logging level</p>

<p style="margin-left:17%; margin-top: 1em">By default, the
logging level is set to <i>info</i>. If the <b>video</b> or
the <b>metadata</b> options are set, it switches to
<i>verbose</i>.</p>

<p style="margin-left:11%;"><b>peak</b></p>

<p style="margin-left:17%;">Set peak mode(s).</p>

<p style="margin-left:17%; margin-top: 1em">Available modes
can be cumulated (the option is a &quot;flag&quot; type).
Possible values are: <b><br>
none</b></p>

<p style="margin-left:23%;">Disable any peak mode
(default).</p>

<p style="margin-left:17%;"><b>sample</b></p>

<p style="margin-left:23%;">Enable sample-peak mode.</p>

<p style="margin-left:23%; margin-top: 1em">Simple peak
mode looking for the higher sample value. It logs a message
for sample-peak (identified by &quot;SPK&quot;).</p>

<p style="margin-left:17%;"><b>true</b></p>

<p style="margin-left:23%;">Enable true-peak mode.</p>

<p style="margin-left:23%; margin-top: 1em">If enabled, the
peak lookup is done on an over-sampled version of the input
stream for better peak accuracy. It logs a message for
true-peak. (identified by &quot;TPK&quot;) and true-peak per
frame (identified by &quot;FTPK&quot;). This mode requires a
build with &quot;libswresample&quot;.</p>

<p style="margin-left:11%;"><b>dualmono</b></p>

<p style="margin-left:17%;">Treat mono input files as
&quot;dual mono&quot;. If a mono file is intended for
playback on a stereo system, its <small>EBU R128</small>
measurement will be perceptually incorrect. If set to
&quot;true&quot;, this option will compensate for this
effect. Multi-channel input files are not affected by this
option.</p>

<p style="margin-left:11%;"><b>panlaw</b></p>

<p style="margin-left:17%;">Set a specific pan law to be
used for the measurement of dual mono files. This parameter
is optional, and has a default value of -3.01dB.</p>

<p style="margin-left:11%;"><b>target</b></p>

<p style="margin-left:17%;">Set a specific target level (in
<small>LUFS</small> ) used as relative zero in the
visualization. This parameter is optional and has a default
value of -23LUFS as specified by <small>EBU R128.</small>
However, material published online may prefer a level of
-16LUFS (e.g. for use with podcasts or video platforms).</p>

<p style="margin-left:11%;"><b>gauge</b></p>

<p style="margin-left:17%;">Set the value displayed by the
gauge. Valid values are &quot;momentary&quot; and s
&quot;shortterm&quot;. By default the momentary value will
be used, but in certain scenarios it may be more useful to
observe the short term value instead (e.g. live mixing).</p>

<p style="margin-left:11%;"><b>scale</b></p>

<p style="margin-left:17%;">Sets the display scale for the
loudness. Valid parameters are &quot;absolute&quot; (in
<small>LUFS</small> ) or &quot;relative&quot; (
<small>LU</small> ) relative to the target. This only
affects the video output, not the summary or continuous log
output.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Real-time graph using <b>ffplay</b>, with a
<small>EBU</small> scale meter +18:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffplay -f lavfi
-i &quot;amovie=input.mp3,ebur128=video=1:meter=18
[out0][out1]&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="43%">


<p style="margin-top: 1em">Run an analysis with
<b>ffmpeg</b>:</p> </td>
<td width="40%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -nostats
-i input.mp3 -filter_complex ebur128 -f null -</p>

<p style="margin-left:11%; margin-top: 1em"><b>interleave,
ainterleave</b> <br>
Temporally interleave frames from several inputs.</p>


<p style="margin-left:11%; margin-top: 1em">&quot;interleave&quot;
works with video inputs, &quot;ainterleave&quot; with
audio.</p>

<p style="margin-left:11%; margin-top: 1em">These filters
read frames from several inputs and send the oldest queued
frame to the output.</p>

<p style="margin-left:11%; margin-top: 1em">Input streams
must have well defined, monotonically increasing frame
timestamp values.</p>

<p style="margin-left:11%; margin-top: 1em">In order to
submit one frame to output, these filters need to enqueue at
least one frame for each input, so they cannot work in case
one input is not yet terminated and will not receive
incoming frames.</p>

<p style="margin-left:11%; margin-top: 1em">For example
consider the case when one input is a &quot;select&quot;
filter which always drops input frames. The
&quot;interleave&quot; filter will keep reading from that
input, but it will never be able to send new frames to
output until the input sends an end-of-stream signal.</p>

<p style="margin-left:11%; margin-top: 1em">Also, depending
on inputs synchronization, the filters will drop frames in
case one input receives more frames than the other ones, and
the queue is already filled.</p>

<p style="margin-left:11%; margin-top: 1em">These filters
accept the following options: <b><br>
nb_inputs, n</b></p>

<p style="margin-left:17%;">Set the number of different
inputs, it is 2 by default.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Interleave frames belonging to different streams using
<b>ffmpeg</b>:</p> </td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
bambi.avi -i pr0n.mkv -filter_complex &quot;[0:v][1:v]
interleave&quot; out.avi</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="41%">


<p style="margin-top: 1em">Add flickering blur effect:</p></td>
<td width="42%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">select='if(gt(random(0),
0.2), 1, 2)':n=2 [tmp], boxblur=2:2, [tmp] interleave</p>

<p style="margin-left:11%; margin-top: 1em"><b>metadata,
ametadata</b> <br>
Manipulate frame metadata.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
accepts the following options: <b><br>
mode</b></p>

<p style="margin-left:17%;">Set mode of operation of the
filter.</p>

<p style="margin-left:17%; margin-top: 1em">Can be one of
the following: <b><br>
select</b></p>

<p style="margin-left:23%;">If both &quot;value&quot; and
&quot;key&quot; is set, select frames which have such
metadata. If only &quot;key&quot; is set, select every frame
that has such key in metadata.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>add</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>Add new metadata &quot;key&quot; and &quot;value&quot;.
If key is already available do nothing.</p></td></tr>
</table>

<p style="margin-left:17%;"><b>modify</b></p>

<p style="margin-left:23%;">Modify value of already present
key.</p>

<p style="margin-left:17%;"><b>delete</b></p>

<p style="margin-left:23%;">If &quot;value&quot; is set,
delete only keys that have such value. Otherwise, delete
key. If &quot;key&quot; is not set, delete all metadata
values in the frame.</p>

<p style="margin-left:17%;"><b>print</b></p>

<p style="margin-left:23%;">Print key and its value if
metadata was found. If &quot;key&quot; is not set print all
metadata values available in frame.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>key</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set key used with all modes. Must be set for all modes
except &quot;print&quot; and &quot;delete&quot;.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>value</b></p>

<p style="margin-left:17%;">Set metadata value which will
be used. This option is mandatory for &quot;modify&quot; and
&quot;add&quot; mode.</p>

<p style="margin-left:11%;"><b>function</b></p>

<p style="margin-left:17%;">Which function to use when
comparing metadata value and &quot;value&quot;.</p>

<p style="margin-left:17%; margin-top: 1em">Can be one of
following: <b><br>
same_str</b></p>

<p style="margin-left:23%;">Values are interpreted as
strings, returns true if metadata value is same as
&quot;value&quot;.</p>

<p style="margin-left:17%;"><b>starts_with</b></p>

<p style="margin-left:23%;">Values are interpreted as
strings, returns true if metadata value starts with the
&quot;value&quot; option string.</p>

<p style="margin-left:17%;"><b>less</b></p>

<p style="margin-left:23%;">Values are interpreted as
floats, returns true if metadata value is less than
&quot;value&quot;.</p>

<p style="margin-left:17%;"><b>equal</b></p>

<p style="margin-left:23%;">Values are interpreted as
floats, returns true if &quot;value&quot; is equal with
metadata value.</p>

<p style="margin-left:17%;"><b>greater</b></p>

<p style="margin-left:23%;">Values are interpreted as
floats, returns true if metadata value is greater than
&quot;value&quot;.</p>

<p style="margin-left:17%;"><b>expr</b></p>

<p style="margin-left:23%;">Values are interpreted as
floats, returns true if expression from option
&quot;expr&quot; evaluates to true.</p>

<p style="margin-left:11%;"><b>expr</b></p>

<p style="margin-left:17%;">Set expression which is used
when &quot;function&quot; is set to &quot;expr&quot;. The
expression is evaluated through the eval <small>API</small>
and can contain the following constants: <b><small><br>
VALUE1</small></b></p>

<p style="margin-left:23%;">Float representation of
&quot;value&quot; from metadata key.</p>


<p style="margin-left:17%;"><b><small>VALUE2</small></b></p>

<p style="margin-left:23%;">Float representation of
&quot;value&quot; as supplied by user in &quot;value&quot;
option.</p>

<p style="margin-left:11%;"><b>file</b></p>

<p style="margin-left:17%;">If specified in
&quot;print&quot; mode, output is written to the named file.
Instead of plain filename any writable url can be specified.
Filename &rsquo;&rsquo;-&rsquo;&rsquo; is a shorthand for
standard output. If &quot;file&quot; option is not set,
output is written to the log with <small>AV_LOG_INFO</small>
loglevel.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="81%">


<p>Print all metadata values for frames with key
&quot;lavfi.signalstats.YDIF&quot; with values between 0 and
1.</p> </td>
<td width="2%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">signalstats,metadata=print:key=lavfi.signalstats.YDIF:value=0:function=expr:expr='between(VALUE1,0,1)'</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="74%">


<p style="margin-top: 1em">Print silencedetect output to
file <i>metadata.txt</i>.</p></td>
<td width="9%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">silencedetect,ametadata=mode=print:file=metadata.txt</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="81%">


<p style="margin-top: 1em">Direct all metadata to a pipe
with file descriptor 4.</p></td>
<td width="2%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">metadata=mode=print:file='pipe\:4'</p>

<p style="margin-left:11%; margin-top: 1em"><b>perms,
aperms</b> <br>
Set read/write permissions for the output frames.</p>

<p style="margin-left:11%; margin-top: 1em">These filters
are mainly aimed at developers to test direct path in the
following filter in the filtergraph.</p>

<p style="margin-left:11%; margin-top: 1em">The filters
accept the following options: <b><br>
mode</b></p>

<p style="margin-left:17%;">Select the permissions
mode.</p>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values: <b><br>
none</b></p>

<p style="margin-left:23%;">Do nothing. This is the
default.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>ro</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>Set all the output frames read-only.</p></td>
<td width="9%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>rw</b></p></td>
<td width="3%"></td>
<td width="68%">


<p>Set all the output frames directly writable.</p></td>
<td width="9%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>toggle</b></p>

<p style="margin-left:23%;">Make the frame read-only if
writable, and writable if read-only.</p>

<p style="margin-left:17%;"><b>random</b></p>

<p style="margin-left:23%;">Set each output frame read-only
or writable randomly.</p>

<p style="margin-left:11%;"><b>seed</b></p>

<p style="margin-left:17%;">Set the seed for the
<i>random</i> mode, must be an integer included between 0
and &quot;UINT32_MAX&quot;. If not specified, or if
explicitly set to &quot;-1&quot;, the filter will try to use
a good random seed on a best effort basis.</p>

<p style="margin-left:11%; margin-top: 1em">Note: in case
of auto-inserted filter between the permission filter and
the following one, the permission might not be received as
expected in that following filter. Inserting a <b>format</b>
or <b>aformat</b> filter before the perms/aperms filter can
avoid this problem.</p>

<p style="margin-left:11%; margin-top: 1em"><b>realtime,
arealtime</b> <br>
Slow down filtering to match real time approximately.</p>

<p style="margin-left:11%; margin-top: 1em">These filters
will pause the filtering for a variable amount of time to
match the output rate with the input timestamps. They are
similar to the <b>re</b> option to &quot;ffmpeg&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">They accept the
following options: <b><br>
limit</b></p>

<p style="margin-left:17%;">Time limit for the pauses. Any
pause longer than that will be considered a timestamp
discontinuity and reset the timer. Default is 2 seconds.</p>

<p style="margin-left:11%;"><b>speed</b></p>

<p style="margin-left:17%;">Speed factor for processing.
The value must be a float larger than zero. Values larger
than 1.0 will result in faster than realtime processing,
smaller will slow processing down. The <i>limit</i> is
automatically adapted accordingly. Default is 1.0.</p>

<p style="margin-left:17%; margin-top: 1em">A processing
speed faster than what is possible without these filters
cannot be achieved.</p>

<p style="margin-left:11%; margin-top: 1em"><b>select,
aselect</b> <br>
Select frames to pass in output.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
accepts the following options: <b><br>
expr, e</b></p>

<p style="margin-left:17%;">Set expression, which is
evaluated for each input frame.</p>

<p style="margin-left:17%; margin-top: 1em">If the
expression is evaluated to zero, the frame is discarded.</p>

<p style="margin-left:17%; margin-top: 1em">If the
evaluation result is negative or NaN, the frame is sent to
the first output; otherwise it is sent to the output with
index &quot;ceil(val)-1&quot;, assuming that the input index
starts from 0.</p>

<p style="margin-left:17%; margin-top: 1em">For example a
value of 1.2 corresponds to the output with index
&quot;ceil(1.2)-1 = 2-1 = 1&quot;, that is the second
output.</p>

<p style="margin-left:11%;"><b>outputs, n</b></p>

<p style="margin-left:17%;">Set the number of outputs. The
output to which to send the selected frame is based on the
result of the evaluation. Default value is 1.</p>

<p style="margin-left:11%; margin-top: 1em">The expression
can contain the following constants:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>n</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>The (sequential) number of the filtered frame, starting
from 0.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>selected_n</b></p>

<p style="margin-left:17%;">The (sequential) number of the
selected frame, starting from 0.</p>

<p style="margin-left:11%;"><b>prev_selected_n</b></p>

<p style="margin-left:17%;">The sequential number of the
last selected frame. It&rsquo;s <small>NAN</small> if
undefined.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b><small>TB</small></b></p></td>
<td width="2%"></td>
<td width="83%">


<p>The timebase of the input timestamps.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>pts</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>The <small>PTS</small> (Presentation TimeStamp) of the
filtered video frame, expressed in <i><small>TB</small></i>
units. It&rsquo;s <small>NAN</small> if undefined.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>t</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>The <small>PTS</small> of the filtered video frame,
expressed in seconds. It&rsquo;s <small>NAN</small> if
undefined.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>prev_pts</b></p>

<p style="margin-left:17%;">The <small>PTS</small> of the
previously filtered video frame. It&rsquo;s
<small>NAN</small> if undefined.</p>

<p style="margin-left:11%;"><b>prev_selected_pts</b></p>

<p style="margin-left:17%;">The <small>PTS</small> of the
last previously filtered video frame. It&rsquo;s
<small>NAN</small> if undefined.</p>

<p style="margin-left:11%;"><b>prev_selected_t</b></p>

<p style="margin-left:17%;">The <small>PTS</small> of the
last previously selected video frame, expressed in seconds.
It&rsquo;s <small>NAN</small> if undefined.</p>

<p style="margin-left:11%;"><b>start_pts</b></p>

<p style="margin-left:17%;">The <small>PTS</small> of the
first video frame in the video. It&rsquo;s
<small>NAN</small> if undefined.</p>

<p style="margin-left:11%;"><b>start_t</b></p>

<p style="margin-left:17%;">The time of the first video
frame in the video. It&rsquo;s <small>NAN</small> if
undefined.</p>

<p style="margin-left:11%;"><b>pict_type</b> <i>(video
only)</i></p>

<p style="margin-left:17%;">The type of the filtered frame.
It can assume one of the following values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>I</b></p></td>
<td width="80%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>P</b></p></td>
<td width="80%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>B</b></p></td>
<td width="80%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>S</b></p></td>
<td width="80%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b><small>SI</small></b></p></td>
<td width="80%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b><small>SP</small></b></p></td>
<td width="80%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b><small>BI</small></b></p></td>
<td width="80%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>interlace_type</b> <i>(video
only)</i></p>

<p style="margin-left:17%;">The frame interlace type. It
can assume one of the following values: <b><small><br>
PROGRESSIVE</small></b></p>

<p style="margin-left:23%;">The frame is progressive (not
interlaced).</p>


<p style="margin-left:17%;"><b><small>TOPFIRST</small></b></p>

<p style="margin-left:23%;">The frame is
top-field-first.</p>


<p style="margin-left:17%;"><b><small>BOTTOMFIRST</small></b></p>

<p style="margin-left:23%;">The frame is
bottom-field-first.</p>

<p style="margin-left:11%;"><b>consumed_sample_n</b>
<i>(audio only)</i></p>

<p style="margin-left:17%;">the number of selected samples
before the current frame</p>

<p style="margin-left:11%;"><b>samples_n</b> <i>(audio
only)</i></p>

<p style="margin-left:17%;">the number of samples in the
current frame</p>

<p style="margin-left:11%;"><b>sample_rate</b> <i>(audio
only)</i></p>

<p style="margin-left:17%;">the input sample rate</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>key</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>This is 1 if the filtered frame is a key-frame, 0
otherwise.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>pos</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>the position in the file of the filtered frame, -1 if
the information is not available (e.g. for synthetic
video)</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>scene</b> <i>(video
only)</i></p>

<p style="margin-left:17%;">value between 0 and 1 to
indicate a new scene; a low value reflects a low probability
for the current frame to introduce a new scene, while a
higher value means the current frame is more likely to be
one (see the example below)</p>

<p style="margin-left:11%;"><b>concatdec_select</b></p>

<p style="margin-left:17%;">The concat demuxer can select
only part of a concat input file by setting an inpoint and
an outpoint, but the output packets may not be entirely
contained in the selected interval. By using this variable,
it is possible to skip frames generated by the concat
demuxer which are not exactly contained in the selected
interval.</p>

<p style="margin-left:17%; margin-top: 1em">This works by
comparing the frame pts against the
<i>lavf.concat.start_time</i> and the
<i>lavf.concat.duration</i> packet metadata values which are
also present in the decoded frames.</p>

<p style="margin-left:17%; margin-top: 1em">The
<i>concatdec_select</i> variable is -1 if the frame pts is
at least start_time and either the duration metadata is
missing or the frame pts is less than start_time + duration,
0 otherwise, and NaN if the start_time metadata is
missing.</p>

<p style="margin-left:17%; margin-top: 1em">That basically
means that an input frame is selected if its pts is within
the interval set by the concat demuxer.</p>

<p style="margin-left:11%; margin-top: 1em">The default
value of the select expression is &quot;1&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="41%">


<p>Select all frames in input:</p></td>
<td width="42%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">select</p>

<p style="margin-left:17%; margin-top: 1em">The example
above is the same as:</p>

<p style="margin-left:17%; margin-top: 1em">select=1</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="25%">


<p style="margin-top: 1em">Skip all frames:</p></td>
<td width="58%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">select=0</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="32%">


<p style="margin-top: 1em">Select only I-frames:</p></td>
<td width="51%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">select='eq(pict_type\,I)'</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="41%">


<p style="margin-top: 1em">Select one frame every 100:</p></td>
<td width="42%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">select='not(mod(n\,100))'</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Select only frames contained in
the 10-20 time interval:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">select=between(t\,10\,20)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Select only I-frames contained
in the 10-20 time interval:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">select=between(t\,10\,20)*eq(pict_type\,I)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="80%">


<p style="margin-top: 1em">Select frames with a minimum
distance of 10 seconds:</p></td>
<td width="3%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">select='isnan(prev_selected_t)+gte(t-prev_selected_t\,10)'</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Use aselect to select only audio
frames with samples number &gt; 100:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">aselect='gt(samples_n\,100)'</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="55%">


<p style="margin-top: 1em">Create a mosaic of the first
scenes:</p> </td>
<td width="28%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
video.avi -vf select='gt(scene\,0.4)',scale=160:120,tile
-frames:v 1 preview.png</p>

<p style="margin-left:17%; margin-top: 1em">Comparing
<i>scene</i> against a value between 0.3 and 0.5 is
generally a sane choice.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Send even and odd frames to
separate outputs, and compose them:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">select=n=2:e='mod(n,
2)+1' [odd][even]; [odd] pad=h=2*ih [tmp]; [tmp][even]
overlay=y=h</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Select useful frames from an
ffconcat file which is using inpoints and outpoints but
where the source files are not intra frame only.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -copyts
-vsync 0 -segment_time_metadata 1 -i input.ffconcat -vf
select=concatdec_select -af aselect=concatdec_select
output.avi</p>

<p style="margin-left:11%; margin-top: 1em"><b>sendcmd,
asendcmd</b> <br>
Send commands to filters in the filtergraph.</p>

<p style="margin-left:11%; margin-top: 1em">These filters
read commands to be sent to other filters in the
filtergraph.</p>


<p style="margin-left:11%; margin-top: 1em">&quot;sendcmd&quot;
must be inserted between two video filters,
&quot;asendcmd&quot; must be inserted between two audio
filters, but apart from that they act the same way.</p>

<p style="margin-left:11%; margin-top: 1em">The
specification of commands can be provided in the filter
arguments with the <i>commands</i> option, or in a file
specified by the <i>filename</i> option.</p>

<p style="margin-left:11%; margin-top: 1em">These filters
accept the following options: <b><br>
commands, c</b></p>

<p style="margin-left:17%;">Set the commands to be read and
sent to the other filters.</p>

<p style="margin-left:11%;"><b>filename, f</b></p>

<p style="margin-left:17%;">Set the filename of the
commands to be read and sent to the other filters.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Commands
syntax</i></p>

<p style="margin-left:11%; margin-top: 1em">A commands
description consists of a sequence of interval
specifications, comprising a list of commands to be executed
when a particular event related to that interval occurs. The
occurring event is typically the current frame time entering
or leaving a given time interval.</p>

<p style="margin-left:11%; margin-top: 1em">An interval is
specified by the following syntax:</p>


<p style="margin-left:11%; margin-top: 1em">&lt;START&gt;[-&lt;END&gt;]
&lt;COMMANDS&gt;;</p>

<p style="margin-left:11%; margin-top: 1em">The time
interval is specified by the <i><small>START</small></i> and
<i><small>END</small></i> times. <i><small>END</small></i>
is optional and defaults to the maximum time.</p>

<p style="margin-left:11%; margin-top: 1em">The current
frame time is considered within the specified interval if it
is included in the interval [ <i><small>START</small></i> ,
<i><small>END</small></i> ), that is when the time is
greater or equal to <i><small>START</small></i> and is
lesser than <i><small>END</small></i> .</p>


<p style="margin-left:11%; margin-top: 1em"><i><small>COMMANDS</small></i>
consists of a sequence of one or more command
specifications, separated by &quot;,&quot;, relating to that
interval. The syntax of a command specification is given
by:</p>


<p style="margin-left:11%; margin-top: 1em">[&lt;FLAGS&gt;]
&lt;TARGET&gt; &lt;COMMAND&gt; &lt;ARG&gt;</p>


<p style="margin-left:11%; margin-top: 1em"><i><small>FLAGS</small></i>
is optional and specifies the type of events relating to the
time interval which enable sending the specified command,
and must be a non-null sequence of identifier flags
separated by &quot;+&quot; or &quot;|&quot; and enclosed
between &quot;[&quot; and &quot;]&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">The following
flags are recognized: <b><br>
enter</b></p>

<p style="margin-left:17%;">The command is sent when the
current frame timestamp enters the specified interval. In
other words, the command is sent when the previous frame
timestamp was not in the given interval, and the current
is.</p>

<p style="margin-left:11%;"><b>leave</b></p>

<p style="margin-left:17%;">The command is sent when the
current frame timestamp leaves the specified interval. In
other words, the command is sent when the previous frame
timestamp was in the given interval, and the current is
not.</p>

<p style="margin-left:11%; margin-top: 1em">If
<i><small>FLAGS</small></i> is not specified, a default
value of &quot;[enter]&quot; is assumed.</p>


<p style="margin-left:11%; margin-top: 1em"><i><small>TARGET</small></i>
specifies the target of the command, usually the name of the
filter class or a specific filter instance name.</p>


<p style="margin-left:11%; margin-top: 1em"><i><small>COMMAND</small></i>
specifies the name of the command for the target filter.</p>


<p style="margin-left:11%; margin-top: 1em"><i><small>ARG</small></i>
is optional and specifies the optional list of argument for
the given <i><small>COMMAND</small></i> .</p>

<p style="margin-left:11%; margin-top: 1em">Between one
interval specification and another, whitespaces, or
sequences of characters starting with &quot;#&quot; until
the end of line, are ignored and can be used to annotate
comments.</p>

<p style="margin-left:11%; margin-top: 1em">A simplified
<small>BNF</small> description of the commands specification
syntax follows:</p>


<p style="margin-left:11%; margin-top: 1em">&lt;COMMAND_FLAG&gt;
::= &quot;enter&quot; | &quot;leave&quot; <br>
&lt;COMMAND_FLAGS&gt; ::= &lt;COMMAND_FLAG&gt;
[(+|&quot;|&quot;)&lt;COMMAND_FLAG&gt;] <br>
&lt;COMMAND&gt; ::= [&quot;[&quot; &lt;COMMAND_FLAGS&gt;
&quot;]&quot;] &lt;TARGET&gt; &lt;COMMAND&gt; [&lt;ARG&gt;]
<br>
&lt;COMMANDS&gt; ::= &lt;COMMAND&gt; [,&lt;COMMANDS&gt;]
<br>
&lt;INTERVAL&gt; ::= &lt;START&gt;[-&lt;END&gt;]
&lt;COMMANDS&gt; <br>
&lt;INTERVALS&gt; ::=
&lt;INTERVAL&gt;[;&lt;INTERVALS&gt;]</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="60%">


<p>Specify audio tempo change at second 4:</p></td>
<td width="23%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">asendcmd=c='4.0
atempo tempo 1.5',atempo</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="52%">


<p style="margin-top: 1em">Target a specific filter
instance:</p> </td>
<td width="31%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">asendcmd=c='4.0
atempo@my tempo 1.5',atempo@my</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Specify a list of drawtext and
hue commands in a file.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em"># show text in
the interval 5-10 <br>
5.0-10.0 [enter] drawtext reinit
'fontfile=FreeSerif.ttf:text=hello world', <br>
[leave] drawtext reinit 'fontfile=FreeSerif.ttf:text='; <br>
# desaturate the image in the interval 15-20 <br>
15.0-20.0 [enter] hue s 0, <br>
[enter] drawtext reinit
'fontfile=FreeSerif.ttf:text=nocolor', <br>
[leave] hue s 1, <br>
[leave] drawtext reinit 'fontfile=FreeSerif.ttf:text=color';
<br>
# apply an exponential saturation fade-out effect, starting
from time 25 <br>
25 [enter] hue s exp(25-t)</p>

<p style="margin-left:17%; margin-top: 1em">A filtergraph
allowing to read and process the above command list stored
in a file <i>test.cmd</i>, can be specified with:</p>


<p style="margin-left:17%; margin-top: 1em">sendcmd=f=test.cmd,drawtext=fontfile=FreeSerif.ttf:text='',hue</p>

<p style="margin-left:11%; margin-top: 1em"><b>setpts,
asetpts</b> <br>
Change the <small>PTS</small> (presentation timestamp) of
the input frames.</p>


<p style="margin-left:11%; margin-top: 1em">&quot;setpts&quot;
works on video frames, &quot;asetpts&quot; on audio
frames.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
accepts the following options: <b><br>
expr</b></p>

<p style="margin-left:17%;">The expression which is
evaluated for each frame to construct its timestamp.</p>

<p style="margin-left:11%; margin-top: 1em">The expression
is evaluated through the eval <small>API</small> and can
contain the following constants: <b><small><br>
FRAME_RATE, FR</small></b></p>

<p style="margin-left:17%;">frame rate, only defined for
constant frame-rate video</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b><small>PTS</small></b></p></td>
<td width="2%"></td>
<td width="83%">


<p>The presentation timestamp in input</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>N</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>The count of the input frame for video or the number of
consumed samples, not including the current frame for audio,
starting from 0.</p></td></tr>
</table>


<p style="margin-left:11%;"><b><small>NB_CONSUMED_SAMPLES</small></b></p>

<p style="margin-left:17%;">The number of consumed samples,
not including the current frame (only audio)</p>

<p style="margin-left:11%;"><b><small>NB_SAMPLES,
S</small></b></p>

<p style="margin-left:17%;">The number of samples in the
current frame (only audio)</p>

<p style="margin-left:11%;"><b><small>SAMPLE_RATE,
SR</small></b></p>

<p style="margin-left:17%;">The audio sample rate.</p>


<p style="margin-left:11%;"><b><small>STARTPTS</small></b></p>

<p style="margin-left:17%;">The <small>PTS</small> of the
first frame.</p>


<p style="margin-left:11%;"><b><small>STARTT</small></b></p>

<p style="margin-left:17%;">the time in seconds of the
first frame</p>


<p style="margin-left:11%;"><b><small>INTERLACED</small></b></p>

<p style="margin-left:17%;">State whether the current frame
is interlaced.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>T</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>the time in seconds of the current frame</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b><small>POS</small></b></p></td>
<td width="2%"></td>
<td width="83%">


<p>original position in the file of the frame, or undefined
if undefined for the current frame</p></td></tr>
</table>


<p style="margin-left:11%;"><b><small>PREV_INPTS</small></b></p>

<p style="margin-left:17%;">The previous input
<small>PTS.</small></p>


<p style="margin-left:11%;"><small><b>PREV_INT</b></small></p>

<p style="margin-left:17%;">previous input time in
seconds</p>


<p style="margin-left:11%;"><b><small>PREV_OUTPTS</small></b></p>

<p style="margin-left:17%;">The previous output
<small>PTS.</small></p>


<p style="margin-left:11%;"><small><b>PREV_OUTT</b></small></p>

<p style="margin-left:17%;">previous output time in
seconds</p>


<p style="margin-left:11%;"><b><small>RTCTIME</small></b></p>

<p style="margin-left:17%;">The wallclock (
<small>RTC</small> ) time in microseconds. This is
deprecated, use <b>time</b>(0) instead.</p>


<p style="margin-left:11%;"><b><small>RTCSTART</small></b></p>

<p style="margin-left:17%;">The wallclock (
<small>RTC</small> ) time at the start of the movie in
microseconds.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b><small>TB</small></b></p></td>
<td width="3%"></td>
<td width="57%">


<p>The timebase of the input timestamps.</p></td>
<td width="26%">
</td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="43%">


<p style="margin-top: 1em">Start counting
<small>PTS</small> from zero</p></td>
<td width="40%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">setpts=PTS-STARTPTS</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="38%">


<p style="margin-top: 1em">Apply fast motion effect:</p></td>
<td width="45%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">setpts=0.5*PTS</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="38%">


<p style="margin-top: 1em">Apply slow motion effect:</p></td>
<td width="45%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">setpts=2.0*PTS</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="60%">


<p style="margin-top: 1em">Set fixed rate of 25 frames per
second:</p> </td>
<td width="23%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">setpts=N/(25*TB)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="60%">


<p style="margin-top: 1em">Set fixed rate 25 fps with some
jitter:</p> </td>
<td width="23%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">setpts='1/(25*TB)
* (N + 0.05 * sin(N*2*PI/25))'</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="72%">


<p style="margin-top: 1em">Apply an offset of 10 seconds to
the input <small>PTS:</small></p></td>
<td width="11%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">setpts=PTS+10/TB</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Generate timestamps from a
&quot;live source&quot; and rebase onto the current
timebase:</p> </td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">setpts='(RTCTIME
- RTCSTART) / (TB * 1000000)'</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="61%">


<p style="margin-top: 1em">Generate timestamps by counting
samples:</p> </td>
<td width="22%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">asetpts=N/SR/TB</p>


<p style="margin-left:11%; margin-top: 1em"><b>setrange</b>
<br>
Force color range for the output video frame.</p>

<p style="margin-left:11%; margin-top: 1em">The
&quot;setrange&quot; filter marks the color range property
for the output frames. It does not change the input frame,
but only sets the corresponding property, which affects how
the frame is treated by following filters.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
range</b></p>

<p style="margin-left:17%;">Available values are: <b><br>
auto</b></p>

<p style="margin-left:23%;">Keep the same color range
property.</p>

<p style="margin-left:17%;"><b>unspecified, unknown</b></p>

<p style="margin-left:23%;">Set the color range as
unspecified.</p>

<p style="margin-left:17%;"><b>limited, tv, mpeg</b></p>

<p style="margin-left:23%;">Set the color range as
limited.</p>

<p style="margin-left:17%;"><b>full, pc, jpeg</b></p>

<p style="margin-left:23%;">Set the color range as
full.</p>

<p style="margin-left:11%; margin-top: 1em"><b>settb,
asettb</b> <br>
Set the timebase to use for the output frames timestamps. It
is mainly useful for testing timebase configuration.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters: <b><br>
expr, tb</b></p>

<p style="margin-left:17%;">The expression which is
evaluated into the output timebase.</p>

<p style="margin-left:11%; margin-top: 1em">The value for
<b>tb</b> is an arithmetic expression representing a
rational. The expression can contain the constants &quot;
<small>AVTB&quot;</small> (the default timebase),
&quot;intb&quot; (the input timebase) and &quot;sr&quot;
(the sample rate, audio only). Default value is
&quot;intb&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="38%">


<p>Set the timebase to 1/25:</p></td>
<td width="45%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">settb=expr=1/25</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="38%">


<p style="margin-top: 1em">Set the timebase to 1/10:</p></td>
<td width="45%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">settb=expr=0.1</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="46%">


<p style="margin-top: 1em">Set the timebase to
1001/1000:</p> </td>
<td width="37%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">settb=1+0.001</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="41%">


<p style="margin-top: 1em">Set the timebase to 2*intb:</p></td>
<td width="42%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">settb=2*intb</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="48%">


<p style="margin-top: 1em">Set the default timebase
value:</p> </td>
<td width="35%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">settb=AVTB</p>

<p style="margin-left:11%; margin-top: 1em"><b>showcqt</b>
<br>
Convert input audio to a video output representing frequency
spectrum logarithmically using Brown-Puckette constant Q
transform algorithm with direct frequency domain coefficient
calculation (but the transform itself is not really constant
Q, instead the Q factor is actually variable/clamped), with
musical tone scale, from E0 to D#10.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
size, s</b></p>

<p style="margin-left:17%;">Specify the video size for the
output. It must be even. For the syntax of this option,
check the <b>&quot;Video size&quot; section in the
ffmpeg-utils manual</b>. Default value is
&quot;1920x1080&quot;.</p>

<p style="margin-left:11%;"><b>fps, rate, r</b></p>

<p style="margin-left:17%;">Set the output frame rate.
Default value is 25.</p>

<p style="margin-left:11%;"><b>bar_h</b></p>

<p style="margin-left:17%;">Set the bargraph height. It
must be even. Default value is &quot;-1&quot; which computes
the bargraph height automatically.</p>

<p style="margin-left:11%;"><b>axis_h</b></p>

<p style="margin-left:17%;">Set the axis height. It must be
even. Default value is &quot;-1&quot; which computes the
axis height automatically.</p>

<p style="margin-left:11%;"><b>sono_h</b></p>

<p style="margin-left:17%;">Set the sonogram height. It
must be even. Default value is &quot;-1&quot; which computes
the sonogram height automatically.</p>

<p style="margin-left:11%;"><b>fullhd</b></p>

<p style="margin-left:17%;">Set the fullhd resolution. This
option is deprecated, use <i>size</i>, <i>s</i> instead.
Default value is 1.</p>

<p style="margin-left:11%;"><b>sono_v, volume</b></p>

<p style="margin-left:17%;">Specify the sonogram volume
expression. It can contain variables: <b><br>
bar_v</b></p>

<p style="margin-left:23%;">the <i>bar_v</i> evaluated
expression</p>

<p style="margin-left:17%;"><b>frequency, freq, f</b></p>

<p style="margin-left:23%;">the frequency where it is
evaluated</p>

<p style="margin-left:17%;"><b>timeclamp, tc</b></p>

<p style="margin-left:23%;">the value of <i>timeclamp</i>
option</p>

<p style="margin-left:17%; margin-top: 1em">and functions:
<b><br>
a_weighting(f)</b></p>

<p style="margin-left:23%;">A-weighting of equal
loudness</p>

<p style="margin-left:17%;"><b>b_weighting(f)</b></p>

<p style="margin-left:23%;">B-weighting of equal
loudness</p>

<p style="margin-left:17%;"><b>c_weighting(f)</b></p>

<p style="margin-left:23%;">C-weighting of equal
loudness.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is 16.</p>

<p style="margin-left:11%;"><b>bar_v, volume2</b></p>

<p style="margin-left:17%;">Specify the bargraph volume
expression. It can contain variables: <b><br>
sono_v</b></p>

<p style="margin-left:23%;">the <i>sono_v</i> evaluated
expression</p>

<p style="margin-left:17%;"><b>frequency, freq, f</b></p>

<p style="margin-left:23%;">the frequency where it is
evaluated</p>

<p style="margin-left:17%;"><b>timeclamp, tc</b></p>

<p style="margin-left:23%;">the value of <i>timeclamp</i>
option</p>

<p style="margin-left:17%; margin-top: 1em">and functions:
<b><br>
a_weighting(f)</b></p>

<p style="margin-left:23%;">A-weighting of equal
loudness</p>

<p style="margin-left:17%;"><b>b_weighting(f)</b></p>

<p style="margin-left:23%;">B-weighting of equal
loudness</p>

<p style="margin-left:17%;"><b>c_weighting(f)</b></p>

<p style="margin-left:23%;">C-weighting of equal
loudness.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is &quot;sono_v&quot;.</p>

<p style="margin-left:11%;"><b>sono_g, gamma</b></p>

<p style="margin-left:17%;">Specify the sonogram gamma.
Lower gamma makes the spectrum more contrast, higher gamma
makes the spectrum having more range. Default value is 3.
Acceptable range is &quot;[1, 7]&quot;.</p>

<p style="margin-left:11%;"><b>bar_g, gamma2</b></p>

<p style="margin-left:17%;">Specify the bargraph gamma.
Default value is 1. Acceptable range is &quot;[1,
7]&quot;.</p>

<p style="margin-left:11%;"><b>bar_t</b></p>

<p style="margin-left:17%;">Specify the bargraph
transparency level. Lower value makes the bargraph sharper.
Default value is 1. Acceptable range is &quot;[0,
1]&quot;.</p>

<p style="margin-left:11%;"><b>timeclamp, tc</b></p>

<p style="margin-left:17%;">Specify the transform
timeclamp. At low frequency, there is trade-off between
accuracy in time domain and frequency domain. If timeclamp
is lower, event in time domain is represented more
accurately (such as fast bass drum), otherwise event in
frequency domain is represented more accurately (such as
bass guitar). Acceptable range is &quot;[0.002, 1]&quot;.
Default value is 0.17.</p>

<p style="margin-left:11%;"><b>attack</b></p>

<p style="margin-left:17%;">Set attack time in seconds. The
default is 0 (disabled). Otherwise, it limits future samples
by applying asymmetric windowing in time domain, useful when
low latency is required. Accepted range is &quot;[0,
1]&quot;.</p>

<p style="margin-left:11%;"><b>basefreq</b></p>

<p style="margin-left:17%;">Specify the transform base
frequency. Default value is 20.01523126408007475, which is
frequency 50 cents below E0. Acceptable range is &quot;[10,
100000]&quot;.</p>

<p style="margin-left:11%;"><b>endfreq</b></p>

<p style="margin-left:17%;">Specify the transform end
frequency. Default value is 20495.59681441799654, which is
frequency 50 cents above D#10. Acceptable range is
&quot;[10, 100000]&quot;.</p>

<p style="margin-left:11%;"><b>coeffclamp</b></p>

<p style="margin-left:17%;">This option is deprecated and
ignored.</p>

<p style="margin-left:11%;"><b>tlength</b></p>

<p style="margin-left:17%;">Specify the transform length in
time domain. Use this option to control accuracy trade-off
between time domain and frequency domain at every frequency
sample. It can contain variables: <b><br>
frequency, freq, f</b></p>

<p style="margin-left:23%;">the frequency where it is
evaluated</p>

<p style="margin-left:17%;"><b>timeclamp, tc</b></p>

<p style="margin-left:23%;">the value of <i>timeclamp</i>
option.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is &quot;384*tc/(384+tc*f)&quot;.</p>

<p style="margin-left:11%;"><b>count</b></p>

<p style="margin-left:17%;">Specify the transform count for
every video frame. Default value is 6. Acceptable range is
&quot;[1, 30]&quot;.</p>

<p style="margin-left:11%;"><b>fcount</b></p>

<p style="margin-left:17%;">Specify the transform count for
every single pixel. Default value is 0, which makes it
computed automatically. Acceptable range is &quot;[0,
10]&quot;.</p>

<p style="margin-left:11%;"><b>fontfile</b></p>

<p style="margin-left:17%;">Specify font file for use with
freetype to draw the axis. If not specified, use embedded
font. Note that drawing with font file or embedded font is
not implemented with custom <i>basefreq</i> and
<i>endfreq</i>, use <i>axisfile</i> option instead.</p>

<p style="margin-left:11%;"><b>font</b></p>

<p style="margin-left:17%;">Specify fontconfig pattern.
This has lower priority than <i>fontfile</i>. The : in the
pattern may be replaced by | to avoid unnecessary
escaping.</p>

<p style="margin-left:11%;"><b>fontcolor</b></p>

<p style="margin-left:17%;">Specify font color expression.
This is arithmetic expression that should return integer
value 0xRRGGBB. It can contain variables: <b><br>
frequency, freq, f</b></p>

<p style="margin-left:23%;">the frequency where it is
evaluated</p>

<p style="margin-left:17%;"><b>timeclamp, tc</b></p>

<p style="margin-left:23%;">the value of <i>timeclamp</i>
option</p>

<p style="margin-left:17%; margin-top: 1em">and functions:
<b><br>
midi(f)</b></p>

<p style="margin-left:23%;">midi number of frequency f,
some midi numbers: E0(16), C1(24), C2(36), A4(69)</p>

<p style="margin-left:17%;"><b>r(x), g(x), b(x)</b></p>

<p style="margin-left:23%;">red, green, and blue value of
intensity x.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is &quot;st(0, (midi(f)-59.5)/12); st(1,
if(between(ld(0),0,1), 0.5-0.5*cos(2*PI*ld(0)), 0));
r(1-ld(1)) + b(ld(1))&quot;.</p>

<p style="margin-left:11%;"><b>axisfile</b></p>

<p style="margin-left:17%;">Specify image file to draw the
axis. This option override <i>fontfile</i> and
<i>fontcolor</i> option.</p>

<p style="margin-left:11%;"><b>axis, text</b></p>

<p style="margin-left:17%;">Enable/disable drawing text to
the axis. If it is set to 0, drawing to the axis is
disabled, ignoring <i>fontfile</i> and <i>axisfile</i>
option. Default value is 1.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>csp</b></p></td>
<td width="2%"></td>
<td width="61%">


<p>Set colorspace. The accepted values are:</p></td>
<td width="22%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>unspecified</b></p>

<p style="margin-left:23%;">Unspecified (default)</p>

<p style="margin-left:17%;"><b>bt709</b></p>

<p style="margin-left:23%;"><small>BT.709</small></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>fcc</b></p></td>
<td width="1%"></td>
<td width="5%">


<p><small>FCC</small></p></td>
<td width="72%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>bt470bg</b></p>

<p style="margin-left:23%;"><small>BT.470BG</small> or
<small>BT.601-6 625</small></p>

<p style="margin-left:17%;"><b>smpte170m</b></p>

<p style="margin-left:23%;"><small>SMPTE-170M</small> or
<small>BT.601-6 525</small></p>

<p style="margin-left:17%;"><b>smpte240m</b></p>

<p style="margin-left:23%;"><small>SMPTE-240M</small></p>

<p style="margin-left:17%;"><b>bt2020ncl</b></p>

<p style="margin-left:23%;"><small>BT.2020</small> with
non-constant luminance</p>

<p style="margin-left:11%;"><b>cscheme</b></p>

<p style="margin-left:17%;">Set spectrogram color scheme.
This is list of floating point values with format
&quot;left_r|left_g|left_b|right_r|right_g|right_b&quot;.
The default is &quot;1|0.5|0|0|0.5|1&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="63%">


<p>Playing audio while showing the spectrum:</p></td>
<td width="20%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffplay -f lavfi
'amovie=a.mp3, asplit [a][out1]; [a] showcqt [out0]'</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="65%">


<p style="margin-top: 1em">Same as above, but with frame
rate 30 fps:</p></td>
<td width="18%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffplay -f lavfi
'amovie=a.mp3, asplit [a][out1]; [a] showcqt=fps=30:count=5
[out0]'</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="31%">


<p style="margin-top: 1em">Playing at 1280x720:</p></td>
<td width="52%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffplay -f lavfi
'amovie=a.mp3, asplit [a][out1]; [a]
showcqt=s=1280x720:count=4 [out0]'</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="38%">


<p style="margin-top: 1em">Disable sonogram display:</p></td>
<td width="45%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">sono_h=0</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="66%">


<p style="margin-top: 1em">A1 and its harmonics: A1, A2,
(near)E3, A3:</p></td>
<td width="17%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffplay -f lavfi
'aevalsrc=0.1*sin(2*PI*55*t)+0.1*sin(4*PI*55*t)+0.1*sin(6*PI*55*t)+0.1*sin(8*PI*55*t),
<br>
asplit[a][out1]; [a] showcqt [out0]'</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Same as above, but with more
accuracy in frequency domain:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffplay -f lavfi
'aevalsrc=0.1*sin(2*PI*55*t)+0.1*sin(4*PI*55*t)+0.1*sin(6*PI*55*t)+0.1*sin(8*PI*55*t),
<br>
asplit[a][out1]; [a] showcqt=timeclamp=0.5 [out0]'</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="21%">


<p style="margin-top: 1em">Custom volume:</p></td>
<td width="62%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">bar_v=10:sono_v=bar_v*a_weighting(f)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Custom gamma, now spectrum is
linear to the amplitude.</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">bar_g=2:sono_g=2</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="37%">


<p style="margin-top: 1em">Custom tlength equation:</p></td>
<td width="46%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">tc=0.33:tlength='st(0,0.17);
384*tc / (384 / ld(0) + tc*f /(1-ld(0))) + 384*tc / (tc*f /
ld(0) + 384 /(1-ld(0)))'</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Custom fontcolor and fontfile,
C-note is colored green, others are colored blue:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">fontcolor='if(mod(floor(midi(f)+0.5),12),
0x0000FF, g(1))':fontfile=myfont.ttf</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="45%">


<p style="margin-top: 1em">Custom font using
fontconfig:</p> </td>
<td width="38%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">font='Courier
New,Monospace,mono|bold'</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Custom frequency range with
custom axis using image file:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">axisfile=myaxis.png:basefreq=40:endfreq=10000</p>


<p style="margin-left:11%; margin-top: 1em"><b>showfreqs</b>
<br>
Convert input audio to video output representing the audio
power spectrum. Audio amplitude is on Y-axis while frequency
is on X-axis.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
size, s</b></p>

<p style="margin-left:17%;">Specify size of video. For the
syntax of this option, check the <b>&quot;Video size&quot;
section in the ffmpeg-utils manual</b>. Default is
&quot;1024x512&quot;.</p>

<p style="margin-left:11%;"><b>mode</b></p>

<p style="margin-left:17%;">Set display mode. This set how
each frequency bin will be represented.</p>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values: <b><br>
line</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>bar</b></p></td>
<td width="78%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>dot</b></p></td>
<td width="78%">
</td></tr>
</table>

<p style="margin-left:17%;">Default is &quot;bar&quot;.</p>

<p style="margin-left:11%;"><b>ascale</b></p>

<p style="margin-left:17%;">Set amplitude scale.</p>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>lin</b></p></td>
<td width="1%"></td>
<td width="20%">


<p>Linear scale.</p></td>
<td width="57%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>sqrt</b></p>

<p style="margin-left:23%;">Square root scale.</p>

<p style="margin-left:17%;"><b>cbrt</b></p>

<p style="margin-left:23%;">Cubic root scale.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>log</b></p></td>
<td width="1%"></td>
<td width="28%">


<p>Logarithmic scale.</p></td>
<td width="49%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Default is
&quot;log&quot;.</p>

<p style="margin-left:11%;"><b>fscale</b></p>

<p style="margin-left:17%;">Set frequency scale.</p>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>lin</b></p></td>
<td width="1%"></td>
<td width="28%">


<p>Linear scale.</p></td>
<td width="49%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>log</b></p></td>
<td width="1%"></td>
<td width="28%">


<p>Logarithmic scale.</p></td>
<td width="49%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>rlog</b></p>

<p style="margin-left:23%;">Reverse logarithmic scale.</p>

<p style="margin-left:17%; margin-top: 1em">Default is
&quot;lin&quot;.</p>

<p style="margin-left:11%;"><b>win_size</b></p>

<p style="margin-left:17%;">Set window size. Allowed range
is from 16 to 65536.</p>

<p style="margin-left:17%; margin-top: 1em">Default is
2048</p>

<p style="margin-left:11%;"><b>win_func</b></p>

<p style="margin-left:17%;">Set windowing function.</p>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values: <b><br>
rect <br>
bartlett <br>
hanning <br>
hamming <br>
blackman <br>
welch <br>
flattop <br>
bharris <br>
bnuttall <br>
bhann <br>
sine <br>
nuttall <br>
lanczos <br>
gauss <br>
tukey <br>
dolph <br>
cauchy <br>
parzen <br>
poisson <br>
bohman</b></p>

<p style="margin-left:17%; margin-top: 1em">Default is
&quot;hanning&quot;.</p>

<p style="margin-left:11%;"><b>overlap</b></p>

<p style="margin-left:17%;">Set window overlap. In range
&quot;[0, 1]&quot;. Default is 1, which means optimal
overlap for selected window function will be picked.</p>

<p style="margin-left:11%;"><b>averaging</b></p>

<p style="margin-left:17%;">Set time averaging. Setting
this to 0 will display current maximal peaks. Default is 1,
which means time averaging is disabled.</p>

<p style="margin-left:11%;"><b>colors</b></p>

<p style="margin-left:17%;">Specify list of colors
separated by space or by &rsquo;|&rsquo; which will be used
to draw channel frequencies. Unrecognized or missing colors
will be replaced by white color.</p>

<p style="margin-left:11%;"><b>cmode</b></p>

<p style="margin-left:17%;">Set channel display mode.</p>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values: <b><br>
combined <br>
separate</b></p>

<p style="margin-left:17%; margin-top: 1em">Default is
&quot;combined&quot;.</p>

<p style="margin-left:11%;"><b>minamp</b></p>

<p style="margin-left:17%;">Set minimum amplitude used in
&quot;log&quot; amplitude scaler.</p>


<p style="margin-left:11%; margin-top: 1em"><b>showspatial</b>
<br>
Convert stereo input audio to a video output, representing
the spatial relationship between two channels.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
size, s</b></p>

<p style="margin-left:17%;">Specify the video size for the
output. For the syntax of this option, check the
<b>&quot;Video size&quot; section in the ffmpeg-utils
manual</b>. Default value is &quot;512x512&quot;.</p>

<p style="margin-left:11%;"><b>win_size</b></p>

<p style="margin-left:17%;">Set window size. Allowed range
is from <i>1024</i> to <i>65536</i>. Default size is
<i>4096</i>.</p>

<p style="margin-left:11%;"><b>win_func</b></p>

<p style="margin-left:17%;">Set window function.</p>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values: <b><br>
rect <br>
bartlett <br>
hann <br>
hanning <br>
hamming <br>
blackman <br>
welch <br>
flattop <br>
bharris <br>
bnuttall <br>
bhann <br>
sine <br>
nuttall <br>
lanczos <br>
gauss <br>
tukey <br>
dolph <br>
cauchy <br>
parzen <br>
poisson <br>
bohman</b></p>

<p style="margin-left:17%; margin-top: 1em">Default value
is &quot;hann&quot;.</p>

<p style="margin-left:11%;"><b>overlap</b></p>

<p style="margin-left:17%;">Set ratio of overlap window.
Default value is 0.5. When value is 1 overlap is set to
recommended size for specific window function currently
used.</p>


<p style="margin-left:11%; margin-top: 1em"><b>showspectrum</b>
<br>
Convert input audio to a video output, representing the
audio frequency spectrum.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
size, s</b></p>

<p style="margin-left:17%;">Specify the video size for the
output. For the syntax of this option, check the
<b>&quot;Video size&quot; section in the ffmpeg-utils
manual</b>. Default value is &quot;640x512&quot;.</p>

<p style="margin-left:11%;"><b>slide</b></p>

<p style="margin-left:17%;">Specify how the spectrum should
slide along the window.</p>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values: <b><br>
replace</b></p>

<p style="margin-left:23%;">the samples start again on the
left when they reach the right</p>

<p style="margin-left:17%;"><b>scroll</b></p>

<p style="margin-left:23%;">the samples scroll from right
to left</p>

<p style="margin-left:17%;"><b>fullframe</b></p>

<p style="margin-left:23%;">frames are only produced when
the samples reach the right</p>

<p style="margin-left:17%;"><b>rscroll</b></p>

<p style="margin-left:23%;">the samples scroll from left to
right</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is &quot;replace&quot;.</p>

<p style="margin-left:11%;"><b>mode</b></p>

<p style="margin-left:17%;">Specify display mode.</p>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values: <b><br>
combined</b></p>

<p style="margin-left:23%;">all channels are displayed in
the same row</p>

<p style="margin-left:17%;"><b>separate</b></p>

<p style="margin-left:23%;">all channels are displayed in
separate rows</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is <b>combined</b>.</p>

<p style="margin-left:11%;"><b>color</b></p>

<p style="margin-left:17%;">Specify display color mode.</p>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values: <b><br>
channel</b></p>

<p style="margin-left:23%;">each channel is displayed in a
separate color</p>

<p style="margin-left:17%;"><b>intensity</b></p>

<p style="margin-left:23%;">each channel is displayed using
the same color scheme</p>

<p style="margin-left:17%;"><b>rainbow</b></p>

<p style="margin-left:23%;">each channel is displayed using
the rainbow color scheme</p>

<p style="margin-left:17%;"><b>moreland</b></p>

<p style="margin-left:23%;">each channel is displayed using
the moreland color scheme</p>

<p style="margin-left:17%;"><b>nebulae</b></p>

<p style="margin-left:23%;">each channel is displayed using
the nebulae color scheme</p>

<p style="margin-left:17%;"><b>fire</b></p>

<p style="margin-left:23%;">each channel is displayed using
the fire color scheme</p>

<p style="margin-left:17%;"><b>fiery</b></p>

<p style="margin-left:23%;">each channel is displayed using
the fiery color scheme</p>

<p style="margin-left:17%;"><b>fruit</b></p>

<p style="margin-left:23%;">each channel is displayed using
the fruit color scheme</p>

<p style="margin-left:17%;"><b>cool</b></p>

<p style="margin-left:23%;">each channel is displayed using
the cool color scheme</p>

<p style="margin-left:17%;"><b>magma</b></p>

<p style="margin-left:23%;">each channel is displayed using
the magma color scheme</p>

<p style="margin-left:17%;"><b>green</b></p>

<p style="margin-left:23%;">each channel is displayed using
the green color scheme</p>

<p style="margin-left:17%;"><b>viridis</b></p>

<p style="margin-left:23%;">each channel is displayed using
the viridis color scheme</p>

<p style="margin-left:17%;"><b>plasma</b></p>

<p style="margin-left:23%;">each channel is displayed using
the plasma color scheme</p>

<p style="margin-left:17%;"><b>cividis</b></p>

<p style="margin-left:23%;">each channel is displayed using
the cividis color scheme</p>

<p style="margin-left:17%;"><b>terrain</b></p>

<p style="margin-left:23%;">each channel is displayed using
the terrain color scheme</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is <b>channel</b>.</p>

<p style="margin-left:11%;"><b>scale</b></p>

<p style="margin-left:17%;">Specify scale used for
calculating intensity color values.</p>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>lin</b></p></td>
<td width="1%"></td>
<td width="9%">


<p>linear</p></td>
<td width="68%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>sqrt</b></p>

<p style="margin-left:23%;">square root, default</p>

<p style="margin-left:17%;"><b>cbrt</b></p>

<p style="margin-left:23%;">cubic root</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>log</b></p></td>
<td width="1%"></td>
<td width="17%">


<p>logarithmic</p></td>
<td width="60%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>4thrt</b></p>

<p style="margin-left:23%;">4th root</p>

<p style="margin-left:17%;"><b>5thrt</b></p>

<p style="margin-left:23%;">5th root</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is <b>sqrt</b>.</p>

<p style="margin-left:11%;"><b>fscale</b></p>

<p style="margin-left:17%;">Specify frequency scale.</p>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>lin</b></p></td>
<td width="1%"></td>
<td width="17%">


<p>linear</p></td>
<td width="60%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>log</b></p></td>
<td width="1%"></td>
<td width="17%">


<p>logarithmic</p></td>
<td width="60%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Default value
is <b>lin</b>.</p>

<p style="margin-left:11%;"><b>saturation</b></p>

<p style="margin-left:17%;">Set saturation modifier for
displayed colors. Negative values provide alternative color
scheme. 0 is no saturation at all. Saturation must be in
[-10.0, 10.0] range. Default value is 1.</p>

<p style="margin-left:11%;"><b>win_func</b></p>

<p style="margin-left:17%;">Set window function.</p>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values: <b><br>
rect <br>
bartlett <br>
hann <br>
hanning <br>
hamming <br>
blackman <br>
welch <br>
flattop <br>
bharris <br>
bnuttall <br>
bhann <br>
sine <br>
nuttall <br>
lanczos <br>
gauss <br>
tukey <br>
dolph <br>
cauchy <br>
parzen <br>
poisson <br>
bohman</b></p>

<p style="margin-left:17%; margin-top: 1em">Default value
is &quot;hann&quot;.</p>

<p style="margin-left:11%;"><b>orientation</b></p>

<p style="margin-left:17%;">Set orientation of time vs
frequency axis. Can be &quot;vertical&quot; or
&quot;horizontal&quot;. Default is &quot;vertical&quot;.</p>

<p style="margin-left:11%;"><b>overlap</b></p>

<p style="margin-left:17%;">Set ratio of overlap window.
Default value is 0. When value is 1 overlap is set to
recommended size for specific window function currently
used.</p>

<p style="margin-left:11%;"><b>gain</b></p>

<p style="margin-left:17%;">Set scale gain for calculating
intensity color values. Default value is 1.</p>

<p style="margin-left:11%;"><b>data</b></p>

<p style="margin-left:17%;">Set which data to display. Can
be &quot;magnitude&quot;, default or &quot;phase&quot;.</p>

<p style="margin-left:11%;"><b>rotation</b></p>

<p style="margin-left:17%;">Set color rotation, must be in
[-1.0, 1.0] range. Default value is 0.</p>

<p style="margin-left:11%;"><b>start</b></p>

<p style="margin-left:17%;">Set start frequency from which
to display spectrogram. Default is 0.</p>

<p style="margin-left:11%;"><b>stop</b></p>

<p style="margin-left:17%;">Set stop frequency to which to
display spectrogram. Default is 0.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>fps</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set upper frame rate limit. Default is &quot;auto&quot;,
unlimited.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>legend</b></p>

<p style="margin-left:17%;">Draw time and frequency axes
and legends. Default is disabled.</p>

<p style="margin-left:11%; margin-top: 1em">The usage is
very similar to the showwaves filter; see the examples in
that section.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="68%">


<p>Large window with logarithmic color scaling:</p></td>
<td width="15%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">showspectrum=s=1280x480:scale=log</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Complete example for a colored
and sliding spectrum per channel using <b>ffplay</b>:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffplay -f lavfi
'amovie=input.mp3, asplit [a][out1]; <br>
[a]
showspectrum=mode=separate:color=intensity:slide=1:scale=cbrt
[out0]'</p>


<p style="margin-left:11%; margin-top: 1em"><b>showspectrumpic</b>
<br>
Convert input audio to a single video frame, representing
the audio frequency spectrum.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
size, s</b></p>

<p style="margin-left:17%;">Specify the video size for the
output. For the syntax of this option, check the
<b>&quot;Video size&quot; section in the ffmpeg-utils
manual</b>. Default value is &quot;4096x2048&quot;.</p>

<p style="margin-left:11%;"><b>mode</b></p>

<p style="margin-left:17%;">Specify display mode.</p>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values: <b><br>
combined</b></p>

<p style="margin-left:23%;">all channels are displayed in
the same row</p>

<p style="margin-left:17%;"><b>separate</b></p>

<p style="margin-left:23%;">all channels are displayed in
separate rows</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is <b>combined</b>.</p>

<p style="margin-left:11%;"><b>color</b></p>

<p style="margin-left:17%;">Specify display color mode.</p>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values: <b><br>
channel</b></p>

<p style="margin-left:23%;">each channel is displayed in a
separate color</p>

<p style="margin-left:17%;"><b>intensity</b></p>

<p style="margin-left:23%;">each channel is displayed using
the same color scheme</p>

<p style="margin-left:17%;"><b>rainbow</b></p>

<p style="margin-left:23%;">each channel is displayed using
the rainbow color scheme</p>

<p style="margin-left:17%;"><b>moreland</b></p>

<p style="margin-left:23%;">each channel is displayed using
the moreland color scheme</p>

<p style="margin-left:17%;"><b>nebulae</b></p>

<p style="margin-left:23%;">each channel is displayed using
the nebulae color scheme</p>

<p style="margin-left:17%;"><b>fire</b></p>

<p style="margin-left:23%;">each channel is displayed using
the fire color scheme</p>

<p style="margin-left:17%;"><b>fiery</b></p>

<p style="margin-left:23%;">each channel is displayed using
the fiery color scheme</p>

<p style="margin-left:17%;"><b>fruit</b></p>

<p style="margin-left:23%;">each channel is displayed using
the fruit color scheme</p>

<p style="margin-left:17%;"><b>cool</b></p>

<p style="margin-left:23%;">each channel is displayed using
the cool color scheme</p>

<p style="margin-left:17%;"><b>magma</b></p>

<p style="margin-left:23%;">each channel is displayed using
the magma color scheme</p>

<p style="margin-left:17%;"><b>green</b></p>

<p style="margin-left:23%;">each channel is displayed using
the green color scheme</p>

<p style="margin-left:17%;"><b>viridis</b></p>

<p style="margin-left:23%;">each channel is displayed using
the viridis color scheme</p>

<p style="margin-left:17%;"><b>plasma</b></p>

<p style="margin-left:23%;">each channel is displayed using
the plasma color scheme</p>

<p style="margin-left:17%;"><b>cividis</b></p>

<p style="margin-left:23%;">each channel is displayed using
the cividis color scheme</p>

<p style="margin-left:17%;"><b>terrain</b></p>

<p style="margin-left:23%;">each channel is displayed using
the terrain color scheme</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is <b>intensity</b>.</p>

<p style="margin-left:11%;"><b>scale</b></p>

<p style="margin-left:17%;">Specify scale used for
calculating intensity color values.</p>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>lin</b></p></td>
<td width="1%"></td>
<td width="9%">


<p>linear</p></td>
<td width="68%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>sqrt</b></p>

<p style="margin-left:23%;">square root, default</p>

<p style="margin-left:17%;"><b>cbrt</b></p>

<p style="margin-left:23%;">cubic root</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>log</b></p></td>
<td width="1%"></td>
<td width="17%">


<p>logarithmic</p></td>
<td width="60%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>4thrt</b></p>

<p style="margin-left:23%;">4th root</p>

<p style="margin-left:17%;"><b>5thrt</b></p>

<p style="margin-left:23%;">5th root</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is <b>log</b>.</p>

<p style="margin-left:11%;"><b>fscale</b></p>

<p style="margin-left:17%;">Specify frequency scale.</p>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>lin</b></p></td>
<td width="1%"></td>
<td width="17%">


<p>linear</p></td>
<td width="60%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>log</b></p></td>
<td width="1%"></td>
<td width="17%">


<p>logarithmic</p></td>
<td width="60%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Default value
is <b>lin</b>.</p>

<p style="margin-left:11%;"><b>saturation</b></p>

<p style="margin-left:17%;">Set saturation modifier for
displayed colors. Negative values provide alternative color
scheme. 0 is no saturation at all. Saturation must be in
[-10.0, 10.0] range. Default value is 1.</p>

<p style="margin-left:11%;"><b>win_func</b></p>

<p style="margin-left:17%;">Set window function.</p>

<p style="margin-left:17%; margin-top: 1em">It accepts the
following values: <b><br>
rect <br>
bartlett <br>
hann <br>
hanning <br>
hamming <br>
blackman <br>
welch <br>
flattop <br>
bharris <br>
bnuttall <br>
bhann <br>
sine <br>
nuttall <br>
lanczos <br>
gauss <br>
tukey <br>
dolph <br>
cauchy <br>
parzen <br>
poisson <br>
bohman</b></p>

<p style="margin-left:17%; margin-top: 1em">Default value
is &quot;hann&quot;.</p>

<p style="margin-left:11%;"><b>orientation</b></p>

<p style="margin-left:17%;">Set orientation of time vs
frequency axis. Can be &quot;vertical&quot; or
&quot;horizontal&quot;. Default is &quot;vertical&quot;.</p>

<p style="margin-left:11%;"><b>gain</b></p>

<p style="margin-left:17%;">Set scale gain for calculating
intensity color values. Default value is 1.</p>

<p style="margin-left:11%;"><b>legend</b></p>

<p style="margin-left:17%;">Draw time and frequency axes
and legends. Default is enabled.</p>

<p style="margin-left:11%;"><b>rotation</b></p>

<p style="margin-left:17%;">Set color rotation, must be in
[-1.0, 1.0] range. Default value is 0.</p>

<p style="margin-left:11%;"><b>start</b></p>

<p style="margin-left:17%;">Set start frequency from which
to display spectrogram. Default is 0.</p>

<p style="margin-left:11%;"><b>stop</b></p>

<p style="margin-left:17%;">Set stop frequency to which to
display spectrogram. Default is 0.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Extract an audio spectrogram of a whole audio track in a
1024x1024 picture using <b>ffmpeg</b>:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
audio.flac -lavfi showspectrumpic=s=1024x1024
spectrogram.png</p>


<p style="margin-left:11%; margin-top: 1em"><b>showvolume</b>
<br>
Convert input audio volume to a video output.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
rate, r</b></p>

<p style="margin-left:17%;">Set video rate.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>b</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set border width, allowed range is [0, 5]. Default is
1.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>w</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set channel width, allowed range is [80, 8192]. Default
is 400.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>h</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set channel height, allowed range is [1, 900]. Default
is 20.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>f</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set fade, allowed range is [0, 1]. Default is 0.95.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>c</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set volume color expression.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The expression
can use the following variables: <b><small><br>
VOLUME</small></b></p>

<p style="margin-left:23%;">Current max volume of channel
in dB.</p>

<p style="margin-left:17%;"><b><small>PEAK</small></b></p>

<p style="margin-left:23%;">Current peak.</p>


<p style="margin-left:17%;"><b><small>CHANNEL</small></b></p>

<p style="margin-left:23%;">Current channel number,
starting from 0.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>t</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>If set, displays channel names. Default is enabled.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>v</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>If set, displays volume values. Default is enabled.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>o</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set orientation, can be horizontal: &quot;h&quot; or
vertical: &quot;v&quot;, default is &quot;h&quot;.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>s</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set step size, allowed range is [0, 5]. Default is 0,
which means step is disabled.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>p</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set background opacity, allowed range is [0, 1]. Default
is 0.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>m</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set metering mode, can be peak: &quot;p&quot; or rms:
&quot;r&quot;, default is &quot;p&quot;.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>ds</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>Set display scale, can be linear: &quot;lin&quot; or
log: &quot;log&quot;, default is &quot;lin&quot;.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>dm</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>In second. If set to &gt; 0., display a line for the max
level in the previous seconds. default is disabled: 0.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>dmc</b></p></td>
<td width="2%"></td>
<td width="83%">


<p>The color of the max line. Use when &quot;dm&quot;
option is set to &gt; 0. default is: &quot;orange&quot;</p></td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><b>showwaves</b>
<br>
Convert input audio to a video output, representing the
samples waves.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
size, s</b></p>

<p style="margin-left:17%;">Specify the video size for the
output. For the syntax of this option, check the
<b>&quot;Video size&quot; section in the ffmpeg-utils
manual</b>. Default value is &quot;600x240&quot;.</p>

<p style="margin-left:11%;"><b>mode</b></p>

<p style="margin-left:17%;">Set display mode.</p>

<p style="margin-left:17%; margin-top: 1em">Available
values are: <b><br>
point</b></p>

<p style="margin-left:23%;">Draw a point for each
sample.</p>

<p style="margin-left:17%;"><b>line</b></p>

<p style="margin-left:23%;">Draw a vertical line for each
sample.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>p2p</b></p></td>
<td width="1%"></td>
<td width="77%">


<p>Draw a point for each sample and a line between
them.</p> </td></tr>
</table>

<p style="margin-left:17%;"><b>cline</b></p>

<p style="margin-left:23%;">Draw a centered vertical line
for each sample.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is &quot;point&quot;.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>n</b></p></td>
<td width="5%"></td>
<td width="83%">


<p>Set the number of samples which are printed on the same
column. A larger value will decrease the frame rate. Must be
a positive integer. This option can be set only if the value
for <i>rate</i> is not explicitly specified.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>rate, r</b></p>

<p style="margin-left:17%;">Set the (approximate) output
frame rate. This is done by setting the option <i>n</i>.
Default value is &quot;25&quot;.</p>

<p style="margin-left:11%;"><b>split_channels</b></p>

<p style="margin-left:17%;">Set if channels should be drawn
separately or overlap. Default value is 0.</p>

<p style="margin-left:11%;"><b>colors</b></p>

<p style="margin-left:17%;">Set colors separated by
&rsquo;|&rsquo; which are going to be used for drawing of
each channel.</p>

<p style="margin-left:11%;"><b>scale</b></p>

<p style="margin-left:17%;">Set amplitude scale.</p>

<p style="margin-left:17%; margin-top: 1em">Available
values are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>lin</b></p></td>
<td width="1%"></td>
<td width="19%">


<p>Linear.</p></td>
<td width="58%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>log</b></p></td>
<td width="1%"></td>
<td width="19%">


<p>Logarithmic.</p></td>
<td width="58%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>sqrt</b></p>

<p style="margin-left:23%;">Square root.</p>

<p style="margin-left:17%;"><b>cbrt</b></p>

<p style="margin-left:23%;">Cubic root.</p>

<p style="margin-left:17%; margin-top: 1em">Default is
linear.</p>

<p style="margin-left:11%;"><b>draw</b></p>

<p style="margin-left:17%;">Set the draw mode. This is
mostly useful to set for high <i>n</i>.</p>

<p style="margin-left:17%; margin-top: 1em">Available
values are: <b><br>
scale</b></p>

<p style="margin-left:23%;">Scale pixel values for each
drawn sample.</p>

<p style="margin-left:17%;"><b>full</b></p>

<p style="margin-left:23%;">Draw every sample directly.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is &quot;scale&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Output the input file audio and the corresponding video
representation at the same time:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">amovie=a.mp3,asplit[out0],showwaves[out1]</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Create a synthetic signal and
show it with showwaves, forcing a frame rate of 30 frames
per second:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">aevalsrc=sin(1*2*PI*t)*sin(880*2*PI*t):cos(2*PI*200*t),asplit[out0],showwaves=r=30[out1]</p>


<p style="margin-left:11%; margin-top: 1em"><b>showwavespic</b>
<br>
Convert input audio to a single video frame, representing
the samples waves.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
size, s</b></p>

<p style="margin-left:17%;">Specify the video size for the
output. For the syntax of this option, check the
<b>&quot;Video size&quot; section in the ffmpeg-utils
manual</b>. Default value is &quot;600x240&quot;.</p>

<p style="margin-left:11%;"><b>split_channels</b></p>

<p style="margin-left:17%;">Set if channels should be drawn
separately or overlap. Default value is 0.</p>

<p style="margin-left:11%;"><b>colors</b></p>

<p style="margin-left:17%;">Set colors separated by
&rsquo;|&rsquo; which are going to be used for drawing of
each channel.</p>

<p style="margin-left:11%;"><b>scale</b></p>

<p style="margin-left:17%;">Set amplitude scale.</p>

<p style="margin-left:17%; margin-top: 1em">Available
values are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>lin</b></p></td>
<td width="1%"></td>
<td width="19%">


<p>Linear.</p></td>
<td width="58%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>log</b></p></td>
<td width="1%"></td>
<td width="19%">


<p>Logarithmic.</p></td>
<td width="58%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>sqrt</b></p>

<p style="margin-left:23%;">Square root.</p>

<p style="margin-left:17%;"><b>cbrt</b></p>

<p style="margin-left:23%;">Cubic root.</p>

<p style="margin-left:17%; margin-top: 1em">Default is
linear.</p>

<p style="margin-left:11%;"><b>draw</b></p>

<p style="margin-left:17%;">Set the draw mode.</p>

<p style="margin-left:17%; margin-top: 1em">Available
values are: <b><br>
scale</b></p>

<p style="margin-left:23%;">Scale pixel values for each
drawn sample.</p>

<p style="margin-left:17%;"><b>full</b></p>

<p style="margin-left:23%;">Draw every sample directly.</p>

<p style="margin-left:17%; margin-top: 1em">Default value
is &quot;scale&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Extract a channel split representation of the wave form
of a whole audio track in a 1024x800 picture using
<b>ffmpeg</b>:</p> </td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
audio.flac -lavfi showwavespic=split_channels=1:s=1024x800
waveform.png</p>

<p style="margin-left:11%; margin-top: 1em"><b>sidedata,
asidedata</b> <br>
Delete frame side data, or select frames based on it.</p>

<p style="margin-left:11%; margin-top: 1em">This filter
accepts the following options: <b><br>
mode</b></p>

<p style="margin-left:17%;">Set mode of operation of the
filter.</p>

<p style="margin-left:17%; margin-top: 1em">Can be one of
the following: <b><br>
select</b></p>

<p style="margin-left:23%;">Select every frame with side
data of &quot;type&quot;.</p>

<p style="margin-left:17%;"><b>delete</b></p>

<p style="margin-left:23%;">Delete side data of
&quot;type&quot;. If &quot;type&quot; is not set, delete all
side data in the frame.</p>

<p style="margin-left:11%;"><b>type</b></p>

<p style="margin-left:17%;">Set side data type used with
all modes. Must be set for &quot;select&quot; mode. For the
list of frame side data types, refer to the
&quot;AVFrameSideDataType&quot; enum in
<i>libavutil/frame.h</i>. For example, to choose
&quot;AV_FRAME_DATA_PANSCAN&quot; side data, you must
specify &quot;PANSCAN&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><b>spectrumsynth</b>
<br>
Sythesize audio from 2 input video spectrums, first input
stream represents magnitude across time and second
represents phase across time. The filter will transform from
frequency domain as displayed in videos back to time domain
as presented in audio output.</p>

<p style="margin-left:11%; margin-top: 1em">This filter is
primarily created for reversing processed
<b>showspectrum</b> filter outputs, but can synthesize sound
from other spectrograms too. But in such case results are
going to be poor if the phase data is not available, because
in such cases phase data need to be recreated, usually
it&rsquo;s just recreated from random noise. For best
results use gray only output (&quot;channel&quot; color mode
in <b>showspectrum</b> filter) and &quot;log&quot; scale for
magnitude video and &quot;lin&quot; scale for phase video.
To produce phase, for 2nd video, use &quot;data&quot;
option. Inputs videos should generally use
&quot;fullframe&quot; slide mode as that saves resources
needed for decoding video.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts the following options: <b><br>
sample_rate</b></p>

<p style="margin-left:17%;">Specify sample rate of output
audio, the sample rate of audio from which spectrum was
generated may differ.</p>

<p style="margin-left:11%;"><b>channels</b></p>

<p style="margin-left:17%;">Set number of channels
represented in input video spectrums.</p>

<p style="margin-left:11%;"><b>scale</b></p>

<p style="margin-left:17%;">Set scale which was used when
generating magnitude input spectrum. Can be &quot;lin&quot;
or &quot;log&quot;. Default is &quot;log&quot;.</p>

<p style="margin-left:11%;"><b>slide</b></p>

<p style="margin-left:17%;">Set slide which was used when
generating inputs spectrums. Can be &quot;replace&quot;,
&quot;scroll&quot;, &quot;fullframe&quot; or
&quot;rscroll&quot;. Default is &quot;fullframe&quot;.</p>

<p style="margin-left:11%;"><b>win_func</b></p>

<p style="margin-left:17%;">Set window function used for
resynthesis.</p>

<p style="margin-left:11%;"><b>overlap</b></p>

<p style="margin-left:17%;">Set window overlap. In range
&quot;[0, 1]&quot;. Default is 1, which means optimal
overlap for selected window function will be picked.</p>

<p style="margin-left:11%;"><b>orientation</b></p>

<p style="margin-left:17%;">Set orientation of input
videos. Can be &quot;vertical&quot; or
&quot;horizontal&quot;. Default is &quot;vertical&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>First create magnitude and phase videos from audio,
assuming audio is stereo with 44100 sample rate, then
resynthesize videos back to audio with spectrumsynth:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i
input.flac -lavfi
showspectrum=mode=separate:scale=log:overlap=0.875:color=channel:slide=fullframe:data=magnitude
-an -c:v rawvideo magnitude.nut <br>
ffmpeg -i input.flac -lavfi
showspectrum=mode=separate:scale=lin:overlap=0.875:color=channel:slide=fullframe:data=phase
-an -c:v rawvideo phase.nut <br>
ffmpeg -i magnitude.nut -i phase.nut -lavfi
spectrumsynth=channels=2:sample_rate=44100:win_func=hann:overlap=0.875:slide=fullframe
output.flac</p>

<p style="margin-left:11%; margin-top: 1em"><b>split,
asplit</b> <br>
Split input into several identical outputs.</p>


<p style="margin-left:11%; margin-top: 1em">&quot;asplit&quot;
works with audio input, &quot;split&quot; with video.</p>

<p style="margin-left:11%; margin-top: 1em">The filter
accepts a single parameter which specifies the number of
outputs. If unspecified, it defaults to 2.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="74%">


<p style="margin-top: 1em">Create two separate outputs from
the same input:</p></td>
<td width="9%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">[in] split
[out0][out1]</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">To create 3 or more outputs, you
need to specify the number of outputs, like in:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">[in] asplit=3
[out0][out1][out2]</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Create two separate outputs from
the same input, one cropped and one padded:</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">[in] split
[splitout1][splitout2]; <br>
[splitout1] crop=100:100:0:0 [cropout]; <br>
[splitout2] pad=200:200:100:100 [padout];</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="72%">


<p style="margin-top: 1em">Create 5 copies of the input
audio with <b>ffmpeg</b>:</p></td>
<td width="11%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ffmpeg -i INPUT
-filter_complex asplit=5 OUTPUT</p>

<p style="margin-left:11%; margin-top: 1em"><b>zmq,
azmq</b> <br>
Receive commands sent through a libzmq client, and forward
them to filters in the filtergraph.</p>


<p style="margin-left:11%; margin-top: 1em">&quot;zmq&quot;
and &quot;azmq&quot; work as a pass-through filters.
&quot;zmq&quot; must be inserted between two video filters,
&quot;azmq&quot; between two audio filters. Both are capable
to send messages to any filter type.</p>

<p style="margin-left:11%; margin-top: 1em">To enable these
filters you need to install the libzmq library and headers
and configure FFmpeg with &quot;--enable-libzmq&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">For more
information about libzmq see:
&lt;<b>http://www.zeromq.org/</b>&gt;</p>

<p style="margin-left:11%; margin-top: 1em">The
&quot;zmq&quot; and &quot;azmq&quot; filters work as a
libzmq server, which receives messages sent through a
network interface defined by the <b>bind_address</b> (or the
abbreviation &quot;<b>b</b>&quot;) option. Default value of
this option is <i>tcp://localhost:5555</i>. You may want to
alter this value to your needs, but do not forget to escape
any &rsquo;:&rsquo; signs (see <b>filtergraph
escaping</b>).</p>

<p style="margin-left:11%; margin-top: 1em">The received
message must be in the form:</p>

<p style="margin-left:11%; margin-top: 1em">&lt;TARGET&gt;
&lt;COMMAND&gt; [&lt;ARG&gt;]</p>


<p style="margin-left:11%; margin-top: 1em"><i><small>TARGET</small></i>
specifies the target of the command, usually the name of the
filter class or a specific filter instance name. The default
filter instance name uses the pattern
<b>Parsed_&lt;filter_name&gt;_&lt;index&gt;</b>, but you can
override this by using the <b>filter_name@id</b> syntax (see
<b>Filtergraph syntax</b>).</p>


<p style="margin-left:11%; margin-top: 1em"><i><small>COMMAND</small></i>
specifies the name of the command for the target filter.</p>


<p style="margin-left:11%; margin-top: 1em"><i><small>ARG</small></i>
is optional and specifies the optional argument list for the
given <i><small>COMMAND</small></i> .</p>

<p style="margin-left:11%; margin-top: 1em">Upon reception,
the message is processed and the corresponding command is
injected into the filtergraph. Depending on the result, the
filter will send a reply to the client, adopting the
format:</p>


<p style="margin-left:11%; margin-top: 1em">&lt;ERROR_CODE&gt;
&lt;ERROR_REASON&gt; <br>
&lt;MESSAGE&gt;</p>


<p style="margin-left:11%; margin-top: 1em"><i><small>MESSAGE</small></i>
is optional.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<p style="margin-left:11%; margin-top: 1em">Look at
<i>tools/zmqsend</i> for an example of a zmq client which
can be used to send commands processed by these filters.</p>

<p style="margin-left:11%; margin-top: 1em">Consider the
following filtergraph generated by <b>ffplay</b>. In this
example the last overlay filter has an instance name. All
other filters will have default instance names.</p>

<p style="margin-left:11%; margin-top: 1em">ffplay
-dumpgraph 1 -f lavfi &quot; <br>
color=s=100x100:c=red [l]; <br>
color=s=100x100:c=blue [r]; <br>
nullsrc=s=200x100, zmq [bg]; <br>
[bg][l] overlay [bg+l]; <br>
[bg+l][r] overlay@my=x=100 &quot;</p>

<p style="margin-left:11%; margin-top: 1em">To change the
color of the left side of the video, the following command
can be used:</p>

<p style="margin-left:11%; margin-top: 1em">echo
Parsed_color_0 c yellow | tools/zmqsend</p>

<p style="margin-left:11%; margin-top: 1em">To change the
right side:</p>

<p style="margin-left:11%; margin-top: 1em">echo
Parsed_color_1 c pink | tools/zmqsend</p>

<p style="margin-left:11%; margin-top: 1em">To change the
position of the right side:</p>

<p style="margin-left:11%; margin-top: 1em">echo overlay@my
x 150 | tools/zmqsend</p>

<h2>MULTIMEDIA SOURCES
<a name="MULTIMEDIA SOURCES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Below is a
description of the currently available multimedia
sources.</p>

<p style="margin-left:11%; margin-top: 1em"><b>amovie</b>
<br>
This is the same as <b>movie</b> source, except it selects
an audio stream by default.</p>

<p style="margin-left:11%; margin-top: 1em"><b>movie</b>
<br>
Read audio and/or video stream(s) from a movie
container.</p>

<p style="margin-left:11%; margin-top: 1em">It accepts the
following parameters: <b><br>
filename</b></p>

<p style="margin-left:17%;">The name of the resource to
read (not necessarily a file; it can also be a device or a
stream accessed through some protocol).</p>

<p style="margin-left:11%;"><b>format_name, f</b></p>

<p style="margin-left:17%;">Specifies the format assumed
for the movie to read, and can be either the name of a
container or an input device. If not specified, the format
is guessed from <i>movie_name</i> or by probing.</p>

<p style="margin-left:11%;"><b>seek_point, sp</b></p>

<p style="margin-left:17%;">Specifies the seek point in
seconds. The frames will be output starting from this seek
point. The parameter is evaluated with
&quot;av_strtod&quot;, so the numerical value may be
suffixed by an <small>IS</small> postfix. The default value
is &quot;0&quot;.</p>

<p style="margin-left:11%;"><b>streams, s</b></p>

<p style="margin-left:17%;">Specifies the streams to read.
Several streams can be specified, separated by
&quot;+&quot;. The source will then have as many outputs, in
the same order. The syntax is explained in the
<b>&quot;Stream specifiers&quot; section in the ffmpeg
manual</b>. Two special names, &quot;dv&quot; and
&quot;da&quot; specify respectively the default (best
suited) video and audio stream. Default is &quot;dv&quot;,
or &quot;da&quot; if the filter is called as
&quot;amovie&quot;.</p>

<p style="margin-left:11%;"><b>stream_index, si</b></p>

<p style="margin-left:17%;">Specifies the index of the
video stream to read. If the value is -1, the most suitable
video stream will be automatically selected. The default
value is &quot;-1&quot;. Deprecated. If the filter is called
&quot;amovie&quot;, it will select audio instead of
video.</p>

<p style="margin-left:11%;"><b>loop</b></p>

<p style="margin-left:17%;">Specifies how many times to
read the stream in sequence. If the value is 0, the stream
will be looped infinitely. Default value is
&quot;1&quot;.</p>

<p style="margin-left:17%; margin-top: 1em">Note that when
the movie is looped the source timestamps are not changed,
so it will generate non monotonically increasing
timestamps.</p>

<p style="margin-left:11%;"><b>discontinuity</b></p>

<p style="margin-left:17%;">Specifies the time difference
between frames above which the point is considered a
timestamp discontinuity which is removed by adjusting the
later timestamps.</p>

<p style="margin-left:11%; margin-top: 1em">It allows
overlaying a second video on top of the main input of a
filtergraph, as shown in this graph:</p>

<p style="margin-left:11%; margin-top: 1em">input
-----------&gt; deltapts0 --&gt; overlay --&gt; output <br>
^ <br>
| <br>
movie --&gt; scale--&gt; deltapts1 -------+</p>


<p style="margin-left:11%; margin-top: 1em"><i>Examples</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Skip 3.2 seconds from the start of the
<small>AVI</small> file in.avi, and overlay it on top of the
input labelled &quot;in&quot;:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">movie=in.avi:seek_point=3.2,
scale=180:-1, setpts=PTS-STARTPTS [over]; <br>
[in] setpts=PTS-STARTPTS [main]; <br>
[main][over] overlay=16:16 [out]</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Read from a video4linux2 device,
and overlay it on top of the input labelled
&quot;in&quot;:</p> </td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">movie=/dev/video0:f=video4linux2,
scale=180:-1, setpts=PTS-STARTPTS [over]; <br>
[in] setpts=PTS-STARTPTS [main]; <br>
[main][over] overlay=16:16 [out]</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Read the first video stream and
the audio stream with id 0x81 from dvd.vob; the video is
connected to the pad named &quot;video&quot; and the audio
is connected to the pad named &quot;audio&quot;:</p></td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">movie=dvd.vob:s=v:0+#0x81
[video] [audio]</p>


<p style="margin-left:11%; margin-top: 1em"><i>Commands</i></p>

<p style="margin-left:11%; margin-top: 1em">Both movie and
amovie support the following commands: <b><br>
seek</b></p>

<p style="margin-left:17%;">Perform seek using
&quot;av_seek_frame&quot;. The syntax is: seek
<i>stream_index</i>|<i>timestamp</i>|<i>flags</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="77%">


<p><i>stream_index</i>: If stream_index is -1, a default
stream is selected, and <i>timestamp</i> is automatically
converted from <small>AV_TIME_BASE</small> units to the
stream specific time_base.</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="77%">


<p><i>timestamp</i>: Timestamp in AVStream.time_base units
or, if no stream is specified, in
<small>AV_TIME_BASE</small> units.</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="77%">


<p><i>flags</i>: Flags which select direction and seeking
mode.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>get_duration</b></p>

<p style="margin-left:17%;">Get movie duration in
<small>AV_TIME_BASE</small> units.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>ffmpeg</b>(1),
<b>ffplay</b>(1), <b>ffprobe</b>(1), <b>ffmpeg-utils</b>(1),
<b>ffmpeg-scaler</b>(1), <b>ffmpeg-resampler</b>(1),
<b>ffmpeg-codecs</b>(1), <b>ffmpeg-bitstream-filters</b>(1),
<b>ffmpeg-formats</b>(1), <b>ffmpeg-devices</b>(1),
<b>ffmpeg-protocols</b>(1), <b>ffmpeg-filters</b>(1)</p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The FFmpeg
developers.</p>

<p style="margin-left:11%; margin-top: 1em">For details
about the authorship, see the Git history of the project
(git://source.ffmpeg.org/ffmpeg), e.g. by typing the command
<b>git log</b> in the FFmpeg source directory, or browsing
the online repository at
&lt;<b>http://source.ffmpeg.org</b>&gt;.</p>

<p style="margin-left:11%; margin-top: 1em">Maintainers for
the specific components are listed in the file
<i><small>MAINTAINERS</small></i> in the source code
tree.</p>
<hr>
</body>
</html>
