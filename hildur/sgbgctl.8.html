<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Thu Sep  8 03:05:13 2022 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>SG_BG_CTL</title>

</head>
<body>

<h1 align="center">SG_BG_CTL</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#NOTES">NOTES</a><br>
<a href="#EXIT STATUS">EXIT STATUS</a><br>
<a href="#AUTHORS">AUTHORS</a><br>
<a href="#REPORTING BUGS">REPORTING BUGS</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">sg_bg_ctl -
send SCSI BACKGROUND CONTROL command</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>sg_bg_ctl</b>
[<i>--ctl=CTL</i>] [<i>--help</i>] [<i>--time=TN</i>]
[<i>--verbose</i>] [<i>--version</i>] <i>DEVICE</i></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Sends a SCSI
BACKGROUND CONTROL command to the <i>DEVICE</i>. This
command was first found in the SBC-4 draft standard revision
8 (sbc4r08.pdf). It can be used to start and stop
&rsquo;advanced background operations&rsquo; on the
<i>DEVICE</i>. Only resource or thin provisioned devices
(logical units which are typically (solid state) disks)
support this command. Those advanced background operations
often include garbage collection type operations which may
degrade the disk&rsquo;s performance while they are being
performed.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Arguments to
long options are mandatory for short options as well.
<b><br>
-c</b>, <b>--ctl</b>=<i>CTL</i></p>

<p style="margin-left:22%;"><i>CTL</i> is the value placed
in the BO_CTL field of the BACKGROUND CONTROL command (cdb).
It is a two bit field so has 4 variants: 0 does not change
the host initiated advanced background operations; 1 starts
these operations; 2 stops these operations and 3 is
reserved. The default value is 0.</p>

<p style="margin-left:11%;"><b>-h</b>, <b>--help</b></p>

<p style="margin-left:22%;">output the usage message then
exit.</p>

<p style="margin-left:11%;"><b>-t</b>,
<b>--time</b>=<i>TN</i></p>

<p style="margin-left:22%;"><i>TN</i> is a maximum time
(with a unit of 100 ms or 1/10 second) that advanced
background operations can occur. This value is ignored if
the <i>CTL</i> argument is other than 1. The default value
is 0 which means there is no maximum time limit. Only values
0 to 255 (which is 25.5 seconds) can be given. This value is
place in the BO_TIME field of the BACKGROUND CONTROL
command.</p>

<p style="margin-left:11%;"><b>-v</b>, <b>--verbose</b></p>

<p style="margin-left:22%;">increase the level of
verbosity, (i.e. debug output).</p>

<p style="margin-left:11%;"><b>-V</b>, <b>--version</b></p>

<p style="margin-left:22%;">print the version string and
then exit.</p>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">According to
T10, support for &rsquo;background control operations&rsquo;
is indicated by the BOCS bit being set in the Block device
characteristics VPD page [0xb1]. The setting of the BOCS bit
can be checked with the sg_vpd and sdparm utilities (and it
is read only). There is a Background operations control mode
page [0xa, 0x6] with a BO_MODE field for modifying the
action of this operation. The BO_MODE field can be accessed
and possibly modified with the sdparm utility. The BO_STATUS
field can be found in the Background operation log page
[0x15, 0x2] and that can be viewed with the sg_logs
utility.</p>

<p style="margin-left:11%; margin-top: 1em">The current
draft describing this area is SBC-4 revision 10
(sbc4r10.pdf) in clause 4.33 . That contains the following
example of a background operation: &quot;Advanced background
operation may include NAND block erase operations, media
read operations, and media write operations (e.g., garbage
collection), which may impact response time for normal read
requests or write requests from the application
client.&quot;</p>

<h2>EXIT STATUS
<a name="EXIT STATUS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The exit status
of sg_bg_ctl is 0 when it is successful. Otherwise see the
sg3_utils(8) man page.</p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Written by
Douglas Gilbert.</p>

<h2>REPORTING BUGS
<a name="REPORTING BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Report bugs to
&lt;dgilbert at interlog dot com&gt;.</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright
&copy; 2016 Douglas Gilbert <br>
This software is distributed under a FreeBSD license. There
is NO warranty; not even for MERCHANTABILITY or FITNESS FOR
A PARTICULAR PURPOSE.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>sg_vpd,sg_logs(sg3_utils);
sdparm(sdparm)</b></p>
<hr>
</body>
</html>
