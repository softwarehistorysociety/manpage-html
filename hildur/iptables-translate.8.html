<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Thu Sep  8 02:50:35 2022 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>IPTABLES-TRANSLATE</title>

</head>
<body>

<h1 align="center">IPTABLES-TRANSLATE</h1>

<a href="#NAME">NAME</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#USAGE">USAGE</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#LIMITATIONS">LIMITATIONS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AUTHORS">AUTHORS</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">iptables-translate
&mdash; translation tool to migrate from iptables to
nftables</p>


<p style="margin-left:11%; margin-top: 1em">ip6tables-translate
&mdash; translation tool to migrate from ip6tables to
nftables</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">There is a set
of tools to help the system administrator translate a given
ruleset from <b>iptables(8)</b> and <b>ip6tables(8)</b> to
<b>nftables(8)</b>.</p>

<p style="margin-left:11%; margin-top: 1em">The available
commands are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="41%">


<p>iptables-translate</p></td>
<td width="45%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="41%">


<p>iptables-restore-translate</p></td>
<td width="45%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="41%">


<p>ip6tables-translate</p></td>
<td width="45%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="41%">


<p>ip6tables-restore-translate</p></td>
<td width="45%">
</td></tr>
</table>

<h2>USAGE
<a name="USAGE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">They take as
input the original <b>iptables(8)</b>/<b>ip6tables(8)</b>
syntax and output the native <b>nftables(8)</b> syntax.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>iptables-restore-translate</b> tool reads a ruleset in
the syntax produced by <b>iptables-save(8)</b>. Likewise,
the <b>ip6tables-restore-translate</b> tool reads one
produced by <b>ip6tables-save(8)</b>. No ruleset
modifications occur, these tools are text converters
only.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>iptables-translate</b> reads a command line as if it was
entered to <b>iptables(8)</b>, and
<b>ip6tables-translate</b> reads a command like as if it was
entered to <b>ip6tables(8)</b>.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Basic operation
examples.</p>

<p style="margin-left:11%; margin-top: 1em">Single command
translation:</p>


<p style="margin-left:11%; margin-top: 1em">root@machine:~#
iptables-translate -A INPUT -p tcp --dport 22 -m conntrack
--ctstate NEW -j ACCEPT <br>
nft add rule ip filter INPUT tcp dport 22 ct state new
counter accept</p>


<p style="margin-left:11%; margin-top: 1em">root@machine:~#
ip6tables-translate -A FORWARD -i eth0 -o eth3 -p udp -m
multiport --dports 111,222 -j ACCEPT <br>
nft add rule ip6 filter FORWARD iifname eth0 oifname eth3
meta l4proto udp udp dport { 111,222} counter accept</p>

<p style="margin-left:11%; margin-top: 1em">Whole ruleset
translation:</p>


<p style="margin-left:11%; margin-top: 1em">root@machine:~#
iptables-save &gt; save.txt <br>
root@machine:~# cat save.txt <br>
# Generated by iptables-save v1.6.0 on Sat Dec 24 14:26:40
2016 <br>
*filter <br>
:INPUT ACCEPT [5166:1752111] <br>
:FORWARD ACCEPT [0:0] <br>
:OUTPUT ACCEPT [5058:628693] <br>
-A FORWARD -p tcp -m tcp --dport 22 -m conntrack --ctstate
NEW -j ACCEPT <br>
COMMIT <br>
# Completed on Sat Dec 24 14:26:40 2016</p>


<p style="margin-left:11%; margin-top: 1em">root@machine:~#
iptables-restore-translate -f save.txt <br>
# Translated by iptables-restore-translate v1.6.0 on Sat Dec
24 14:26:59 2016 <br>
add table ip filter <br>
add chain ip filter INPUT { type filter hook input priority
0; } <br>
add chain ip filter FORWARD { type filter hook forward
priority 0; } <br>
add chain ip filter OUTPUT { type filter hook output
priority 0; } <br>
add rule ip filter FORWARD tcp dport 22 ct state new counter
accept</p>


<p style="margin-left:11%; margin-top: 1em">root@machine:~#
iptables-restore-translate -f save.txt &gt; ruleset.nft <br>
root@machine:~# nft -f ruleset.nft <br>
root@machine:~# nft list ruleset <br>
table ip filter {</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>chain INPUT {</p></td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="77%">


<p>type filter hook input priority 0; policy accept;</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>}</p></td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>chain FORWARD {</p></td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="77%">


<p>type filter hook forward priority 0; policy accept;</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="77%">


<p>tcp dport ssh ct state new counter packets 0 bytes 0
accept</p> </td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>}</p></td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>chain OUTPUT {</p></td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="77%">


<p>type filter hook output priority 0; policy accept;</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>}</p></td>
<td width="77%">
</td></tr>
</table>

<p style="margin-left:11%;">}</p>

<h2>LIMITATIONS
<a name="LIMITATIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Some (few)
extensions may be not supported (or fully-supported) for
whatever reason (for example, they were considered obsolete,
or we didn&rsquo;t have the time to work on them).</p>

<p style="margin-left:11%; margin-top: 1em">There are no
translations available for <b>ebtables(8)</b> and
<b>arptables(8)</b>.</p>

<p style="margin-left:11%; margin-top: 1em">To get
up-to-date information about this, please head to
<b>https://wiki.nftables.org/</b>.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>nft(8)</b>,
<b>iptables(8)</b></p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The nftables
framework is written by the Netfilter project
(https://www.netfilter.org).</p>

<p style="margin-left:11%; margin-top: 1em">This manual
page was written by Arturo Borrero Gonzalez
&lt;arturo@netfilter.org&gt;.</p>

<p style="margin-left:11%; margin-top: 1em">This
documentation is free/libre under the terms of the
GPLv2+.</p>
<hr>
</body>
</html>
