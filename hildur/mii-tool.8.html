<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Thu Sep  8 02:54:57 2022 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>MII-TOOL</title>

</head>
<body>

<h1 align="center">MII-TOOL</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#DIAGNOSTICS">DIAGNOSTICS</a><br>
<a href="#AUTHORS">AUTHORS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">mii-tool -
view, manipulate media-independent interface status</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>mii-tool</b>
[<b>-v</b>, <b>--verbose</b>] [<b>-V</b>, <b>--version</b>]
[<b>-R</b>, <b>--reset</b>] [<b>-r</b>, <b>--restart</b>]
[<b>-w</b>, <b>--watch</b>] [<b>-l</b>, <b>--log</b>]
[<b>-A</b>, <b>--advertise=</b><i>media,...</i>] [<b>-F</b>,
<b>--force=</b><i>media</i>] [<b>-p</b>,
<b>--phy=</b><i>addr</i>] interface&nbsp;...</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This utility
checks or sets the status of a network interface&rsquo;s
Media Independent Interface (MII) unit. Most fast ethernet
adapters use an MII to autonegotiate link speed and duplex
setting.</p>

<p style="margin-left:11%; margin-top: 1em">Most
intelligent network devices use an autonegotiation protocol
to communicate what media technologies they support, and
then select the fastest mutually supported media technology.
The <b>-A</b> or <b>--advertise</b> options can be used to
tell the MII to only advertise a subset of its capabilities.
Some passive devices, such as single-speed hubs, are unable
to autonegotiate. To handle such devices, the MII protocol
also allows for establishing a link by simply detecting
either a 10baseT or 100baseT link beat. The <b>-F</b> or
<b>--force</b> options can be used to force the MII to
operate in one mode, instead of autonegotiating. The
<b>-A</b> and <b>-F</b> options are mutually exclusive.</p>

<p style="margin-left:11%; margin-top: 1em">The default
short output reports the negotiated link speed and link
status for each interface.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>-v</b>,
<b>--verbose</b></p>

<p style="margin-left:22%;">Display more detailed MII
status information. If used twice, also display raw MII
register contents. <b><br>
Alert:</b> If used three times, will force reading all MII
registers, including non standard ones. It&rsquo;s not
guaranteed any valid answer from PHY while PHY communication
can even hang. With driver e1000e will fail while reading
register 0x07.</p>

<p style="margin-left:11%;"><b>-V</b>, <b>--version</b></p>

<p style="margin-left:22%;">Display program version
information.</p>

<p style="margin-left:11%;"><b>-R</b>, <b>--reset</b></p>

<p style="margin-left:22%;">Reset the MII to its default
configuration.</p>

<p style="margin-left:11%;"><b>-r</b>, <b>--restart</b></p>

<p style="margin-left:22%;">Restart autonegotiation.</p>

<p style="margin-left:11%;"><b>-w</b>, <b>--watch</b></p>

<p style="margin-left:22%;">Watch interface(s) and report
changes in link status. The MII interfaces are polled at one
second intervals.</p>

<p style="margin-left:11%;"><b>-l</b>, <b>--log</b></p>

<p style="margin-left:22%;">Used with <b>-w</b>, records
link status changes in the system log instead of printing on
standard output.</p>

<p style="margin-left:11%;"><b>-F</b> <i>media</i>,
<b>--force=</b><i>media</i></p>

<p style="margin-left:22%;">Disable autonegotiation, and
force the MII to either <b>100baseTx-FD</b>,
<b>100baseTx-HD</b>, <b>10baseT-FD</b>, or <b>10baseT-HD</b>
operation.</p>

<p style="margin-left:11%;"><b>-A</b> <i>media,...</i>,
<b>--advertise=</b><i>media,...</i></p>

<p style="margin-left:22%;">Enable and restart
autonegotiation, and advertise only the specified media
technologies. Multiple technologies should be separated by
commas. Valid media are <b>100baseT4</b>,
<b>100baseTx-FD</b>, <b>100baseTx-HD</b>, <b>10baseT-FD</b>,
and <b>10baseT-HD</b>.</p>

<p style="margin-left:11%;"><b>-p</b> <i>addr</i>,
<b>--phy=</b><i>addr</i></p>

<p style="margin-left:22%;">Override the MII address
provided by kernel with value <b>addr</b>.</p>

<h2>DIAGNOSTICS
<a name="DIAGNOSTICS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">SIOCGMIIPHY on
&rsquo;eth?&rsquo; failed: Invalid argument</p>

<p style="margin-left:22%;">If the interface is not running
(up), kernel will refuse to report its link state.</p>

<p style="margin-left:11%;">SIOCGMIIPHY on
&rsquo;eth?&rsquo; failed: Operation not permitted</p>

<p style="margin-left:22%;">Most kernels restrict access to
root.</p>

<p style="margin-left:11%;">SIOCGMIIPHY on
&rsquo;eth?&rsquo; failed: No such device</p>

<p style="margin-left:22%;">This error is shown, if the
kernel does not know about the named device.</p>

<p style="margin-left:11%;">SIOCGMIIPHY on
&rsquo;eth?&rsquo; failed: Operation not supported</p>

<p style="margin-left:22%;">The interface in question does
not support MII queries. Most likely, it does not have MII
transceivers, at all.</p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">David Hinds -
dhinds@pcmcia.sourceforge.org <br>
Donald Becker - becker@scyld.com <br>
Bernd Eckenfels - net-tools@lina.inka.de</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">http://net-tools.sourceforge.net
- Homepage of the net-tools project</p>
<hr>
</body>
</html>
